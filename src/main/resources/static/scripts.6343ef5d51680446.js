!function(Kt,Ze){"object"==typeof exports&&typeof module<"u"?module.exports=Ze():"function"==typeof define&&define.amd?define(Ze):(Kt=typeof globalThis<"u"?globalThis:Kt||self).bootstrap=Ze()}(this,function(){"use strict";const Kt=new Map,Ze={set(ht,te,ze){Kt.has(ht)||Kt.set(ht,new Map);const Dt=Kt.get(ht);Dt.has(te)||0===Dt.size?Dt.set(te,ze):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Dt.keys())[0]}.`)},get:(ht,te)=>Kt.has(ht)&&Kt.get(ht).get(te)||null,remove(ht,te){if(!Kt.has(ht))return;const ze=Kt.get(ht);ze.delete(te),0===ze.size&&Kt.delete(ht)}},Oe="transitionend",it=ht=>(ht&&window.CSS&&window.CSS.escape&&(ht=ht.replace(/#([^\s"#']+)/g,(te,ze)=>`#${CSS.escape(ze)}`)),ht),Nt=ht=>{ht.dispatchEvent(new Event(Oe))},nt=ht=>!(!ht||"object"!=typeof ht)&&(void 0!==ht.jquery&&(ht=ht[0]),void 0!==ht.nodeType),gt=ht=>nt(ht)?ht.jquery?ht[0]:ht:"string"==typeof ht&&ht.length>0?document.querySelector(it(ht)):null,et=ht=>{if(!nt(ht)||0===ht.getClientRects().length)return!1;const te="visible"===getComputedStyle(ht).getPropertyValue("visibility"),ze=ht.closest("details:not([open])");if(!ze)return te;if(ze!==ht){const Dt=ht.closest("summary");if(Dt&&Dt.parentNode!==ze||null===Dt)return!1}return te},Ve=ht=>!ht||ht.nodeType!==Node.ELEMENT_NODE||!!ht.classList.contains("disabled")||(void 0!==ht.disabled?ht.disabled:ht.hasAttribute("disabled")&&"false"!==ht.getAttribute("disabled")),ye=ht=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof ht.getRootNode){const te=ht.getRootNode();return te instanceof ShadowRoot?te:null}return ht instanceof ShadowRoot?ht:ht.parentNode?ye(ht.parentNode):null},ge=()=>{},ve=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ne=[],Ie=()=>"rtl"===document.documentElement.dir,Ce=ht=>{var te;te=()=>{const ze=ve();if(ze){const Dt=ht.NAME,yn=ze.fn[Dt];ze.fn[Dt]=ht.jQueryInterface,ze.fn[Dt].Constructor=ht,ze.fn[Dt].noConflict=()=>(ze.fn[Dt]=yn,ht.jQueryInterface)}},"loading"===document.readyState?(Ne.length||document.addEventListener("DOMContentLoaded",()=>{for(const ze of Ne)ze()}),Ne.push(te)):te()},de=(ht,te=[],ze=ht)=>"function"==typeof ht?ht(...te):ze,ot=(ht,te,ze=!0)=>{if(!ze)return void de(ht);const Dt=(Ln=>{if(!Ln)return 0;let{transitionDuration:ii,transitionDelay:qn}=window.getComputedStyle(Ln);const rr=Number.parseFloat(ii),$i=Number.parseFloat(qn);return rr||$i?(ii=ii.split(",")[0],qn=qn.split(",")[0],1e3*(Number.parseFloat(ii)+Number.parseFloat(qn))):0})(te)+5;let yn=!1;const dn=({target:Ln})=>{Ln===te&&(yn=!0,te.removeEventListener(Oe,dn),de(ht))};te.addEventListener(Oe,dn),setTimeout(()=>{yn||Nt(te)},Dt)},Ae=(ht,te,ze,Dt)=>{const yn=ht.length;let dn=ht.indexOf(te);return-1===dn?!ze&&Dt?ht[yn-1]:ht[0]:(dn+=ze?1:-1,Dt&&(dn=(dn+yn)%yn),ht[Math.max(0,Math.min(dn,yn-1))])},je=/[^.]*(?=\..*)\.|.*/,Ke=/\..*/,yt=/::\d+$/,Ot={};let wt=1;const lt={mouseenter:"mouseover",mouseleave:"mouseout"},$e=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Qe(ht,te){return te&&`${te}::${wt++}`||ht.uidEvent||wt++}function rt(ht){const te=Qe(ht);return ht.uidEvent=te,Ot[te]=Ot[te]||{},Ot[te]}function zt(ht,te,ze=null){return Object.values(ht).find(Dt=>Dt.callable===te&&Dt.delegationSelector===ze)}function _t(ht,te,ze){const Dt="string"==typeof te,yn=Dt?ze:te||ze;let dn=pn(ht);return $e.has(dn)||(dn=ht),[Dt,yn,dn]}function It(ht,te,ze,Dt,yn){if("string"!=typeof te||!ht)return;let[dn,Ln,ii]=_t(te,ze,Dt);var Vr;te in lt&&(Vr=Ln,Ln=function(Tr){if(!Tr.relatedTarget||Tr.relatedTarget!==Tr.delegateTarget&&!Tr.delegateTarget.contains(Tr.relatedTarget))return Vr.call(this,Tr)});const qn=rt(ht),rr=qn[ii]||(qn[ii]={}),$i=zt(rr,Ln,dn?ze:null);if($i)return void($i.oneOff=$i.oneOff&&yn);const Pi=Qe(Ln,te.replace(je,"")),Xi=dn?function(vr,Vr,Tr){return function Pr(Mo){const No=vr.querySelectorAll(Vr);for(let{target:Xr}=Mo;Xr&&Xr!==this;Xr=Xr.parentNode)for(const Ar of No)if(Ar===Xr)return Vt(Mo,{delegateTarget:Xr}),Pr.oneOff&&qe.off(vr,Mo.type,Vr,Tr),Tr.apply(Xr,[Mo])}}(ht,ze,Ln):function(vr,Vr){return function Tr(Pr){return Vt(Pr,{delegateTarget:vr}),Tr.oneOff&&qe.off(vr,Pr.type,Vr),Vr.apply(vr,[Pr])}}(ht,Ln);Xi.delegationSelector=dn?ze:null,Xi.callable=Ln,Xi.oneOff=yn,Xi.uidEvent=Pi,rr[Pi]=Xi,ht.addEventListener(ii,Xi,dn)}function Hn(ht,te,ze,Dt,yn){const dn=zt(te[ze],Dt,yn);dn&&(ht.removeEventListener(ze,dn,Boolean(yn)),delete te[ze][dn.uidEvent])}function hn(ht,te,ze,Dt){const yn=te[ze]||{};for(const[dn,Ln]of Object.entries(yn))dn.includes(Dt)&&Hn(ht,te,ze,Ln.callable,Ln.delegationSelector)}function pn(ht){return ht=ht.replace(Ke,""),lt[ht]||ht}const qe={on(ht,te,ze,Dt){It(ht,te,ze,Dt,!1)},one(ht,te,ze,Dt){It(ht,te,ze,Dt,!0)},off(ht,te,ze,Dt){if("string"!=typeof te||!ht)return;const[yn,dn,Ln]=_t(te,ze,Dt),ii=Ln!==te,qn=rt(ht),rr=qn[Ln]||{},$i=te.startsWith(".");if(void 0===dn){if($i)for(const Pi of Object.keys(qn))hn(ht,qn,Pi,te.slice(1));for(const[Pi,Xi]of Object.entries(rr)){const vr=Pi.replace(yt,"");ii&&!te.includes(vr)||Hn(ht,qn,Ln,Xi.callable,Xi.delegationSelector)}}else{if(!Object.keys(rr).length)return;Hn(ht,qn,Ln,dn,yn?ze:null)}},trigger(ht,te,ze){if("string"!=typeof te||!ht)return null;const Dt=ve();let yn=null,dn=!0,Ln=!0,ii=!1;te!==pn(te)&&Dt&&(yn=Dt.Event(te,ze),Dt(ht).trigger(yn),dn=!yn.isPropagationStopped(),Ln=!yn.isImmediatePropagationStopped(),ii=yn.isDefaultPrevented());const qn=Vt(new Event(te,{bubbles:dn,cancelable:!0}),ze);return ii&&qn.preventDefault(),Ln&&ht.dispatchEvent(qn),qn.defaultPrevented&&yn&&yn.preventDefault(),qn}};function Vt(ht,te={}){for(const[ze,Dt]of Object.entries(te))try{ht[ze]=Dt}catch{Object.defineProperty(ht,ze,{configurable:!0,get:()=>Dt})}return ht}function pe(ht){if("true"===ht)return!0;if("false"===ht)return!1;if(ht===Number(ht).toString())return Number(ht);if(""===ht||"null"===ht)return null;if("string"!=typeof ht)return ht;try{return JSON.parse(decodeURIComponent(ht))}catch{return ht}}function ue(ht){return ht.replace(/[A-Z]/g,te=>`-${te.toLowerCase()}`)}const ln={setDataAttribute(ht,te,ze){ht.setAttribute(`data-bs-${ue(te)}`,ze)},removeDataAttribute(ht,te){ht.removeAttribute(`data-bs-${ue(te)}`)},getDataAttributes(ht){if(!ht)return{};const te={},ze=Object.keys(ht.dataset).filter(Dt=>Dt.startsWith("bs")&&!Dt.startsWith("bsConfig"));for(const Dt of ze){let yn=Dt.replace(/^bs/,"");yn=yn.charAt(0).toLowerCase()+yn.slice(1,yn.length),te[yn]=pe(ht.dataset[Dt])}return te},getDataAttribute:(ht,te)=>pe(ht.getAttribute(`data-bs-${ue(te)}`))};class on{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(te){return te=this._mergeConfigObj(te),te=this._configAfterMerge(te),this._typeCheckConfig(te),te}_configAfterMerge(te){return te}_mergeConfigObj(te,ze){const Dt=nt(ze)?ln.getDataAttribute(ze,"config"):{};return{...this.constructor.Default,..."object"==typeof Dt?Dt:{},...nt(ze)?ln.getDataAttributes(ze):{},..."object"==typeof te?te:{}}}_typeCheckConfig(te,ze=this.constructor.DefaultType){for(const[yn,dn]of Object.entries(ze)){const Ln=te[yn],ii=nt(Ln)?"element":null==(Dt=Ln)?`${Dt}`:Object.prototype.toString.call(Dt).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(dn).test(ii))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${yn}" provided type "${ii}" but expected type "${dn}".`)}var Dt}}class jt extends on{constructor(te,ze){super(),(te=gt(te))&&(this._element=te,this._config=this._getConfig(ze),Ze.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ze.remove(this._element,this.constructor.DATA_KEY),qe.off(this._element,this.constructor.EVENT_KEY);for(const te of Object.getOwnPropertyNames(this))this[te]=null}_queueCallback(te,ze,Dt=!0){ot(te,ze,Dt)}_getConfig(te){return te=this._mergeConfigObj(te,this._element),te=this._configAfterMerge(te),this._typeCheckConfig(te),te}static getInstance(te){return Ze.get(gt(te),this.DATA_KEY)}static getOrCreateInstance(te,ze={}){return this.getInstance(te)||new this(te,"object"==typeof ze?ze:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(te){return`${te}${this.EVENT_KEY}`}}const Zt=ht=>{let te=ht.getAttribute("data-bs-target");if(!te||"#"===te){let ze=ht.getAttribute("href");if(!ze||!ze.includes("#")&&!ze.startsWith("."))return null;ze.includes("#")&&!ze.startsWith("#")&&(ze=`#${ze.split("#")[1]}`),te=ze&&"#"!==ze?it(ze.trim()):null}return te},Et={find:(ht,te=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(te,ht)),findOne:(ht,te=document.documentElement)=>Element.prototype.querySelector.call(te,ht),children:(ht,te)=>[].concat(...ht.children).filter(ze=>ze.matches(te)),parents(ht,te){const ze=[];let Dt=ht.parentNode.closest(te);for(;Dt;)ze.push(Dt),Dt=Dt.parentNode.closest(te);return ze},prev(ht,te){let ze=ht.previousElementSibling;for(;ze;){if(ze.matches(te))return[ze];ze=ze.previousElementSibling}return[]},next(ht,te){let ze=ht.nextElementSibling;for(;ze;){if(ze.matches(te))return[ze];ze=ze.nextElementSibling}return[]},focusableChildren(ht){const te=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(ze=>`${ze}:not([tabindex^="-"])`).join(",");return this.find(te,ht).filter(ze=>!Ve(ze)&&et(ze))},getSelectorFromElement(ht){const te=Zt(ht);return te&&Et.findOne(te)?te:null},getElementFromSelector(ht){const te=Zt(ht);return te?Et.findOne(te):null},getMultipleElementsFromSelector(ht){const te=Zt(ht);return te?Et.find(te):[]}},xn=(ht,te="hide")=>{const Dt=ht.NAME;qe.on(document,`click.dismiss${ht.EVENT_KEY}`,`[data-bs-dismiss="${Dt}"]`,function(yn){if(["A","AREA"].includes(this.tagName)&&yn.preventDefault(),Ve(this))return;const dn=Et.getElementFromSelector(this)||this.closest(`.${Dt}`);ht.getOrCreateInstance(dn)[te]()})},Bt=".bs.alert",Ht=`close${Bt}`,On=`closed${Bt}`;class xr extends jt{static get NAME(){return"alert"}close(){if(qe.trigger(this._element,Ht).defaultPrevented)return;this._element.classList.remove("show");const te=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,te)}_destroyElement(){this._element.remove(),qe.trigger(this._element,On),this.dispose()}static jQueryInterface(te){return this.each(function(){const ze=xr.getOrCreateInstance(this);if("string"==typeof te){if(void 0===ze[te]||te.startsWith("_")||"constructor"===te)throw new TypeError(`No method named "${te}"`);ze[te](this)}})}}xn(xr,"close"),Ce(xr);const En='[data-bs-toggle="button"]';class hi extends jt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(te){return this.each(function(){const ze=hi.getOrCreateInstance(this);"toggle"===te&&ze[te]()})}}qe.on(document,"click.bs.button.data-api",En,ht=>{ht.preventDefault();const te=ht.target.closest(En);hi.getOrCreateInstance(te).toggle()}),Ce(hi);const pr=".bs.swipe",jr=`touchstart${pr}`,_n=`touchmove${pr}`,Gn=`touchend${pr}`,di=`pointerdown${pr}`,bi=`pointerup${pr}`,ai={endCallback:null,leftCallback:null,rightCallback:null},Wi={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class yi extends on{constructor(te,ze){super(),this._element=te,te&&yi.isSupported()&&(this._config=this._getConfig(ze),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ai}static get DefaultType(){return Wi}static get NAME(){return"swipe"}dispose(){qe.off(this._element,pr)}_start(te){this._supportPointerEvents?this._eventIsPointerPenTouch(te)&&(this._deltaX=te.clientX):this._deltaX=te.touches[0].clientX}_end(te){this._eventIsPointerPenTouch(te)&&(this._deltaX=te.clientX-this._deltaX),this._handleSwipe(),de(this._config.endCallback)}_move(te){this._deltaX=te.touches&&te.touches.length>1?0:te.touches[0].clientX-this._deltaX}_handleSwipe(){const te=Math.abs(this._deltaX);if(te<=40)return;const ze=te/this._deltaX;this._deltaX=0,ze&&de(ze>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(qe.on(this._element,di,te=>this._start(te)),qe.on(this._element,bi,te=>this._end(te)),this._element.classList.add("pointer-event")):(qe.on(this._element,jr,te=>this._start(te)),qe.on(this._element,_n,te=>this._move(te)),qe.on(this._element,Gn,te=>this._end(te)))}_eventIsPointerPenTouch(te){return this._supportPointerEvents&&("pen"===te.pointerType||"touch"===te.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const fr=".bs.carousel",po=".data-api",Fr="next",ir="prev",Jr="left",Zo="right",ns=`slide${fr}`,Do=`slid${fr}`,fa=`keydown${fr}`,Ye=`mouseenter${fr}`,Te=`mouseleave${fr}`,be=`dragstart${fr}`,at=`load${fr}${po}`,bt=`click${fr}${po}`,Pt="carousel",ft="active",At=".active",Ft=".carousel-item",Gt=At+Ft,zn={ArrowLeft:Zo,ArrowRight:Jr},Xn={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ei={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qn extends jt{constructor(te,ze){super(te,ze),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Et.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Pt&&this.cycle()}static get Default(){return Xn}static get DefaultType(){return ei}static get NAME(){return"carousel"}next(){this._slide(Fr)}nextWhenVisible(){!document.hidden&&et(this._element)&&this.next()}prev(){this._slide(ir)}pause(){this._isSliding&&Nt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?qe.one(this._element,Do,()=>this.cycle()):this.cycle())}to(te){const ze=this._getItems();if(te>ze.length-1||te<0)return;if(this._isSliding)return void qe.one(this._element,Do,()=>this.to(te));const Dt=this._getItemIndex(this._getActive());Dt!==te&&this._slide(te>Dt?Fr:ir,ze[te])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(te){return te.defaultInterval=te.interval,te}_addEventListeners(){this._config.keyboard&&qe.on(this._element,fa,te=>this._keydown(te)),"hover"===this._config.pause&&(qe.on(this._element,Ye,()=>this.pause()),qe.on(this._element,Te,()=>this._maybeEnableCycle())),this._config.touch&&yi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const ze of Et.find(".carousel-item img",this._element))qe.on(ze,be,Dt=>Dt.preventDefault());this._swipeHelper=new yi(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Jr)),rightCallback:()=>this._slide(this._directionToOrder(Zo)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(te){if(/input|textarea/i.test(te.target.tagName))return;const ze=zn[te.key];ze&&(te.preventDefault(),this._slide(this._directionToOrder(ze)))}_getItemIndex(te){return this._getItems().indexOf(te)}_setActiveIndicatorElement(te){if(!this._indicatorsElement)return;const ze=Et.findOne(At,this._indicatorsElement);ze.classList.remove(ft),ze.removeAttribute("aria-current");const Dt=Et.findOne(`[data-bs-slide-to="${te}"]`,this._indicatorsElement);Dt&&(Dt.classList.add(ft),Dt.setAttribute("aria-current","true"))}_updateInterval(){const te=this._activeElement||this._getActive();if(!te)return;const ze=Number.parseInt(te.getAttribute("data-bs-interval"),10);this._config.interval=ze||this._config.defaultInterval}_slide(te,ze=null){if(this._isSliding)return;const Dt=this._getActive(),yn=te===Fr,dn=ze||Ae(this._getItems(),Dt,yn,this._config.wrap);if(dn===Dt)return;const Ln=this._getItemIndex(dn),ii=Pi=>qe.trigger(this._element,Pi,{relatedTarget:dn,direction:this._orderToDirection(te),from:this._getItemIndex(Dt),to:Ln});if(ii(ns).defaultPrevented||!Dt||!dn)return;const qn=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ln),this._activeElement=dn;const rr=yn?"carousel-item-start":"carousel-item-end",$i=yn?"carousel-item-next":"carousel-item-prev";dn.classList.add($i),Dt.classList.add(rr),dn.classList.add(rr),this._queueCallback(()=>{dn.classList.remove(rr,$i),dn.classList.add(ft),Dt.classList.remove(ft,$i,rr),this._isSliding=!1,ii(Do)},Dt,this._isAnimated()),qn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Et.findOne(Gt,this._element)}_getItems(){return Et.find(Ft,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(te){return Ie()?te===Jr?ir:Fr:te===Jr?Fr:ir}_orderToDirection(te){return Ie()?te===ir?Jr:Zo:te===ir?Zo:Jr}static jQueryInterface(te){return this.each(function(){const ze=Qn.getOrCreateInstance(this,te);if("number"!=typeof te){if("string"==typeof te){if(void 0===ze[te]||te.startsWith("_")||"constructor"===te)throw new TypeError(`No method named "${te}"`);ze[te]()}}else ze.to(te)})}}qe.on(document,bt,"[data-bs-slide], [data-bs-slide-to]",function(ht){const te=Et.getElementFromSelector(this);if(!te||!te.classList.contains(Pt))return;ht.preventDefault();const ze=Qn.getOrCreateInstance(te),Dt=this.getAttribute("data-bs-slide-to");return Dt?(ze.to(Dt),void ze._maybeEnableCycle()):"next"===ln.getDataAttribute(this,"slide")?(ze.next(),void ze._maybeEnableCycle()):(ze.prev(),void ze._maybeEnableCycle())}),qe.on(window,at,()=>{const ht=Et.find('[data-bs-ride="carousel"]');for(const te of ht)Qn.getOrCreateInstance(te)}),Ce(Qn);const ti=".bs.collapse",Qi=`show${ti}`,Ui=`shown${ti}`,gr=`hide${ti}`,Vn=`hidden${ti}`,Li=`click${ti}.data-api`,Ir="show",wr="collapse",tr="collapsing",Rr=`:scope .${wr} .${wr}`,or='[data-bs-toggle="collapse"]',ar={parent:null,toggle:!0},Yr={parent:"(null|element)",toggle:"boolean"};class Sr extends jt{constructor(te,ze){super(te,ze),this._isTransitioning=!1,this._triggerArray=[];const Dt=Et.find(or);for(const yn of Dt){const dn=Et.getSelectorFromElement(yn),Ln=Et.find(dn).filter(ii=>ii===this._element);null!==dn&&Ln.length&&this._triggerArray.push(yn)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ar}static get DefaultType(){return Yr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let te=[];if(this._config.parent&&(te=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(yn=>yn!==this._element).map(yn=>Sr.getOrCreateInstance(yn,{toggle:!1}))),te.length&&te[0]._isTransitioning||qe.trigger(this._element,Qi).defaultPrevented)return;for(const yn of te)yn.hide();const ze=this._getDimension();this._element.classList.remove(wr),this._element.classList.add(tr),this._element.style[ze]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Dt=`scroll${ze[0].toUpperCase()+ze.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(tr),this._element.classList.add(wr,Ir),this._element.style[ze]="",qe.trigger(this._element,Ui)},this._element,!0),this._element.style[ze]=`${this._element[Dt]}px`}hide(){if(this._isTransitioning||!this._isShown()||qe.trigger(this._element,gr).defaultPrevented)return;const te=this._getDimension();this._element.style[te]=`${this._element.getBoundingClientRect()[te]}px`,this._element.classList.add(tr),this._element.classList.remove(wr,Ir);for(const ze of this._triggerArray){const Dt=Et.getElementFromSelector(ze);Dt&&!this._isShown(Dt)&&this._addAriaAndCollapsedClass([ze],!1)}this._isTransitioning=!0,this._element.style[te]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(tr),this._element.classList.add(wr),qe.trigger(this._element,Vn)},this._element,!0)}_isShown(te=this._element){return te.classList.contains(Ir)}_configAfterMerge(te){return te.toggle=Boolean(te.toggle),te.parent=gt(te.parent),te}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const te=this._getFirstLevelChildren(or);for(const ze of te){const Dt=Et.getElementFromSelector(ze);Dt&&this._addAriaAndCollapsedClass([ze],this._isShown(Dt))}}_getFirstLevelChildren(te){const ze=Et.find(Rr,this._config.parent);return Et.find(te,this._config.parent).filter(Dt=>!ze.includes(Dt))}_addAriaAndCollapsedClass(te,ze){if(te.length)for(const Dt of te)Dt.classList.toggle("collapsed",!ze),Dt.setAttribute("aria-expanded",ze)}static jQueryInterface(te){const ze={};return"string"==typeof te&&/show|hide/.test(te)&&(ze.toggle=!1),this.each(function(){const Dt=Sr.getOrCreateInstance(this,ze);if("string"==typeof te){if(void 0===Dt[te])throw new TypeError(`No method named "${te}"`);Dt[te]()}})}}qe.on(document,Li,or,function(ht){("A"===ht.target.tagName||ht.delegateTarget&&"A"===ht.delegateTarget.tagName)&&ht.preventDefault();for(const te of Et.getMultipleElementsFromSelector(this))Sr.getOrCreateInstance(te,{toggle:!1}).toggle()}),Ce(Sr);var Fn="top",ni="bottom",Jn="right",fi="left",xi="auto",We=[Fn,ni,Jn,fi],h="start",d="end",v="clippingParents",S="viewport",T="popper",I="reference",N=We.reduce(function(ht,te){return ht.concat([te+"-"+h,te+"-"+d])},[]),V=[].concat(We,[xi]).reduce(function(ht,te){return ht.concat([te,te+"-"+h,te+"-"+d])},[]),G="beforeRead",K="read",J="afterRead",ie="beforeMain",Se="afterMain",Le="beforeWrite",tt="afterWrite",vt=[G,K,J,ie,"main",Se,Le,"write",tt];function W(ht){return ht?(ht.nodeName||"").toLowerCase():null}function ae(ht){if(null==ht)return window;if("[object Window]"!==ht.toString()){var te=ht.ownerDocument;return te&&te.defaultView||window}return ht}function De(ht){return ht instanceof ae(ht).Element||ht instanceof Element}function Ue(ht){return ht instanceof ae(ht).HTMLElement||ht instanceof HTMLElement}function dt(ht){return typeof ShadowRoot<"u"&&(ht instanceof ae(ht).ShadowRoot||ht instanceof ShadowRoot)}const kt={name:"applyStyles",enabled:!0,phase:"write",fn:function(ht){var te=ht.state;Object.keys(te.elements).forEach(function(ze){var Dt=te.styles[ze]||{},yn=te.attributes[ze]||{},dn=te.elements[ze];Ue(dn)&&W(dn)&&(Object.assign(dn.style,Dt),Object.keys(yn).forEach(function(Ln){var ii=yn[Ln];!1===ii?dn.removeAttribute(Ln):dn.setAttribute(Ln,!0===ii?"":ii)}))})},effect:function(ht){var te=ht.state,ze={popper:{position:te.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(te.elements.popper.style,ze.popper),te.styles=ze,te.elements.arrow&&Object.assign(te.elements.arrow.style,ze.arrow),function(){Object.keys(te.elements).forEach(function(Dt){var yn=te.elements[Dt],dn=te.attributes[Dt]||{},Ln=Object.keys(te.styles.hasOwnProperty(Dt)?te.styles[Dt]:ze[Dt]).reduce(function(ii,qn){return ii[qn]="",ii},{});Ue(yn)&&W(yn)&&(Object.assign(yn.style,Ln),Object.keys(dn).forEach(function(ii){yn.removeAttribute(ii)}))})}},requires:["computeStyles"]};function Xt(ht){return ht.split("-")[0]}var qt=Math.max,Sn=Math.min,Mn=Math.round;function Cn(){var ht=navigator.userAgentData;return null!=ht&&ht.brands&&Array.isArray(ht.brands)?ht.brands.map(function(te){return te.brand+"/"+te.version}).join(" "):navigator.userAgent}function gi(){return!/^((?!chrome|android).)*safari/i.test(Cn())}function Ei(ht,te,ze){void 0===te&&(te=!1),void 0===ze&&(ze=!1);var Dt=ht.getBoundingClientRect(),yn=1,dn=1;te&&Ue(ht)&&(yn=ht.offsetWidth>0&&Mn(Dt.width)/ht.offsetWidth||1,dn=ht.offsetHeight>0&&Mn(Dt.height)/ht.offsetHeight||1);var Ln=(De(ht)?ae(ht):window).visualViewport,ii=!gi()&&ze,qn=(Dt.left+(ii&&Ln?Ln.offsetLeft:0))/yn,rr=(Dt.top+(ii&&Ln?Ln.offsetTop:0))/dn,$i=Dt.width/yn,Pi=Dt.height/dn;return{width:$i,height:Pi,top:rr,right:qn+$i,bottom:rr+Pi,left:qn,x:qn,y:rr}}function Bi(ht){var te=Ei(ht),ze=ht.offsetWidth,Dt=ht.offsetHeight;return Math.abs(te.width-ze)<=1&&(ze=te.width),Math.abs(te.height-Dt)<=1&&(Dt=te.height),{x:ht.offsetLeft,y:ht.offsetTop,width:ze,height:Dt}}function sr(ht,te){var ze=te.getRootNode&&te.getRootNode();if(ht.contains(te))return!0;if(ze&&dt(ze)){var Dt=te;do{if(Dt&&ht.isSameNode(Dt))return!0;Dt=Dt.parentNode||Dt.host}while(Dt)}return!1}function mr(ht){return ae(ht).getComputedStyle(ht)}function si(ht){return["table","td","th"].indexOf(W(ht))>=0}function Mi(ht){return((De(ht)?ht.ownerDocument:ht.document)||window.document).documentElement}function Ur(ht){return"html"===W(ht)?ht:ht.assignedSlot||ht.parentNode||(dt(ht)?ht.host:null)||Mi(ht)}function Fo(ht){return Ue(ht)&&"fixed"!==mr(ht).position?ht.offsetParent:null}function So(ht){for(var te=ae(ht),ze=Fo(ht);ze&&si(ze)&&"static"===mr(ze).position;)ze=Fo(ze);return ze&&("html"===W(ze)||"body"===W(ze)&&"static"===mr(ze).position)?te:ze||function(Dt){var yn=/firefox/i.test(Cn());if(/Trident/i.test(Cn())&&Ue(Dt)&&"fixed"===mr(Dt).position)return null;var dn=Ur(Dt);for(dt(dn)&&(dn=dn.host);Ue(dn)&&["html","body"].indexOf(W(dn))<0;){var Ln=mr(dn);if("none"!==Ln.transform||"none"!==Ln.perspective||"paint"===Ln.contain||-1!==["transform","perspective"].indexOf(Ln.willChange)||yn&&"filter"===Ln.willChange||yn&&Ln.filter&&"none"!==Ln.filter)return dn;dn=dn.parentNode}return null}(ht)||te}function Dn(ht){return["top","bottom"].indexOf(ht)>=0?"x":"y"}function uo(ht,te,ze){return qt(ht,Sn(te,ze))}function Lo(ht){return Object.assign({},{top:0,right:0,bottom:0,left:0},ht)}function Gr(ht,te){return te.reduce(function(ze,Dt){return ze[Dt]=ht,ze},{})}const lr={name:"arrow",enabled:!0,phase:"main",fn:function(ht){var te,nr,xo,ze=ht.state,Dt=ht.name,yn=ht.options,dn=ze.elements.arrow,Ln=ze.modifiersData.popperOffsets,ii=Xt(ze.placement),qn=Dn(ii),rr=[fi,Jn].indexOf(ii)>=0?"height":"width";if(dn&&Ln){var $i=(xo=ze,Lo("number"!=typeof(nr="function"==typeof(nr=yn.padding)?nr(Object.assign({},xo.rects,{placement:xo.placement})):nr)?nr:Gr(nr,We))),Pi=Bi(dn),Xi="y"===qn?Fn:fi,vr="y"===qn?ni:Jn,Vr=ze.rects.reference[rr]+ze.rects.reference[qn]-Ln[qn]-ze.rects.popper[rr],Tr=Ln[qn]-ze.rects.reference[qn],Pr=So(dn),Mo=Pr?"y"===qn?Pr.clientHeight||0:Pr.clientWidth||0:0,Nr=Mo/2-Pi[rr]/2+(Vr/2-Tr/2),eo=uo($i[Xi],Nr,Mo-Pi[rr]-$i[vr]);ze.modifiersData[Dt]=((te={})[qn]=eo,te.centerOffset=eo-Nr,te)}},effect:function(ht){var te=ht.state,ze=ht.options.element,Dt=void 0===ze?"[data-popper-arrow]":ze;null!=Dt&&("string"!=typeof Dt||(Dt=te.elements.popper.querySelector(Dt)))&&sr(te.elements.popper,Dt)&&(te.elements.arrow=Dt)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wc(ht){return ht.split("-")[1]}var Mg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tg(ht){var te,ze=ht.popper,Dt=ht.popperRect,yn=ht.placement,dn=ht.variation,Ln=ht.offsets,ii=ht.position,qn=ht.gpuAcceleration,rr=ht.adaptive,$i=ht.roundOffsets,Pi=ht.isFixed,Xi=Ln.x,vr=void 0===Xi?0:Xi,Vr=Ln.y,Tr=void 0===Vr?0:Vr,Pr="function"==typeof $i?$i({x:vr,y:Tr}):{x:vr,y:Tr};vr=Pr.x,Tr=Pr.y;var Mo=Ln.hasOwnProperty("x"),No=Ln.hasOwnProperty("y"),Xr=fi,Ar=Fn,Nr=window;if(rr){var eo=So(ze),no="clientHeight",nr="clientWidth";eo===ae(ze)&&"static"!==mr(eo=Mi(ze)).position&&"absolute"===ii&&(no="scrollHeight",nr="scrollWidth"),(yn===Fn||(yn===fi||yn===Jn)&&dn===d)&&(Ar=ni,Tr-=(Pi&&eo===Nr&&Nr.visualViewport?Nr.visualViewport.height:eo[no])-Dt.height,Tr*=qn?1:-1),yn!==fi&&(yn!==Fn&&yn!==ni||dn!==d)||(Xr=Jn,vr-=(Pi&&eo===Nr&&Nr.visualViewport?Nr.visualViewport.width:eo[nr])-Dt.width,vr*=qn?1:-1)}var xo,_o,Ka,ss,jo,to=Object.assign({position:ii},rr&&Mg),Za=!0===$i?(_o={x:vr,y:Tr},Ka=ae(ze),ss=_o.y,{x:Mn(_o.x*(jo=Ka.devicePixelRatio||1))/jo||0,y:Mn(ss*jo)/jo||0}):{x:vr,y:Tr};return vr=Za.x,Tr=Za.y,Object.assign({},to,qn?((xo={})[Ar]=No?"0":"",xo[Xr]=Mo?"0":"",xo.transform=(Nr.devicePixelRatio||1)<=1?"translate("+vr+"px, "+Tr+"px)":"translate3d("+vr+"px, "+Tr+"px, 0)",xo):((te={})[Ar]=No?Tr+"px":"",te[Xr]=Mo?vr+"px":"",te.transform="",te))}const Ds={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ht){var te=ht.state,ze=ht.options,Dt=ze.gpuAcceleration,yn=void 0===Dt||Dt,dn=ze.adaptive,Ln=void 0===dn||dn,ii=ze.roundOffsets,qn=void 0===ii||ii,rr={placement:Xt(te.placement),variation:Wc(te.placement),popper:te.elements.popper,popperRect:te.rects.popper,gpuAcceleration:yn,isFixed:"fixed"===te.options.strategy};null!=te.modifiersData.popperOffsets&&(te.styles.popper=Object.assign({},te.styles.popper,Tg(Object.assign({},rr,{offsets:te.modifiersData.popperOffsets,position:te.options.strategy,adaptive:Ln,roundOffsets:qn})))),null!=te.modifiersData.arrow&&(te.styles.arrow=Object.assign({},te.styles.arrow,Tg(Object.assign({},rr,{offsets:te.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:qn})))),te.attributes.popper=Object.assign({},te.attributes.popper,{"data-popper-placement":te.placement})},data:{}};var Cr={passive:!0};const gc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ht){var te=ht.state,ze=ht.instance,Dt=ht.options,yn=Dt.scroll,dn=void 0===yn||yn,Ln=Dt.resize,ii=void 0===Ln||Ln,qn=ae(te.elements.popper),rr=[].concat(te.scrollParents.reference,te.scrollParents.popper);return dn&&rr.forEach(function($i){$i.addEventListener("scroll",ze.update,Cr)}),ii&&qn.addEventListener("resize",ze.update,Cr),function(){dn&&rr.forEach(function($i){$i.removeEventListener("scroll",ze.update,Cr)}),ii&&qn.removeEventListener("resize",ze.update,Cr)}},data:{}};var Sl={left:"right",right:"left",bottom:"top",top:"bottom"};function mc(ht){return ht.replace(/left|right|bottom|top/g,function(te){return Sl[te]})}var ys={start:"end",end:"start"};function ja(ht){return ht.replace(/start|end/g,function(te){return ys[te]})}function rd(ht){var te=ae(ht);return{scrollLeft:te.pageXOffset,scrollTop:te.pageYOffset}}function od(ht){return Ei(Mi(ht)).left+rd(ht).scrollLeft}function jc(ht){var te=mr(ht);return/auto|scroll|overlay|hidden/.test(te.overflow+te.overflowY+te.overflowX)}function ad(ht){return["html","body","#document"].indexOf(W(ht))>=0?ht.ownerDocument.body:Ue(ht)&&jc(ht)?ht:ad(Ur(ht))}function Ho(ht,te){var ze;void 0===te&&(te=[]);var Dt=ad(ht),yn=Dt===(null==(ze=ht.ownerDocument)?void 0:ze.body),dn=ae(Dt),Ln=yn?[dn].concat(dn.visualViewport||[],jc(Dt)?Dt:[]):Dt,ii=te.concat(Ln);return yn?ii:ii.concat(Ho(Ur(Ln)))}function bs(ht){return Object.assign({},ht,{left:ht.x,top:ht.y,right:ht.x+ht.width,bottom:ht.y+ht.height})}function Ya(ht,te,ze){return te===S?bs(function(Dt,yn){var dn=ae(Dt),Ln=Mi(Dt),ii=dn.visualViewport,qn=Ln.clientWidth,rr=Ln.clientHeight,$i=0,Pi=0;if(ii){qn=ii.width,rr=ii.height;var Xi=gi();(Xi||!Xi&&"fixed"===yn)&&($i=ii.offsetLeft,Pi=ii.offsetTop)}return{width:qn,height:rr,x:$i+od(Dt),y:Pi}}(ht,ze)):De(te)?((dn=Ei(Dt=te,!1,"fixed"===ze)).top=dn.top+Dt.clientTop,dn.left=dn.left+Dt.clientLeft,dn.bottom=dn.top+Dt.clientHeight,dn.right=dn.left+Dt.clientWidth,dn.width=Dt.clientWidth,dn.height=Dt.clientHeight,dn.x=dn.left,dn.y=dn.top,dn):bs(function(Dt){var yn,dn=Mi(Dt),Ln=rd(Dt),ii=null==(yn=Dt.ownerDocument)?void 0:yn.body,qn=qt(dn.scrollWidth,dn.clientWidth,ii?ii.scrollWidth:0,ii?ii.clientWidth:0),rr=qt(dn.scrollHeight,dn.clientHeight,ii?ii.scrollHeight:0,ii?ii.clientHeight:0),$i=-Ln.scrollLeft+od(Dt),Pi=-Ln.scrollTop;return"rtl"===mr(ii||dn).direction&&($i+=qt(dn.clientWidth,ii?ii.clientWidth:0)-qn),{width:qn,height:rr,x:$i,y:Pi}}(Mi(ht)));var Dt,dn}function Xs(ht){var te,ze=ht.reference,Dt=ht.element,yn=ht.placement,dn=yn?Xt(yn):null,Ln=yn?Wc(yn):null,ii=ze.x+ze.width/2-Dt.width/2,qn=ze.y+ze.height/2-Dt.height/2;switch(dn){case Fn:te={x:ii,y:ze.y-Dt.height};break;case ni:te={x:ii,y:ze.y+ze.height};break;case Jn:te={x:ze.x+ze.width,y:qn};break;case fi:te={x:ze.x-Dt.width,y:qn};break;default:te={x:ze.x,y:ze.y}}var rr=dn?Dn(dn):null;if(null!=rr){var $i="y"===rr?"height":"width";switch(Ln){case h:te[rr]=te[rr]-(ze[$i]/2-Dt[$i]/2);break;case d:te[rr]=te[rr]+(ze[$i]/2-Dt[$i]/2)}}return te}function qs(ht,te){void 0===te&&(te={});var Ka,Ra,ss,jo,To,la,hl,Qa,Aa,zo,Dt=te.placement,yn=void 0===Dt?ht.placement:Dt,dn=te.strategy,Ln=void 0===dn?ht.strategy:dn,ii=te.boundary,qn=void 0===ii?v:ii,rr=te.rootBoundary,$i=void 0===rr?S:rr,Pi=te.elementContext,Xi=void 0===Pi?T:Pi,vr=te.altBoundary,Vr=void 0!==vr&&vr,Tr=te.padding,Pr=void 0===Tr?0:Tr,Mo=Lo("number"!=typeof Pr?Pr:Gr(Pr,We)),Xr=ht.rects.popper,Ar=ht.elements[Vr?Xi===T?I:T:Xi],Nr=(Ka=De(Ar)?Ar:Ar.contextElement||Mi(ht.elements.popper),ss=$i,jo=Ln,Qa="clippingParents"===(Ra=qn)?(la=Ho(Ur(To=Ka)),De(hl=["absolute","fixed"].indexOf(mr(To).position)>=0&&Ue(To)?So(To):To)?la.filter(function(ec){return De(ec)&&sr(ec,hl)&&"body"!==W(ec)}):[]):[].concat(Ra),zo=(Aa=[].concat(Qa,[ss])).reduce(function(To,la){var hl=Ya(Ka,la,jo);return To.top=qt(hl.top,To.top),To.right=Sn(hl.right,To.right),To.bottom=Sn(hl.bottom,To.bottom),To.left=qt(hl.left,To.left),To},Ya(Ka,Aa[0],jo)),zo.width=zo.right-zo.left,zo.height=zo.bottom-zo.top,zo.x=zo.left,zo.y=zo.top,zo),eo=Ei(ht.elements.reference),no=Xs({reference:eo,element:Xr,strategy:"absolute",placement:yn}),nr=bs(Object.assign({},Xr,no)),xo=Xi===T?nr:eo,to={top:Nr.top-xo.top+Mo.top,bottom:xo.bottom-Nr.bottom+Mo.bottom,left:Nr.left-xo.left+Mo.left,right:xo.right-Nr.right+Mo.right},Za=ht.modifiersData.offset;if(Xi===T&&Za){var _o=Za[yn];Object.keys(to).forEach(function(Ka){var Ra=[Jn,ni].indexOf(Ka)>=0?1:-1,ss=[Fn,ni].indexOf(Ka)>=0?"y":"x";to[Ka]+=_o[ss]*Ra})}return to}const Xl={name:"flip",enabled:!0,phase:"main",fn:function(ht){var te=ht.state,ze=ht.options,Dt=ht.name;if(!te.modifiersData[Dt]._skip){for(var yn=ze.mainAxis,dn=void 0===yn||yn,Ln=ze.altAxis,ii=void 0===Ln||Ln,qn=ze.fallbackPlacements,rr=ze.padding,$i=ze.boundary,Pi=ze.rootBoundary,Xi=ze.altBoundary,vr=ze.flipVariations,Vr=void 0===vr||vr,Tr=ze.allowedAutoPlacements,Pr=te.options.placement,Mo=Xt(Pr),No=qn||(Mo!==Pr&&Vr?function(To){if(Xt(To)===xi)return[];var la=mc(To);return[ja(To),la,ja(la)]}(Pr):[mc(Pr)]),Xr=[Pr].concat(No).reduce(function(To,la){return To.concat(Xt(la)===xi?function Sa(ht,te){void 0===te&&(te={});var yn=te.boundary,dn=te.rootBoundary,Ln=te.padding,ii=te.flipVariations,qn=te.allowedAutoPlacements,rr=void 0===qn?V:qn,$i=Wc(te.placement),Pi=$i?ii?N:N.filter(function(Vr){return Wc(Vr)===$i}):We,Xi=Pi.filter(function(Vr){return rr.indexOf(Vr)>=0});0===Xi.length&&(Xi=Pi);var vr=Xi.reduce(function(Vr,Tr){return Vr[Tr]=qs(ht,{placement:Tr,boundary:yn,rootBoundary:dn,padding:Ln})[Xt(Tr)],Vr},{});return Object.keys(vr).sort(function(Vr,Tr){return vr[Vr]-vr[Tr]})}(te,{placement:la,boundary:$i,rootBoundary:Pi,padding:rr,flipVariations:Vr,allowedAutoPlacements:Tr}):la)},[]),Ar=te.rects.reference,Nr=te.rects.popper,eo=new Map,no=!0,nr=Xr[0],xo=0;xo<Xr.length;xo++){var to=Xr[xo],Za=Xt(to),_o=Wc(to)===h,Ka=[Fn,ni].indexOf(Za)>=0,Ra=Ka?"width":"height",ss=qs(te,{placement:to,boundary:$i,rootBoundary:Pi,altBoundary:Xi,padding:rr}),jo=Ka?_o?Jn:fi:_o?ni:Fn;Ar[Ra]>Nr[Ra]&&(jo=mc(jo));var Qa=mc(jo),Aa=[];if(dn&&Aa.push(ss[Za]<=0),ii&&Aa.push(ss[jo]<=0,ss[Qa]<=0),Aa.every(function(To){return To})){nr=to,no=!1;break}eo.set(to,Aa)}if(no)for(var Sc=function(To){var la=Xr.find(function(hl){var ec=eo.get(hl);if(ec)return ec.slice(0,To).every(function(Lh){return Lh})});if(la)return nr=la,"break"},zo=Vr?3:1;zo>0&&"break"!==Sc(zo);zo--);te.placement!==nr&&(te.modifiersData[Dt]._skip=!0,te.placement=nr,te.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vc(ht,te,ze){return void 0===ze&&(ze={x:0,y:0}),{top:ht.top-te.height-ze.y,right:ht.right-te.width+ze.x,bottom:ht.bottom-te.height+ze.y,left:ht.left-te.width-ze.x}}function ql(ht){return[Fn,Jn,ni,fi].some(function(te){return ht[te]>=0})}const Cl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ht){var te=ht.state,ze=ht.name,Dt=te.rects.reference,yn=te.rects.popper,dn=te.modifiersData.preventOverflow,Ln=qs(te,{elementContext:"reference"}),ii=qs(te,{altBoundary:!0}),qn=vc(Ln,Dt),rr=vc(ii,yn,dn),$i=ql(qn),Pi=ql(rr);te.modifiersData[ze]={referenceClippingOffsets:qn,popperEscapeOffsets:rr,isReferenceHidden:$i,hasPopperEscaped:Pi},te.attributes.popper=Object.assign({},te.attributes.popper,{"data-popper-reference-hidden":$i,"data-popper-escaped":Pi})}},Cu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ht){var te=ht.state,Dt=ht.name,yn=ht.options.offset,dn=void 0===yn?[0,0]:yn,Ln=V.reduce(function($i,Pi){return $i[Pi]=(vr=te.rects,Vr=dn,Tr=Xt(Xi=Pi),Pr=[fi,Fn].indexOf(Tr)>=0?-1:1,No=(No=(Mo="function"==typeof Vr?Vr(Object.assign({},vr,{placement:Xi})):Vr)[0])||0,Xr=((Xr=Mo[1])||0)*Pr,[fi,Jn].indexOf(Tr)>=0?{x:Xr,y:No}:{x:No,y:Xr}),$i;var Xi,vr,Vr,Tr,Pr,Mo,No,Xr},{}),ii=Ln[te.placement],rr=ii.y;null!=te.modifiersData.popperOffsets&&(te.modifiersData.popperOffsets.x+=ii.x,te.modifiersData.popperOffsets.y+=rr),te.modifiersData[Dt]=Ln}},_h={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ht){var te=ht.state;te.modifiersData[ht.name]=Xs({reference:te.rects.reference,element:te.rects.popper,strategy:"absolute",placement:te.placement})},data:{}},kl={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ht){var ru,Og,te=ht.state,ze=ht.options,Dt=ht.name,yn=ze.mainAxis,dn=void 0===yn||yn,Ln=ze.altAxis,ii=void 0!==Ln&&Ln,Xi=ze.tether,vr=void 0===Xi||Xi,Vr=ze.tetherOffset,Tr=void 0===Vr?0:Vr,Pr=qs(te,{boundary:ze.boundary,rootBoundary:ze.rootBoundary,padding:ze.padding,altBoundary:ze.altBoundary}),Mo=Xt(te.placement),No=Wc(te.placement),Xr=!No,Ar=Dn(Mo),Nr="x"===Ar?"y":"x",eo=te.modifiersData.popperOffsets,no=te.rects.reference,nr=te.rects.popper,xo="function"==typeof Tr?Tr(Object.assign({},te.rects,{placement:te.placement})):Tr,to="number"==typeof xo?{mainAxis:xo,altAxis:xo}:Object.assign({mainAxis:0,altAxis:0},xo),Za=te.modifiersData.offset?te.modifiersData.offset[te.placement]:null,_o={x:0,y:0};if(eo){if(dn){var Ka,Ra="y"===Ar?Fn:fi,ss="y"===Ar?ni:Jn,jo="y"===Ar?"height":"width",Qa=eo[Ar],Aa=Qa+Pr[Ra],Sc=Qa-Pr[ss],zo=vr?-nr[jo]/2:0,To=No===h?no[jo]:nr[jo],la=No===h?-nr[jo]:-no[jo],hl=te.elements.arrow,ec=vr&&hl?Bi(hl):{width:0,height:0},Lh=te.modifiersData["arrow#persistent"]?te.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},qu=Lh[Ra],tc=Lh[ss],Ph=uo(0,no[jo],ec[jo]),nc=Xr?no[jo]/2-zo-Ph-qu-to.mainAxis:To-Ph-qu-to.mainAxis,ca=Xr?-no[jo]/2+zo+Ph+tc+to.mainAxis:la+Ph+tc+to.mainAxis,dd=te.elements.arrow&&So(te.elements.arrow),tu=null!=(Ka=Za?.[Ar])?Ka:0,Fs=Qa+ca-tu,Nh=uo(vr?Sn(Aa,Qa+nc-tu-(dd?"y"===Ar?dd.clientTop||0:dd.clientLeft||0:0)):Aa,Qa,vr?qt(Sc,Fs):Sc);eo[Ar]=Nh,_o[Ar]=Nh-Qa}if(ii){var lp,Cc=eo[Nr],Ks="y"===Nr?"height":"width",Rh=Cc+Pr["x"===Ar?Fn:fi],uf=Cc-Pr["x"===Ar?ni:Jn],pd=-1!==[Fn,fi].indexOf(Mo),hf=null!=(lp=Za?.[Nr])?lp:0,df=pd?Rh:Cc-no[Ks]-nr[Ks]-hf+to.altAxis,fd=pd?Cc+no[Ks]+nr[Ks]-hf-to.altAxis:uf,Bh=vr&&pd?(Og=uo(df,Cc,ru=fd))>ru?ru:Og:uo(vr?df:Rh,Cc,vr?fd:uf);eo[Nr]=Bh,_o[Nr]=Bh-Cc}te.modifiersData[Dt]=_o}},requiresIfExists:["offset"]};function wh(ht,te,ze){void 0===ze&&(ze=!1);var Dt,yn,Pi,Xi,vr,Vr,dn=Ue(te),Ln=Ue(te)&&(Xi=(Pi=te).getBoundingClientRect(),vr=Mn(Xi.width)/Pi.offsetWidth||1,Vr=Mn(Xi.height)/Pi.offsetHeight||1,1!==vr||1!==Vr),ii=Mi(te),qn=Ei(ht,Ln,ze),rr={scrollLeft:0,scrollTop:0},$i={x:0,y:0};return(dn||!dn&&!ze)&&(("body"!==W(te)||jc(ii))&&(rr=(Dt=te)!==ae(Dt)&&Ue(Dt)?{scrollLeft:(yn=Dt).scrollLeft,scrollTop:yn.scrollTop}:rd(Dt)),Ue(te)?(($i=Ei(te,!0)).x+=te.clientLeft,$i.y+=te.clientTop):ii&&($i.x=od(ii))),{x:qn.left+rr.scrollLeft-$i.x,y:qn.top+rr.scrollTop-$i.y,width:qn.width,height:qn.height}}function xs(ht){var te=new Map,ze=new Set,Dt=[];function yn(dn){ze.add(dn.name),[].concat(dn.requires||[],dn.requiresIfExists||[]).forEach(function(Ln){if(!ze.has(Ln)){var ii=te.get(Ln);ii&&yn(ii)}}),Dt.push(dn)}return ht.forEach(function(dn){te.set(dn.name,dn)}),ht.forEach(function(dn){ze.has(dn.name)||yn(dn)}),Dt}var Ca={placement:"bottom",modifiers:[],strategy:"absolute"};function Pa(){for(var ht=arguments.length,te=new Array(ht),ze=0;ze<ht;ze++)te[ze]=arguments[ze];return!te.some(function(Dt){return!(Dt&&"function"==typeof Dt.getBoundingClientRect)})}function is(ht){void 0===ht&&(ht={});var ze=ht.defaultModifiers,Dt=void 0===ze?[]:ze,yn=ht.defaultOptions,dn=void 0===yn?Ca:yn;return function(Ln,ii,qn){void 0===qn&&(qn=dn);var rr,$i,Pi={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ca,dn),modifiersData:{},elements:{reference:Ln,popper:ii},attributes:{},styles:{}},Xi=[],vr=!1,Vr={state:Pi,setOptions:function(Pr){var Mo="function"==typeof Pr?Pr(Pi.options):Pr;Tr(),Pi.options=Object.assign({},dn,Pi.options,Mo),Pi.scrollParents={reference:De(Ln)?Ho(Ln):Ln.contextElement?Ho(Ln.contextElement):[],popper:Ho(ii)};var No,Xr,Nr,eo,Ar=(No=[].concat(Dt,Pi.options.modifiers),Xr=No.reduce(function(Nr,eo){var no=Nr[eo.name];return Nr[eo.name]=no?Object.assign({},no,eo,{options:Object.assign({},no.options,eo.options),data:Object.assign({},no.data,eo.data)}):eo,Nr},{}),Nr=Object.keys(Xr).map(function(Nr){return Xr[Nr]}),eo=xs(Nr),vt.reduce(function(no,nr){return no.concat(eo.filter(function(xo){return xo.phase===nr}))},[]));return Pi.orderedModifiers=Ar.filter(function(Nr){return Nr.enabled}),Pi.orderedModifiers.forEach(function(Nr){var no=Nr.options,xo=Nr.effect;if("function"==typeof xo){var to=xo({state:Pi,name:Nr.name,instance:Vr,options:void 0===no?{}:no});Xi.push(to||function(){})}}),Vr.update()},forceUpdate:function(){if(!vr){var Pr=Pi.elements,Mo=Pr.reference,No=Pr.popper;if(Pa(Mo,No)){Pi.rects={reference:wh(Mo,So(No),"fixed"===Pi.options.strategy),popper:Bi(No)},Pi.reset=!1,Pi.placement=Pi.options.placement,Pi.orderedModifiers.forEach(function(xo){return Pi.modifiersData[xo.name]=Object.assign({},xo.data)});for(var Xr=0;Xr<Pi.orderedModifiers.length;Xr++)if(!0!==Pi.reset){var Ar=Pi.orderedModifiers[Xr],Nr=Ar.fn,eo=Ar.options;"function"==typeof Nr&&(Pi=Nr({state:Pi,options:void 0===eo?{}:eo,name:Ar.name,instance:Vr})||Pi)}else Pi.reset=!1,Xr=-1}}},update:(rr=function(){return new Promise(function(Pr){Vr.forceUpdate(),Pr(Pi)})},function(){return $i||($i=new Promise(function(Pr){Promise.resolve().then(function(){$i=void 0,Pr(rr())})})),$i}),destroy:function(){Tr(),vr=!0}};if(!Pa(Ln,ii))return Vr;function Tr(){Xi.forEach(function(Pr){return Pr()}),Xi=[]}return Vr.setOptions(qn).then(function(Pr){!vr&&qn.onFirstUpdate&&qn.onFirstUpdate(Pr)}),Vr}}var ra=is(),Ko=is({defaultModifiers:[gc,_h,Ds,kt]}),Yt=is({defaultModifiers:[gc,_h,Ds,kt,Cu,Xl,kl,lr,Cl]});const Sh=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Se,afterRead:J,afterWrite:tt,applyStyles:kt,arrow:lr,auto:xi,basePlacements:We,beforeMain:ie,beforeRead:G,beforeWrite:Le,bottom:ni,clippingParents:v,computeStyles:Ds,createPopper:Yt,createPopperBase:ra,createPopperLite:Ko,detectOverflow:qs,end:d,eventListeners:gc,flip:Xl,hide:Cl,left:fi,main:"main",modifierPhases:vt,offset:Cu,placements:V,popper:T,popperGenerator:is,popperOffsets:_h,preventOverflow:kl,read:K,reference:I,right:Jn,start:h,top:Fn,variationPlacements:N,viewport:S,write:"write"},Symbol.toStringTag,{value:"Module"})),Kd="dropdown",Vo=".bs.dropdown",ku=".data-api",Br="ArrowUp",$r="ArrowDown",oa=`hide${Vo}`,_s=`hidden${Vo}`,Ul=`show${Vo}`,ba=`shown${Vo}`,Al=`click${Vo}${ku}`,sd=`keydown${Vo}${ku}`,Ml=`keyup${Vo}${ku}`,Tl="show",$l='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Qd=`${$l}.${Tl}`,Po=".dropdown-menu",Yc=Ie()?"top-end":"top-start",Ls=Ie()?"top-start":"top-end",Gc=Ie()?"bottom-end":"bottom-start",ld=Ie()?"bottom-start":"bottom-end",yc=Ie()?"left-start":"right-start",Jd=Ie()?"right-start":"left-start",ol={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},xa={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ws extends jt{constructor(te,ze){super(te,ze),this._popper=null,this._parent=this._element.parentNode,this._menu=Et.next(this._element,Po)[0]||Et.prev(this._element,Po)[0]||Et.findOne(Po,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ol}static get DefaultType(){return xa}static get NAME(){return Kd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ve(this._element)||this._isShown())return;const te={relatedTarget:this._element};if(!qe.trigger(this._element,Ul,te).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const ze of[].concat(...document.body.children))qe.on(ze,"mouseover",ge);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Tl),this._element.classList.add(Tl),qe.trigger(this._element,ba,te)}}hide(){!Ve(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(te){if(!qe.trigger(this._element,oa,te).defaultPrevented){if("ontouchstart"in document.documentElement)for(const ze of[].concat(...document.body.children))qe.off(ze,"mouseover",ge);this._popper&&this._popper.destroy(),this._menu.classList.remove(Tl),this._element.classList.remove(Tl),this._element.setAttribute("aria-expanded","false"),ln.removeDataAttribute(this._menu,"popper"),qe.trigger(this._element,_s,te)}}_getConfig(te){if("object"==typeof(te=super._getConfig(te)).reference&&!nt(te.reference)&&"function"!=typeof te.reference.getBoundingClientRect)throw new TypeError(`${Kd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return te}_createPopper(){if(void 0===Sh)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let te=this._element;"parent"===this._config.reference?te=this._parent:nt(this._config.reference)?te=gt(this._config.reference):"object"==typeof this._config.reference&&(te=this._config.reference);const ze=this._getPopperConfig();this._popper=Yt(te,this._menu,ze)}_isShown(){return this._menu.classList.contains(Tl)}_getPlacement(){const te=this._parent;if(te.classList.contains("dropend"))return yc;if(te.classList.contains("dropstart"))return Jd;if(te.classList.contains("dropup-center"))return"top";if(te.classList.contains("dropdown-center"))return"bottom";const ze="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return te.classList.contains("dropup")?ze?Ls:Yc:ze?ld:Gc}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:te}=this._config;return"string"==typeof te?te.split(",").map(ze=>Number.parseInt(ze,10)):"function"==typeof te?ze=>te(ze,this._element):te}_getPopperConfig(){const te={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ln.setDataAttribute(this._menu,"popper","static"),te.modifiers=[{name:"applyStyles",enabled:!1}]),{...te,...de(this._config.popperConfig,[te])}}_selectMenuItem({key:te,target:ze}){const Dt=Et.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(yn=>et(yn));Dt.length&&Ae(Dt,ze,te===$r,!Dt.includes(ze)).focus()}static jQueryInterface(te){return this.each(function(){const ze=ws.getOrCreateInstance(this,te);if("string"==typeof te){if(void 0===ze[te])throw new TypeError(`No method named "${te}"`);ze[te]()}})}static clearMenus(te){if(2===te.button||"keyup"===te.type&&"Tab"!==te.key)return;const ze=Et.find(Qd);for(const Dt of ze){const yn=ws.getInstance(Dt);if(!yn||!1===yn._config.autoClose)continue;const dn=te.composedPath(),Ln=dn.includes(yn._menu);if(dn.includes(yn._element)||"inside"===yn._config.autoClose&&!Ln||"outside"===yn._config.autoClose&&Ln||yn._menu.contains(te.target)&&("keyup"===te.type&&"Tab"===te.key||/input|select|option|textarea|form/i.test(te.target.tagName)))continue;const ii={relatedTarget:yn._element};"click"===te.type&&(ii.clickEvent=te),yn._completeHide(ii)}}static dataApiKeydownHandler(te){const ze=/input|textarea/i.test(te.target.tagName),Dt="Escape"===te.key,yn=[Br,$r].includes(te.key);if(!yn&&!Dt||ze&&!Dt)return;te.preventDefault();const dn=this.matches($l)?this:Et.prev(this,$l)[0]||Et.next(this,$l)[0]||Et.findOne($l,te.delegateTarget.parentNode),Ln=ws.getOrCreateInstance(dn);if(yn)return te.stopPropagation(),Ln.show(),void Ln._selectMenuItem(te);Ln._isShown()&&(te.stopPropagation(),Ln.hide(),dn.focus())}}qe.on(document,sd,$l,ws.dataApiKeydownHandler),qe.on(document,sd,Po,ws.dataApiKeydownHandler),qe.on(document,Al,ws.clearMenus),qe.on(document,Ml,ws.clearMenus),qe.on(document,Al,$l,function(ht){ht.preventDefault(),ws.getOrCreateInstance(this).toggle()}),Ce(ws);const cd="backdrop",Xc=`mousedown.bs.${cd}`,_a={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},qc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ps extends on{constructor(te){super(),this._config=this._getConfig(te),this._isAppended=!1,this._element=null}static get Default(){return _a}static get DefaultType(){return qc}static get NAME(){return cd}show(te){if(!this._config.isVisible)return void de(te);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{de(te)})}hide(te){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),de(te)})):de(te)}dispose(){this._isAppended&&(qe.off(this._element,Xc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const te=document.createElement("div");te.className=this._config.className,this._config.isAnimated&&te.classList.add("fade"),this._element=te}return this._element}_configAfterMerge(te){return te.rootElement=gt(te.rootElement),te}_append(){if(this._isAppended)return;const te=this._getElement();this._config.rootElement.append(te),qe.on(te,Xc,()=>{de(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(te){ot(te,this._getElement(),this._config.isAnimated)}}const Na=".bs.focustrap",Eg=`focusin${Na}`,Uc=`keydown.tab${Na}`,Mu="backward",al={autofocus:!0,trapElement:null},El={autofocus:"boolean",trapElement:"element"};class rs extends on{constructor(te){super(),this._config=this._getConfig(te),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return al}static get DefaultType(){return El}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),qe.off(document,Na),qe.on(document,Eg,te=>this._handleFocusin(te)),qe.on(document,Uc,te=>this._handleKeydown(te)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,qe.off(document,Na))}_handleFocusin(te){const{trapElement:ze}=this._config;if(te.target===document||te.target===ze||ze.contains(te.target))return;const Dt=Et.focusableChildren(ze);0===Dt.length?ze.focus():this._lastTabNavDirection===Mu?Dt[Dt.length-1].focus():Dt[0].focus()}_handleKeydown(te){"Tab"===te.key&&(this._lastTabNavDirection=te.shiftKey?Mu:"forward")}}const Us=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ep=".sticky-top",Qo="padding-right",Il="margin-right";class $s{constructor(){this._element=document.body}getWidth(){const te=document.documentElement.clientWidth;return Math.abs(window.innerWidth-te)}hide(){const te=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Qo,ze=>ze+te),this._setElementAttributes(Us,Qo,ze=>ze+te),this._setElementAttributes(ep,Il,ze=>ze-te)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Qo),this._resetElementAttributes(Us,Qo),this._resetElementAttributes(ep,Il)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(te,ze,Dt){const yn=this.getWidth();this._applyManipulationCallback(te,dn=>{if(dn!==this._element&&window.innerWidth>dn.clientWidth+yn)return;this._saveInitialAttribute(dn,ze);const Ln=window.getComputedStyle(dn).getPropertyValue(ze);dn.style.setProperty(ze,`${Dt(Number.parseFloat(Ln))}px`)})}_saveInitialAttribute(te,ze){const Dt=te.style.getPropertyValue(ze);Dt&&ln.setDataAttribute(te,ze,Dt)}_resetElementAttributes(te,ze){this._applyManipulationCallback(te,Dt=>{const yn=ln.getDataAttribute(Dt,ze);null!==yn?(ln.removeDataAttribute(Dt,ze),Dt.style.setProperty(ze,yn)):Dt.style.removeProperty(ze)})}_applyManipulationCallback(te,ze){if(nt(te))ze(te);else for(const Dt of Et.find(te,this._element))ze(Dt)}}const aa=".bs.modal",Tu=`hide${aa}`,Ch=`hidePrevented${aa}`,tp=`hidden${aa}`,Ga=`show${aa}`,Ns=`shown${aa}`,np=`resize${aa}`,qo=`click.dismiss${aa}`,Eu=`mousedown.dismiss${aa}`,Ol=`keydown.dismiss${aa}`,$c=`click${aa}.data-api`,yo="modal-open",Iu="modal-static",Dl={backdrop:!0,focus:!0,keyboard:!0},Ou={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ll extends jt{constructor(te,ze){super(te,ze),this._dialog=Et.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new $s,this._addEventListeners()}static get Default(){return Dl}static get DefaultType(){return Ou}static get NAME(){return"modal"}toggle(te){return this._isShown?this.hide():this.show(te)}show(te){this._isShown||this._isTransitioning||qe.trigger(this._element,Ga,{relatedTarget:te}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(yo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(te)))}hide(){this._isShown&&!this._isTransitioning&&(qe.trigger(this._element,Tu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){qe.off(window,aa),qe.off(this._dialog,aa),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ps({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rs({trapElement:this._element})}_showElement(te){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const ze=Et.findOne(".modal-body",this._dialog);ze&&(ze.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,qe.trigger(this._element,Ns,{relatedTarget:te})},this._dialog,this._isAnimated())}_addEventListeners(){qe.on(this._element,Ol,te=>{"Escape"===te.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),qe.on(window,np,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),qe.on(this._element,Eu,te=>{qe.one(this._element,qo,ze=>{this._element===te.target&&this._element===ze.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yo),this._resetAdjustments(),this._scrollBar.reset(),qe.trigger(this._element,tp)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(qe.trigger(this._element,Ch).defaultPrevented)return;const te=this._element.scrollHeight>document.documentElement.clientHeight,ze=this._element.style.overflowY;"hidden"===ze||this._element.classList.contains(Iu)||(te||(this._element.style.overflowY="hidden"),this._element.classList.add(Iu),this._queueCallback(()=>{this._element.classList.remove(Iu),this._queueCallback(()=>{this._element.style.overflowY=ze},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const te=this._element.scrollHeight>document.documentElement.clientHeight,ze=this._scrollBar.getWidth(),Dt=ze>0;if(Dt&&!te){const yn=Ie()?"paddingLeft":"paddingRight";this._element.style[yn]=`${ze}px`}if(!Dt&&te){const yn=Ie()?"paddingRight":"paddingLeft";this._element.style[yn]=`${ze}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(te,ze){return this.each(function(){const Dt=Ll.getOrCreateInstance(this,te);if("string"==typeof te){if(void 0===Dt[te])throw new TypeError(`No method named "${te}"`);Dt[te](ze)}})}}qe.on(document,$c,'[data-bs-toggle="modal"]',function(ht){const te=Et.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ht.preventDefault(),qe.one(te,Ga,Dt=>{Dt.defaultPrevented||qe.one(te,tp,()=>{et(this)&&this.focus()})});const ze=Et.findOne(".modal.show");ze&&Ll.getInstance(ze).hide(),Ll.getOrCreateInstance(te).toggle(this)}),xn(Ll),Ce(Ll);const Pl=".bs.offcanvas",nf=".data-api",Du=`load${Pl}${nf}`,Zc="showing",Lu=".offcanvas.show",Pu=`show${Pl}`,Ig=`shown${Pl}`,ud=`hide${Pl}`,bc=`hidePrevented${Pl}`,ga=`hidden${Pl}`,Nu=`resize${Pl}`,Jo=`click${Pl}${nf}`,Zl=`keydown.dismiss${Pl}`,Rs={backdrop:!0,keyboard:!0,scroll:!1},pi={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Xa extends jt{constructor(te,ze){super(te,ze),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Rs}static get DefaultType(){return pi}static get NAME(){return"offcanvas"}toggle(te){return this._isShown?this.hide():this.show(te)}show(te){this._isShown||qe.trigger(this._element,Pu,{relatedTarget:te}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new $s).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Zc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Zc),qe.trigger(this._element,Ig,{relatedTarget:te})},this._element,!0))}hide(){this._isShown&&(qe.trigger(this._element,ud).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new $s).reset(),qe.trigger(this._element,ga)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const te=Boolean(this._config.backdrop);return new Ps({className:"offcanvas-backdrop",isVisible:te,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:te?()=>{"static"!==this._config.backdrop?this.hide():qe.trigger(this._element,bc)}:null})}_initializeFocusTrap(){return new rs({trapElement:this._element})}_addEventListeners(){qe.on(this._element,Zl,te=>{"Escape"===te.key&&(this._config.keyboard?this.hide():qe.trigger(this._element,bc))})}static jQueryInterface(te){return this.each(function(){const ze=Xa.getOrCreateInstance(this,te);if("string"==typeof te){if(void 0===ze[te]||te.startsWith("_")||"constructor"===te)throw new TypeError(`No method named "${te}"`);ze[te](this)}})}}qe.on(document,Jo,'[data-bs-toggle="offcanvas"]',function(ht){const te=Et.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ht.preventDefault(),Ve(this))return;qe.one(te,ga,()=>{et(this)&&this.focus()});const ze=Et.findOne(Lu);ze&&ze!==te&&Xa.getInstance(ze).hide(),Xa.getOrCreateInstance(te).toggle(this)}),qe.on(window,Du,()=>{for(const ht of Et.find(Lu))Xa.getOrCreateInstance(ht).show()}),qe.on(window,Nu,()=>{for(const ht of Et.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(ht).position&&Xa.getOrCreateInstance(ht).hide()}),xn(Xa),Ce(Xa);const Kl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Bs=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ru=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ip=(ht,te)=>{const ze=ht.nodeName.toLowerCase();return te.includes(ze)?!Bs.has(ze)||Boolean(Ru.test(ht.nodeValue)):te.filter(Dt=>Dt instanceof RegExp).some(Dt=>Dt.test(ze))},Bu={allowList:Kl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},sa={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hd={entry:"(string|element|function|null)",selector:"(string|element)"};class rf extends on{constructor(te){super(),this._config=this._getConfig(te)}static get Default(){return Bu}static get DefaultType(){return sa}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(te=>this._resolvePossibleFunction(te)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(te){return this._checkContent(te),this._config.content={...this._config.content,...te},this}toHtml(){const te=document.createElement("div");te.innerHTML=this._maybeSanitize(this._config.template);for(const[yn,dn]of Object.entries(this._config.content))this._setContent(te,dn,yn);const ze=te.children[0],Dt=this._resolvePossibleFunction(this._config.extraClass);return Dt&&ze.classList.add(...Dt.split(" ")),ze}_typeCheckConfig(te){super._typeCheckConfig(te),this._checkContent(te.content)}_checkContent(te){for(const[ze,Dt]of Object.entries(te))super._typeCheckConfig({selector:ze,entry:Dt},hd)}_setContent(te,ze,Dt){const yn=Et.findOne(Dt,te);yn&&((ze=this._resolvePossibleFunction(ze))?nt(ze)?this._putElementInTemplate(gt(ze),yn):this._config.html?yn.innerHTML=this._maybeSanitize(ze):yn.textContent=ze:yn.remove())}_maybeSanitize(te){return this._config.sanitize?function(ze,Dt,yn){if(!ze.length)return ze;if(yn&&"function"==typeof yn)return yn(ze);const dn=(new window.DOMParser).parseFromString(ze,"text/html"),Ln=[].concat(...dn.body.querySelectorAll("*"));for(const ii of Ln){const qn=ii.nodeName.toLowerCase();if(!Object.keys(Dt).includes(qn)){ii.remove();continue}const rr=[].concat(...ii.attributes),$i=[].concat(Dt["*"]||[],Dt[qn]||[]);for(const Pi of rr)ip(Pi,$i)||ii.removeAttribute(Pi.nodeName)}return dn.body.innerHTML}(te,this._config.allowList,this._config.sanitizeFn):te}_resolvePossibleFunction(te){return de(te,[this])}_putElementInTemplate(te,ze){if(this._config.html)return ze.innerHTML="",void ze.append(te);ze.textContent=te.textContent}}const Rn=new Set(["sanitize","allowList","sanitizeFn"]),xc="fade",Ah="show",Mh="hide.bs.modal",Kc="hover",Co="focus",Th={AUTO:"auto",TOP:"top",RIGHT:Ie()?"left":"right",BOTTOM:"bottom",LEFT:Ie()?"right":"left"},Ss={allowList:Kl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fo={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Rl extends jt{constructor(te,ze){if(void 0===Sh)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(te,ze),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ss}static get DefaultType(){return fo}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),qe.off(this._element.closest(".modal"),Mh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const te=qe.trigger(this._element,this.constructor.eventName("show")),ze=(ye(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(te.defaultPrevented||!ze)return;this._disposePopper();const Dt=this._getTipElement();this._element.setAttribute("aria-describedby",Dt.getAttribute("id"));const{container:yn}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(yn.append(Dt),qe.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Dt),Dt.classList.add(Ah),"ontouchstart"in document.documentElement)for(const dn of[].concat(...document.body.children))qe.on(dn,"mouseover",ge);this._queueCallback(()=>{qe.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!qe.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ah),"ontouchstart"in document.documentElement)for(const te of[].concat(...document.body.children))qe.off(te,"mouseover",ge);this._activeTrigger.click=!1,this._activeTrigger[Co]=!1,this._activeTrigger[Kc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),qe.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(te){const ze=this._getTemplateFactory(te).toHtml();if(!ze)return null;ze.classList.remove(xc,Ah),ze.classList.add(`bs-${this.constructor.NAME}-auto`);const Dt=(yn=>{do{yn+=Math.floor(1e6*Math.random())}while(document.getElementById(yn));return yn})(this.constructor.NAME).toString();return ze.setAttribute("id",Dt),this._isAnimated()&&ze.classList.add(xc),ze}setContent(te){this._newContent=te,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(te){return this._templateFactory?this._templateFactory.changeContent(te):this._templateFactory=new rf({...this._config,content:te,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(te){return this.constructor.getOrCreateInstance(te.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xc)}_isShown(){return this.tip&&this.tip.classList.contains(Ah)}_createPopper(te){const ze=de(this._config.placement,[this,te,this._element]),Dt=Th[ze.toUpperCase()];return Yt(this._element,te,this._getPopperConfig(Dt))}_getOffset(){const{offset:te}=this._config;return"string"==typeof te?te.split(",").map(ze=>Number.parseInt(ze,10)):"function"==typeof te?ze=>te(ze,this._element):te}_resolvePossibleFunction(te){return de(te,[this._element])}_getPopperConfig(te){const ze={placement:te,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Dt=>{this._getTipElement().setAttribute("data-popper-placement",Dt.state.placement)}}]};return{...ze,...de(this._config.popperConfig,[ze])}}_setListeners(){const te=this._config.trigger.split(" ");for(const ze of te)if("click"===ze)qe.on(this._element,this.constructor.eventName("click"),this._config.selector,Dt=>{this._initializeOnDelegatedTarget(Dt).toggle()});else if("manual"!==ze){const Dt=this.constructor.eventName(ze===Kc?"mouseenter":"focusin"),yn=this.constructor.eventName(ze===Kc?"mouseleave":"focusout");qe.on(this._element,Dt,this._config.selector,dn=>{const Ln=this._initializeOnDelegatedTarget(dn);Ln._activeTrigger["focusin"===dn.type?Co:Kc]=!0,Ln._enter()}),qe.on(this._element,yn,this._config.selector,dn=>{const Ln=this._initializeOnDelegatedTarget(dn);Ln._activeTrigger["focusout"===dn.type?Co:Kc]=Ln._element.contains(dn.relatedTarget),Ln._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},qe.on(this._element.closest(".modal"),Mh,this._hideModalHandler)}_fixTitle(){const te=this._element.getAttribute("title");te&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",te),this._element.setAttribute("data-bs-original-title",te),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(te,ze){clearTimeout(this._timeout),this._timeout=setTimeout(te,ze)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(te){const ze=ln.getDataAttributes(this._element);for(const Dt of Object.keys(ze))Rn.has(Dt)&&delete ze[Dt];return te={...ze,..."object"==typeof te&&te?te:{}},te=this._mergeConfigObj(te),te=this._configAfterMerge(te),this._typeCheckConfig(te),te}_configAfterMerge(te){return te.container=!1===te.container?document.body:gt(te.container),"number"==typeof te.delay&&(te.delay={show:te.delay,hide:te.delay}),"number"==typeof te.title&&(te.title=te.title.toString()),"number"==typeof te.content&&(te.content=te.content.toString()),te}_getDelegateConfig(){const te={};for(const[ze,Dt]of Object.entries(this._config))this.constructor.Default[ze]!==Dt&&(te[ze]=Dt);return te.selector=!1,te.trigger="manual",te}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(te){return this.each(function(){const ze=Rl.getOrCreateInstance(this,te);if("string"==typeof te){if(void 0===ze[te])throw new TypeError(`No method named "${te}"`);ze[te]()}})}}Ce(Rl);const zu={...Rl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},qa={...Rl.DefaultType,content:"(null|string|element|function)"};class Ql extends Rl{static get Default(){return zu}static get DefaultType(){return qa}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(te){return this.each(function(){const ze=Ql.getOrCreateInstance(this,te);if("string"==typeof te){if(void 0===ze[te])throw new TypeError(`No method named "${te}"`);ze[te]()}})}}Ce(Ql);const Qc=".bs.scrollspy",rp=`activate${Qc}`,Ua=`click${Qc}`,go=`load${Qc}.data-api`,_c="active",Fu="[href]",$a=".nav-link",of=`${$a}, .nav-item > ${$a}, .list-group-item`,Bl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ll={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class cl extends jt{constructor(te,ze){super(te,ze),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Bl}static get DefaultType(){return ll}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const te of this._observableSections.values())this._observer.observe(te)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(te){return te.target=gt(te.target)||document.body,te.rootMargin=te.offset?`${te.offset}px 0px -30%`:te.rootMargin,"string"==typeof te.threshold&&(te.threshold=te.threshold.split(",").map(ze=>Number.parseFloat(ze))),te}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(qe.off(this._config.target,Ua),qe.on(this._config.target,Ua,Fu,te=>{const ze=this._observableSections.get(te.target.hash);if(ze){te.preventDefault();const Dt=this._rootElement||window,yn=ze.offsetTop-this._element.offsetTop;if(Dt.scrollTo)return void Dt.scrollTo({top:yn,behavior:"smooth"});Dt.scrollTop=yn}}))}_getNewObserver(){return new IntersectionObserver(ze=>this._observerCallback(ze),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(te){const ze=Ln=>this._targetLinks.get(`#${Ln.target.id}`),Dt=Ln=>{this._previousScrollData.visibleEntryTop=Ln.target.offsetTop,this._process(ze(Ln))},yn=(this._rootElement||document.documentElement).scrollTop,dn=yn>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=yn;for(const Ln of te){if(!Ln.isIntersecting){this._activeTarget=null,this._clearActiveClass(ze(Ln));continue}const ii=Ln.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(dn&&ii){if(Dt(Ln),!yn)return}else dn||ii||Dt(Ln)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const te=Et.find(Fu,this._config.target);for(const ze of te){if(!ze.hash||Ve(ze))continue;const Dt=Et.findOne(decodeURI(ze.hash),this._element);et(Dt)&&(this._targetLinks.set(decodeURI(ze.hash),ze),this._observableSections.set(ze.hash,Dt))}}_process(te){this._activeTarget!==te&&(this._clearActiveClass(this._config.target),this._activeTarget=te,te.classList.add(_c),this._activateParents(te),qe.trigger(this._element,rp,{relatedTarget:te}))}_activateParents(te){if(te.classList.contains("dropdown-item"))Et.findOne(".dropdown-toggle",te.closest(".dropdown")).classList.add(_c);else for(const ze of Et.parents(te,".nav, .list-group"))for(const Dt of Et.prev(ze,of))Dt.classList.add(_c)}_clearActiveClass(te){te.classList.remove(_c);const ze=Et.find(`${Fu}.${_c}`,te);for(const Dt of ze)Dt.classList.remove(_c)}static jQueryInterface(te){return this.each(function(){const ze=cl.getOrCreateInstance(this,te);if("string"==typeof te){if(void 0===ze[te]||te.startsWith("_")||"constructor"===te)throw new TypeError(`No method named "${te}"`);ze[te]()}})}}qe.on(window,go,()=>{for(const ht of Et.find('[data-bs-spy="scroll"]'))cl.getOrCreateInstance(ht)}),Ce(cl);const ul=".bs.tab",os=`hide${ul}`,Vu=`hidden${ul}`,Jc=`show${ul}`,Eh=`shown${ul}`,eu=`click${ul}`,bo=`keydown${ul}`,ma=`load${ul}`,Zs="ArrowLeft",Oa="ArrowRight",op="ArrowUp",Hu="ArrowDown",Jl="Home",Gi="End",ea="active",Ih="show",Wu=".dropdown-toggle",ju=`:not(${Wu})`,Yu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Oh=`.nav-link${ju}, .list-group-item${ju}, [role="tab"]${ju}, ${Yu}`,oo=`.${ea}[data-bs-toggle="tab"], .${ea}[data-bs-toggle="pill"], .${ea}[data-bs-toggle="list"]`;class ri extends jt{constructor(te){super(te),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),qe.on(this._element,bo,ze=>this._keydown(ze)))}static get NAME(){return"tab"}show(){const te=this._element;if(this._elemIsActive(te))return;const ze=this._getActiveElem(),Dt=ze?qe.trigger(ze,os,{relatedTarget:te}):null;qe.trigger(te,Jc,{relatedTarget:ze}).defaultPrevented||Dt&&Dt.defaultPrevented||(this._deactivate(ze,te),this._activate(te,ze))}_activate(te,ze){te&&(te.classList.add(ea),this._activate(Et.getElementFromSelector(te)),this._queueCallback(()=>{"tab"===te.getAttribute("role")?(te.removeAttribute("tabindex"),te.setAttribute("aria-selected",!0),this._toggleDropDown(te,!0),qe.trigger(te,Eh,{relatedTarget:ze})):te.classList.add(Ih)},te,te.classList.contains("fade")))}_deactivate(te,ze){te&&(te.classList.remove(ea),te.blur(),this._deactivate(Et.getElementFromSelector(te)),this._queueCallback(()=>{"tab"===te.getAttribute("role")?(te.setAttribute("aria-selected",!1),te.setAttribute("tabindex","-1"),this._toggleDropDown(te,!1),qe.trigger(te,Vu,{relatedTarget:ze})):te.classList.remove(Ih)},te,te.classList.contains("fade")))}_keydown(te){if(![Zs,Oa,op,Hu,Jl,Gi].includes(te.key))return;te.stopPropagation(),te.preventDefault();const ze=this._getChildren().filter(yn=>!Ve(yn));let Dt;if([Jl,Gi].includes(te.key))Dt=ze[te.key===Jl?0:ze.length-1];else{const yn=[Oa,Hu].includes(te.key);Dt=Ae(ze,te.target,yn,!0)}Dt&&(Dt.focus({preventScroll:!0}),ri.getOrCreateInstance(Dt).show())}_getChildren(){return Et.find(Oh,this._parent)}_getActiveElem(){return this._getChildren().find(te=>this._elemIsActive(te))||null}_setInitialAttributes(te,ze){this._setAttributeIfNotExists(te,"role","tablist");for(const Dt of ze)this._setInitialAttributesOnChild(Dt)}_setInitialAttributesOnChild(te){te=this._getInnerElement(te);const ze=this._elemIsActive(te),Dt=this._getOuterElement(te);te.setAttribute("aria-selected",ze),Dt!==te&&this._setAttributeIfNotExists(Dt,"role","presentation"),ze||te.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(te,"role","tab"),this._setInitialAttributesOnTargetPanel(te)}_setInitialAttributesOnTargetPanel(te){const ze=Et.getElementFromSelector(te);ze&&(this._setAttributeIfNotExists(ze,"role","tabpanel"),te.id&&this._setAttributeIfNotExists(ze,"aria-labelledby",`${te.id}`))}_toggleDropDown(te,ze){const Dt=this._getOuterElement(te);if(!Dt.classList.contains("dropdown"))return;const yn=(dn,Ln)=>{const ii=Et.findOne(dn,Dt);ii&&ii.classList.toggle(Ln,ze)};yn(Wu,ea),yn(".dropdown-menu",Ih),Dt.setAttribute("aria-expanded",ze)}_setAttributeIfNotExists(te,ze,Dt){te.hasAttribute(ze)||te.setAttribute(ze,Dt)}_elemIsActive(te){return te.classList.contains(ea)}_getInnerElement(te){return te.matches(Oh)?te:Et.findOne(Oh,te)}_getOuterElement(te){return te.closest(".nav-item, .list-group-item")||te}static jQueryInterface(te){return this.each(function(){const ze=ri.getOrCreateInstance(this);if("string"==typeof te){if(void 0===ze[te]||te.startsWith("_")||"constructor"===te)throw new TypeError(`No method named "${te}"`);ze[te]()}})}}qe.on(document,eu,Yu,function(ht){["A","AREA"].includes(this.tagName)&&ht.preventDefault(),Ve(this)||ri.getOrCreateInstance(this).show()}),qe.on(window,ma,()=>{for(const ht of Et.find(oo))ri.getOrCreateInstance(ht)}),Ce(ri);const lo=".bs.toast",as=`mouseover${lo}`,zl=`mouseout${lo}`,af=`focusin${lo}`,ap=`focusout${lo}`,sf=`hide${lo}`,Nv=`hidden${lo}`,zs=`show${lo}`,Gu=`shown${lo}`,sp="show",Wo="showing",lf={animation:"boolean",autohide:"boolean",delay:"number"},Dh={animation:!0,autohide:!0,delay:5e3};class Cs extends jt{constructor(te,ze){super(te,ze),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Dh}static get DefaultType(){return lf}static get NAME(){return"toast"}show(){qe.trigger(this._element,zs).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(sp,Wo),this._queueCallback(()=>{this._element.classList.remove(Wo),qe.trigger(this._element,Gu),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(qe.trigger(this._element,sf).defaultPrevented||(this._element.classList.add(Wo),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Wo,sp),qe.trigger(this._element,Nv)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(sp),super.dispose()}isShown(){return this._element.classList.contains(sp)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(te,ze){switch(te.type){case"mouseover":case"mouseout":this._hasMouseInteraction=ze;break;case"focusin":case"focusout":this._hasKeyboardInteraction=ze}if(ze)return void this._clearTimeout();const Dt=te.relatedTarget;this._element===Dt||this._element.contains(Dt)||this._maybeScheduleHide()}_setListeners(){qe.on(this._element,as,te=>this._onInteraction(te,!0)),qe.on(this._element,zl,te=>this._onInteraction(te,!1)),qe.on(this._element,af,te=>this._onInteraction(te,!0)),qe.on(this._element,ap,te=>this._onInteraction(te,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(te){return this.each(function(){const ze=Cs.getOrCreateInstance(this,te);if("string"==typeof te){if(void 0===ze[te])throw new TypeError(`No method named "${te}"`);ze[te](this)}})}}return xn(Cs),Ce(Cs),{Alert:xr,Button:hi,Carousel:Qn,Collapse:Sr,Dropdown:ws,Modal:Ll,Offcanvas:Xa,Popover:Ql,ScrollSpy:cl,Tab:ri,Toast:Cs,Tooltip:Rl}}),function(Kt,Ze){"object"==typeof exports&&typeof module<"u"?module.exports=Ze():"function"==typeof define&&define.amd?define(Ze):(Kt=typeof globalThis<"u"?globalThis:Kt||self).ApexCharts=Ze()}(this,function(){"use strict";function Kt(We,h){var d=Object.keys(We);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(We);h&&(v=v.filter(function(S){return Object.getOwnPropertyDescriptor(We,S).enumerable})),d.push.apply(d,v)}return d}function Ze(We){for(var h=1;h<arguments.length;h++){var d=null!=arguments[h]?arguments[h]:{};h%2?Kt(Object(d),!0).forEach(function(v){gt(We,v,d[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(d)):Kt(Object(d)).forEach(function(v){Object.defineProperty(We,v,Object.getOwnPropertyDescriptor(d,v))})}return We}function Oe(We){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(We)}function it(We,h){if(!(We instanceof h))throw new TypeError("Cannot call a class as a function")}function Nt(We,h){for(var d=0;d<h.length;d++){var v=h[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(We,v.key,v)}}function nt(We,h,d){return h&&Nt(We.prototype,h),d&&Nt(We,d),We}function gt(We,h,d){return h in We?Object.defineProperty(We,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):We[h]=d,We}function et(We,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");We.prototype=Object.create(h&&h.prototype,{constructor:{value:We,writable:!0,configurable:!0}}),h&&ye(We,h)}function Ve(We){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(We)}function ye(We,h){return(ye=Object.setPrototypeOf||function(d,v){return d.__proto__=v,d})(We,h)}function ge(We){if(void 0===We)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We}function we(We){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,v=Ve(We);if(h){var S=Ve(this).constructor;d=Reflect.construct(v,arguments,S)}else d=v.apply(this,arguments);return function(T,I){if(I&&("object"==typeof I||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return ge(T)}(this,d)}}function ve(We,h){return function(d){if(Array.isArray(d))return d}(We)||function(d,v){var S=null==d?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(null!=S){var T,I,N=[],V=!0,G=!1;try{for(S=S.call(d);!(V=(T=S.next()).done)&&(N.push(T.value),!v||N.length!==v);V=!0);}catch(K){G=!0,I=K}finally{try{V||null==S.return||S.return()}finally{if(G)throw I}}return N}}(We,h)||Ie(We,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(We){return function(h){if(Array.isArray(h))return Ce(h)}(We)||function(h){if(typeof Symbol<"u"&&null!=h[Symbol.iterator]||null!=h["@@iterator"])return Array.from(h)}(We)||Ie(We)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(We,h){if(We){if("string"==typeof We)return Ce(We,h);var d=Object.prototype.toString.call(We).slice(8,-1);return"Object"===d&&We.constructor&&(d=We.constructor.name),"Map"===d||"Set"===d?Array.from(We):"Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Ce(We,h):void 0}}function Ce(We,h){(null==h||h>We.length)&&(h=We.length);for(var d=0,v=new Array(h);d<h;d++)v[d]=We[d];return v}var de=function(){function We(){it(this,We)}return nt(We,[{key:"shadeRGBColor",value:function(h,d){var v=d.split(","),S=h<0?0:255,T=h<0?-1*h:h,I=parseInt(v[0].slice(4),10),N=parseInt(v[1],10),V=parseInt(v[2],10);return"rgb("+(Math.round((S-I)*T)+I)+","+(Math.round((S-N)*T)+N)+","+(Math.round((S-V)*T)+V)+")"}},{key:"shadeHexColor",value:function(h,d){var v=parseInt(d.slice(1),16),S=h<0?0:255,T=h<0?-1*h:h,I=v>>16,N=v>>8&255,V=255&v;return"#"+(16777216+65536*(Math.round((S-I)*T)+I)+256*(Math.round((S-N)*T)+N)+(Math.round((S-V)*T)+V)).toString(16).slice(1)}},{key:"shadeColor",value:function(h,d){return We.isColorHex(d)?this.shadeHexColor(h,d):this.shadeRGBColor(h,d)}}],[{key:"bind",value:function(h,d){return function(){return h.apply(d,arguments)}}},{key:"isObject",value:function(h){return h&&"object"===Oe(h)&&!Array.isArray(h)&&null!=h}},{key:"is",value:function(h,d){return Object.prototype.toString.call(d)==="[object "+h+"]"}},{key:"listToArray",value:function(h){var d,v=[];for(d=0;d<h.length;d++)v[d]=h[d];return v}},{key:"extend",value:function(h,d){var v=this;"function"!=typeof Object.assign&&(Object.assign=function(T){if(null==T)throw new TypeError("Cannot convert undefined or null to object");for(var I=Object(T),N=1;N<arguments.length;N++){var V=arguments[N];if(null!=V)for(var G in V)V.hasOwnProperty(G)&&(I[G]=V[G])}return I});var S=Object.assign({},h);return this.isObject(h)&&this.isObject(d)&&Object.keys(d).forEach(function(T){v.isObject(d[T])&&T in h?S[T]=v.extend(h[T],d[T]):Object.assign(S,gt({},T,d[T]))}),S}},{key:"extendArray",value:function(h,d){var v=[];return h.map(function(S){v.push(We.extend(d,S))}),v}},{key:"monthMod",value:function(h){return h%12}},{key:"clone",value:function(h){if(We.is("Array",h)){for(var d=[],v=0;v<h.length;v++)d[v]=this.clone(h[v]);return d}if(We.is("Null",h))return null;if(We.is("Date",h))return h;if("object"===Oe(h)){var S={};for(var T in h)h.hasOwnProperty(T)&&(S[T]=this.clone(h[T]));return S}return h}},{key:"log10",value:function(h){return Math.log(h)/Math.LN10}},{key:"roundToBase10",value:function(h){return Math.pow(10,Math.floor(Math.log10(h)))}},{key:"roundToBase",value:function(h,d){return Math.pow(d,Math.floor(Math.log(h)/Math.log(d)))}},{key:"parseNumber",value:function(h){return null===h?h:parseFloat(h)}},{key:"stripNumber",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(h)?h:parseFloat(h.toPrecision(d))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(h){var d=String(h).split(/[eE]/);if(1===d.length)return d[0];var v="",S=h<0?"-":"",T=d[0].replace(".",""),I=Number(d[1])+1;if(I<0){for(v=S+"0.";I++;)v+="0";return v+T.replace(/^-/,"")}for(I-=T.length;I--;)v+="0";return T+v}},{key:"getDimensions",value:function(h){var d=getComputedStyle(h,null),v=h.clientHeight,S=h.clientWidth;return v-=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),[S-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),v]}},{key:"getBoundingClientRect",value:function(h){var d=h.getBoundingClientRect();return{top:d.top,right:d.right,bottom:d.bottom,left:d.left,width:h.clientWidth,height:h.clientHeight,x:d.left,y:d.top}}},{key:"getLargestStringFromArr",value:function(h){return h.reduce(function(d,v){return Array.isArray(v)&&(v=v.reduce(function(S,T){return S.length>T.length?S:T})),d.length>v.length?d:v},0)}},{key:"hexToRgba",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==h.substring(0,1)&&(h="#999999");var v=h.replace("#","");v=v.match(new RegExp("(.{"+v.length/3+"})","g"));for(var S=0;S<v.length;S++)v[S]=parseInt(1===v[S].length?v[S]+v[S]:v[S],16);return void 0!==d&&v.push(d),"rgba("+v.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(h){return parseFloat(h.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(h){return(h=h.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===h.length?"#"+("0"+parseInt(h[1],10).toString(16)).slice(-2)+("0"+parseInt(h[2],10).toString(16)).slice(-2)+("0"+parseInt(h[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(h){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(h)}},{key:"getPolygonPos",value:function(h,d){for(var v=[],S=2*Math.PI/d,T=0;T<d;T++){var I={};I.x=h*Math.sin(T*S),I.y=-h*Math.cos(T*S),v.push(I)}return v}},{key:"polarToCartesian",value:function(h,d,v,S){var T=(S-90)*Math.PI/180;return{x:h+v*Math.cos(T),y:d+v*Math.sin(T)}}},{key:"escapeString",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return h.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,d)}},{key:"negToZero",value:function(h){return h<0?0:h}},{key:"moveIndexInArray",value:function(h,d,v){if(v>=h.length)for(var S=v-h.length+1;S--;)h.push(void 0);return h.splice(v,0,h.splice(d,1)[0]),h}},{key:"extractNumber",value:function(h){return parseFloat(h.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(h,d){for(;(h=h.parentElement)&&!h.classList.contains(d););return h}},{key:"setELstyles",value:function(h,d){for(var v in d)d.hasOwnProperty(v)&&(h.style.key=d[v])}},{key:"isNumber",value:function(h){return!isNaN(h)&&parseFloat(Number(h))===h&&!isNaN(parseInt(h,10))}},{key:"isFloat",value:function(h){return Number(h)===h&&h%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var h=window.navigator.userAgent,d=h.indexOf("MSIE ");if(d>0)return parseInt(h.substring(d+5,h.indexOf(".",d)),10);if(h.indexOf("Trident/")>0){var v=h.indexOf("rv:");return parseInt(h.substring(v+3,h.indexOf(".",v)),10)}var S=h.indexOf("Edge/");return S>0&&parseInt(h.substring(S+5,h.indexOf(".",S)),10)}},{key:"getGCD",value:function(h,d){var S=Math.pow(10,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)-Math.floor(Math.log10(Math.max(h,d))));for(h=Math.round(Math.abs(h)*S),d=Math.round(Math.abs(d)*S);d;){var T=d;d=h%d,h=T}return h/S}},{key:"getPrimeFactors",value:function(h){for(var d=[],v=2;h>=2;)h%v==0?(d.push(v),h/=v):v++;return d}},{key:"mod",value:function(h,d){var S=Math.pow(10,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)-Math.floor(Math.log10(Math.max(h,d))));return(h=Math.round(Math.abs(h)*S))%(d=Math.round(Math.abs(d)*S))/S}}]),We}(),ot=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.setEasingFunctions()}return nt(We,[{key:"setEasingFunctions",value:function(){var h;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":h="-";break;case"easein":h="<";break;case"easeout":h=">";break;case"easeinout":default:h="<>";break;case"swing":h=function(d){var v=1.70158;return(d-=1)*d*((v+1)*d+v)+1};break;case"bounce":h=function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375};break;case"elastic":h=function(d){return d===!!d?d:Math.pow(2,-10*d)*Math.sin((d-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=h}}},{key:"animateLine",value:function(h,d,v,S){h.attr(d).animate(S).attr(v)}},{key:"animateMarker",value:function(h,d,v,S,T,I){d||(d=0),h.attr({r:d,width:d,height:d}).animate(S,T).attr({r:v,width:v.width,height:v.height}).afterAll(function(){I()})}},{key:"animateCircle",value:function(h,d,v,S,T){h.attr({r:d.r,cx:d.cx,cy:d.cy}).animate(S,T).attr({r:v.r,cx:v.cx,cy:v.cy})}},{key:"animateRect",value:function(h,d,v,S,T){h.attr(d).animate(S).attr(v).afterAll(function(){return T()})}},{key:"animatePathsGradually",value:function(h){var K=this.w,J=0;K.config.chart.animations.animateGradually.enabled&&(J=K.config.chart.animations.animateGradually.delay),K.config.chart.animations.dynamicAnimation.enabled&&K.globals.dataChanged&&"bar"!==K.config.chart.type&&(J=0),this.morphSVG(h.el,h.realIndex,h.j,"line"!==K.config.chart.type||K.globals.comboCharts?h.fill:"stroke",h.pathFrom,h.pathTo,h.speed,h.delay*J)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(h){var d=h.el;d.classList.remove("apexcharts-element-hidden"),d.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(h){var d=this.w;d.globals.animationEnded||(d.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof d.config.chart.events.animationEnd&&d.config.chart.events.animationEnd(this.ctx,{el:h,w:d}))}},{key:"morphSVG",value:function(h,d,v,S,T,I,N,V){var G=this,K=this.w;T||(T=h.attr("pathFrom")),I||(I=h.attr("pathTo"));var J=function(ie){return"radar"===K.config.chart.type&&(N=1),"M 0 ".concat(K.globals.gridHeight)};(!T||T.indexOf("undefined")>-1||T.indexOf("NaN")>-1)&&(T=J()),(!I||I.indexOf("undefined")>-1||I.indexOf("NaN")>-1)&&(I=J()),K.globals.shouldAnimate||(N=1),h.plot(T).animate(1,K.globals.easing,V).plot(T).animate(N,K.globals.easing,V).plot(I).afterAll(function(){de.isNumber(v)?v===K.globals.series[K.globals.maxValsInArrayIndex].length-2&&K.globals.shouldAnimate&&G.animationCompleted(h):"none"!==S&&K.globals.shouldAnimate&&(!K.globals.comboCharts&&d===K.globals.series.length-1||K.globals.comboCharts)&&G.animationCompleted(h),G.showDelayedElements()})}}]),We}(),Ae=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"getDefaultFilter",value:function(h,d){var v=this.w;h.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==v.config.states.normal.filter?this.applyFilter(h,d,v.config.states.normal.filter.type,v.config.states.normal.filter.value):v.config.chart.dropShadow.enabled&&this.dropShadow(h,v.config.chart.dropShadow,d)}},{key:"addNormalFilter",value:function(h,d){var v=this.w;v.config.chart.dropShadow.enabled&&!h.node.classList.contains("apexcharts-marker")&&this.dropShadow(h,v.config.chart.dropShadow,d)}},{key:"addLightenFilter",value:function(h,d,v){var S=this,T=this.w,I=v.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(N){var V=T.config.chart.dropShadow;(V.enabled?S.addShadow(N,d,V):N).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:I}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"addDarkenFilter",value:function(h,d,v){var S=this,T=this.w,I=v.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(N){var V=T.config.chart.dropShadow;(V.enabled?S.addShadow(N,d,V):N).componentTransfer({rgb:{type:"linear",slope:I}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"applyFilter",value:function(h,d,v){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(v){case"none":this.addNormalFilter(h,d);break;case"lighten":this.addLightenFilter(h,d,{intensity:S});break;case"darken":this.addDarkenFilter(h,d,{intensity:S})}}},{key:"addShadow",value:function(h,d,v){var S,T=this.w,I=v.blur,N=v.top,V=v.left,G=v.color,K=v.opacity;if((null===(S=T.config.chart.dropShadow.enabledOnSeries)||void 0===S?void 0:S.length)>0&&-1===T.config.chart.dropShadow.enabledOnSeries.indexOf(d))return h;var J=h.flood(Array.isArray(G)?G[d]:G,K).composite(h.sourceAlpha,"in").offset(V,N).gaussianBlur(I).merge(h.source);return h.blend(h.source,J)}},{key:"dropShadow",value:function(h,d){var v,S,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,I=d.top,N=d.left,V=d.blur,G=d.color,K=d.opacity,J=d.noUserSpaceOnUse,ie=this.w;return h.unfilter(!0),de.isIE()&&"radialBar"===ie.config.chart.type||(null===(v=ie.config.chart.dropShadow.enabledOnSeries)||void 0===v?void 0:v.length)>0&&-1===(null===(S=ie.config.chart.dropShadow.enabledOnSeries)||void 0===S?void 0:S.indexOf(T))||(G=Array.isArray(G)?G[T]:G,h.filter(function(fe){var Se;Se=de.isSafari()||de.isFirefox()||de.isIE()?fe.flood(G,K).composite(fe.sourceAlpha,"in").offset(N,I).gaussianBlur(V):fe.flood(G,K).composite(fe.sourceAlpha,"in").offset(N,I).gaussianBlur(V).merge(fe.source),fe.blend(fe.source,Se)}),J||h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)),h}},{key:"setSelectionFilter",value:function(h,d,v){var S=this.w;if(void 0!==S.globals.selectedDataPoints[d]&&S.globals.selectedDataPoints[d].indexOf(v)>-1){h.node.setAttribute("selected",!0);var T=S.config.states.active.filter;"none"!==T&&this.applyFilter(h,d,T.type,T.value)}}},{key:"_scaleFilterSize",value:function(h){!function(d){for(var v in d)d.hasOwnProperty(v)&&h.setAttribute(v,d[v])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),We}(),je=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"roundPathCorners",value:function(h,d){function v(kt,Xt,qt){var Sn=Xt.x-kt.x,Mn=Xt.y-kt.y,Cn=Math.sqrt(Sn*Sn+Mn*Mn);return S(kt,Xt,Math.min(1,qt/Cn))}function S(kt,Xt,qt){return{x:kt.x+(Xt.x-kt.x)*qt,y:kt.y+(Xt.y-kt.y)*qt}}function T(kt,Xt){kt.length>2&&(kt[kt.length-2]=Xt.x,kt[kt.length-1]=Xt.y)}function I(kt){return{x:parseFloat(kt[kt.length-2]),y:parseFloat(kt[kt.length-1])}}h.indexOf("NaN")>-1&&(h="");var N=h.split(/[,\s]/).reduce(function(kt,Xt){var qt=Xt.match("([a-zA-Z])(.+)");return qt?(kt.push(qt[1]),kt.push(qt[2])):kt.push(Xt),kt},[]).reduce(function(kt,Xt){return parseFloat(Xt)==Xt&&kt.length?kt[kt.length-1].push(Xt):kt.push([Xt]),kt},[]),V=[];if(N.length>1){var G=I(N[0]),K=null;"Z"==N[N.length-1][0]&&N[0].length>2&&(N[N.length-1]=K=["L",G.x,G.y]),V.push(N[0]);for(var J=1;J<N.length;J++){var ie=V[V.length-1],fe=N[J],Se=fe==K?N[1]:N[J+1];if(Se&&ie&&ie.length>2&&"L"==fe[0]&&Se.length>2&&"L"==Se[0]){var Le,Fe,tt=I(ie),vt=I(fe),W=I(Se);Le=v(vt,tt,d),Fe=v(vt,W,d),T(fe,Le),fe.origPoint=vt,V.push(fe);var ae=S(Le,vt,.5),De=S(vt,Fe,.5),Ue=["C",ae.x,ae.y,De.x,De.y,Fe.x,Fe.y];Ue.origPoint=vt,V.push(Ue)}else V.push(fe)}if(K){var dt=I(V[V.length-1]);V.push(["Z"]),T(V[0],dt)}}else V=N;return V.reduce(function(kt,Xt){return kt+Xt.join(" ")+" "},"")}},{key:"drawLine",value:function(h,d,v,S){var T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,V=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:h,y1:d,x2:v,y2:S,stroke:T,"stroke-dasharray":I,"stroke-width":N,"stroke-linecap":V})}},{key:"drawRect",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,V=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,G=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,K=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,J=this.w.globals.dom.Paper.rect();return J.attr({x:h,y:d,width:v>0?v:0,height:S>0?S:0,rx:T,ry:T,opacity:N,"stroke-width":null!==V?V:0,stroke:null!==G?G:"none","stroke-dasharray":K}),J.node.setAttribute("fill",I),J}},{key:"drawPolygon",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(h).attr({fill:S,stroke:d,"stroke-width":v})}},{key:"drawCircle",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;h<0&&(h=0);var v=this.w.globals.dom.Paper.circle(2*h);return null!==d&&v.attr(d),v}},{key:"drawPath",value:function(h){var d=h.d,v=void 0===d?"":d,S=h.stroke,T=void 0===S?"#a8a8a8":S,I=h.strokeWidth,N=void 0===I?1:I,V=h.fill,G=h.fillOpacity,K=void 0===G?1:G,J=h.strokeOpacity,ie=void 0===J?1:J,fe=h.classes,Se=h.strokeLinecap,Le=void 0===Se?null:Se,Fe=h.strokeDashArray,tt=void 0===Fe?0:Fe,vt=this.w;return null===Le&&(Le=vt.config.stroke.lineCap),(v.indexOf("undefined")>-1||v.indexOf("NaN")>-1)&&(v="M 0 ".concat(vt.globals.gridHeight)),vt.globals.dom.Paper.path(v).attr({fill:V,"fill-opacity":K,stroke:T,"stroke-opacity":ie,"stroke-linecap":Le,"stroke-width":N,"stroke-dasharray":tt,class:fe})}},{key:"group",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=this.w.globals.dom.Paper.group();return null!==h&&d.attr(h),d}},{key:"move",value:function(h,d){return["M",h,d].join(" ")}},{key:"line",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=null;return null===v?S=[" L",h,d].join(" "):"H"===v?S=[" H",h].join(" "):"V"===v&&(S=[" V",d].join(" ")),S}},{key:"curve",value:function(h,d,v,S,T,I){return["C",h,d,v,S,T,I].join(" ")}},{key:"quadraticCurve",value:function(h,d,v,S){return["Q",h,d,v,S].join(" ")}},{key:"arc",value:function(h,d,v,S,T,I,N){var V="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(V="a"),[V,h,d,v,S,T,I,N].join(" ")}},{key:"renderPaths",value:function(h){var d,v=h.j,S=h.realIndex,T=h.pathFrom,I=h.pathTo,N=h.stroke,V=h.strokeWidth,G=h.strokeLinecap,K=h.fill,J=h.animationDelay,ie=h.initialSpeed,fe=h.dataChangeSpeed,Se=h.className,Le=h.shouldClipToGrid,Fe=void 0===Le||Le,tt=h.bindEventsOnPaths,vt=void 0===tt||tt,W=h.drawShadow,ae=void 0===W||W,De=this.w,Ue=new Ae(this.ctx),dt=new ot(this.ctx),kt=this.w.config.chart.animations.enabled,Xt=kt&&this.w.config.chart.animations.dynamicAnimation.enabled,qt=!!(kt&&!De.globals.resized||Xt&&De.globals.dataChanged&&De.globals.shouldAnimate);qt?d=T:(d=I,De.globals.animationEnded=!0);var Mn,Sn=De.config.stroke.dashArray;Mn=Array.isArray(Sn)?Sn[S]:De.config.stroke.dashArray;var Cn=this.drawPath({d,stroke:N,strokeWidth:V,fill:K,fillOpacity:1,classes:Se,strokeLinecap:G,strokeDashArray:Mn});Cn.attr("index",S),Fe&&Cn.attr({"clip-path":"url(#gridRectMask".concat(De.globals.cuid,")")}),"none"!==De.config.states.normal.filter.type?Ue.getDefaultFilter(Cn,S):De.config.chart.dropShadow.enabled&&ae&&Ue.dropShadow(Cn,De.config.chart.dropShadow,S),vt&&(Cn.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Cn)),Cn.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Cn)),Cn.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Cn))),Cn.attr({pathTo:I,pathFrom:T});var Ei={el:Cn,j:v,realIndex:S,pathFrom:T,pathTo:I,fill:K,strokeWidth:V,delay:J};return!kt||De.globals.resized||De.globals.dataChanged?!De.globals.resized&&De.globals.dataChanged||dt.showDelayedElements():dt.animatePathsGradually(Ze(Ze({},Ei),{},{speed:ie})),De.globals.dataChanged&&Xt&&qt&&dt.animatePathsGradually(Ze(Ze({},Ei),{},{speed:fe})),Cn}},{key:"drawPattern",value:function(h,d,v){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(d,v,function(I){"horizontalLines"===h?I.line(0,0,v,0).stroke({color:S,width:T+1}):"verticalLines"===h?I.line(0,0,0,d).stroke({color:S,width:T+1}):"slantedLines"===h?I.line(0,0,d,v).stroke({color:S,width:T}):"squares"===h?I.rect(d,v).fill("none").stroke({color:S,width:T}):"circles"===h&&I.circle(d).fill("none").stroke({color:S,width:T})})}},{key:"drawGradient",value:function(h,d,v,S,T){var I,N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,V=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,G=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,J=this.w;d.length<9&&0===d.indexOf("#")&&(d=de.hexToRgba(d,S)),v.length<9&&0===v.indexOf("#")&&(v=de.hexToRgba(v,T));var ie=0,fe=1,Se=1,Le=null;null!==V&&(ie=void 0!==V[0]?V[0]/100:0,fe=void 0!==V[1]?V[1]/100:1,Se=void 0!==V[2]?V[2]/100:1,Le=void 0!==V[3]?V[3]/100:null);var Fe=!("donut"!==J.config.chart.type&&"pie"!==J.config.chart.type&&"polarArea"!==J.config.chart.type&&"bubble"!==J.config.chart.type);return I=J.globals.dom.Paper.gradient(Fe?"radial":"linear",null===G||0===G.length?function(W){W.at(ie,d,S),W.at(fe,v,T),W.at(Se,v,T),null!==Le&&W.at(Le,d,S)}:function(W){(Array.isArray(G[K])?G[K]:G).forEach(function(ae){W.at(ae.offset/100,ae.color,ae.opacity)})}),Fe?I.attr("bubble"!==J.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:J.globals.gridWidth/2,cy:J.globals.gridHeight/2,r:N}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===h?I.from(0,0).to(0,1):"diagonal"===h?I.from(0,0).to(1,1):"horizontal"===h?I.from(0,1).to(1,1):"diagonal2"===h&&I.from(1,0).to(0,1),I}},{key:"getTextBasedOnMaxWidth",value:function(h){var d=h.text,v=h.maxWidth,I=this.getTextRects(d,h.fontSize,h.fontFamily),V=Math.floor(v/(I.width/d.length));return v<I.width?d.slice(0,V-3)+"...":d}},{key:"drawText",value:function(h){var d=this,v=h.x,S=h.y,T=h.text,I=h.textAnchor,N=h.fontSize,V=h.fontFamily,G=h.fontWeight,K=h.foreColor,J=h.opacity,ie=h.maxWidth,fe=h.cssClass,Se=void 0===fe?"":fe,Le=h.isPlainText,Fe=void 0===Le||Le,tt=h.dominantBaseline,vt=void 0===tt?"auto":tt,W=this.w;void 0===T&&(T="");var ae=T;I||(I="start"),K&&K.length||(K=W.config.chart.foreColor),G=G||"regular";var De,Ue={maxWidth:ie,fontSize:N=N||"11px",fontFamily:V=V||W.config.chart.fontFamily};return Array.isArray(T)?De=W.globals.dom.Paper.text(function(dt){for(var kt=0;kt<T.length;kt++)ae=T[kt],ie&&(ae=d.getTextBasedOnMaxWidth(Ze({text:T[kt]},Ue))),0===kt?dt.tspan(ae):dt.tspan(ae).newLine()}):(ie&&(ae=this.getTextBasedOnMaxWidth(Ze({text:T},Ue))),De=Fe?W.globals.dom.Paper.plain(T):W.globals.dom.Paper.text(function(dt){return dt.tspan(ae)})),De.attr({x:v,y:S,"text-anchor":I,"dominant-baseline":vt,"font-size":N,"font-family":V,"font-weight":G,fill:K,class:"apexcharts-text "+Se}),De.node.style.fontFamily=V,De.node.style.opacity=J,De}},{key:"createGroupWithAttributes",value:function(h,d,v,S){var T=this.group();return v.forEach(function(I){return T.add(I)}),T.attr({class:S.class?S.class:"",cy:d,cx:h}),T}},{key:"drawPlus",value:function(h,d,v,S){var T=v/2,I=this.drawLine(h,d-T,h,d+T,S.pointStrokeColor,S.pointStrokeDashArray,S.pointStrokeWidth,S.pointStrokeLineCap),N=this.drawLine(h-T,d,h+T,d,S.pointStrokeColor,S.pointStrokeDashArray,S.pointStrokeWidth,S.pointStrokeLineCap);return this.createGroupWithAttributes(h,d,[I,N],S)}},{key:"drawX",value:function(h,d,v,S){var T=v/2,I=this.drawLine(h-T,d-T,h+T,d+T,S.pointStrokeColor,S.pointStrokeDashArray,S.pointStrokeWidth,S.pointStrokeLineCap),N=this.drawLine(h-T,d+T,h+T,d-T,S.pointStrokeColor,S.pointStrokeDashArray,S.pointStrokeWidth,S.pointStrokeLineCap);return this.createGroupWithAttributes(h,d,[I,N],S)}},{key:"drawMarker",value:function(h,d,v){h=h||0;var S=v.pSize||0,T=null;if("X"===v?.shape||"x"===v?.shape)T=this.drawX(h,d,S,v);else if("plus"===v?.shape||"+"===v?.shape)T=this.drawPlus(h,d,S,v);else if("square"===v.shape||"rect"===v.shape){var I=void 0===v.pRadius?S/2:v.pRadius;null!==d&&S||(S=0,I=0);var N=1.2*S+I,V=this.drawRect(N,N,N,N,I);V.attr({x:h-N/2,y:d-N/2,cx:h,cy:d,class:v.class?v.class:"",fill:v.pointFillColor,"fill-opacity":v.pointFillOpacity?v.pointFillOpacity:1,stroke:v.pointStrokeColor,"stroke-width":v.pointStrokeWidth?v.pointStrokeWidth:0,"stroke-opacity":v.pointStrokeOpacity?v.pointStrokeOpacity:1}),T=V}else"circle"!==v.shape&&v.shape||(de.isNumber(d)||(S=0,d=0),T=this.drawCircle(S,{cx:h,cy:d,class:v.class?v.class:"",stroke:v.pointStrokeColor,fill:v.pointFillColor,"fill-opacity":v.pointFillOpacity?v.pointFillOpacity:1,"stroke-width":v.pointStrokeWidth?v.pointStrokeWidth:0,"stroke-opacity":v.pointStrokeOpacity?v.pointStrokeOpacity:1}));return T}},{key:"pathMouseEnter",value:function(h,d){var v=this.w,S=new Ae(this.ctx),T=parseInt(h.node.getAttribute("index"),10),I=parseInt(h.node.getAttribute("j"),10);if("function"==typeof v.config.chart.events.dataPointMouseEnter&&v.config.chart.events.dataPointMouseEnter(d,this.ctx,{seriesIndex:T,dataPointIndex:I,w:v}),this.ctx.events.fireEvent("dataPointMouseEnter",[d,this.ctx,{seriesIndex:T,dataPointIndex:I,w:v}]),("none"===v.config.states.active.filter.type||"true"!==h.node.getAttribute("selected"))&&"none"!==v.config.states.hover.filter.type&&!v.globals.isTouchDevice){var N=v.config.states.hover.filter;S.applyFilter(h,T,N.type,N.value)}}},{key:"pathMouseLeave",value:function(h,d){var v=this.w,S=new Ae(this.ctx),T=parseInt(h.node.getAttribute("index"),10),I=parseInt(h.node.getAttribute("j"),10);"function"==typeof v.config.chart.events.dataPointMouseLeave&&v.config.chart.events.dataPointMouseLeave(d,this.ctx,{seriesIndex:T,dataPointIndex:I,w:v}),this.ctx.events.fireEvent("dataPointMouseLeave",[d,this.ctx,{seriesIndex:T,dataPointIndex:I,w:v}]),"none"!==v.config.states.active.filter.type&&"true"===h.node.getAttribute("selected")||"none"!==v.config.states.hover.filter.type&&S.getDefaultFilter(h,T)}},{key:"pathMouseDown",value:function(h,d){var v=this.w,S=new Ae(this.ctx),T=parseInt(h.node.getAttribute("index"),10),I=parseInt(h.node.getAttribute("j"),10),N="false";if("true"===h.node.getAttribute("selected")){if(h.node.setAttribute("selected","false"),v.globals.selectedDataPoints[T].indexOf(I)>-1){var V=v.globals.selectedDataPoints[T].indexOf(I);v.globals.selectedDataPoints[T].splice(V,1)}}else{if(!v.config.states.active.allowMultipleDataPointsSelection&&v.globals.selectedDataPoints.length>0){v.globals.selectedDataPoints=[];var G=v.globals.dom.Paper.select(".apexcharts-series path").members,K=v.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,J=function(Se){Array.prototype.forEach.call(Se,function(Le){Le.node.setAttribute("selected","false"),S.getDefaultFilter(Le,T)})};J(G),J(K)}h.node.setAttribute("selected","true"),N="true",void 0===v.globals.selectedDataPoints[T]&&(v.globals.selectedDataPoints[T]=[]),v.globals.selectedDataPoints[T].push(I)}if("true"===N){var ie=v.config.states.active.filter;if("none"!==ie)S.applyFilter(h,T,ie.type,ie.value);else if("none"!==v.config.states.hover.filter&&!v.globals.isTouchDevice){var fe=v.config.states.hover.filter;S.applyFilter(h,T,fe.type,fe.value)}}else"none"!==v.config.states.active.filter.type&&("none"===v.config.states.hover.filter.type||v.globals.isTouchDevice?S.getDefaultFilter(h,T):S.applyFilter(h,T,(fe=v.config.states.hover.filter).type,fe.value));"function"==typeof v.config.chart.events.dataPointSelection&&v.config.chart.events.dataPointSelection(d,this.ctx,{selectedDataPoints:v.globals.selectedDataPoints,seriesIndex:T,dataPointIndex:I,w:v}),d&&this.ctx.events.fireEvent("dataPointSelection",[d,this.ctx,{selectedDataPoints:v.globals.selectedDataPoints,seriesIndex:T,dataPointIndex:I,w:v}])}},{key:"rotateAroundCenter",value:function(h){var d={};return h&&"function"==typeof h.getBBox&&(d=h.getBBox()),{x:d.x+d.width/2,y:d.y+d.height/2}}},{key:"getTextRects",value:function(h,d,v,S){var T=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],I=this.w,N=this.drawText({x:-200,y:-200,text:h,textAnchor:"start",fontSize:d,fontFamily:v,foreColor:"#fff",opacity:0});S&&N.attr("transform",S),I.globals.dom.Paper.add(N);var V=N.bbox();return T||(V=N.node.getBoundingClientRect()),N.remove(),{width:V.width,height:V.height}}},{key:"placeTextWithEllipsis",value:function(h,d,v){if("function"==typeof h.getComputedTextLength&&(h.textContent=d,d.length>0&&h.getComputedTextLength()>=v/1.1)){for(var S=d.length-3;S>0;S-=3)if(h.getSubStringLength(0,S)<=v/1.1)return void(h.textContent=d.substring(0,S)+"...");h.textContent="."}}}],[{key:"setAttrs",value:function(h,d){for(var v in d)d.hasOwnProperty(v)&&h.setAttribute(v,d[v])}}]),We}(),Ke=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"getStackedSeriesTotals",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=this.w,v=[];if(0===d.globals.series.length)return v;for(var S=0;S<d.globals.series[d.globals.maxValsInArrayIndex].length;S++){for(var T=0,I=0;I<d.globals.series.length;I++)void 0!==d.globals.series[I][S]&&-1===h.indexOf(I)&&(T+=d.globals.series[I][S]);v.push(T)}return v}},{key:"getSeriesTotalByIndex",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===h?this.w.config.series.reduce(function(d,v){return d+v},0):this.w.globals.series[h].reduce(function(d,v){return d+v},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var h=this,d=this.w,v=[];return d.globals.seriesGroups.forEach(function(S){var T=[];d.config.series.forEach(function(N,V){S.indexOf(N.name)>-1&&T.push(V)});var I=d.globals.series.map(function(N,V){return-1===T.indexOf(V)?V:-1}).filter(function(N){return-1!==N});v.push(h.getStackedSeriesTotals(I))}),v}},{key:"isSeriesNull",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===h?this.w.config.series.filter(function(d){return null!==d}):this.w.config.series[h].data.filter(function(d){return null!==d})).length}},{key:"seriesHaveSameValues",value:function(h){return this.w.globals.series[h].every(function(d,v,S){return d===S[0]})}},{key:"getCategoryLabels",value:function(h){var d=this.w,v=h.slice();return d.config.xaxis.convertedCatToNumeric&&(v=h.map(function(S,T){return d.config.xaxis.labels.formatter(S-d.globals.minX+1)})),v}},{key:"getLargestSeries",value:function(){var h=this.w;h.globals.maxValsInArrayIndex=h.globals.series.map(function(d){return d.length}).indexOf(Math.max.apply(Math,h.globals.series.map(function(d){return d.length})))}},{key:"getLargestMarkerSize",value:function(){var h=this.w,d=0;return h.globals.markers.size.forEach(function(v){d=Math.max(d,v)}),h.config.markers.discrete&&h.config.markers.discrete.length&&h.config.markers.discrete.forEach(function(v){d=Math.max(d,v.size)}),d>0&&(d+=h.config.markers.hover.sizeOffset+1),h.globals.markers.largestSize=d,d}},{key:"getSeriesTotals",value:function(){var h=this.w;h.globals.seriesTotals=h.globals.series.map(function(d,v){var S=0;if(Array.isArray(d))for(var T=0;T<d.length;T++)S+=d[T];else S+=d;return S})}},{key:"getSeriesTotalsXRange",value:function(h,d){var v=this.w;return v.globals.series.map(function(S,T){for(var I=0,N=0;N<S.length;N++)v.globals.seriesX[T][N]>h&&v.globals.seriesX[T][N]<d&&(I+=S[N]);return I})}},{key:"getPercentSeries",value:function(){var h=this.w;h.globals.seriesPercent=h.globals.series.map(function(d,v){var S=[];if(Array.isArray(d))for(var T=0;T<d.length;T++){var I=h.globals.stackedSeriesTotals[T],N=0;I&&(N=100*d[T]/I),S.push(N)}else{var V=100*d/h.globals.seriesTotals.reduce(function(G,K){return G+K},0);S.push(V)}return S})}},{key:"getCalculatedRatios",value:function(){var h,d,v,S=this.w.globals,T=[],I=0,N=[],V=.1,G=0;if(S.yRange=[],S.isMultipleYAxis)for(var K=0;K<S.minYArr.length;K++)S.yRange.push(Math.abs(S.minYArr[K]-S.maxYArr[K])),N.push(0);else S.yRange.push(Math.abs(S.minY-S.maxY));S.xRange=Math.abs(S.maxX-S.minX),S.zRange=Math.abs(S.maxZ-S.minZ);for(var J=0;J<S.yRange.length;J++)T.push(S.yRange[J]/S.gridHeight);if(d=S.xRange/S.gridWidth,h=S.yRange/S.gridWidth,v=S.xRange/S.gridHeight,(I=S.zRange/S.gridHeight*16)||(I=1),S.minY!==Number.MIN_VALUE&&0!==Math.abs(S.minY)&&(S.hasNegs=!0),S.isMultipleYAxis){N=[];for(var ie=0;ie<T.length;ie++)N.push(-S.minYArr[ie]/T[ie])}else N.push(-S.minY/T[0]),S.minY!==Number.MIN_VALUE&&0!==Math.abs(S.minY)&&(V=-S.minY/h,G=S.minX/d);return{yRatio:T,invertedYRatio:h,zRatio:I,xRatio:d,invertedXRatio:v,baseLineInvertedY:V,baseLineY:N,baseLineX:G}}},{key:"getLogSeries",value:function(h){var d=this,v=this.w;return v.globals.seriesLog=h.map(function(S,T){return v.config.yaxis[T]&&v.config.yaxis[T].logarithmic?S.map(function(I){return null===I?null:d.getLogVal(v.config.yaxis[T].logBase,I,T)}):S}),v.globals.invalidLogScale?h:v.globals.seriesLog}},{key:"getBaseLog",value:function(h,d){return Math.log(d)/Math.log(h)}},{key:"getLogVal",value:function(h,d,v){if(0===d)return 0;var S=this.w,T=0===S.globals.minYArr[v]?-1:this.getBaseLog(h,S.globals.minYArr[v]),I=(0===S.globals.maxYArr[v]?0:this.getBaseLog(h,S.globals.maxYArr[v]))-T;return d<1?d/I:(this.getBaseLog(h,d)-T)/I}},{key:"getLogYRatios",value:function(h){var d=this,v=this.w,S=this.w.globals;return S.yLogRatio=h.slice(),S.logYRange=S.yRange.map(function(T,I){if(v.config.yaxis[I]&&d.w.config.yaxis[I].logarithmic){var N,V=-Number.MAX_VALUE,G=Number.MIN_VALUE;return S.seriesLog.forEach(function(K,J){K.forEach(function(ie){v.config.yaxis[J]&&v.config.yaxis[J].logarithmic&&(V=Math.max(ie,V),G=Math.min(ie,G))})}),N=Math.pow(S.yRange[I],Math.abs(G-V)/S.yRange[I]),S.yLogRatio[I]=N/S.gridHeight,N}}),S.invalidLogScale?h.slice():S.yLogRatio}}],[{key:"checkComboSeries",value:function(h){var d=!1,v=0,S=0;return h.length&&void 0!==h[0].type&&h.forEach(function(T){"bar"!==T.type&&"column"!==T.type&&"candlestick"!==T.type&&"boxPlot"!==T.type||v++,void 0!==T.type&&S++}),S>0&&(d=!0),{comboBarCount:v,comboCharts:d}}},{key:"extendArrayProps",value:function(h,d,v){return d.yaxis&&(d=h.extendYAxis(d,v)),d.annotations&&(d.annotations.yaxis&&(d=h.extendYAxisAnnotations(d)),d.annotations.xaxis&&(d=h.extendXAxisAnnotations(d)),d.annotations.points&&(d=h.extendPointAnnotations(d))),d}}]),We}(),yt=function(){function We(h){it(this,We),this.w=h.w,this.annoCtx=h}return nt(We,[{key:"setOrientations",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===h.label.orientation){var T=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==d?d:0,"']"));if(null!==T){var I=T.getBoundingClientRect();T.setAttribute("x",parseFloat(T.getAttribute("x"))-I.height+4),T.setAttribute("y","top"===h.label.position?parseFloat(T.getAttribute("y"))+I.width:parseFloat(T.getAttribute("y"))-I.width);var N=this.annoCtx.graphics.rotateAroundCenter(T),G=N.y;T.setAttribute("transform","rotate(-90 ".concat(N.x," ").concat(G,")"))}}}},{key:"addBackgroundToAnno",value:function(h,d){var v=this.w;if(!h||void 0===d.label.text||void 0!==d.label.text&&!String(d.label.text).trim())return null;var S=v.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),T=h.getBoundingClientRect(),I=d.label.style.padding.left,N=d.label.style.padding.right,V=d.label.style.padding.top,G=d.label.style.padding.bottom;"vertical"===d.label.orientation&&(V=d.label.style.padding.left,G=d.label.style.padding.right,I=d.label.style.padding.top,N=d.label.style.padding.bottom);var ie=this.annoCtx.graphics.drawRect(T.left-S.left-I-v.globals.barPadForNumericAxis,T.top-S.top-V,T.width+I+N,T.height+V+G,d.label.borderRadius,d.label.style.background,1,d.label.borderWidth,d.label.borderColor,0);return d.id&&ie.node.classList.add(d.id),ie}},{key:"annotationsBackground",value:function(){var h=this,d=this.w,v=function(S,T,I){var N=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(I,"-annotations .apexcharts-").concat(I,"-annotation-label[rel='").concat(T,"']"));if(N){var V=N.parentNode,G=h.addBackgroundToAnno(N,S);G&&(V.insertBefore(G.node,N),S.label.mouseEnter&&G.node.addEventListener("mouseenter",S.label.mouseEnter.bind(h,S)),S.label.mouseLeave&&G.node.addEventListener("mouseleave",S.label.mouseLeave.bind(h,S)),S.label.click&&G.node.addEventListener("click",S.label.click.bind(h,S)))}};d.config.annotations.xaxis.map(function(S,T){v(S,T,"xaxis")}),d.config.annotations.yaxis.map(function(S,T){v(S,T,"yaxis")}),d.config.annotations.points.map(function(S,T){v(S,T,"point")})}},{key:"getY1Y2",value:function(h,d){var v,S="y1"===h?d.y:d.y2,T=this.w;if(this.annoCtx.invertAxis){var I=T.globals.labels.indexOf(S);T.config.xaxis.convertedCatToNumeric&&(I=T.globals.categoryLabels.indexOf(S));var N=T.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(I+1)+")");N&&(v=parseFloat(N.getAttribute("y"))),void 0!==d.seriesIndex&&T.globals.barHeight&&(v=v-T.globals.barHeight/2*(T.globals.series.length-1)+T.globals.barHeight*d.seriesIndex)}else{var V;V=T.config.yaxis[d.yAxisIndex].logarithmic?(S=new Ke(this.annoCtx.ctx).getLogVal(S,d.yAxisIndex))/T.globals.yLogRatio[d.yAxisIndex]:(S-T.globals.minYArr[d.yAxisIndex])/(T.globals.yRange[d.yAxisIndex]/T.globals.gridHeight),v=T.globals.gridHeight-V,!d.marker||null!=d.y||(v=0),T.config.yaxis[d.yAxisIndex]&&T.config.yaxis[d.yAxisIndex].reversed&&(v=V)}return"string"==typeof S&&S.indexOf("px")>-1&&(v=parseFloat(S)),v}},{key:"getX1X2",value:function(h,d){var v=this.w,S=this.annoCtx.invertAxis?v.globals.minY:v.globals.minX,T=this.annoCtx.invertAxis?v.globals.maxY:v.globals.maxX,I=this.annoCtx.invertAxis?v.globals.yRange[0]:v.globals.xRange,N=(d.x-S)/(I/v.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(N=(T-d.x)/(I/v.globals.gridWidth)),"category"!==v.config.xaxis.type&&!v.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||v.globals.dataFormatXNumeric||(N=this.getStringX(d.x));var V=(d.x2-S)/(I/v.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(V=(T-d.x2)/(I/v.globals.gridWidth)),"category"!==v.config.xaxis.type&&!v.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||v.globals.dataFormatXNumeric||(V=this.getStringX(d.x2)),null!=d.x||!d.marker||(N=v.globals.gridWidth),"x1"===h&&"string"==typeof d.x&&d.x.indexOf("px")>-1&&(N=parseFloat(d.x)),"x2"===h&&"string"==typeof d.x2&&d.x2.indexOf("px")>-1&&(V=parseFloat(d.x2)),void 0!==d.seriesIndex&&v.globals.barWidth&&!this.annoCtx.invertAxis&&(N=N-v.globals.barWidth/2*(v.globals.series.length-1)+v.globals.barWidth*d.seriesIndex),"x1"===h?N:V}},{key:"getStringX",value:function(h){var d=this.w,v=h;d.config.xaxis.convertedCatToNumeric&&d.globals.categoryLabels.length&&(h=d.globals.categoryLabels.indexOf(h)+1);var S=d.globals.labels.indexOf(h),T=d.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(S+1)+")");return T&&(v=parseFloat(T.getAttribute("x"))),v}}]),We}(),Ot=function(){function We(h){it(this,We),this.w=h.w,this.annoCtx=h,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new yt(this.annoCtx)}return nt(We,[{key:"addXaxisAnnotation",value:function(h,d,v){var S,T=this.w,I=this.helpers.getX1X2("x1",h),N=h.label.text,V=h.strokeDashArray;if(de.isNumber(I)){if(null==h.x2){var G=this.annoCtx.graphics.drawLine(I+h.offsetX,0+h.offsetY,I+h.offsetX,T.globals.gridHeight+h.offsetY,h.borderColor,V,h.borderWidth);d.appendChild(G.node),h.id&&G.node.classList.add(h.id)}else{if((S=this.helpers.getX1X2("x2",h))<I){var K=I;I=S,S=K}var J=this.annoCtx.graphics.drawRect(I+h.offsetX,0+h.offsetY,S-I,T.globals.gridHeight+h.offsetY,0,h.fillColor,h.opacity,1,h.borderColor,V);J.node.classList.add("apexcharts-annotation-rect"),J.attr("clip-path","url(#gridRectMask".concat(T.globals.cuid,")")),d.appendChild(J.node),h.id&&J.node.classList.add(h.id)}var ie=this.annoCtx.graphics.getTextRects(N,parseFloat(h.label.style.fontSize)),Se=this.annoCtx.graphics.drawText({x:I+h.label.offsetX,y:("top"===h.label.position?4:"center"===h.label.position?T.globals.gridHeight/2+("vertical"===h.label.orientation?ie.width/2:0):T.globals.gridHeight)+h.label.offsetY-("vertical"===h.label.orientation?"top"===h.label.position?ie.width/2-12:-ie.width/2:0),text:N,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});Se.attr({rel:v}),d.appendChild(Se.node),this.annoCtx.helpers.setOrientations(h,v)}}},{key:"drawXAxisAnnotations",value:function(){var h=this,d=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return d.config.annotations.xaxis.map(function(S,T){h.addXaxisAnnotation(S,v.node,T)}),v}}]),We}(),wt=function(){function We(h){it(this,We),this.w=h.w,this.annoCtx=h,this.helpers=new yt(this.annoCtx)}return nt(We,[{key:"addYaxisAnnotation",value:function(h,d,v){var S,T=this.w,I=h.strokeDashArray,N=this.helpers.getY1Y2("y1",h),V=h.label.text;if(null==h.y2){var G=this.annoCtx.graphics.drawLine(0+h.offsetX,N+h.offsetY,this._getYAxisAnnotationWidth(h),N+h.offsetY,h.borderColor,I,h.borderWidth);d.appendChild(G.node),h.id&&G.node.classList.add(h.id)}else{if((S=this.helpers.getY1Y2("y2",h))>N){var K=N;N=S,S=K}var J=this.annoCtx.graphics.drawRect(0+h.offsetX,S+h.offsetY,this._getYAxisAnnotationWidth(h),N-S,0,h.fillColor,h.opacity,1,h.borderColor,I);J.node.classList.add("apexcharts-annotation-rect"),J.attr("clip-path","url(#gridRectMask".concat(T.globals.cuid,")")),d.appendChild(J.node),h.id&&J.node.classList.add(h.id)}var fe=this.annoCtx.graphics.drawText({x:("right"===h.label.position?T.globals.gridWidth:"center"===h.label.position?T.globals.gridWidth/2:0)+h.label.offsetX,y:(S??N)+h.label.offsetY-3,text:V,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});fe.attr({rel:v}),d.appendChild(fe.node)}},{key:"_getYAxisAnnotationWidth",value:function(h){var d=this.w;return(h.width.indexOf("%")>-1?d.globals.gridWidth*parseInt(h.width,10)/100:parseInt(h.width,10))+h.offsetX}},{key:"drawYAxisAnnotations",value:function(){var h=this,d=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return d.config.annotations.yaxis.map(function(S,T){h.addYaxisAnnotation(S,v.node,T)}),v}}]),We}(),lt=function(){function We(h){it(this,We),this.w=h.w,this.annoCtx=h,this.helpers=new yt(this.annoCtx)}return nt(We,[{key:"addPointAnnotation",value:function(h,d,v){var S=this.helpers.getX1X2("x1",h),T=this.helpers.getY1Y2("y1",h);if(de.isNumber(S)){var I={pSize:h.marker.size,pointStrokeWidth:h.marker.strokeWidth,pointFillColor:h.marker.fillColor,pointStrokeColor:h.marker.strokeColor,shape:h.marker.shape,pRadius:h.marker.radius,class:"apexcharts-point-annotation-marker ".concat(h.marker.cssClass," ").concat(h.id?h.id:"")},N=this.annoCtx.graphics.drawMarker(S+h.marker.offsetX,T+h.marker.offsetY,I);d.appendChild(N.node);var V=h.label.text?h.label.text:"",G=this.annoCtx.graphics.drawText({x:S+h.label.offsetX,y:T+h.label.offsetY-h.marker.size-parseFloat(h.label.style.fontSize)/1.6,text:V,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});if(G.attr({rel:v}),d.appendChild(G.node),h.customSVG.SVG){var K=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+h.customSVG.cssClass});K.attr({transform:"translate(".concat(S+h.customSVG.offsetX,", ").concat(T+h.customSVG.offsetY,")")}),K.node.innerHTML=h.customSVG.SVG,d.appendChild(K.node)}if(h.image.path){var J=h.image.width?h.image.width:20,ie=h.image.height?h.image.height:20;N=this.annoCtx.addImage({x:S+h.image.offsetX-J/2,y:T+h.image.offsetY-ie/2,width:J,height:ie,path:h.image.path,appendTo:".apexcharts-point-annotations"})}h.mouseEnter&&N.node.addEventListener("mouseenter",h.mouseEnter.bind(this,h)),h.mouseLeave&&N.node.addEventListener("mouseleave",h.mouseLeave.bind(this,h)),h.click&&N.node.addEventListener("click",h.click.bind(this,h))}}},{key:"drawPointAnnotations",value:function(){var h=this,d=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return d.config.annotations.points.map(function(S,T){h.addPointAnnotation(S,v.node,T)}),v}}]),We}(),$e={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Qe=function(){function We(){it(this,We),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return nt(We,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[$e],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(h){return new Date(h).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(h){return h}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(h){return h+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(d,v){return d+v},0)/h.globals.series.length+"%"}}},barLabels:{enabled:!1,margin:5,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(h){return h},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(h){return h}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(h){return h}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(d,v){return d+v},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(h){return null!==h?h:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(h){return h?h+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),We}(),rt=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.graphics=new je(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new yt(this),this.xAxisAnnotations=new Ot(this),this.yAxisAnnotations=new wt(this),this.pointsAnnotations=new lt(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return nt(We,[{key:"drawAxesAnnotations",value:function(){var h=this.w;if(h.globals.axisCharts){for(var d=this.yAxisAnnotations.drawYAxisAnnotations(),v=this.xAxisAnnotations.drawXAxisAnnotations(),S=this.pointsAnnotations.drawPointAnnotations(),T=h.config.chart.animations.enabled,I=[d,v,S],N=[v.node,d.node,S.node],V=0;V<3;V++)h.globals.dom.elGraphical.add(I[V]),!T||h.globals.resized||h.globals.dataChanged||"scatter"!==h.config.chart.type&&"bubble"!==h.config.chart.type&&h.globals.dataPoints>1&&N[V].classList.add("apexcharts-element-hidden"),h.globals.delayedElements.push({el:N[V],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var h=this;this.w.config.annotations.images.map(function(d,v){h.addImage(d,v)})}},{key:"drawTextAnnos",value:function(){var h=this;this.w.config.annotations.texts.map(function(d,v){h.addText(d,v)})}},{key:"addXaxisAnnotation",value:function(h,d,v){this.xAxisAnnotations.addXaxisAnnotation(h,d,v)}},{key:"addYaxisAnnotation",value:function(h,d,v){this.yAxisAnnotations.addYaxisAnnotation(h,d,v)}},{key:"addPointAnnotation",value:function(h,d,v){this.pointsAnnotations.addPointAnnotation(h,d,v)}},{key:"addText",value:function(h,d){var T=h.text,ie=h.backgroundColor,fe=h.borderWidth,Se=h.strokeDashArray,Le=h.borderRadius,Fe=h.borderColor,tt=h.appendTo,vt=void 0===tt?".apexcharts-svg":tt,W=h.paddingLeft,ae=void 0===W?4:W,De=h.paddingRight,Ue=void 0===De?4:De,dt=h.paddingBottom,kt=void 0===dt?2:dt,Xt=h.paddingTop,qt=void 0===Xt?2:Xt,Sn=this.w,Mn=this.graphics.drawText({x:h.x,y:h.y,text:T,textAnchor:h.textAnchor||"start",fontSize:h.fontSize||"12px",fontWeight:h.fontWeight||"regular",fontFamily:h.fontFamily||Sn.config.chart.fontFamily,foreColor:h.foreColor||Sn.config.chart.foreColor,cssClass:h.cssClass}),Cn=Sn.globals.dom.baseEl.querySelector(vt);Cn&&Cn.appendChild(Mn.node);var gi=Mn.bbox();if(T){var Ei=this.graphics.drawRect(gi.x-ae,gi.y-qt,gi.width+ae+Ue,gi.height+kt+qt,Le,ie||"transparent",1,fe,Fe,Se);Cn.insertBefore(Ei.node,Mn.node)}}},{key:"addImage",value:function(h,d){var v=this.w,T=h.x,I=void 0===T?0:T,N=h.y,V=void 0===N?0:N,G=h.width,K=void 0===G?20:G,J=h.height,ie=void 0===J?20:J,fe=h.appendTo,Se=void 0===fe?".apexcharts-svg":fe,Le=v.globals.dom.Paper.image(h.path);Le.size(K,ie).move(I,V);var Fe=v.globals.dom.baseEl.querySelector(Se);return Fe&&Fe.appendChild(Le.node),Le}},{key:"addXaxisAnnotationExternal",value:function(h,d,v){return this.addAnnotationExternal({params:h,pushToMemory:d,context:v,type:"xaxis",contextMethod:v.addXaxisAnnotation}),v}},{key:"addYaxisAnnotationExternal",value:function(h,d,v){return this.addAnnotationExternal({params:h,pushToMemory:d,context:v,type:"yaxis",contextMethod:v.addYaxisAnnotation}),v}},{key:"addPointAnnotationExternal",value:function(h,d,v){return void 0===this.invertAxis&&(this.invertAxis=v.w.globals.isBarHorizontal),this.addAnnotationExternal({params:h,pushToMemory:d,context:v,type:"point",contextMethod:v.addPointAnnotation}),v}},{key:"addAnnotationExternal",value:function(h){var d=h.params,v=h.pushToMemory,S=h.context,T=h.type,I=h.contextMethod,N=S,V=N.w,G=V.globals.dom.baseEl.querySelector(".apexcharts-".concat(T,"-annotations")),K=G.childNodes.length+1,J=new Qe,ie=Object.assign({},"xaxis"===T?J.xAxisAnnotation:"yaxis"===T?J.yAxisAnnotation:J.pointAnnotation),fe=de.extend(ie,d);switch(T){case"xaxis":this.addXaxisAnnotation(fe,G,K);break;case"yaxis":this.addYaxisAnnotation(fe,G,K);break;case"point":this.addPointAnnotation(fe,G,K)}var Se=V.globals.dom.baseEl.querySelector(".apexcharts-".concat(T,"-annotations .apexcharts-").concat(T,"-annotation-label[rel='").concat(K,"']")),Le=this.helpers.addBackgroundToAnno(Se,fe);return Le&&G.insertBefore(Le.node,Se),v&&V.globals.memory.methodsToExec.push({context:N,id:fe.id?fe.id:de.randomId(),method:I,label:"addAnnotation",params:d}),S}},{key:"clearAnnotations",value:function(h){var d=h.w,v=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");d.globals.memory.methodsToExec.map(function(S,T){"addText"!==S.label&&"addAnnotation"!==S.label||d.globals.memory.methodsToExec.splice(T,1)}),v=de.listToArray(v),Array.prototype.forEach.call(v,function(S){for(;S.firstChild;)S.removeChild(S.firstChild)})}},{key:"removeAnnotation",value:function(h,d){var v=h.w,S=v.globals.dom.baseEl.querySelectorAll(".".concat(d));S&&(v.globals.memory.methodsToExec.map(function(T,I){T.id===d&&v.globals.memory.methodsToExec.splice(I,1)}),Array.prototype.forEach.call(S,function(T){T.parentElement.removeChild(T)}))}}]),We}(),zt=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return nt(We,[{key:"isValidDate",value:function(h){return"number"!=typeof h&&!isNaN(this.parseDate(h))}},{key:"getTimeStamp",value:function(h){return Date.parse(h)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toISOString().substr(0,25)).getTime():new Date(h).getTime():h}},{key:"getDate",value:function(h){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toUTCString()):new Date(h)}},{key:"parseDate",value:function(h){var d=Date.parse(h);if(!isNaN(d))return this.getTimeStamp(h);var v=Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(v)}},{key:"parseDateWithTimezone",value:function(h){return Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(h,d){var v=this.w.globals.locale,S=this.w.config.xaxis.labels.datetimeUTC,T=["\0"].concat(Ne(v.months)),I=["\x01"].concat(Ne(v.shortMonths)),N=["\x02"].concat(Ne(v.days)),V=["\x03"].concat(Ne(v.shortDays));function G(kt,Xt){var qt=kt+"";for(Xt=Xt||2;qt.length<Xt;)qt="0"+qt;return qt}var K=S?h.getUTCFullYear():h.getFullYear();d=(d=(d=d.replace(/(^|[^\\])yyyy+/g,"$1"+K)).replace(/(^|[^\\])yy/g,"$1"+K.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+K);var J=(S?h.getUTCMonth():h.getMonth())+1;d=(d=(d=(d=d.replace(/(^|[^\\])MMMM+/g,"$1"+T[0])).replace(/(^|[^\\])MMM/g,"$1"+I[0])).replace(/(^|[^\\])MM/g,"$1"+G(J))).replace(/(^|[^\\])M/g,"$1"+J);var ie=S?h.getUTCDate():h.getDate();d=(d=(d=(d=d.replace(/(^|[^\\])dddd+/g,"$1"+N[0])).replace(/(^|[^\\])ddd/g,"$1"+V[0])).replace(/(^|[^\\])dd/g,"$1"+G(ie))).replace(/(^|[^\\])d/g,"$1"+ie);var fe=S?h.getUTCHours():h.getHours(),Se=fe>12?fe-12:0===fe?12:fe;d=(d=(d=(d=d.replace(/(^|[^\\])HH+/g,"$1"+G(fe))).replace(/(^|[^\\])H/g,"$1"+fe)).replace(/(^|[^\\])hh+/g,"$1"+G(Se))).replace(/(^|[^\\])h/g,"$1"+Se);var Le=S?h.getUTCMinutes():h.getMinutes();d=(d=d.replace(/(^|[^\\])mm+/g,"$1"+G(Le))).replace(/(^|[^\\])m/g,"$1"+Le);var Fe=S?h.getUTCSeconds():h.getSeconds();d=(d=d.replace(/(^|[^\\])ss+/g,"$1"+G(Fe))).replace(/(^|[^\\])s/g,"$1"+Fe);var tt=S?h.getUTCMilliseconds():h.getMilliseconds();d=d.replace(/(^|[^\\])fff+/g,"$1"+G(tt,3)),tt=Math.round(tt/10),d=d.replace(/(^|[^\\])ff/g,"$1"+G(tt)),tt=Math.round(tt/10);var vt=fe<12?"AM":"PM";d=(d=(d=d.replace(/(^|[^\\])f/g,"$1"+tt)).replace(/(^|[^\\])TT+/g,"$1"+vt)).replace(/(^|[^\\])T/g,"$1"+vt.charAt(0));var W=vt.toLowerCase();d=(d=d.replace(/(^|[^\\])tt+/g,"$1"+W)).replace(/(^|[^\\])t/g,"$1"+W.charAt(0));var ae=-h.getTimezoneOffset(),De=S||!ae?"Z":ae>0?"+":"-";if(!S){var Ue=(ae=Math.abs(ae))%60;De+=G(Math.floor(ae/60))+":"+G(Ue)}d=d.replace(/(^|[^\\])K/g,"$1"+De);var dt=(S?h.getUTCDay():h.getDay())+1;return(d=(d=(d=(d=d.replace(new RegExp(N[0],"g"),N[dt])).replace(new RegExp(V[0],"g"),V[dt])).replace(new RegExp(T[0],"g"),T[J])).replace(new RegExp(I[0],"g"),I[J])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(h,d,v){var S=this.w;void 0!==S.config.xaxis.min&&(h=S.config.xaxis.min),void 0!==S.config.xaxis.max&&(d=S.config.xaxis.max);var T=this.getDate(h),I=this.getDate(d),N=this.formatDate(T,"yyyy MM dd HH mm ss fff").split(" "),V=this.formatDate(I,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(N[6],10),maxMillisecond:parseInt(V[6],10),minSecond:parseInt(N[5],10),maxSecond:parseInt(V[5],10),minMinute:parseInt(N[4],10),maxMinute:parseInt(V[4],10),minHour:parseInt(N[3],10),maxHour:parseInt(V[3],10),minDate:parseInt(N[2],10),maxDate:parseInt(V[2],10),minMonth:parseInt(N[1],10)-1,maxMonth:parseInt(V[1],10)-1,minYear:parseInt(N[0],10),maxYear:parseInt(V[0],10)}}},{key:"isLeapYear",value:function(h){return h%4==0&&h%100!=0||h%400==0}},{key:"calculcateLastDaysOfMonth",value:function(h,d,v){return this.determineDaysOfMonths(h,d)-v}},{key:"determineDaysOfYear",value:function(h){var d=365;return this.isLeapYear(h)&&(d=366),d}},{key:"determineRemainingDaysOfYear",value:function(h,d,v){var S=this.daysCntOfYear[d]+v;return d>1&&this.isLeapYear()&&S++,S}},{key:"determineDaysOfMonths",value:function(h,d){var v=30;switch(h=de.monthMod(h),!0){case this.months30.indexOf(h)>-1:2===h&&(v=this.isLeapYear(d)?29:28);break;case this.months31.indexOf(h)>-1:default:v=31}return v}}]),We}(),_t=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.tooltipKeyFormat="dd MMM"}return nt(We,[{key:"xLabelFormat",value:function(h,d,v,S){var T=this.w;if("datetime"===T.config.xaxis.type&&void 0===T.config.xaxis.labels.formatter&&void 0===T.config.tooltip.x.formatter){var I=new zt(this.ctx);return I.formatDate(I.getDate(d),T.config.tooltip.x.format)}return h(d,v,S)}},{key:"defaultGeneralFormatter",value:function(h){return Array.isArray(h)?h.map(function(d){return d}):h}},{key:"defaultYFormatter",value:function(h,d,v){var S=this.w;return de.isNumber(h)&&(h=h.toFixed(0!==S.globals.yValueDecimal?void 0!==d.decimalsInFloat?d.decimalsInFloat:S.globals.yValueDecimal:S.globals.maxYArr[v]-S.globals.minYArr[v]<5?1:0)),h}},{key:"setLabelFormatters",value:function(){var h=this,d=this.w;return d.globals.xaxisTooltipFormatter=function(v){return h.defaultGeneralFormatter(v)},d.globals.ttKeyFormatter=function(v){return h.defaultGeneralFormatter(v)},d.globals.ttZFormatter=function(v){return v},d.globals.legendFormatter=function(v){return h.defaultGeneralFormatter(v)},d.globals.xLabelFormatter=void 0!==d.config.xaxis.labels.formatter?d.config.xaxis.labels.formatter:function(v){if(de.isNumber(v)){if(!d.config.xaxis.convertedCatToNumeric&&"numeric"===d.config.xaxis.type){if(de.isNumber(d.config.xaxis.decimalsInFloat))return v.toFixed(d.config.xaxis.decimalsInFloat);var S=d.globals.maxX-d.globals.minX;return v.toFixed(S>0&&S<100?1:0)}return v.toFixed(d.globals.isBarHorizontal&&d.globals.maxY-d.globals.minYArr<4?1:0)}return v},d.globals.ttKeyFormatter="function"==typeof d.config.tooltip.x.formatter?d.config.tooltip.x.formatter:d.globals.xLabelFormatter,"function"==typeof d.config.xaxis.tooltip.formatter&&(d.globals.xaxisTooltipFormatter=d.config.xaxis.tooltip.formatter),(Array.isArray(d.config.tooltip.y)||void 0!==d.config.tooltip.y.formatter)&&(d.globals.ttVal=d.config.tooltip.y),void 0!==d.config.tooltip.z.formatter&&(d.globals.ttZFormatter=d.config.tooltip.z.formatter),void 0!==d.config.legend.formatter&&(d.globals.legendFormatter=d.config.legend.formatter),d.config.yaxis.forEach(function(v,S){d.globals.yLabelFormatters[S]=void 0!==v.labels.formatter?v.labels.formatter:function(T){return d.globals.xyCharts?Array.isArray(T)?T.map(function(I){return h.defaultYFormatter(I,v,S)}):h.defaultYFormatter(T,v,S):T}}),d.globals}},{key:"heatmapLabelFormatters",value:function(){var h=this.w;if("heatmap"===h.config.chart.type){h.globals.yAxisScale[0].result=h.globals.seriesNames.slice();var d=h.globals.seriesNames.reduce(function(v,S){return v.length>S.length?v:S},0);h.globals.yAxisScale[0].niceMax=d,h.globals.yAxisScale[0].niceMin=d}}}]),We}(),It=function(We){var h,d=We.isTimeline,v=We.ctx,S=We.seriesIndex,T=We.dataPointIndex,I=We.y1,N=We.y2,V=We.w,G=V.globals.seriesRangeStart[S][T],K=V.globals.seriesRangeEnd[S][T],J=V.globals.labels[T],ie=V.config.series[S].name?V.config.series[S].name:"",fe=V.globals.ttKeyFormatter,Se=V.config.tooltip.y.title.formatter,Le={w:V,seriesIndex:S,dataPointIndex:T,start:G,end:K};"function"==typeof Se&&(ie=Se(ie,Le)),null!==(h=V.config.series[S].data[T])&&void 0!==h&&h.x&&(J=V.config.series[S].data[T].x),d||"datetime"===V.config.xaxis.type&&(J=new _t(v).xLabelFormat(V.globals.ttKeyFormatter,J,J,{i:void 0,dateFormatter:new zt(v).formatDate,w:V})),"function"==typeof fe&&(J=fe(J,Le)),Number.isFinite(I)&&Number.isFinite(N)&&(G=I,K=N);var Fe="",tt="",vt=V.globals.colors[S];if(void 0===V.config.tooltip.x.formatter)if("datetime"===V.config.xaxis.type){var W=new zt(v);Fe=W.formatDate(W.getDate(G),V.config.tooltip.x.format),tt=W.formatDate(W.getDate(K),V.config.tooltip.x.format)}else Fe=G,tt=K;else Fe=V.config.tooltip.x.formatter(G),tt=V.config.tooltip.x.formatter(K);return{start:G,end:K,startVal:Fe,endVal:tt,ylabel:J,color:vt,seriesName:ie}},Hn=function(We){var h=We.color,d=We.seriesName,v=We.ylabel,S=We.start,T=We.end,I=We.seriesIndex,N=We.dataPointIndex,V=We.ctx.tooltip.tooltipLabels.getFormatters(I);S=V.yLbFormatter(S),T=V.yLbFormatter(T);var G=V.yLbFormatter(We.w.globals.series[I][N]),K='<span class="value start-value">\n  '.concat(S,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(T,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+h+'">'+(d||"")+'</span></div><div> <span class="category">'+v+": </span> "+(We.w.globals.comboCharts?"rangeArea"===We.w.config.series[I].type||"rangeBar"===We.w.config.series[I].type?K:"<span>".concat(G,"</span>"):K)+" </div></div>"},hn=function(){function We(h){it(this,We),this.opts=h}return nt(We,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(h){return this.hideYAxis(),de.extend(h,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Ze(Ze({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var h=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){return h._getBoxTooltip(d.w,d.seriesIndex,d.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var h=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){return h._getBoxTooltip(d.w,d.seriesIndex,d.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(h,d){var v=d.seriesIndex,S=d.dataPointIndex,T=d.w,I=function(){return T.globals.seriesRangeEnd[v][S]-T.globals.seriesRangeStart[v][S]};return T.globals.comboCharts?"rangeBar"===T.config.series[v].type||"rangeArea"===T.config.series[v].type?I():h:I()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(h){return h.w.config.plotOptions&&h.w.config.plotOptions.bar&&h.w.config.plotOptions.bar.horizontal?(S=(v=It(Ze(Ze({},d=h),{},{isTimeline:!0}))).color,T=v.seriesName,I=v.ylabel,N=v.startVal,V=v.endVal,Hn(Ze(Ze({},d),{},{color:S,seriesName:T,ylabel:I,start:N,end:V}))):function(d){var v=It(d),S=v.color,T=v.seriesName,I=v.ylabel,N=v.start,V=v.end;return Hn(Ze(Ze({},d),{},{color:S,seriesName:T,ylabel:I,start:N,end:V}))}(h);var d,v,S,T,I,N,V}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(h){var d,v;return null!==(d=h.plotOptions.bar)&&void 0!==d&&d.barHeight||(h.plotOptions.bar.barHeight=2),null!==(v=h.plotOptions.bar)&&void 0!==v&&v.columnWidth||(h.plotOptions.bar.columnWidth=2),h}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(h){return S=(v=It(d=h)).color,T=v.seriesName,I=v.ylabel,N=v.start,V=v.end,Hn(Ze(Ze({},d),{},{color:S,seriesName:T,ylabel:I,start:N,end:V}));var d,v,S,T,I,N,V}}}}},{key:"brush",value:function(h){return de.extend(h,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(h){h.dataLabels=h.dataLabels||{},h.dataLabels.formatter=h.dataLabels.formatter||void 0;var d=h.dataLabels.formatter;return h.yaxis.forEach(function(v,S){h.yaxis[S].min=0,h.yaxis[S].max=100}),"bar"===h.chart.type&&(h.dataLabels.formatter=d||function(v){return"number"==typeof v&&v?v.toFixed(0)+"%":v}),h}},{key:"stackedBars",value:function(){var h=this.bar();return Ze(Ze({},h),{},{plotOptions:Ze(Ze({},h.plotOptions),{},{bar:Ze(Ze({},h.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(h){return h.xaxis.convertedCatToNumeric=!0,h}},{key:"convertCatToNumericXaxis",value:function(h,d,v){h.xaxis.type="numeric",h.xaxis.labels=h.xaxis.labels||{},h.xaxis.labels.formatter=h.xaxis.labels.formatter||function(I){return de.isNumber(I)?Math.floor(I):I};var S=h.xaxis.labels.formatter,T=h.xaxis.categories&&h.xaxis.categories.length?h.xaxis.categories:h.labels;return v&&v.length&&(T=v.map(function(I){return Array.isArray(I)?I:String(I)})),T&&T.length&&(h.xaxis.labels.formatter=function(I){return de.isNumber(I)?S(T[Math.floor(I)-1]):S(I)}),h.xaxis.categories=[],h.labels=[],h.xaxis.tickAmount=h.xaxis.tickAmount||"dataPoints",h}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(h){return h},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(h,d,v,S,T){var I=h.globals.seriesCandleO[d][v],N=h.globals.seriesCandleH[d][v],V=h.globals.seriesCandleM[d][v],G=h.globals.seriesCandleL[d][v],K=h.globals.seriesCandleC[d][v];return h.config.series[d].type&&h.config.series[d].type!==T?'<div class="apexcharts-custom-tooltip">\n          '.concat(h.config.series[d].name?h.config.series[d].name:"series-"+(d+1),": <strong>").concat(h.globals.series[d][v],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(h.config.chart.type,'">')+"<div>".concat(S[0],': <span class="value">')+I+"</span></div>"+"<div>".concat(S[1],': <span class="value">')+N+"</span></div>"+(V?"<div>".concat(S[2],': <span class="value">')+V+"</span></div>":"")+"<div>".concat(S[3],': <span class="value">')+G+"</span></div>"+"<div>".concat(S[4],': <span class="value">')+K+"</span></div></div>"}}]),We}(),pn=function(){function We(h){it(this,We),this.opts=h}return nt(We,[{key:"init",value:function(h){var d=h.responsiveOverride,v=this.opts,S=new Qe,T=new hn(v);this.chartType=v.chart.type,v=this.extendYAxis(v),v=this.extendAnnotations(v);var I=S.init(),N={};if(v&&"object"===Oe(v)){var V,G,K,J,ie,fe,Se,Le,Fe={};Fe=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(v.chart.type)?T[v.chart.type]():T.line(),null!==(V=v.plotOptions)&&void 0!==V&&null!==(G=V.bar)&&void 0!==G&&G.isFunnel&&(Fe=T.funnel()),v.chart.stacked&&"bar"===v.chart.type&&(Fe=T.stackedBars()),null!==(K=v.chart.brush)&&void 0!==K&&K.enabled&&(Fe=T.brush(Fe)),v.chart.stacked&&"100%"===v.chart.stackType&&(v=T.stacked100(v)),null!==(J=v.plotOptions)&&void 0!==J&&null!==(ie=J.bar)&&void 0!==ie&&ie.isDumbbell&&(v=T.dumbbell(v)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(v),v.xaxis=v.xaxis||window.Apex.xaxis||{},d||(v.xaxis.convertedCatToNumeric=!1),(null!==(fe=(v=this.checkForCatToNumericXAxis(this.chartType,Fe,v)).chart.sparkline)&&void 0!==fe&&fe.enabled||null!==(Se=window.Apex.chart)&&void 0!==Se&&null!==(Le=Se.sparkline)&&void 0!==Le&&Le.enabled)&&(Fe=T.sparkline(Fe)),N=de.extend(I,Fe)}var tt=de.extend(N,window.Apex);return I=de.extend(tt,v),this.handleUserInputErrors(I)}},{key:"checkForCatToNumericXAxis",value:function(h,d,v){var S,T,I=new hn(v);return("bar"===h||"boxPlot"===h)&&(null===(S=v.plotOptions)||void 0===S||null===(T=S.bar)||void 0===T?void 0:T.horizontal)||"pie"===h||"polarArea"===h||"donut"===h||"radar"===h||"radialBar"===h||"heatmap"===h||!("datetime"!==v.xaxis.type&&"numeric"!==v.xaxis.type)||"between"===(v.xaxis.tickPlacement?v.xaxis.tickPlacement:d.xaxis&&d.xaxis.tickPlacement)||(v=I.convertCatToNumeric(v)),v}},{key:"extendYAxis",value:function(h,d){var v=new Qe;(void 0===h.yaxis||!h.yaxis||Array.isArray(h.yaxis)&&0===h.yaxis.length)&&(h.yaxis={}),h.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(h.yaxis=de.extend(h.yaxis,window.Apex.yaxis)),h.yaxis=h.yaxis.constructor!==Array?[de.extend(v.yAxis,h.yaxis)]:de.extendArray(h.yaxis,v.yAxis);var S=!1;h.yaxis.forEach(function(I){I.logarithmic&&(S=!0)});var T=h.series;return d&&!T&&(T=d.config.series),S&&T.length!==h.yaxis.length&&T.length&&(h.yaxis=T.map(function(I,N){if(I.name||(T[N].name="series-".concat(N+1)),h.yaxis[N])return h.yaxis[N].seriesName=T[N].name,h.yaxis[N];var V=de.extend(v.yAxis,h.yaxis[0]);return V.show=!1,V})),S&&T.length>1&&T.length!==h.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),h}},{key:"extendAnnotations",value:function(h){return void 0===h.annotations&&(h.annotations={},h.annotations.yaxis=[],h.annotations.xaxis=[],h.annotations.points=[]),h=this.extendYAxisAnnotations(h),h=this.extendXAxisAnnotations(h),this.extendPointAnnotations(h)}},{key:"extendYAxisAnnotations",value:function(h){var d=new Qe;return h.annotations.yaxis=de.extendArray(void 0!==h.annotations.yaxis?h.annotations.yaxis:[],d.yAxisAnnotation),h}},{key:"extendXAxisAnnotations",value:function(h){var d=new Qe;return h.annotations.xaxis=de.extendArray(void 0!==h.annotations.xaxis?h.annotations.xaxis:[],d.xAxisAnnotation),h}},{key:"extendPointAnnotations",value:function(h){var d=new Qe;return h.annotations.points=de.extendArray(void 0!==h.annotations.points?h.annotations.points:[],d.pointAnnotation),h}},{key:"checkForDarkTheme",value:function(h){h.theme&&"dark"===h.theme.mode&&(h.tooltip||(h.tooltip={}),"light"!==h.tooltip.theme&&(h.tooltip.theme="dark"),h.chart.foreColor||(h.chart.foreColor="#f6f7f8"),h.chart.background||(h.chart.background="#424242"),h.theme.palette||(h.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(h){var d=h;if(d.tooltip.shared&&d.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===d.chart.type&&d.plotOptions.bar.horizontal){if(d.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");d.yaxis[0].reversed&&(d.yaxis[0].opposite=!0),d.xaxis.tooltip.enabled=!1,d.yaxis[0].tooltip.enabled=!1,d.chart.zoom.enabled=!1}return"bar"!==d.chart.type&&"rangeBar"!==d.chart.type||d.tooltip.shared&&"barWidth"===d.xaxis.crosshairs.width&&d.series.length>1&&(d.xaxis.crosshairs.width="tickWidth"),"candlestick"!==d.chart.type&&"boxPlot"!==d.chart.type||d.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(d.chart.type," chart is not supported.")),d.yaxis[0].reversed=!1),d}}]),We}(),qe=function(){function We(){it(this,We)}return nt(We,[{key:"initGlobalVars",value:function(h){h.series=[],h.seriesCandleO=[],h.seriesCandleH=[],h.seriesCandleM=[],h.seriesCandleL=[],h.seriesCandleC=[],h.seriesRangeStart=[],h.seriesRangeEnd=[],h.seriesRange=[],h.seriesPercent=[],h.seriesGoals=[],h.seriesX=[],h.seriesZ=[],h.seriesNames=[],h.seriesTotals=[],h.seriesLog=[],h.seriesColors=[],h.stackedSeriesTotals=[],h.seriesXvalues=[],h.seriesYvalues=[],h.labels=[],h.hasXaxisGroups=!1,h.groups=[],h.hasSeriesGroups=!1,h.seriesGroups=[],h.categoryLabels=[],h.timescaleLabels=[],h.noLabelsProvided=!1,h.resizeTimer=null,h.selectionResizeTimer=null,h.delayedElements=[],h.pointsArray=[],h.dataLabelsRects=[],h.isXNumeric=!1,h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1,h.isDataXYZ=!1,h.isMultiLineX=!1,h.isMultipleYAxis=!1,h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE,h.minYArr=[],h.maxYArr=[],h.maxX=-Number.MAX_VALUE,h.minX=Number.MAX_VALUE,h.initialMaxX=-Number.MAX_VALUE,h.initialMinX=Number.MAX_VALUE,h.maxDate=0,h.minDate=Number.MAX_VALUE,h.minZ=Number.MAX_VALUE,h.maxZ=-Number.MAX_VALUE,h.minXDiff=Number.MAX_VALUE,h.yAxisScale=[],h.xAxisScale=null,h.xAxisTicksPositions=[],h.yLabelsCoords=[],h.yTitleCoords=[],h.barPadForNumericAxis=0,h.padHorizontal=0,h.xRange=0,h.yRange=[],h.zRange=0,h.dataPoints=0,h.xTickAmount=0,h.multiAxisTickAmount=0}},{key:"globalVars",value:function(h){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:h.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===h.chart.toolbar.autoSelected&&h.chart.toolbar.tools.zoom&&h.chart.zoom.enabled,panEnabled:"pan"===h.chart.toolbar.autoSelected&&h.chart.toolbar.tools.pan,selectionEnabled:"selection"===h.chart.toolbar.autoSelected&&h.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]]}}},{key:"init",value:function(h){var d=this.globalVars(h);return this.initGlobalVars(d),d.initialConfig=de.extend({},h),d.initialSeries=de.clone(h.series),d.lastXAxis=de.clone(d.initialConfig.xaxis),d.lastYAxis=de.clone(d.initialConfig.yaxis),d}}]),We}(),Vt=function(){function We(h){it(this,We),this.opts=h}return nt(We,[{key:"init",value:function(){var h=new pn(this.opts).init({responsiveOverride:!1});return{config:h,globals:(new qe).init(h)}}}]),We}(),pe=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.opts=null,this.seriesIndex=0}return nt(We,[{key:"clippedImgArea",value:function(h){var d=this.w,v=d.config,S=parseInt(d.globals.gridWidth,10),T=parseInt(d.globals.gridHeight,10),I=S>T?S:T,N=h.image,V=0,G=0;void 0===h.width&&void 0===h.height?void 0!==v.fill.image.width&&void 0!==v.fill.image.height?(V=v.fill.image.width+1,G=v.fill.image.height):(V=I+1,G=I):(V=h.width,G=h.height);var K=document.createElementNS(d.globals.SVGNS,"pattern");je.setAttrs(K,{id:h.patternID,patternUnits:h.patternUnits?h.patternUnits:"userSpaceOnUse",width:V+"px",height:G+"px"});var J=document.createElementNS(d.globals.SVGNS,"image");K.appendChild(J),J.setAttributeNS(window.SVG.xlink,"href",N),je.setAttrs(J,{x:0,y:0,preserveAspectRatio:"none",width:V+"px",height:G+"px"}),J.style.opacity=h.opacity,d.globals.dom.elDefs.node.appendChild(K)}},{key:"getSeriesIndex",value:function(h){var d=this.w,v=d.config.chart.type;return this.seriesIndex=("bar"===v||"rangeBar"===v)&&d.config.plotOptions.bar.distributed||"heatmap"===v||"treemap"===v?h.seriesNumber:h.seriesNumber%d.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(h){var d=this.w;this.opts=h;var v,S,T,I=this.w.config;this.seriesIndex=this.getSeriesIndex(h);var N=this.getFillColors()[this.seriesIndex];void 0!==d.globals.seriesColors[this.seriesIndex]&&(N=d.globals.seriesColors[this.seriesIndex]),"function"==typeof N&&(N=N({seriesIndex:this.seriesIndex,dataPointIndex:h.dataPointIndex,value:h.value,w:d}));var V=h.fillType?h.fillType:this.getFillType(this.seriesIndex),G=Array.isArray(I.fill.opacity)?I.fill.opacity[this.seriesIndex]:I.fill.opacity;h.color&&(N=h.color),N||(N="#fff",console.warn("undefined color - ApexCharts"));var K=N;if(-1===N.indexOf("rgb")?N.length<9&&(K=de.hexToRgba(N,G)):N.indexOf("rgba")>-1&&(G=de.getOpacityFromRGBA(N)),h.opacity&&(G=h.opacity),"pattern"===V&&(S=this.handlePatternFill({fillConfig:h.fillConfig,patternFill:S,fillColor:N,fillOpacity:G,defaultColor:K})),"gradient"===V&&(T=this.handleGradientFill({fillConfig:h.fillConfig,fillColor:N,fillOpacity:G,i:this.seriesIndex})),"image"===V){var J=I.fill.image.src,ie=h.patternID?h.patternID:"";this.clippedImgArea({opacity:G,image:Array.isArray(J)?h.seriesNumber<J.length?J[h.seriesNumber]:J[0]:J,width:h.width?h.width:void 0,height:h.height?h.height:void 0,patternUnits:h.patternUnits,patternID:"pattern".concat(d.globals.cuid).concat(h.seriesNumber+1).concat(ie)}),v="url(#pattern".concat(d.globals.cuid).concat(h.seriesNumber+1).concat(ie,")")}else v="gradient"===V?T:"pattern"===V?S:K;return h.solid&&(v=K),v}},{key:"getFillType",value:function(h){var d=this.w;return Array.isArray(d.config.fill.type)?d.config.fill.type[h]:d.config.fill.type}},{key:"getFillColors",value:function(){var h=this.w,d=h.config,v=this.opts,S=[];return h.globals.comboCharts?"line"===h.config.series[this.seriesIndex].type?Array.isArray(h.globals.stroke.colors)?S=h.globals.stroke.colors:S.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?S=h.globals.fill.colors:S.push(h.globals.fill.colors):"line"===d.chart.type?Array.isArray(h.globals.stroke.colors)?S=h.globals.stroke.colors:S.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?S=h.globals.fill.colors:S.push(h.globals.fill.colors),void 0!==v.fillColors&&(S=[],Array.isArray(v.fillColors)?S=v.fillColors.slice():S.push(v.fillColors)),S}},{key:"handlePatternFill",value:function(h){var d=h.fillConfig,S=h.fillColor,T=h.fillOpacity,I=h.defaultColor,N=this.w.config.fill;d&&(N=d);var V=this.opts,G=new je(this.ctx),K=Array.isArray(N.pattern.strokeWidth)?N.pattern.strokeWidth[this.seriesIndex]:N.pattern.strokeWidth,J=S;return Array.isArray(N.pattern.style)?void 0!==N.pattern.style[V.seriesNumber]?G.drawPattern(N.pattern.style[V.seriesNumber],N.pattern.width,N.pattern.height,J,K,T):I:G.drawPattern(N.pattern.style,N.pattern.width,N.pattern.height,J,K,T)}},{key:"handleGradientFill",value:function(h){var d=h.fillColor,v=h.fillOpacity,S=h.fillConfig,T=h.i,I=this.w.config.fill;S&&(I=Ze(Ze({},I),S));var N,V=this.opts,G=new je(this.ctx),K=new de,J=I.gradient.type,ie=d,fe=void 0===I.gradient.opacityFrom?v:Array.isArray(I.gradient.opacityFrom)?I.gradient.opacityFrom[T]:I.gradient.opacityFrom;ie.indexOf("rgba")>-1&&(fe=de.getOpacityFromRGBA(ie));var Se=void 0===I.gradient.opacityTo?v:Array.isArray(I.gradient.opacityTo)?I.gradient.opacityTo[T]:I.gradient.opacityTo;if(void 0===I.gradient.gradientToColors||0===I.gradient.gradientToColors.length)N=K.shadeColor("dark"===I.gradient.shade?-1*parseFloat(I.gradient.shadeIntensity):parseFloat(I.gradient.shadeIntensity),d.indexOf("rgb")>-1?de.rgb2hex(d):d);else if(I.gradient.gradientToColors[V.seriesNumber]){var Le=I.gradient.gradientToColors[V.seriesNumber];N=Le,Le.indexOf("rgba")>-1&&(Se=de.getOpacityFromRGBA(Le))}else N=d;if(I.gradient.gradientFrom&&(ie=I.gradient.gradientFrom),I.gradient.gradientTo&&(N=I.gradient.gradientTo),I.gradient.inverseColors){var Fe=ie;ie=N,N=Fe}return ie.indexOf("rgb")>-1&&(ie=de.rgb2hex(ie)),N.indexOf("rgb")>-1&&(N=de.rgb2hex(N)),G.drawGradient(J,ie,N,fe,Se,V.size,I.gradient.stops,I.gradient.colorStops,T)}}]),We}(),ue=function(){function We(h,d){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"setGlobalMarkerSize",value:function(){var h=this.w;if(h.globals.markers.size=Array.isArray(h.config.markers.size)?h.config.markers.size:[h.config.markers.size],h.globals.markers.size.length>0){if(h.globals.markers.size.length<h.globals.series.length+1)for(var d=0;d<=h.globals.series.length;d++)void 0===h.globals.markers.size[d]&&h.globals.markers.size.push(h.globals.markers.size[0])}else h.globals.markers.size=h.config.series.map(function(v){return h.config.markers.size})}},{key:"plotChartMarkers",value:function(h,d,v,S){var T,I=arguments.length>4&&void 0!==arguments[4]&&arguments[4],N=this.w,V=d,G=h,K=null,J=new je(this.ctx),ie=N.config.markers.discrete&&N.config.markers.discrete.length;if((N.globals.markers.size[d]>0||I||ie)&&(K=J.group({class:I||ie?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(N.globals.cuid,")")),Array.isArray(G.x))for(var fe=0;fe<G.x.length;fe++){var Se=v;1===v&&0===fe&&(Se=0),1===v&&1===fe&&(Se=1);var Le="apexcharts-marker";if("line"!==N.config.chart.type&&"area"!==N.config.chart.type||N.globals.comboCharts||N.config.tooltip.intersect||(Le+=" no-pointer-events"),(Array.isArray(N.config.markers.size)?N.globals.markers.size[d]>0:N.config.markers.size>0)||I||ie){de.isNumber(G.y[fe])?Le+=" w".concat(de.randomId()):Le="apexcharts-nullpoint";var Fe=this.getMarkerConfig({cssClass:Le,seriesIndex:d,dataPointIndex:Se});N.config.series[V].data[Se]&&(N.config.series[V].data[Se].fillColor&&(Fe.pointFillColor=N.config.series[V].data[Se].fillColor),N.config.series[V].data[Se].strokeColor&&(Fe.pointStrokeColor=N.config.series[V].data[Se].strokeColor)),S&&(Fe.pSize=S),(G.x[fe]<0||G.x[fe]>N.globals.gridWidth||G.y[fe]<-N.globals.markers.largestSize||G.y[fe]>N.globals.gridHeight+N.globals.markers.largestSize)&&(Fe.pSize=0),(T=J.drawMarker(G.x[fe],G.y[fe],Fe)).attr("rel",Se),T.attr("j",Se),T.attr("index",d),T.node.setAttribute("default-marker-size",Fe.pSize),new Ae(this.ctx).setSelectionFilter(T,d,Se),this.addEvents(T),K&&K.add(T)}else void 0===N.globals.pointsArray[d]&&(N.globals.pointsArray[d]=[]),N.globals.pointsArray[d].push([G.x[fe],G.y[fe]])}return K}},{key:"getMarkerConfig",value:function(h){var d=h.cssClass,v=h.seriesIndex,S=h.dataPointIndex,T=void 0===S?null:S,I=h.finishRadius,N=void 0===I?null:I,V=this.w,G=this.getMarkerStyle(v),K=V.globals.markers.size[v],J=V.config.markers;return null!==T&&J.discrete.length&&J.discrete.map(function(ie){ie.seriesIndex===v&&ie.dataPointIndex===T&&(G.pointStrokeColor=ie.strokeColor,G.pointFillColor=ie.fillColor,K=ie.size,G.pointShape=ie.shape)}),{pSize:null===N?K:N,pRadius:J.radius,width:Array.isArray(J.width)?J.width[v]:J.width,height:Array.isArray(J.height)?J.height[v]:J.height,pointStrokeWidth:Array.isArray(J.strokeWidth)?J.strokeWidth[v]:J.strokeWidth,pointStrokeColor:G.pointStrokeColor,pointFillColor:G.pointFillColor,shape:G.pointShape||(Array.isArray(J.shape)?J.shape[v]:J.shape),class:d,pointStrokeOpacity:Array.isArray(J.strokeOpacity)?J.strokeOpacity[v]:J.strokeOpacity,pointStrokeDashArray:Array.isArray(J.strokeDashArray)?J.strokeDashArray[v]:J.strokeDashArray,pointFillOpacity:Array.isArray(J.fillOpacity)?J.fillOpacity[v]:J.fillOpacity,seriesIndex:v}}},{key:"addEvents",value:function(h){var d=this.w,v=new je(this.ctx);h.node.addEventListener("mouseenter",v.pathMouseEnter.bind(this.ctx,h)),h.node.addEventListener("mouseleave",v.pathMouseLeave.bind(this.ctx,h)),h.node.addEventListener("mousedown",v.pathMouseDown.bind(this.ctx,h)),h.node.addEventListener("click",d.config.markers.onClick),h.node.addEventListener("dblclick",d.config.markers.onDblClick),h.node.addEventListener("touchstart",v.pathMouseDown.bind(this.ctx,h),{passive:!0})}},{key:"getMarkerStyle",value:function(h){var d=this.w,v=d.globals.markers.colors,S=d.config.markers.strokeColor||d.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(S)?S[h]:S,pointFillColor:Array.isArray(v)?v[h]:v}}}]),We}(),ln=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return nt(We,[{key:"draw",value:function(h,d,v){var S=this.w,T=new je(this.ctx),I=v.realIndex,N=v.pointsPos,V=v.zRatio,G=v.elParent,K=T.group({class:"apexcharts-series-markers apexcharts-series-".concat(S.config.chart.type)});if(K.attr("clip-path","url(#gridRectMarkerMask".concat(S.globals.cuid,")")),Array.isArray(N.x))for(var J=0;J<N.x.length;J++){var ie=d+1,fe=!0;0===d&&0===J&&(ie=0),0===d&&1===J&&(ie=1);var Se=0,Le=S.globals.markers.size[I];if(V!==1/0){var Fe=S.config.plotOptions.bubble;Le=S.globals.seriesZ[I][ie],Fe.zScaling&&(Le/=V),Fe.minBubbleRadius&&Le<Fe.minBubbleRadius&&(Le=Fe.minBubbleRadius),Fe.maxBubbleRadius&&Le>Fe.maxBubbleRadius&&(Le=Fe.maxBubbleRadius)}S.config.chart.animations.enabled||(Se=Le);var vt=N.y[J];if(Se=Se||0,null!==vt&&void 0!==S.globals.series[I][ie]||(fe=!1),fe){var W=this.drawPoint(N.x[J],vt,Se,Le,I,ie,d);K.add(W)}G.add(K)}}},{key:"drawPoint",value:function(h,d,v,S,T,I,N){var V=this.w,G=T,K=new ot(this.ctx),J=new Ae(this.ctx),ie=new pe(this.ctx),fe=new ue(this.ctx),Se=new je(this.ctx),Le=fe.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:G,dataPointIndex:I,finishRadius:"bubble"===V.config.chart.type||V.globals.comboCharts&&V.config.series[T]&&"bubble"===V.config.series[T].type?S:null});S=Le.pSize;var Fe,tt=ie.fillPath({seriesNumber:T,dataPointIndex:I,color:Le.pointFillColor,patternUnits:"objectBoundingBox",value:V.globals.series[T][N]});if("circle"===Le.shape?Fe=Se.drawCircle(v):"square"!==Le.shape&&"rect"!==Le.shape||(Fe=Se.drawRect(0,0,Le.width-Le.pointStrokeWidth/2,Le.height-Le.pointStrokeWidth/2,Le.pRadius)),V.config.series[G].data[I]&&V.config.series[G].data[I].fillColor&&(tt=V.config.series[G].data[I].fillColor),Fe.attr({x:h-Le.width/2-Le.pointStrokeWidth/2,y:d-Le.height/2-Le.pointStrokeWidth/2,cx:h,cy:d,fill:tt,"fill-opacity":Le.pointFillOpacity,stroke:Le.pointStrokeColor,r:S,"stroke-width":Le.pointStrokeWidth,"stroke-dasharray":Le.pointStrokeDashArray,"stroke-opacity":Le.pointStrokeOpacity}),V.config.chart.dropShadow.enabled&&J.dropShadow(Fe,V.config.chart.dropShadow,T),!this.initialAnim||V.globals.dataChanged||V.globals.resized?V.globals.animationEnded=!0:K.animateMarker(Fe,0,"circle"===Le.shape?S:{width:Le.width,height:Le.height},V.config.chart.animations.speed,V.globals.easing,function(){window.setTimeout(function(){K.animationCompleted(Fe)},100)}),V.globals.dataChanged&&"circle"===Le.shape)if(this.dynamicAnim){var ae,De,Ue,dt,kt=V.config.chart.animations.dynamicAnimation.speed;null!=(dt=V.globals.previousPaths[T]&&V.globals.previousPaths[T][N])&&(ae=dt.x,De=dt.y,Ue=void 0!==dt.r?dt.r:S);for(var Xt=0;Xt<V.globals.collapsedSeries.length;Xt++)V.globals.collapsedSeries[Xt].index===T&&(kt=1,S=0);0===h&&0===d&&(S=0),K.animateCircle(Fe,{cx:ae,cy:De,r:Ue},{cx:h,cy:d,r:S},kt,V.globals.easing)}else Fe.attr({r:S});return Fe.attr({rel:I,j:I,index:T,"default-marker-size":S}),J.setSelectionFilter(Fe,T,I),fe.addEvents(Fe),Fe.node.classList.add("apexcharts-marker"),Fe}},{key:"centerTextInBubble",value:function(h){return{y:h+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),We}(),on=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"dataLabelsCorrection",value:function(h,d,v,S,T,I,N){var V=this.w,G=!1,K=new je(this.ctx).getTextRects(v,N),J=K.width,ie=K.height;if(d<0&&(d=0),d>V.globals.gridHeight+ie&&(d=V.globals.gridHeight+ie/2),void 0===V.globals.dataLabelsRects[S]&&(V.globals.dataLabelsRects[S]=[]),V.globals.dataLabelsRects[S].push({x:h,y:d,width:J,height:ie}),void 0!==V.globals.dataLabelsRects[S][V.globals.dataLabelsRects[S].length-2]){var Le=V.globals.dataLabelsRects[S][void 0!==V.globals.lastDrawnDataLabelsIndexes[S]?V.globals.lastDrawnDataLabelsIndexes[S][V.globals.lastDrawnDataLabelsIndexes[S].length-1]:0];(h>Le.x+Le.width||d>Le.y+Le.height||d+ie<Le.y||h+J<Le.x)&&(G=!0)}return(0===T||I)&&(G=!0),{x:h,y:d,textRects:K,drawnextLabel:G}}},{key:"drawDataLabel",value:function(h){var d=this,v=h.type,S=h.pos,T=h.i,I=h.j,N=h.isRangeStart,V=h.strokeWidth,G=void 0===V?2:V,K=this.w,J=new je(this.ctx),ie=K.config.dataLabels,fe=0,Se=0,Le=I,Fe=null;if(!ie.enabled||!Array.isArray(S.x))return Fe;Fe=J.group({class:"apexcharts-data-labels"});for(var tt=0;tt<S.x.length;tt++)if(fe=S.x[tt]+ie.offsetX,Se=S.y[tt]+ie.offsetY+G,!isNaN(fe)){1===I&&0===tt&&(Le=0),1===I&&1===tt&&(Le=1);var vt=K.globals.series[T][Le];"rangeArea"===v&&(vt=N?K.globals.seriesRangeStart[T][Le]:K.globals.seriesRangeEnd[T][Le]);var W="",ae=function(De){return K.config.dataLabels.formatter(De,{ctx:d.ctx,seriesIndex:T,dataPointIndex:Le,w:K})};"bubble"===K.config.chart.type?(W=ae(vt=K.globals.seriesZ[T][Le]),Se=S.y[tt],Se=new ln(this.ctx).centerTextInBubble(Se,T,Le).y):void 0!==vt&&(W=ae(vt)),this.plotDataLabelsText({x:fe,y:Se,text:W,i:T,j:Le,parent:Fe,offsetCorrection:!0,dataLabelsConfig:K.config.dataLabels})}return Fe}},{key:"plotDataLabelsText",value:function(h){var d=this.w,v=new je(this.ctx),S=h.x,T=h.y,I=h.i,N=h.j,V=h.text,G=h.textAnchor,K=h.fontSize,J=h.parent,ie=h.dataLabelsConfig,fe=h.color,Se=h.alwaysDrawDataLabel,Le=h.offsetCorrection;if(!(Array.isArray(d.config.dataLabels.enabledOnSeries)&&d.config.dataLabels.enabledOnSeries.indexOf(I)<0)){var Fe={x:S,y:T,drawnextLabel:!0,textRects:null};Le&&(Fe=this.dataLabelsCorrection(S,T,V,I,N,Se,parseInt(ie.style.fontSize,10))),d.globals.zoomed||(S=Fe.x,T=Fe.y),Fe.textRects&&(S<-20-Fe.textRects.width||S>d.globals.gridWidth+Fe.textRects.width+30)&&(V="");var tt=d.globals.dataLabels.style.colors[I];(("bar"===d.config.chart.type||"rangeBar"===d.config.chart.type)&&d.config.plotOptions.bar.distributed||d.config.dataLabels.distributed)&&(tt=d.globals.dataLabels.style.colors[N]),"function"==typeof tt&&(tt=tt({series:d.globals.series,seriesIndex:I,dataPointIndex:N,w:d})),fe&&(tt=fe);var vt=ie.offsetX,W=ie.offsetY;if("bar"!==d.config.chart.type&&"rangeBar"!==d.config.chart.type||(vt=0,W=0),Fe.drawnextLabel){var ae=v.drawText({width:100,height:parseInt(ie.style.fontSize,10),x:S+vt,y:T+W,foreColor:tt,textAnchor:G||ie.textAnchor,text:V,fontSize:K||ie.style.fontSize,fontFamily:ie.style.fontFamily,fontWeight:ie.style.fontWeight||"normal"});if(ae.attr({class:"apexcharts-datalabel",cx:S,cy:T}),ie.dropShadow.enabled){var De=ie.dropShadow;new Ae(this.ctx).dropShadow(ae,De)}J.add(ae),void 0===d.globals.lastDrawnDataLabelsIndexes[I]&&(d.globals.lastDrawnDataLabelsIndexes[I]=[]),d.globals.lastDrawnDataLabelsIndexes[I].push(N)}}}},{key:"addBackgroundToDataLabel",value:function(h,d){var v=this.w,S=v.config.dataLabels.background,T=S.padding,I=S.padding/2,N=d.width,V=d.height,G=new je(this.ctx).drawRect(d.x-T,d.y-I/2,N+2*T,V+I,S.borderRadius,"transparent"===v.config.chart.background?"#fff":v.config.chart.background,S.opacity,S.borderWidth,S.borderColor);return S.dropShadow.enabled&&new Ae(this.ctx).dropShadow(G,S.dropShadow),G}},{key:"dataLabelsBackground",value:function(){var h=this.w;if("bubble"!==h.config.chart.type)for(var d=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),v=0;v<d.length;v++){var S=d[v],T=S.getBBox(),I=null;if(T.width&&T.height&&(I=this.addBackgroundToDataLabel(S,T)),I){S.parentNode.insertBefore(I.node,S);var N=S.getAttribute("fill");!h.config.chart.animations.enabled||h.globals.resized||h.globals.dataChanged?I.attr({fill:N}):I.animate().attr({fill:N}),S.setAttribute("fill",h.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var h=this.w,d=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),v=h.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),S=0;S<d.length;S++)v&&v.insertBefore(d[S],v.nextSibling)}}]),We}(),jt=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.legendInactiveClass="legend-mouseover-inactive"}return nt(We,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(h){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(de.escapeString(h),"']"))}},{key:"isSeriesHidden",value:function(h){var d=this.getSeriesByName(h),v=parseInt(d.getAttribute("data:realIndex"),10);return{isHidden:d.classList.contains("apexcharts-series-collapsed"),realIndex:v}}},{key:"addCollapsedClassToSeries",value:function(h,d){var v=this.w;function S(T){for(var I=0;I<T.length;I++)T[I].index===d&&h.node.classList.add("apexcharts-series-collapsed")}S(v.globals.collapsedSeries),S(v.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(h){var d=this.isSeriesHidden(h);return this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,d.isHidden),d.isHidden}},{key:"showSeries",value:function(h){var d=this.isSeriesHidden(h);d.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!0)}},{key:"hideSeries",value:function(h){var d=this.isSeriesHidden(h);d.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!1)}},{key:"resetSeries",value:function(){var h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=this.w,T=de.clone(S.globals.initialSeries);S.globals.previousPaths=[],v?(S.globals.collapsedSeries=[],S.globals.ancillaryCollapsedSeries=[],S.globals.collapsedSeriesIndices=[],S.globals.ancillaryCollapsedSeriesIndices=[]):T=this.emptyCollapsedSeries(T),S.config.series=T,h&&(d&&(S.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(T,S.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(h){for(var d=this.w,v=0;v<h.length;v++)d.globals.collapsedSeriesIndices.indexOf(v)>-1&&(h[v].data=[]);return h}},{key:"toggleSeriesOnHover",value:function(h,d){var v=this.w;d||(d=h.target);var S=v.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===h.type){var T=parseInt(d.getAttribute("rel"),10)-1,I=null,N=null;v.globals.axisCharts||"radialBar"===v.config.chart.type?v.globals.axisCharts?(I=v.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(T,"']")),N=v.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(T,"']"))):I=v.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(T+1,"']")):I=v.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(T+1,"'] path"));for(var V=0;V<S.length;V++)S[V].classList.add(this.legendInactiveClass);null!==I&&(v.globals.axisCharts||I.parentNode.classList.remove(this.legendInactiveClass),I.classList.remove(this.legendInactiveClass),null!==N&&N.classList.remove(this.legendInactiveClass))}else if("mouseout"===h.type)for(var G=0;G<S.length;G++)S[G].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(h,d){var v=this,S=this.w,T=S.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),I=function(V){for(var G=0;G<T.length;G++)T[G].classList[V](v.legendInactiveClass)};if("mousemove"===h.type){var N=parseInt(d.getAttribute("rel"),10)-1;I("add"),function(V){for(var G=0;G<T.length;G++){var K=parseInt(T[G].getAttribute("val"),10);K>=V.from&&K<=V.to&&T[G].classList.remove(v.legendInactiveClass)}}(S.config.plotOptions.heatmap.colorScale.ranges[N])}else"mouseout"===h.type&&I("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],v=this.w,S=0;if(v.config.series.length>1)for(var T=v.config.series.map(function(N,V){return N.data&&N.data.length>0&&-1===v.globals.collapsedSeriesIndices.indexOf(V)&&(!v.globals.comboCharts||0===d.length||d.length&&d.indexOf(v.config.series[V].type)>-1)?V:-1}),I="asc"===h?0:T.length-1;"asc"===h?I<T.length:I>=0;"asc"===h?I++:I--)if(-1!==T[I]){S=T[I];break}return S}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(h,d){return"bar"===h.type||"column"===h.type?d:-1}).filter(function(h){return-1!==h}):this.w.config.series.map(function(h,d){return d})}},{key:"getPreviousPaths",value:function(){var h=this.w;function d(I,N,V){for(var G=I[N].childNodes,K={type:V,paths:[],realIndex:I[N].getAttribute("data:realIndex")},J=0;J<G.length;J++)if(G[J].hasAttribute("pathTo")){var ie=G[J].getAttribute("pathTo");K.paths.push({d:ie})}h.globals.previousPaths.push(K)}h.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(I){for(var V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(I,"-series .apexcharts-series")),G=0;G<V.length;G++)d(V,G,I)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var v=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series"));if(v.length>0)for(var S=function(I){for(var N=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(I,"'] rect")),V=[],G=function(J){var ie=function(Se){return N[J].getAttribute(Se)},fe={x:parseFloat(ie("x")),y:parseFloat(ie("y")),width:parseFloat(ie("width")),height:parseFloat(ie("height"))};V.push({rect:fe,color:N[J].getAttribute("color")})},K=0;K<N.length;K++)G(K);h.globals.previousPaths.push(V)},T=0;T<v.length;T++)S(T);h.globals.axisCharts||(h.globals.previousPaths=h.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(h){var d=this.w,v=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series"));if(v.length>0)for(var S=0;S<v.length;S++){for(var T=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series[data\\:realIndex='").concat(S,"'] circle")),I=[],N=0;N<T.length;N++)I.push({x:T[N].getAttribute("cx"),y:T[N].getAttribute("cy"),r:T[N].getAttribute("r")});d.globals.previousPaths.push(I)}}},{key:"clearPreviousPaths",value:function(){var h=this.w;h.globals.previousPaths=[],h.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var h=this.w,d=h.config.noData,v=new je(this.ctx),S=h.globals.svgWidth/2,T=h.globals.svgHeight/2,I="middle";if(h.globals.noData=!0,h.globals.animationEnded=!0,"left"===d.align?(S=10,I="start"):"right"===d.align&&(S=h.globals.svgWidth-10,I="end"),"top"===d.verticalAlign?T=50:"bottom"===d.verticalAlign&&(T=h.globals.svgHeight-50),S+=d.offsetX,T=T+parseInt(d.style.fontSize,10)+2+d.offsetY,void 0!==d.text&&""!==d.text){var N=v.drawText({x:S,y:T,text:d.text,textAnchor:I,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,foreColor:d.style.color,opacity:1,class:"apexcharts-text-nodata"});h.globals.dom.Paper.add(N)}}},{key:"setNullSeriesToZeroValues",value:function(h){for(var d=this.w,v=0;v<h.length;v++)if(0===h[v].length)for(var S=0;S<h[d.globals.maxValsInArrayIndex].length;S++)h[v].push(0);return h}},{key:"hasAllSeriesEqualX",value:function(){for(var h=!0,d=this.w,v=this.filteredSeriesX(),S=0;S<v.length-1;S++)if(v[S][0]!==v[S+1][0]){h=!1;break}return d.globals.allSeriesHasEqualX=h,h}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(d){return d.length>0?d:[]})}}]),We}(),Zt=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Ke(this.ctx)}return nt(We,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var h=this.w.config.series.slice(),d=new jt(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),void 0!==h[this.activeSeriesIndex].data&&h[this.activeSeriesIndex].data.length>0&&null!==h[this.activeSeriesIndex].data[0]&&void 0!==h[this.activeSeriesIndex].data[0].x&&null!==h[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var h=this.w.config.series.slice(),d=new jt(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),void 0!==h[this.activeSeriesIndex].data&&h[this.activeSeriesIndex].data.length>0&&null!=h[this.activeSeriesIndex].data[0]&&h[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(h,d){for(var v=this.w.config,S=this.w.globals,T="boxPlot"===v.chart.type||"boxPlot"===v.series[d].type,I=0;I<h[d].data.length;I++)if(void 0!==h[d].data[I][1]&&(Array.isArray(h[d].data[I][1])&&4===h[d].data[I][1].length&&!T?this.twoDSeries.push(de.parseNumber(h[d].data[I][1][3])):this.twoDSeries.push(de.parseNumber(h[d].data[I].length>=5?h[d].data[I][4]:h[d].data[I][1])),S.dataFormatXNumeric=!0),"datetime"===v.xaxis.type){var N=new Date(h[d].data[I][0]);N=new Date(N).getTime(),this.twoDSeriesX.push(N)}else this.twoDSeriesX.push(h[d].data[I][0]);for(var V=0;V<h[d].data.length;V++)void 0!==h[d].data[V][2]&&(this.threeDSeries.push(h[d].data[V][2]),S.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(h,d){var v=this.w.config,S=this.w.globals,T=new zt(this.ctx),I=d;S.collapsedSeriesIndices.indexOf(d)>-1&&(I=this.activeSeriesIndex);for(var N=0;N<h[d].data.length;N++)void 0!==h[d].data[N].y&&(Array.isArray(h[d].data[N].y)?this.twoDSeries.push(de.parseNumber(h[d].data[N].y[h[d].data[N].y.length-1])):this.twoDSeries.push(de.parseNumber(h[d].data[N].y))),void 0!==h[d].data[N].goals&&Array.isArray(h[d].data[N].goals)?(void 0===this.seriesGoals[d]&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(h[d].data[N].goals)):(void 0===this.seriesGoals[d]&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(null));for(var V=0;V<h[I].data.length;V++){var G="string"==typeof h[I].data[V].x,K=Array.isArray(h[I].data[V].x),J=!K&&!!T.isValidDate(h[I].data[V].x);G||J?G||v.xaxis.convertedCatToNumeric?"datetime"!==v.xaxis.type||S.isBarHorizontal&&S.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[I].data[V].x),isNaN(h[I].data[V].x)||"category"===this.w.config.xaxis.type||"string"==typeof h[I].data[V].x||(S.isXNumeric=!0)):this.twoDSeriesX.push(T.parseDate(h[I].data[V].x)):"datetime"===v.xaxis.type?this.twoDSeriesX.push(T.parseDate(h[I].data[V].x.toString())):(S.dataFormatXNumeric=!0,S.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(h[I].data[V].x))):K?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[I].data[V].x)):(S.isXNumeric=!0,S.dataFormatXNumeric=!0,this.twoDSeriesX.push(h[I].data[V].x))}if(h[d].data[0]&&void 0!==h[d].data[0].z){for(var fe=0;fe<h[d].data.length;fe++)this.threeDSeries.push(h[d].data[fe].z);S.isDataXYZ=!0}}},{key:"handleRangeData",value:function(h,d){var v=this.w.globals,S={};return this.isFormat2DArray()?S=this.handleRangeDataFormat("array",h,d):this.isFormatXY()&&(S=this.handleRangeDataFormat("xy",h,d)),v.seriesRangeStart.push(S.start),v.seriesRangeEnd.push(S.end),v.seriesRange.push(S.rangeUniques),v.seriesRange.forEach(function(T,I){T&&T.forEach(function(N,V){N.y.forEach(function(G,K){for(var J=0;J<N.y.length;J++)K!==J&&G.y1<=N.y[J].y2&&N.y[J].y1<=G.y2&&(N.overlaps.indexOf(G.rangeName)<0&&N.overlaps.push(G.rangeName),N.overlaps.indexOf(N.y[J].rangeName)<0&&N.overlaps.push(N.y[J].rangeName))})})}),S}},{key:"handleCandleStickBoxData",value:function(h,d){var v=this.w.globals,S={};return this.isFormat2DArray()?S=this.handleCandleStickBoxDataFormat("array",h,d):this.isFormatXY()&&(S=this.handleCandleStickBoxDataFormat("xy",h,d)),v.seriesCandleO[d]=S.o,v.seriesCandleH[d]=S.h,v.seriesCandleM[d]=S.m,v.seriesCandleL[d]=S.l,v.seriesCandleC[d]=S.c,S}},{key:"handleRangeDataFormat",value:function(h,d,v){var S=[],T=[],I=d[v].data.filter(function(K,J,ie){return J===ie.findIndex(function(fe){return fe.x===K.x})}).map(function(K,J){return{x:K.x,overlaps:[],y:[]}});if("array"===h)for(var N=0;N<d[v].data.length;N++)Array.isArray(d[v].data[N])?(S.push(d[v].data[N][1][0]),T.push(d[v].data[N][1][1])):(S.push(d[v].data[N]),T.push(d[v].data[N]));else if("xy"===h)for(var V=function(K){var J=Array.isArray(d[v].data[K].y),ie=de.randomId(),fe=d[v].data[K].x,Se={y1:J?d[v].data[K].y[0]:d[v].data[K].y,y2:J?d[v].data[K].y[1]:d[v].data[K].y,rangeName:ie};d[v].data[K].rangeName=ie;var Le=I.findIndex(function(Fe){return Fe.x===fe});I[Le].y.push(Se),S.push(Se.y1),T.push(Se.y2)},G=0;G<d[v].data.length;G++)V(G);return{start:S,end:T,rangeUniques:I}}},{key:"handleCandleStickBoxDataFormat",value:function(h,d,v){var S=this.w,T="boxPlot"===S.config.chart.type||"boxPlot"===S.config.series[v].type,I=[],N=[],V=[],G=[],K=[];if("array"===h)if(T&&6===d[v].data[0].length||!T&&5===d[v].data[0].length)for(var J=0;J<d[v].data.length;J++)I.push(d[v].data[J][1]),N.push(d[v].data[J][2]),T?(V.push(d[v].data[J][3]),G.push(d[v].data[J][4]),K.push(d[v].data[J][5])):(G.push(d[v].data[J][3]),K.push(d[v].data[J][4]));else for(var ie=0;ie<d[v].data.length;ie++)Array.isArray(d[v].data[ie][1])&&(I.push(d[v].data[ie][1][0]),N.push(d[v].data[ie][1][1]),T?(V.push(d[v].data[ie][1][2]),G.push(d[v].data[ie][1][3]),K.push(d[v].data[ie][1][4])):(G.push(d[v].data[ie][1][2]),K.push(d[v].data[ie][1][3])));else if("xy"===h)for(var fe=0;fe<d[v].data.length;fe++)Array.isArray(d[v].data[fe].y)&&(I.push(d[v].data[fe].y[0]),N.push(d[v].data[fe].y[1]),T?(V.push(d[v].data[fe].y[2]),G.push(d[v].data[fe].y[3]),K.push(d[v].data[fe].y[4])):(G.push(d[v].data[fe].y[2]),K.push(d[v].data[fe].y[3])));return{o:I,h:N,m:V,l:G,c:K}}},{key:"parseDataAxisCharts",value:function(h){var d,v=this,T=this.w.config,I=this.w.globals,N=new zt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),V=T.labels.length>0?T.labels.slice():T.xaxis.categories.slice();if(I.isRangeBar="rangeBar"===T.chart.type&&I.isBarHorizontal,I.hasXaxisGroups="category"===T.xaxis.type&&T.xaxis.group.groups.length>0,I.hasXaxisGroups&&(I.groups=T.xaxis.group.groups),I.hasSeriesGroups=null===(d=h[0])||void 0===d?void 0:d.group,I.hasSeriesGroups){var G=[],K=Ne(new Set(h.map(function(Se){return Se.group})));h.forEach(function(Se,Le){var Fe=K.indexOf(Se.group);G[Fe]||(G[Fe]=[]),G[Fe].push(Se.name)}),I.seriesGroups=G}for(var J=function(){for(var Se=0;Se<V.length;Se++)if("string"==typeof V[Se]){if(!N.isValidDate(V[Se]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");v.twoDSeriesX.push(N.parseDate(V[Se]))}else v.twoDSeriesX.push(V[Se])},ie=0;ie<h.length;ie++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===h[ie].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==T.chart.type&&"rangeArea"!==T.chart.type&&"rangeBar"!==h[ie].type&&"rangeArea"!==h[ie].type||(I.isRangeData=!0,"rangeBar"!==T.chart.type&&"rangeArea"!==T.chart.type||this.handleRangeData(h,ie)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(h,ie):this.isFormatXY()&&this.handleFormatXY(h,ie),"candlestick"!==T.chart.type&&"candlestick"!==h[ie].type&&"boxPlot"!==T.chart.type&&"boxPlot"!==h[ie].type||this.handleCandleStickBoxData(h,ie),I.series.push(this.twoDSeries),I.labels.push(this.twoDSeriesX),I.seriesX.push(this.twoDSeriesX),I.seriesGoals=this.seriesGoals,ie!==this.activeSeriesIndex||this.fallbackToCategory||(I.isXNumeric=!0);else{"datetime"===T.xaxis.type?(I.isXNumeric=!0,J(),I.seriesX.push(this.twoDSeriesX)):"numeric"===T.xaxis.type&&(I.isXNumeric=!0,V.length>0&&(this.twoDSeriesX=V,I.seriesX.push(this.twoDSeriesX))),I.labels.push(this.twoDSeriesX);var fe=h[ie].data.map(function(Se){return de.parseNumber(Se)});I.series.push(fe)}I.seriesZ.push(this.threeDSeries),I.seriesNames.push(void 0!==h[ie].name?h[ie].name:"series-"+parseInt(ie+1,10)),I.seriesColors.push(void 0!==h[ie].color?h[ie].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(h){var d=this.w.globals,v=this.w.config;d.series=h.slice(),d.seriesNames=v.labels.slice();for(var S=0;S<d.series.length;S++)void 0===d.seriesNames[S]&&d.seriesNames.push("series-"+(S+1));return this.w}},{key:"handleExternalLabelsData",value:function(h){var d=this.w.config,v=this.w.globals;d.xaxis.categories.length>0?v.labels=d.xaxis.categories:d.labels.length>0?v.labels=d.labels.slice():this.fallbackToCategory?(v.labels=v.labels[0],v.seriesRange.length&&(v.seriesRange.map(function(S){S.forEach(function(T){v.labels.indexOf(T.x)<0&&T.x&&v.labels.push(T.x)})}),v.labels=Array.from(new Set(v.labels.map(JSON.stringify)),JSON.parse)),d.xaxis.convertedCatToNumeric&&(new hn(d).convertCatToNumericXaxis(d,this.ctx,v.seriesX[0]),this._generateExternalLabels(h))):this._generateExternalLabels(h)}},{key:"_generateExternalLabels",value:function(h){var d=this.w.globals,v=this.w.config,S=[];if(d.axisCharts){if(d.series.length>0)if(this.isFormatXY())for(var T=v.series.map(function(J,ie){return J.data.filter(function(fe,Se,Le){return Le.findIndex(function(Fe){return Fe.x===fe.x})===Se})}),I=T.reduce(function(J,ie,fe,Se){return Se[J].length>ie.length?J:fe},0),N=0;N<T[I].length;N++)S.push(N+1);else for(var V=0;V<d.series[d.maxValsInArrayIndex].length;V++)S.push(V+1);d.seriesX=[];for(var G=0;G<h.length;G++)d.seriesX.push(S);this.w.globals.isBarHorizontal||(d.isXNumeric=!0)}if(0===S.length){S=d.axisCharts?[]:d.series.map(function(J,ie){return ie+1});for(var K=0;K<h.length;K++)d.seriesX.push(S)}d.labels=S,v.xaxis.convertedCatToNumeric&&(d.categoryLabels=S.map(function(J){return v.xaxis.labels.formatter(J)})),d.noLabelsProvided=!0}},{key:"parseData",value:function(h){var d=this.w,v=d.config,S=d.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),S.axisCharts?(this.parseDataAxisCharts(h),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(h),v.chart.stacked){var T=new jt(this.ctx);S.series=T.setNullSeriesToZeroValues(S.series)}this.coreUtils.getSeriesTotals(),S.axisCharts&&(S.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),S.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),S.dataFormatXNumeric||S.isXNumeric&&("numeric"!==v.xaxis.type||0!==v.labels.length||0!==v.xaxis.categories.length)||this.handleExternalLabelsData(h);for(var I=this.coreUtils.getCategoryLabels(S.labels),N=0;N<I.length;N++)if(Array.isArray(I[N])){S.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var h=this,d=this.w;d.globals.ignoreYAxisIndexes=d.globals.collapsedSeries.map(function(v,S){if(h.w.globals.isMultipleYAxis&&!d.config.chart.stacked)return v.index})}}]),We}(),Et=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"getLabel",value:function(h,d,v,S){var Fe,tt,T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",N=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],V=this.w,G=void 0===h[S]?"":h[S],K=G,J=V.globals.xLabelFormatter,ie=V.config.xaxis.labels.formatter,fe=!1,Se=new _t(this.ctx);N&&(K=Se.xLabelFormat(J,G,G,{i:S,dateFormatter:new zt(this.ctx).formatDate,w:V}),void 0!==ie&&(K=ie(G,h[S],{i:S,dateFormatter:new zt(this.ctx).formatDate,w:V}))),d.length>0?(Fe=d[S].unit,tt=null,d.forEach(function(De){"month"===De.unit?tt="year":"day"===De.unit?tt="month":"hour"===De.unit?tt="day":"minute"===De.unit&&(tt="hour")}),fe=tt===Fe,v=d[S].position,K=d[S].value):"datetime"===V.config.xaxis.type&&void 0===ie&&(K=""),void 0===K&&(K=""),K=Array.isArray(K)?K:K.toString();var W,vt=new je(this.ctx);W=V.globals.rotateXLabels&&N?vt.getTextRects(K,parseInt(I,10),null,"rotate(".concat(V.config.xaxis.labels.rotate," 0 0)"),!1):vt.getTextRects(K,parseInt(I,10));var ae=!V.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(K)&&("NaN"===String(K)||T.indexOf(K)>=0&&ae)&&(K=""),{x:v,text:K,textRect:W,isBold:fe}}},{key:"checkLabelBasedOnTickamount",value:function(h,d,v){var S=this.w,T=S.config.xaxis.tickAmount;return"dataPoints"===T&&(T=Math.round(S.globals.gridWidth/120)),T>v||h%Math.round(v/(T+1))==0||(d.text=""),d}},{key:"checkForOverflowingLabels",value:function(h,d,v,S,T){var I=this.w;if(0===h&&I.globals.skipFirstTimelinelabel&&(d.text=""),h===v-1&&I.globals.skipLastTimelinelabel&&(d.text=""),I.config.xaxis.labels.hideOverlappingLabels&&S.length>0){var N=T[T.length-1];d.x<N.textRect.width/(I.globals.rotateXLabels?Math.abs(I.config.xaxis.labels.rotate)/12:1.01)+N.x&&(d.text="")}return d}},{key:"checkForReversedLabels",value:function(h,d){var v=this.w;return v.config.yaxis[h]&&v.config.yaxis[h].reversed&&d.reverse(),d}},{key:"isYAxisHidden",value:function(h){var d=this.w,v=new Ke(this.ctx);return!d.config.yaxis[h].show||!d.config.yaxis[h].showForNullSeries&&v.isSeriesNull(h)&&-1===d.globals.collapsedSeriesIndices.indexOf(h)}},{key:"getYAxisForeColor",value:function(h,d){var v=this.w;return Array.isArray(h)&&v.globals.yAxisScale[d]&&this.ctx.theme.pushExtraColors(h,v.globals.yAxisScale[d].result.length,!1),h}},{key:"drawYAxisTicks",value:function(h,d,v,S,T,I,N){var V=this.w,G=new je(this.ctx),K=V.globals.translateY;if(S.show&&d>0){!0===V.config.yaxis[T].opposite&&(h+=S.width);for(var J=d;J>=0;J--){var ie=K+d/10+V.config.yaxis[T].labels.offsetY-1;V.globals.isBarHorizontal&&(ie=I*J),"heatmap"===V.config.chart.type&&(ie+=I/2);var fe=G.drawLine(h+v.offsetX-S.width+S.offsetX,ie+S.offsetY,h+v.offsetX+S.offsetX,ie+S.offsetY,S.color);N.add(fe),K+=I}}}}]),We}(),xn=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"scaleSvgNode",value:function(h,d){var v=parseFloat(h.getAttributeNS(null,"width")),S=parseFloat(h.getAttributeNS(null,"height"));h.setAttributeNS(null,"width",v*d),h.setAttributeNS(null,"height",S*d),h.setAttributeNS(null,"viewBox","0 0 "+v+" "+S)}},{key:"fixSvgStringForIe11",value:function(h){if(!de.isIE11())return h.replace(/&nbsp;/g,"&#160;");var d=0,v=h.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(S){return 2==++d?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':S});return(v=v.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(h){null==h&&(h=1);var d=this.w.globals.dom.Paper.svg();if(1!==h){var v=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(v,h),d=(new XMLSerializer).serializeToString(v)}return this.fixSvgStringForIe11(d)}},{key:"cleanup",value:function(){var h=this.w,d=h.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),v=h.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),S=h.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(S,function(T){T.setAttribute("width",0)}),d&&d[0]&&(d[0].setAttribute("x",-500),d[0].setAttribute("x1",-500),d[0].setAttribute("x2",-500)),v&&v[0]&&(v[0].setAttribute("y",-100),v[0].setAttribute("y1",-100),v[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var h=this.getSvgString(),d=new Blob([h],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(d)}},{key:"dataURI",value:function(h){var d=this;return new Promise(function(v){var S=d.w,T=h?h.scale||h.width/S.globals.svgWidth:1;d.cleanup();var I=document.createElement("canvas");I.width=S.globals.svgWidth*T,I.height=parseInt(S.globals.dom.elWrap.style.height,10)*T;var N="transparent"===S.config.chart.background?"#fff":S.config.chart.background,V=I.getContext("2d");V.fillStyle=N,V.fillRect(0,0,I.width*T,I.height*T);var G=d.getSvgString(T);if(window.canvg&&de.isIE11()){var K=window.canvg.Canvg.fromString(V,G,{ignoreClear:!0,ignoreDimensions:!0});K.start();var J=I.msToBlob();K.stop(),v({blob:J})}else{var ie="data:image/svg+xml,"+encodeURIComponent(G),fe=new Image;fe.crossOrigin="anonymous",fe.onload=function(){if(V.drawImage(fe,0,0),I.msToBlob){var Se=I.msToBlob();v({blob:Se})}else{var Le=I.toDataURL("image/png");v({imgURI:Le})}},fe.src=ie}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var h=this;this.dataURI().then(function(d){var v=d.imgURI,S=d.blob;S?navigator.msSaveOrOpenBlob(S,h.w.globals.chartID+".png"):h.triggerDownload(v,h.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(h){var d=this,v=h.series,S=h.fileName,T=h.columnDelimiter,I=void 0===T?",":T,N=h.lineDelimiter,V=void 0===N?"\n":N,G=this.w;v||(v=G.config.series);var K,J,ie=[],fe=[],Se="",Le=G.globals.series.map(function(Ue,dt){return-1===G.globals.collapsedSeriesIndices.indexOf(dt)?Ue:[]}),Fe=function(Ue){return"datetime"===G.config.xaxis.type&&String(Ue).length>=10},tt=Math.max.apply(Math,Ne(v.map(function(Ue){return Ue.data?Ue.data.length:0}))),vt=new Zt(this.ctx),W=new Et(this.ctx),ae=function(Ue){var dt="";if(G.globals.axisCharts){if("category"===G.config.xaxis.type||G.config.xaxis.convertedCatToNumeric)if(G.globals.isBarHorizontal){var kt=G.globals.yLabelFormatters[0],Xt=new jt(d.ctx).getActiveConfigSeriesIndex();dt=kt(G.globals.labels[Ue],{seriesIndex:Xt,dataPointIndex:Ue,w:G})}else dt=W.getLabel(G.globals.labels,G.globals.timescaleLabels,0,Ue).text;"datetime"===G.config.xaxis.type&&(G.config.xaxis.categories.length?dt=G.config.xaxis.categories[Ue]:G.config.labels.length&&(dt=G.config.labels[Ue]))}else dt=G.config.labels[Ue];return Array.isArray(dt)&&(dt=dt.join(" ")),de.isNumber(dt)?dt:dt.split(I).join("")};ie.push(G.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===G.config.chart.type?(ie.push("minimum"),ie.push("q1"),ie.push("median"),ie.push("q3"),ie.push("maximum")):"candlestick"===G.config.chart.type?(ie.push("open"),ie.push("high"),ie.push("low"),ie.push("close")):"rangeBar"===G.config.chart.type?(ie.push("minimum"),ie.push("maximum")):v.map(function(Ue,dt){var kt=(Ue.name?Ue.name:"series-".concat(dt))+"";G.globals.axisCharts&&ie.push(kt.split(I).join("")?kt.split(I).join(""):"series-".concat(dt))}),G.globals.axisCharts||(ie.push(G.config.chart.toolbar.export.csv.headerValue),fe.push(ie.join(I))),G.globals.allSeriesHasEqualX||!G.globals.axisCharts||G.config.xaxis.categories.length||G.config.labels.length?v.map(function(Ue,dt){G.globals.axisCharts?function(Ue,dt){if(ie.length&&0===dt&&fe.push(ie.join(I)),Ue.data){Ue.data=Ue.data.length&&Ue.data||Ne(Array(tt)).map(function(){return""});for(var kt=0;kt<Ue.data.length;kt++){ie=[];var Xt=ae(kt);if(Xt||(vt.isFormatXY()?Xt=v[dt].data[kt].x:vt.isFormat2DArray()&&(Xt=v[dt].data[kt]?v[dt].data[kt][0]:"")),0===dt){ie.push(Fe(Xt)?G.config.chart.toolbar.export.csv.dateFormatter(Xt):de.isNumber(Xt)?Xt:Xt.split(I).join(""));for(var qt=0;qt<G.globals.series.length;qt++){var Sn;vt.isFormatXY()?ie.push(null===(Sn=v[qt].data[kt])||void 0===Sn?void 0:Sn.y):ie.push(Le[qt][kt])}}("candlestick"===G.config.chart.type||Ue.type&&"candlestick"===Ue.type)&&(ie.pop(),ie.push(G.globals.seriesCandleO[dt][kt]),ie.push(G.globals.seriesCandleH[dt][kt]),ie.push(G.globals.seriesCandleL[dt][kt]),ie.push(G.globals.seriesCandleC[dt][kt])),("boxPlot"===G.config.chart.type||Ue.type&&"boxPlot"===Ue.type)&&(ie.pop(),ie.push(G.globals.seriesCandleO[dt][kt]),ie.push(G.globals.seriesCandleH[dt][kt]),ie.push(G.globals.seriesCandleM[dt][kt]),ie.push(G.globals.seriesCandleL[dt][kt]),ie.push(G.globals.seriesCandleC[dt][kt])),"rangeBar"===G.config.chart.type&&(ie.pop(),ie.push(G.globals.seriesRangeStart[dt][kt]),ie.push(G.globals.seriesRangeEnd[dt][kt])),ie.length&&fe.push(ie.join(I))}}}(Ue,dt):((ie=[]).push(G.globals.labels[dt].split(I).join("")),ie.push(Le[dt]),fe.push(ie.join(I)))}):(K=new Set,J={},v.forEach(function(Ue,dt){Ue?.data.forEach(function(kt){var Xt,qt;if(vt.isFormatXY())Xt=kt.x,qt=kt.y;else{if(!vt.isFormat2DArray())return;Xt=kt[0],qt=kt[1]}J[Xt]||(J[Xt]=Array(v.length).fill("")),J[Xt][dt]=qt,K.add(Xt)})}),ie.length&&fe.push(ie.join(I)),Array.from(K).sort().forEach(function(Ue){fe.push([Fe(Ue)&&"datetime"===G.config.xaxis.type?G.config.chart.toolbar.export.csv.dateFormatter(Ue):de.isNumber(Ue)?Ue:Ue.split(I).join(""),J[Ue].join(I)])})),Se+=fe.join(V),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+Se),S||G.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(h,d,v){var S=document.createElement("a");S.href=h,S.download=(d||this.w.globals.chartID)+v,document.body.appendChild(S),S.click(),document.body.removeChild(S)}}]),We}(),Bt=function(){function We(h,d){it(this,We),this.ctx=h,this.elgrid=d,this.w=h.w;var v=this.w;this.axesUtils=new Et(h),this.xaxisLabels=v.globals.labels.slice(),v.globals.timescaleLabels.length>0&&!v.globals.isBarHorizontal&&(this.xaxisLabels=v.globals.timescaleLabels.slice()),v.config.xaxis.overwriteCategories&&(this.xaxisLabels=v.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===v.config.xaxis.position?0:v.globals.gridHeight+1,this.offY=this.offY+v.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===v.config.chart.type&&v.config.plotOptions.bar.horizontal,this.xaxisFontSize=v.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=v.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=v.config.xaxis.labels.style.colors,this.xaxisBorderWidth=v.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=v.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?v.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=v.config.xaxis.axisBorder.height,this.yaxis=v.config.yaxis[0]}return nt(We,[{key:"drawXaxis",value:function(){var h=this.w,d=new je(this.ctx),v=d.group({class:"apexcharts-xaxis",transform:"translate(".concat(h.config.xaxis.offsetX,", ").concat(h.config.xaxis.offsetY,")")}),S=d.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(h.globals.translateXAxisX,", ").concat(h.globals.translateXAxisY,")")});v.add(S);for(var T=[],I=0;I<this.xaxisLabels.length;I++)T.push(this.xaxisLabels[I]);if(this.drawXAxisLabelAndGroup(!0,d,S,T,h.globals.isXNumeric,function(Se,Le){return Le}),h.globals.hasXaxisGroups){var N=h.globals.groups;T=[];for(var V=0;V<N.length;V++)T.push(N[V].title);var G={};h.config.xaxis.group.style&&(G.xaxisFontSize=h.config.xaxis.group.style.fontSize,G.xaxisFontFamily=h.config.xaxis.group.style.fontFamily,G.xaxisForeColors=h.config.xaxis.group.style.colors,G.fontWeight=h.config.xaxis.group.style.fontWeight,G.cssClass=h.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,d,S,T,!1,function(Se,Le){return N[Se].cols*Le},G)}if(void 0!==h.config.xaxis.title.text){var K=d.group({class:"apexcharts-xaxis-title"}),J=d.drawText({x:h.globals.gridWidth/2+h.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===h.config.xaxis.position?h.globals.xAxisLabelsHeight:-h.globals.xAxisLabelsHeight-10)+h.config.xaxis.title.offsetY,text:h.config.xaxis.title.text,textAnchor:"middle",fontSize:h.config.xaxis.title.style.fontSize,fontFamily:h.config.xaxis.title.style.fontFamily,fontWeight:h.config.xaxis.title.style.fontWeight,foreColor:h.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+h.config.xaxis.title.style.cssClass});K.add(J),v.add(K)}if(h.config.xaxis.axisBorder.show){var ie=h.globals.barPadForNumericAxis,fe=d.drawLine(h.globals.padHorizontal+h.config.xaxis.axisBorder.offsetX-ie,this.offY,this.xaxisBorderWidth+ie,this.offY,h.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&h.config.grid.show?this.elgrid.elGridBorders.add(fe):v.add(fe)}return v}},{key:"drawXAxisLabelAndGroup",value:function(h,d,v,S,T,I){var N,V=this,G=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},K=[],J=[],ie=this.w,fe=G.xaxisFontSize||this.xaxisFontSize,Se=G.xaxisFontFamily||this.xaxisFontFamily,Le=G.xaxisForeColors||this.xaxisForeColors,Fe=G.fontWeight||ie.config.xaxis.labels.style.fontWeight,tt=G.cssClass||ie.config.xaxis.labels.style.cssClass,vt=ie.globals.padHorizontal,W=S.length,ae="category"===ie.config.xaxis.type?ie.globals.dataPoints:W;0===ae&&W>ae&&(ae=W),T?(N=ie.globals.gridWidth/Math.min(ae>1?ae-1:ae,W-1),vt=vt+I(0,N)/2+ie.config.xaxis.labels.offsetX):vt=vt+I(0,N=ie.globals.gridWidth/ae)+ie.config.xaxis.labels.offsetX;for(var Ue=function(kt){var Xt=vt-I(kt,N)/2+ie.config.xaxis.labels.offsetX;0===kt&&1===W&&N/2===vt&&1===ae&&(Xt=ie.globals.gridWidth/2);var qt=V.axesUtils.getLabel(S,ie.globals.timescaleLabels,Xt,kt,K,fe,h),Sn=28;if(ie.globals.rotateXLabels&&h&&(Sn=22),ie.config.xaxis.title.text&&"top"===ie.config.xaxis.position&&(Sn+=parseFloat(ie.config.xaxis.title.style.fontSize)+2),h||(Sn=Sn+parseFloat(fe)+(ie.globals.xAxisLabelsHeight-ie.globals.xAxisGroupLabelsHeight)+(ie.globals.rotateXLabels?10:0)),qt=void 0!==ie.config.xaxis.tickAmount&&"dataPoints"!==ie.config.xaxis.tickAmount&&"datetime"!==ie.config.xaxis.type?V.axesUtils.checkLabelBasedOnTickamount(kt,qt,W):V.axesUtils.checkForOverflowingLabels(kt,qt,W,K,J),ie.config.xaxis.labels.show){var Mn=d.drawText({x:qt.x,y:V.offY+ie.config.xaxis.labels.offsetY+Sn-("top"===ie.config.xaxis.position?ie.globals.xAxisHeight+ie.config.xaxis.axisTicks.height-2:0),text:qt.text,textAnchor:"middle",fontWeight:qt.isBold?600:Fe,fontSize:fe,fontFamily:Se,foreColor:Array.isArray(Le)?h&&ie.config.xaxis.convertedCatToNumeric?Le[ie.globals.minX+kt-1]:Le[kt]:Le,isPlainText:!1,cssClass:(h?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+tt});if(v.add(Mn),Mn.on("click",function(gi){if("function"==typeof ie.config.chart.events.xAxisLabelClick){var Ei=Object.assign({},ie,{labelIndex:kt});ie.config.chart.events.xAxisLabelClick(gi,V.ctx,Ei)}}),h){var Cn=document.createElementNS(ie.globals.SVGNS,"title");Cn.textContent=Array.isArray(qt.text)?qt.text.join(" "):qt.text,Mn.node.appendChild(Cn),""!==qt.text&&(K.push(qt.text),J.push(qt))}}kt<W-1&&(vt+=I(kt+1,N))},dt=0;dt<=W-1;dt++)Ue(dt)}},{key:"drawXaxisInversed",value:function(h){var d,v,S=this,T=this.w,I=new je(this.ctx),N=T.config.yaxis[0].opposite?T.globals.translateYAxisX[h]:0,V=I.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:h}),G=I.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+N+", 0)"});V.add(G);var K=[];if(T.config.yaxis[h].show)for(var J=0;J<this.xaxisLabels.length;J++)K.push(this.xaxisLabels[J]);v=-(d=T.globals.gridHeight/K.length)/2.2;var ie=T.globals.yLabelFormatters[0],fe=T.config.yaxis[0].labels;if(fe.show)for(var Se=function(De){var Ue=void 0===K[De]?"":K[De];Ue=ie(Ue,{seriesIndex:h,dataPointIndex:De,w:T});var dt=S.axesUtils.getYAxisForeColor(fe.style.colors,h),kt=0;Array.isArray(Ue)&&(kt=Ue.length/2*parseInt(fe.style.fontSize,10));var Xt=fe.offsetX-15,qt="end";S.yaxis.opposite&&(qt="start"),"left"===T.config.yaxis[0].labels.align?(Xt=fe.offsetX,qt="start"):"center"===T.config.yaxis[0].labels.align?(Xt=fe.offsetX,qt="middle"):"right"===T.config.yaxis[0].labels.align&&(qt="end");var Sn=I.drawText({x:Xt,y:v+d+fe.offsetY-kt,text:Ue,textAnchor:qt,foreColor:Array.isArray(dt)?dt[De]:dt,fontSize:fe.style.fontSize,fontFamily:fe.style.fontFamily,fontWeight:fe.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+fe.style.cssClass,maxWidth:fe.maxWidth});G.add(Sn),Sn.on("click",function(gi){if("function"==typeof T.config.chart.events.xAxisLabelClick){var Ei=Object.assign({},T,{labelIndex:De});T.config.chart.events.xAxisLabelClick(gi,S.ctx,Ei)}});var Mn=document.createElementNS(T.globals.SVGNS,"title");if(Mn.textContent=Array.isArray(Ue)?Ue.join(" "):Ue,Sn.node.appendChild(Mn),0!==T.config.yaxis[h].labels.rotate){var Cn=I.rotateAroundCenter(Sn.node);Sn.node.setAttribute("transform","rotate(".concat(T.config.yaxis[h].labels.rotate," 0 ").concat(Cn.y,")"))}v+=d},Le=0;Le<=K.length-1;Le++)Se(Le);if(void 0!==T.config.yaxis[0].title.text){var Fe=I.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+N+", 0)"}),tt=I.drawText({x:T.config.yaxis[0].title.offsetX,y:T.globals.gridHeight/2+T.config.yaxis[0].title.offsetY,text:T.config.yaxis[0].title.text,textAnchor:"middle",foreColor:T.config.yaxis[0].title.style.color,fontSize:T.config.yaxis[0].title.style.fontSize,fontWeight:T.config.yaxis[0].title.style.fontWeight,fontFamily:T.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+T.config.yaxis[0].title.style.cssClass});Fe.add(tt),V.add(Fe)}var vt=0;this.isCategoryBarHorizontal&&T.config.yaxis[0].opposite&&(vt=T.globals.gridWidth);var W=T.config.xaxis.axisBorder;if(W.show){var ae=I.drawLine(T.globals.padHorizontal+W.offsetX+vt,1+W.offsetY,T.globals.padHorizontal+W.offsetX+vt,T.globals.gridHeight+W.offsetY,W.color,0);this.elgrid&&this.elgrid.elGridBorders&&T.config.grid.show?this.elgrid.elGridBorders.add(ae):V.add(ae)}return T.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(vt,K.length,T.config.yaxis[0].axisBorder,T.config.yaxis[0].axisTicks,0,d,V),V}},{key:"drawXaxisTicks",value:function(h,d,v){var S=this.w,T=h;if(!(h<0||h-2>S.globals.gridWidth)){var I=this.offY+S.config.xaxis.axisTicks.offsetY;if(d=d+I+S.config.xaxis.axisTicks.height,"top"===S.config.xaxis.position&&(d=I-S.config.xaxis.axisTicks.height),S.config.xaxis.axisTicks.show){var N=new je(this.ctx).drawLine(h+S.config.xaxis.axisTicks.offsetX,I+S.config.xaxis.offsetY,T+S.config.xaxis.axisTicks.offsetX,d+S.config.xaxis.offsetY,S.config.xaxis.axisTicks.color);v.add(N),N.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var h=this.w,d=[],v=this.xaxisLabels.length,S=h.globals.padHorizontal;if(h.globals.timescaleLabels.length>0)for(var T=0;T<v;T++)d.push(S=this.xaxisLabels[T].position);else for(var I=v,N=0;N<I;N++){var V=I;h.globals.isXNumeric&&"bar"!==h.config.chart.type&&(V-=1),d.push(S+=h.globals.gridWidth/V)}return d}},{key:"xAxisLabelCorrections",value:function(){var h=this.w,d=new je(this.ctx),v=h.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),S=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),T=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),I=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(h.globals.rotateXLabels||h.config.xaxis.labels.rotateAlways)for(var N=0;N<S.length;N++){var V=d.rotateAroundCenter(S[N]);V.y=V.y-1,V.x=V.x+1,S[N].setAttribute("transform","rotate(".concat(h.config.xaxis.labels.rotate," ").concat(V.x," ").concat(V.y,")")),S[N].setAttribute("text-anchor","end"),v.setAttribute("transform","translate(0, ".concat(-10,")")),h.config.xaxis.labels.trim&&Array.prototype.forEach.call(S[N].childNodes,function(fe){d.placeTextWithEllipsis(fe,fe.textContent,h.globals.xAxisLabelsHeight-("bottom"===h.config.legend.position?20:10))})}else!function(){for(var fe=h.globals.gridWidth/(h.globals.labels.length+1),Se=0;Se<S.length;Se++)h.config.xaxis.labels.trim&&"datetime"!==h.config.xaxis.type&&Array.prototype.forEach.call(S[Se].childNodes,function(Fe){d.placeTextWithEllipsis(Fe,Fe.textContent,fe)})}();if(T.length>0){var K=T[T.length-1].getBBox(),J=T[0].getBBox();K.x<-20&&T[T.length-1].parentNode.removeChild(T[T.length-1]),J.x+J.width>h.globals.gridWidth&&!h.globals.isBarHorizontal&&T[0].parentNode.removeChild(T[0]);for(var ie=0;ie<I.length;ie++)d.placeTextWithEllipsis(I[ie],I[ie].textContent,h.config.yaxis[0].labels.maxWidth-(h.config.yaxis[0].title.text?2*parseFloat(h.config.yaxis[0].title.style.fontSize):0)-15)}}}]),We}(),Ht=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w;var d=this.w;this.xaxisLabels=d.globals.labels.slice(),this.axesUtils=new Et(h),this.isRangeBar=d.globals.seriesRange.length&&d.globals.isBarHorizontal,d.globals.timescaleLabels.length>0&&(this.xaxisLabels=d.globals.timescaleLabels.slice())}return nt(We,[{key:"drawGridArea",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=this.w,v=new je(this.ctx);null===h&&(h=v.group({class:"apexcharts-grid"}));var S=v.drawLine(d.globals.padHorizontal,1,d.globals.padHorizontal,d.globals.gridHeight,"transparent"),T=v.drawLine(d.globals.padHorizontal,d.globals.gridHeight,d.globals.gridWidth,d.globals.gridHeight,"transparent");return h.add(T),h.add(S),h}},{key:"drawGrid",value:function(){var h=null;return this.w.globals.axisCharts&&(h=this.renderGrid(),this.drawGridArea(h.el)),h}},{key:"createGridMask",value:function(){var h=this.w,d=h.globals,v=new je(this.ctx),S=Array.isArray(h.config.stroke.width)?0:h.config.stroke.width;if(Array.isArray(h.config.stroke.width)){var T=0;h.config.stroke.width.forEach(function(J){T=Math.max(T,J)}),S=T}d.dom.elGridRectMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(d.cuid)),d.dom.elGridRectMarkerMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(d.cuid)),d.dom.elForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elForecastMask.setAttribute("id","forecastMask".concat(d.cuid)),d.dom.elNonForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(d.cuid));var I=h.config.chart.type,N=0,V=0;("bar"===I||"rangeBar"===I||"candlestick"===I||"boxPlot"===I||h.globals.comboBarCount>0)&&h.globals.isXNumeric&&!h.globals.isBarHorizontal&&(V=h.config.grid.padding.right,d.barPadForNumericAxis>(N=h.config.grid.padding.left)&&(N=d.barPadForNumericAxis,V=d.barPadForNumericAxis)),d.dom.elGridRect=v.drawRect(-S-N-2,2*-S-2,d.gridWidth+S+V+N+4,d.gridHeight+4*S+4,0,"#fff");var G=h.globals.markers.largestSize+1;d.dom.elGridRectMarker=v.drawRect(2*-G,2*-G,d.gridWidth+4*G,d.gridHeight+4*G,0,"#fff"),d.dom.elGridRectMask.appendChild(d.dom.elGridRect.node),d.dom.elGridRectMarkerMask.appendChild(d.dom.elGridRectMarker.node);var K=d.dom.baseEl.querySelector("defs");K.appendChild(d.dom.elGridRectMask),K.appendChild(d.dom.elForecastMask),K.appendChild(d.dom.elNonForecastMask),K.appendChild(d.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(h){var d=h.i,v=h.x1,N=h.xCount,G=this.w;if(!(0===d&&G.globals.skipFirstTimelinelabel||d===N-1&&G.globals.skipLastTimelinelabel&&!G.config.xaxis.labels.formatter||"radar"===G.config.chart.type)){G.config.grid.xaxis.lines.show&&this._drawGridLine({i:d,x1:v,y1:h.y1,x2:h.x2,y2:h.y2,xCount:N,parent:h.parent});var K=0;if(G.globals.hasXaxisGroups&&"between"===G.config.xaxis.tickPlacement){var J=G.globals.groups;if(J){for(var ie=0,fe=0;ie<d&&fe<J.length;fe++)ie+=J[fe].cols;ie===d&&(K=.6*G.globals.xAxisLabelsHeight)}}new Bt(this.ctx).drawXaxisTicks(v,K,G.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(h){var d=h.i,v=h.x1,S=h.y1,T=h.x2,I=h.y2,N=h.xCount,V=h.parent,G=this.w,K=!1,J=V.node.classList.contains("apexcharts-gridlines-horizontal"),ie=G.config.grid.strokeDashArray,fe=G.globals.barPadForNumericAxis;(0===S&&0===I||0===v&&0===T)&&(K=!0),S===G.globals.gridHeight&&I===G.globals.gridHeight&&(K=!0),!G.globals.isBarHorizontal||0!==d&&d!==N-1||(K=!0);var Se=new je(this).drawLine(v-(J?fe:0),S,T+(J?fe:0),I,G.config.grid.borderColor,ie);Se.node.classList.add("apexcharts-gridline"),K&&G.config.grid.show?this.elGridBorders.add(Se):V.add(Se)}},{key:"_drawGridBandRect",value:function(h){var d=h.c,v=h.x1,S=h.y1,T=h.x2,I=h.y2,N=h.type,V=this.w,G=new je(this.ctx),K=V.globals.barPadForNumericAxis;if("column"!==N||"datetime"!==V.config.xaxis.type){var ie=G.drawRect(v-("row"===N?K:0),S,T+("row"===N?2*K:0),I,0,V.config.grid[N].colors[d],V.config.grid[N].opacity);this.elg.add(ie),ie.attr("clip-path","url(#gridRectMask".concat(V.globals.cuid,")")),ie.node.classList.add("apexcharts-grid-".concat(N))}}},{key:"_drawXYLines",value:function(h){var d=this,v=h.xCount,S=h.tickAmount,T=this.w;if(T.config.grid.xaxis.lines.show||T.config.xaxis.axisTicks.show){var I,N=T.globals.padHorizontal,V=T.globals.gridHeight;T.globals.timescaleLabels.length?function(Se){for(var Le=Se.xC,tt=Se.y1,W=Se.y2,ae=0;ae<Le;ae++)d._drawGridLines({i:ae,x1:d.xaxisLabels[ae].position,y1:tt,x2:d.xaxisLabels[ae].position,y2:W,xCount:v,parent:d.elgridLinesV})}({xC:v,x1:N,y1:0,x2:I,y2:V}):(T.globals.isXNumeric&&(v=T.globals.xAxisScale.result.length),function(Se){for(var Le=Se.xC,Fe=Se.x1,tt=Se.y1,vt=Se.x2,W=Se.y2,ae=0;ae<Le+(T.globals.isXNumeric?0:1);ae++)0===ae&&1===Le&&1===T.globals.dataPoints&&(vt=Fe=T.globals.gridWidth/2),d._drawGridLines({i:ae,x1:Fe,y1:tt,x2:vt,y2:W,xCount:v,parent:d.elgridLinesV}),vt=Fe+=T.globals.gridWidth/(T.globals.isXNumeric?Le-1:Le)}({xC:v,x1:N,y1:0,x2:I,y2:V}))}if(T.config.grid.yaxis.lines.show){var G=0,K=0,J=T.globals.gridWidth,ie=S+1;this.isRangeBar&&(ie=T.globals.labels.length);for(var fe=0;fe<ie+(this.isRangeBar?1:0);fe++)this._drawGridLine({i:fe,xCount:ie+(this.isRangeBar?1:0),x1:0,y1:G,x2:J,y2:K,parent:this.elgridLinesH}),K=G+=T.globals.gridHeight/(this.isRangeBar?ie:S)}}},{key:"_drawInvertedXYLines",value:function(h){var d=h.xCount,v=this.w;if(v.config.grid.xaxis.lines.show||v.config.xaxis.axisTicks.show)for(var S,T=v.globals.padHorizontal,I=v.globals.gridHeight,N=0;N<d+1;N++)v.config.grid.xaxis.lines.show&&this._drawGridLine({i:N,xCount:d+1,x1:T,y1:0,x2:S,y2:I,parent:this.elgridLinesV}),new Bt(this.ctx).drawXaxisTicks(T,0,v.globals.dom.elGraphical),S=T=T+v.globals.gridWidth/d+.3;if(v.config.grid.yaxis.lines.show)for(var V=0,G=0,K=v.globals.gridWidth,J=0;J<v.globals.dataPoints+1;J++)this._drawGridLine({i:J,xCount:v.globals.dataPoints+1,x1:0,y1:V,x2:K,y2:G,parent:this.elgridLinesH}),G=V+=v.globals.gridHeight/v.globals.dataPoints}},{key:"renderGrid",value:function(){var I,N,V,h=this.w,d=new je(this.ctx);this.elg=d.group({class:"apexcharts-grid"}),this.elgridLinesH=d.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=d.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=d.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),h.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var v,S=h.globals.yAxisScale.length?h.globals.yAxisScale[0].result.length-1:5,T=0;T<h.globals.series.length&&(void 0!==h.globals.yAxisScale[T]&&(S=h.globals.yAxisScale[T].result.length-1),!(S>2));T++);return!h.globals.isBarHorizontal||this.isRangeBar?(v=this.xaxisLabels.length,this.isRangeBar&&(v--,S=h.globals.labels.length,h.config.xaxis.tickAmount&&h.config.xaxis.labels.formatter&&(v=h.config.xaxis.tickAmount),(null===(I=h.globals.yAxisScale)||void 0===I||null===(N=I[0])||void 0===N||null===(V=N.result)||void 0===V?void 0:V.length)>0&&"datetime"!==h.config.xaxis.type&&(v=h.globals.yAxisScale[0].result.length-1)),this._drawXYLines({xCount:v,tickAmount:S})):this._drawInvertedXYLines({xCount:v=S,tickAmount:S=h.globals.xTickAmount}),this.drawGridBands(v,S),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:h.globals.gridWidth/v}}},{key:"drawGridBands",value:function(h,d){var v=this.w;if(void 0!==v.config.grid.row.colors&&v.config.grid.row.colors.length>0)for(var S=0,T=v.globals.gridHeight/d,I=v.globals.gridWidth,N=0,V=0;N<d;N++,V++)V>=v.config.grid.row.colors.length&&(V=0),this._drawGridBandRect({c:V,x1:0,y1:S,x2:I,y2:T,type:"row"}),S+=v.globals.gridHeight/d;if(void 0!==v.config.grid.column.colors&&v.config.grid.column.colors.length>0)for(var G=v.globals.isBarHorizontal||"on"!==v.config.xaxis.tickPlacement||"category"!==v.config.xaxis.type&&!v.config.xaxis.convertedCatToNumeric?h:h-1,K=v.globals.padHorizontal,J=v.globals.padHorizontal+v.globals.gridWidth/G,ie=v.globals.gridHeight,fe=0,Se=0;fe<h;fe++,Se++)Se>=v.config.grid.column.colors.length&&(Se=0),this._drawGridBandRect({c:Se,x1:K,y1:0,x2:J,y2:ie,type:"column"}),K+=v.globals.gridWidth/G}}]),We}(),On=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"niceScale",value:function(h,d){var S=1e-11,T=this.w,I=T.globals,N=T.config.xaxis,V=T.config.yaxis[arguments.length>2&&void 0!==arguments[2]?arguments[2]:0],G=null!=V.min,K=void 0!==V.max&&null!==V.min,J=null!=V.stepSize,ie=null!=V.tickAmount,fe=((I.isBarHorizontal?I.svgWidth:I.svgHeight)-100)/15,Se=ie?V.tickAmount:10;if(I.isMultipleYAxis&&!ie&&I.multiAxisTickAmount>0&&(Se=I.multiAxisTickAmount,ie=!0),Se="dataPoints"===Se?I.dataPoints-1:Math.abs(Math.round(Se)),(h===Number.MIN_VALUE&&0===d||!de.isNumber(h)&&!de.isNumber(d)||h===Number.MIN_VALUE&&d===-Number.MAX_VALUE)&&(h=0,d=Se,I.allSeriesCollapsed=!1),h>d){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var Le=d;d=h,h=Le}else h===d&&(h=0===h?0:h-1,d=0===d?2:d+1);var Fe=[];Se<1&&(Se=1);var tt=Se,vt=Math.abs(d-h);V.forceNiceScale&&(!G&&h>0&&h/vt<.15&&(h=0,G=!0),!K&&d<0&&-d/vt<.15&&(d=0,K=!0),vt=Math.abs(d-h));var W=vt/tt,ae=W,De=Math.floor(Math.log10(ae)),Ue=Math.pow(10,De),dt=Math.ceil(ae/Ue);if(W=ae=(dt=I.niceScaleAllowedMagMsd[0===I.yValueDecimal?0:1][dt])*Ue,I.isBarHorizontal&&N.stepSize&&"datetime"!==N.type?(W=N.stepSize,J=!0):J&&(W=V.stepSize),J&&V.forceNiceScale&&Math.round(Math.log10(W))!=De){for(var kt=vt/Se;W<kt;)W*=10;for(;W>kt;)W/=10}if(G&&K){var Xt=vt/tt;if(ie)if(J)if(0!=de.mod(vt,W)){var qt=de.getGCD(W,Xt);W=Xt/qt<10?qt:Xt}else 0==de.mod(W,Xt)?W=Xt:(Xt=W,ie=!1);else W=Xt;else if(J)0==de.mod(vt,W)?Xt=W:W=Xt;else if(Xt=vt/(tt=Math.round(vt/ae)),0!=de.mod(vt,W)){var Sn=de.getGCD(vt,ae);ae/Sn<10&&(Xt=Sn),W=Xt}else Xt=W;tt=Math.round(vt/W)}else{if(G||K)K?h=ie?d-W*tt:W*Math.floor(h/W):G&&(d=ie?h+W*tt:W*Math.ceil(d/W));else if(ie){var Mn=W/(d-h>d?1:2);d=(h=Mn*Math.floor(h/Mn))+W*tt}else h=W*Math.floor(h/W),d=W*Math.ceil(d/W);vt=Math.abs(d-h),W=de.getGCD(vt,W),tt=Math.round(vt/W)}if(ie||G||K||(tt=Math.ceil((vt-S)/(W+S)))>16&&de.getPrimeFactors(tt).length<2&&tt++,I.isMultipleYAxis&&0==I.multiAxisTickAmount&&(I.multiAxisTickAmount=tt),tt>fe&&(!ie&&!J||V.forceNiceScale)){var Cn=de.getPrimeFactors(tt),gi=Cn.length-1,Ei=tt;e:for(var Bi=0;Bi<gi;Bi++)for(var sr=0;sr<=gi-Bi;sr++){for(var mr=Math.min(sr+Bi,gi),si=Ei,Mi=1,Ur=sr;Ur<=mr;Ur++)Mi*=Cn[Ur];if((si/=Mi)<fe){Ei=si;break e}}W=Ei===tt&&V.forceNiceScale?vt:vt/Ei}var Fo=h-W,So=W*S;do{Fe.push(de.stripNumber(Fo+=W,7))}while(d-Fo>So);return{result:Fe,niceMin:Fe[0],niceMax:Fe[Fe.length-1]}}},{key:"linearScale",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,I=Math.abs(d-h);"dataPoints"===(v=this._adjustTicksForSmallRange(v,S,I))&&(v=this.w.globals.dataPoints-1),T||(T=I/v),v===Number.MAX_VALUE&&(v=5,T=1);for(var N=[],V=h;v>=0;)N.push(V),V+=T,v-=1;return{result:N,niceMin:N[0],niceMax:N[N.length-1]}}},{key:"logarithmicScaleNice",value:function(h,d,v){d<=0&&(d=Math.max(h,v)),h<=0&&(h=Math.min(d,v));for(var S=[],T=Math.ceil(Math.log(d)/Math.log(v)+1),I=Math.floor(Math.log(h)/Math.log(v));I<T;I++)S.push(Math.pow(v,I));return{result:S,niceMin:S[0],niceMax:S[S.length-1]}}},{key:"logarithmicScale",value:function(h,d,v){d<=0&&(d=Math.max(h,v)),h<=0&&(h=Math.min(d,v));for(var S=[],T=Math.log(d)/Math.log(v),I=Math.log(h)/Math.log(v),N=T-I,V=Math.round(N),G=N/V,K=0,J=I;K<V;K++,J+=G)S.push(Math.pow(v,J));return S.push(Math.pow(v,T)),{result:S,niceMin:h,niceMax:d}}},{key:"_adjustTicksForSmallRange",value:function(h,d,v){var S=h;if(void 0!==d&&this.w.config.yaxis[d].labels.formatter&&void 0===this.w.config.yaxis[d].tickAmount){var T=Number(this.w.config.yaxis[d].labels.formatter(1));de.isNumber(T)&&0===this.w.globals.yValueDecimal&&(S=Math.ceil(v))}return S<h?S:h}},{key:"setYScaleForIndex",value:function(h,d,v){var S=this.w.globals,T=this.w.config,I=S.isBarHorizontal?T.xaxis:T.yaxis[h];void 0===S.yAxisScale[h]&&(S.yAxisScale[h]=[]);var N=Math.abs(v-d);I.logarithmic&&N<=5&&(S.invalidLogScale=!0),I.logarithmic&&N>5?(S.allSeriesCollapsed=!1,S.yAxisScale[h]=I.forceNiceScale?this.logarithmicScaleNice(d,v,I.logBase):this.logarithmicScale(d,v,I.logBase)):v!==-Number.MAX_VALUE&&de.isNumber(v)?(S.allSeriesCollapsed=!1,S.yAxisScale[h]=this.niceScale(d,v,h)):S.yAxisScale[h]=this.linearScale(0,10,10,h,T.yaxis[h].stepSize)}},{key:"setXScale",value:function(h,d){var v=this.w,S=v.globals,T=Math.abs(d-h);return S.xAxisScale=d!==-Number.MAX_VALUE&&de.isNumber(d)?this.linearScale(h,d,v.config.xaxis.tickAmount?v.config.xaxis.tickAmount:T<10&&T>1?T+1:10,0,v.config.xaxis.stepSize):this.linearScale(0,10,10),S.xAxisScale}},{key:"setMultipleYScales",value:function(){var h=this,d=this.w.globals,v=this.w.config,S=d.minYArr.concat([]),T=d.maxYArr.concat([]),I=[];v.yaxis.forEach(function(N,V){var G=V;v.series.forEach(function(ie,fe){ie.name===N.seriesName&&(G=fe,I.push(V!==fe?{index:fe,similarIndex:V,alreadyExists:!0}:{index:fe}))}),h.setYScaleForIndex(V,S[G],T[G])}),this.sameScaleInMultipleAxes(S,T,I)}},{key:"sameScaleInMultipleAxes",value:function(h,d,v){var S=this,T=this.w.config,I=this.w.globals,N=[];v.forEach(function(Le){Le.alreadyExists&&(void 0===N[Le.index]&&(N[Le.index]=[]),N[Le.index].push(Le.index),N[Le.index].push(Le.similarIndex))}),I.yAxisSameScaleIndices=N,N.forEach(function(Le,Fe){N.forEach(function(tt,vt){var W,ae;Fe!==vt&&(W=Le,ae=tt,W.filter(function(De){return-1!==ae.indexOf(De)})).length>0&&(N[Fe]=N[Fe].concat(N[vt]))})});var V=N.map(function(Le){return Le.filter(function(Fe,tt){return Le.indexOf(Fe)===tt})}).map(function(Le){return Le.sort()});N=N.filter(function(Le){return!!Le});var G=V.slice(),K=G.map(function(Le){return JSON.stringify(Le)});G=G.filter(function(Le,Fe){return K.indexOf(JSON.stringify(Le))===Fe});var J=[],ie=[];h.forEach(function(Le,Fe){G.forEach(function(tt,vt){tt.indexOf(Fe)>-1&&(void 0===J[vt]&&(J[vt]=[],ie[vt]=[]),J[vt].push({key:Fe,value:Le}),ie[vt].push({key:Fe,value:d[Fe]}))})});var fe=Array.apply(null,Array(G.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),Se=Array.apply(null,Array(G.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);J.forEach(function(Le,Fe){Le.forEach(function(tt,vt){fe[Fe]=Math.min(tt.value,fe[Fe])})}),ie.forEach(function(Le,Fe){Le.forEach(function(tt,vt){Se[Fe]=Math.max(tt.value,Se[Fe])})}),h.forEach(function(Le,Fe){ie.forEach(function(tt,vt){var W=fe[vt],ae=Se[vt];T.chart.stacked&&(ae=0,tt.forEach(function(De,Ue){De.value!==-Number.MAX_VALUE&&(ae+=De.value),W!==Number.MIN_VALUE&&(W+=J[vt][Ue].value)})),tt.forEach(function(De,Ue){tt[Ue].key===Fe&&(void 0!==T.yaxis[Fe].min&&(W="function"==typeof T.yaxis[Fe].min?T.yaxis[Fe].min(I.minY):T.yaxis[Fe].min),void 0!==T.yaxis[Fe].max&&(ae="function"==typeof T.yaxis[Fe].max?T.yaxis[Fe].max(I.maxY):T.yaxis[Fe].max),S.setYScaleForIndex(Fe,W,ae))})})})}},{key:"autoScaleY",value:function(h,d,v){h||(h=this);var S=h.w;if(S.globals.isMultipleYAxis||S.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),d;var T=S.globals.seriesX[0],I=S.config.chart.stacked;return d.forEach(function(N,V){for(var G=0,K=0;K<T.length;K++)if(T[K]>=v.xaxis.min){G=K;break}var J,ie,fe=S.globals.minYArr[V],Se=S.globals.maxYArr[V],Le=S.globals.stackedSeriesTotals;S.globals.series.forEach(function(Fe,tt){var vt=Fe[G];I?(J=ie=vt=Le[G],Le.forEach(function(W,ae){T[ae]<=v.xaxis.max&&T[ae]>=v.xaxis.min&&(W>ie&&null!==W&&(ie=W),Fe[ae]<J&&null!==Fe[ae]&&(J=Fe[ae]))})):(J=ie=vt,Fe.forEach(function(W,ae){if(T[ae]<=v.xaxis.max&&T[ae]>=v.xaxis.min){var De=W,Ue=W;S.globals.series.forEach(function(dt,kt){null!==W&&(De=Math.min(dt[ae],De),Ue=Math.max(dt[ae],Ue))}),Ue>ie&&null!==Ue&&(ie=Ue),De<J&&null!==De&&(J=De)}})),void 0===J&&void 0===ie&&(J=fe,ie=Se),ie*=ie<0?.9:1.1,0==(J*=J<0?1.1:.9)&&0===ie&&(J=-1,ie=1),ie<0&&ie<Se&&(ie=Se),J<0&&J>fe&&(J=fe),d.length>1?(d[tt].min=void 0===N.min?J:N.min,d[tt].max=void 0===N.max?ie:N.max):(d[0].min=void 0===N.min?J:N.min,d[0].max=void 0===N.max?ie:N.max)})}),d}}]),We}(),xr=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.scales=new On(h)}return nt(We,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,T=this.w.config,I=this.w.globals,N=-Number.MAX_VALUE,V=Number.MIN_VALUE;null===S&&(S=h+1);var G=0,K=0,J=void 0;if(I.seriesX.length>=S){var ie;if(G=0,K=(J=Ne(new Set((ie=[]).concat.apply(ie,Ne(I.seriesX.slice(h,S)))))).length-1,T.xaxis.min)for(G=0;G<K&&J[G]<=T.xaxis.min;G++);if(T.xaxis.max)for(;K>G&&J[K]>=T.xaxis.max;K--);}var fe=I.series,Se=fe,Le=fe;"candlestick"===T.chart.type?(Se=I.seriesCandleL,Le=I.seriesCandleH):"boxPlot"===T.chart.type?(Se=I.seriesCandleO,Le=I.seriesCandleC):I.isRangeData&&(Se=I.seriesRangeStart,Le=I.seriesRangeEnd);for(var Fe=h;Fe<S;Fe++){I.dataPoints=Math.max(I.dataPoints,fe[Fe].length),I.categoryLabels.length&&(I.dataPoints=I.categoryLabels.filter(function(W){return void 0!==W}).length),I.labels.length&&"datetime"!==T.xaxis.type&&0!==I.series.reduce(function(W,ae){return W+ae.length},0)&&(I.dataPoints=Math.max(I.dataPoints,I.labels.length)),J||(G=0,K=I.series[Fe].length);for(var tt=G;tt<=K;tt++){var vt=fe[Fe][tt];if(null!==vt&&de.isNumber(vt)){switch(void 0!==Le[Fe][tt]&&(N=Math.max(N,Le[Fe][tt]),d=Math.min(d,Le[Fe][tt])),void 0!==Se[Fe][tt]&&(d=Math.min(d,Se[Fe][tt]),v=Math.max(v,Se[Fe][tt])),T.series[Fe].type){case"candlestick":void 0!==I.seriesCandleC[Fe][tt]&&(N=Math.max(N,I.seriesCandleH[Fe][tt]),d=Math.min(d,I.seriesCandleL[Fe][tt]));case"boxPlot":void 0!==I.seriesCandleC[Fe][tt]&&(N=Math.max(N,I.seriesCandleC[Fe][tt]),d=Math.min(d,I.seriesCandleO[Fe][tt]))}T.series[Fe].type&&"candlestick"!==T.series[Fe].type&&"boxPlot"!==T.series[Fe].type&&"rangeArea"!==T.series[Fe].type&&"rangeBar"!==T.series[Fe].type&&(N=Math.max(N,I.series[Fe][tt]),d=Math.min(d,I.series[Fe][tt])),v=N,I.seriesGoals[Fe]&&I.seriesGoals[Fe][tt]&&Array.isArray(I.seriesGoals[Fe][tt])&&I.seriesGoals[Fe][tt].forEach(function(W){V!==Number.MIN_VALUE&&(V=Math.min(V,W.value),d=V),N=Math.max(N,W.value),v=N}),de.isFloat(vt)&&(vt=de.noExponents(vt),I.yValueDecimal=Math.max(I.yValueDecimal,vt.toString().split(".")[1].length)),V>Se[Fe][tt]&&Se[Fe][tt]<0&&(V=Se[Fe][tt])}else I.hasNullValues=!0}}return"rangeBar"===T.chart.type&&I.seriesRangeStart.length&&I.isBarHorizontal&&(V=d),"bar"===T.chart.type&&(V<0&&N<0&&(N=0),V===Number.MIN_VALUE&&(V=0)),{minY:V,maxY:N,lowestY:d,highestY:v}}},{key:"setYRange",value:function(){var h=this.w.globals,d=this.w.config;h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE;var v=Number.MAX_VALUE;if(h.isMultipleYAxis){v=Number.MAX_VALUE;for(var S=0;S<h.series.length;S++){var T=this.getMinYMaxY(S);h.minYArr[S]=T.lowestY,h.maxYArr[S]=T.highestY,v=Math.min(v,T.lowestY)}}var I=this.getMinYMaxY(0,v,null,h.series.length);return h.minY=I.lowestY,h.maxY=I.highestY,v=I.lowestY,d.chart.stacked&&this._setStackedMinMax(),"line"===d.chart.type||"area"===d.chart.type||"scatter"===d.chart.type||"candlestick"===d.chart.type||"boxPlot"===d.chart.type||"rangeBar"===d.chart.type&&!h.isBarHorizontal?h.minY===Number.MIN_VALUE&&v!==-Number.MAX_VALUE&&v!==h.maxY&&(h.minY=v):h.minY=I.minY,d.yaxis.forEach(function(N,V){void 0!==N.max&&("number"==typeof N.max?h.maxYArr[V]=N.max:"function"==typeof N.max&&(h.maxYArr[V]=N.max(h.isMultipleYAxis?h.maxYArr[V]:h.maxY)),h.maxY=h.maxYArr[V]),void 0!==N.min&&("number"==typeof N.min?h.minYArr[V]=N.min:"function"==typeof N.min&&(h.minYArr[V]=N.min(h.isMultipleYAxis?h.minYArr[V]===Number.MIN_VALUE?0:h.minYArr[V]:h.minY)),h.minY=h.minYArr[V])}),h.isBarHorizontal&&["min","max"].forEach(function(N){void 0!==d.xaxis[N]&&"number"==typeof d.xaxis[N]&&("min"===N?h.minY=d.xaxis[N]:h.maxY=d.xaxis[N])}),h.isMultipleYAxis?(this.scales.setMultipleYScales(),h.minY=v,h.yAxisScale.forEach(function(N,V){h.minYArr[V]=N.niceMin,h.maxYArr[V]=N.niceMax})):(this.scales.setYScaleForIndex(0,h.minY,h.maxY),h.minY=h.yAxisScale[0].niceMin,h.maxY=h.yAxisScale[0].niceMax,h.minYArr[0]=h.yAxisScale[0].niceMin,h.maxYArr[0]=h.yAxisScale[0].niceMax),{minY:h.minY,maxY:h.maxY,minYArr:h.minYArr,maxYArr:h.maxYArr,yAxisScale:h.yAxisScale}}},{key:"setXRange",value:function(){var h=this.w.globals,d=this.w.config,v="numeric"===d.xaxis.type||"datetime"===d.xaxis.type||"category"===d.xaxis.type&&!h.noLabelsProvided||h.noLabelsProvided||h.isXNumeric;if(h.isXNumeric&&function(){for(var N=0;N<h.series.length;N++)if(h.labels[N])for(var V=0;V<h.labels[N].length;V++)null!==h.labels[N][V]&&de.isNumber(h.labels[N][V])&&(h.maxX=Math.max(h.maxX,h.labels[N][V]),h.initialMaxX=Math.max(h.maxX,h.labels[N][V]),h.minX=Math.min(h.minX,h.labels[N][V]),h.initialMinX=Math.min(h.minX,h.labels[N][V]))}(),h.noLabelsProvided&&0===d.xaxis.categories.length&&(h.maxX=h.labels[h.labels.length-1],h.initialMaxX=h.labels[h.labels.length-1],h.minX=1,h.initialMinX=1),h.isXNumeric||h.noLabelsProvided||h.dataFormatXNumeric){var S;if(void 0===d.xaxis.tickAmount?(S=Math.round(h.svgWidth/150),"numeric"===d.xaxis.type&&h.dataPoints<30&&(S=h.dataPoints-1),S>h.dataPoints&&0!==h.dataPoints&&(S=h.dataPoints-1)):"dataPoints"===d.xaxis.tickAmount?(h.series.length>1&&(S=h.series[h.maxValsInArrayIndex].length-1),h.isXNumeric&&(S=h.maxX-h.minX-1)):S=d.xaxis.tickAmount,h.xTickAmount=S,void 0!==d.xaxis.max&&"number"==typeof d.xaxis.max&&(h.maxX=d.xaxis.max),void 0!==d.xaxis.min&&"number"==typeof d.xaxis.min&&(h.minX=d.xaxis.min),void 0!==d.xaxis.range&&(h.minX=h.maxX-d.xaxis.range),h.minX!==Number.MAX_VALUE&&h.maxX!==-Number.MAX_VALUE)if(d.xaxis.convertedCatToNumeric&&!h.dataFormatXNumeric){for(var T=[],I=h.minX-1;I<h.maxX;I++)T.push(I+1);h.xAxisScale={result:T,niceMin:T[0],niceMax:T[T.length-1]}}else h.xAxisScale=this.scales.setXScale(h.minX,h.maxX);else h.xAxisScale=this.scales.linearScale(0,S,S,0,d.xaxis.stepSize),h.noLabelsProvided&&h.labels.length>0&&(h.xAxisScale=this.scales.linearScale(1,h.labels.length,S-1,0,d.xaxis.stepSize),h.seriesX=h.labels.slice());v&&(h.labels=h.xAxisScale.result.slice())}return h.isBarHorizontal&&h.labels.length&&(h.xTickAmount=h.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:h.minX,maxX:h.maxX}}},{key:"setZRange",value:function(){var h=this.w.globals;if(h.isDataXYZ)for(var d=0;d<h.series.length;d++)if(void 0!==h.seriesZ[d])for(var v=0;v<h.seriesZ[d].length;v++)null!==h.seriesZ[d][v]&&de.isNumber(h.seriesZ[d][v])&&(h.maxZ=Math.max(h.maxZ,h.seriesZ[d][v]),h.minZ=Math.min(h.minZ,h.seriesZ[d][v]))}},{key:"_handleSingleDataPoint",value:function(){var h=this.w.globals,d=this.w.config;if(h.minX===h.maxX){var v=new zt(this.ctx);if("datetime"===d.xaxis.type){var S=v.getDate(h.minX);d.xaxis.labels.datetimeUTC?S.setUTCDate(S.getUTCDate()-2):S.setDate(S.getDate()-2),h.minX=new Date(S).getTime();var T=v.getDate(h.maxX);d.xaxis.labels.datetimeUTC?T.setUTCDate(T.getUTCDate()+2):T.setDate(T.getDate()+2),h.maxX=new Date(T).getTime()}else("numeric"===d.xaxis.type||"category"===d.xaxis.type&&!h.noLabelsProvided)&&(h.minX=h.minX-2,h.initialMinX=h.minX,h.maxX=h.maxX+2,h.initialMaxX=h.maxX)}}},{key:"_getMinXDiff",value:function(){var h=this.w.globals;h.isXNumeric&&h.seriesX.forEach(function(d,v){1===d.length&&d.push(h.seriesX[h.maxValsInArrayIndex][h.seriesX[h.maxValsInArrayIndex].length-1]);var S=d.slice();S.sort(function(T,I){return T-I}),S.forEach(function(T,I){if(I>0){var N=T-S[I-1];N>0&&(h.minXDiff=Math.min(N,h.minXDiff))}}),1!==h.dataPoints&&h.minXDiff!==Number.MAX_VALUE||(h.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var h=this,d=this.w.globals;if(d.series.length){var v=d.seriesGroups;v.length||(v=[this.w.config.series.map(function(I){return I.name})]);var S={},T={};v.forEach(function(I){S[I]=[],T[I]=[],h.w.config.series.map(function(N,V){return I.indexOf(N.name)>-1?V:null}).filter(function(N){return null!==N}).forEach(function(N){for(var V=0;V<d.series[d.maxValsInArrayIndex].length;V++){var G,K;void 0===S[I][V]&&(S[I][V]=0,T[I][V]=0),(h.w.config.chart.stacked&&!d.comboCharts||h.w.config.chart.stacked&&d.comboCharts&&(!h.w.config.chart.stackOnlyBar||"bar"===(null===(G=h.w.config.series)||void 0===G||null===(K=G[N])||void 0===K?void 0:K.type)))&&null!==d.series[N][V]&&de.isNumber(d.series[N][V])&&(d.series[N][V]>0?S[I][V]+=parseFloat(d.series[N][V])+1e-4:T[I][V]+=parseFloat(d.series[N][V]))}})}),Object.entries(S).forEach(function(I){var N=ve(I,1)[0];S[N].forEach(function(V,G){d.maxY=Math.max(d.maxY,S[N][G]),d.minY=Math.min(d.minY,T[N][G])})})}}}]),We}(),En=function(){function We(h,d){it(this,We),this.ctx=h,this.elgrid=d,this.w=h.w;var v=this.w;this.xaxisFontSize=v.config.xaxis.labels.style.fontSize,this.axisFontFamily=v.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=v.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===v.config.chart.type&&v.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===v.config.xaxis.position&&(this.xAxisoffX=v.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Et(h)}return nt(We,[{key:"drawYaxis",value:function(h){var d=this,v=this.w,S=new je(this.ctx),T=v.config.yaxis[h].labels.style,I=T.fontSize,N=T.fontFamily,V=T.fontWeight,G=S.group({class:"apexcharts-yaxis",rel:h,transform:"translate("+v.globals.translateYAxisX[h]+", 0)"});if(this.axesUtils.isYAxisHidden(h))return G;var K=S.group({class:"apexcharts-yaxis-texts-g"});G.add(K);var J=v.globals.yAxisScale[h].result.length-1,ie=v.globals.gridHeight/J,fe=v.globals.translateY,Se=v.globals.yLabelFormatters[h],Le=v.globals.yAxisScale[h].result.slice();Le=this.axesUtils.checkForReversedLabels(h,Le);var Fe="";if(v.config.yaxis[h].labels.show)for(var tt=function(Xt){var qt=Le[Xt];qt=Se(qt,Xt,v);var Sn=v.config.yaxis[h].labels.padding;v.config.yaxis[h].opposite&&0!==v.config.yaxis.length&&(Sn*=-1);var Mn="end";v.config.yaxis[h].opposite&&(Mn="start"),"left"===v.config.yaxis[h].labels.align?Mn="start":"center"===v.config.yaxis[h].labels.align?Mn="middle":"right"===v.config.yaxis[h].labels.align&&(Mn="end");var Cn=d.axesUtils.getYAxisForeColor(T.colors,h),gi=v.config.yaxis[h].labels.offsetY;"heatmap"===v.config.chart.type&&(gi-=(v.globals.gridHeight/v.globals.series.length-1)/2);var Ei=S.drawText({x:Sn,y:fe+J/10+gi+1,text:qt,textAnchor:Mn,fontSize:I,fontFamily:N,fontWeight:V,maxWidth:v.config.yaxis[h].labels.maxWidth,foreColor:Array.isArray(Cn)?Cn[Xt]:Cn,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+T.cssClass});Xt===J&&(Fe=Ei),K.add(Ei);var Bi=document.createElementNS(v.globals.SVGNS,"title");if(Bi.textContent=Array.isArray(qt)?qt.join(" "):qt,Ei.node.appendChild(Bi),0!==v.config.yaxis[h].labels.rotate){var sr=S.rotateAroundCenter(Fe.node),mr=S.rotateAroundCenter(Ei.node);Ei.node.setAttribute("transform","rotate(".concat(v.config.yaxis[h].labels.rotate," ").concat(sr.x," ").concat(mr.y,")"))}fe+=ie},vt=J;vt>=0;vt--)tt(vt);if(void 0!==v.config.yaxis[h].title.text){var W=S.group({class:"apexcharts-yaxis-title"}),ae=0;v.config.yaxis[h].opposite&&(ae=v.globals.translateYAxisX[h]);var De=S.drawText({x:ae,y:v.globals.gridHeight/2+v.globals.translateY+v.config.yaxis[h].title.offsetY,text:v.config.yaxis[h].title.text,textAnchor:"end",foreColor:v.config.yaxis[h].title.style.color,fontSize:v.config.yaxis[h].title.style.fontSize,fontWeight:v.config.yaxis[h].title.style.fontWeight,fontFamily:v.config.yaxis[h].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+v.config.yaxis[h].title.style.cssClass});W.add(De),G.add(W)}var Ue=v.config.yaxis[h].axisBorder,dt=31+Ue.offsetX;if(v.config.yaxis[h].opposite&&(dt=-31-Ue.offsetX),Ue.show){var kt=S.drawLine(dt,v.globals.translateY+Ue.offsetY-2,dt,v.globals.gridHeight+v.globals.translateY+Ue.offsetY+2,Ue.color,0,Ue.width);G.add(kt)}return v.config.yaxis[h].axisTicks.show&&this.axesUtils.drawYAxisTicks(dt,J,Ue,v.config.yaxis[h].axisTicks,h,ie,G),G}},{key:"drawYaxisInversed",value:function(h){var d=this.w,v=new je(this.ctx),S=v.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),T=v.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(d.globals.translateXAxisX,", ").concat(d.globals.translateXAxisY,")")});S.add(T);var I=d.globals.yAxisScale[h].result.length-1,N=d.globals.gridWidth/I+.1,V=N+d.config.xaxis.labels.offsetX,G=d.globals.xLabelFormatter,K=d.globals.yAxisScale[h].result.slice(),J=d.globals.timescaleLabels;J.length>0&&(this.xaxisLabels=J.slice(),I=(K=J.slice()).length),K=this.axesUtils.checkForReversedLabels(h,K);var ie=J.length;if(d.config.xaxis.labels.show)for(var fe=ie?0:I;ie?fe<ie:fe>=0;ie?fe++:fe--){var Se=K[fe];Se=G(Se,fe,d);var Le=d.globals.gridWidth+d.globals.padHorizontal-(V-N+d.config.xaxis.labels.offsetX);if(J.length){var Fe=this.axesUtils.getLabel(K,J,Le,fe,this.drawnLabels,this.xaxisFontSize);Le=Fe.x,Se=Fe.text,this.drawnLabels.push(Fe.text),0===fe&&d.globals.skipFirstTimelinelabel&&(Se=""),fe===K.length-1&&d.globals.skipLastTimelinelabel&&(Se="")}var tt=v.drawText({x:Le,y:this.xAxisoffX+d.config.xaxis.labels.offsetY+30-("top"===d.config.xaxis.position?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:Se,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[h]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:d.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+d.config.xaxis.labels.style.cssClass});T.add(tt),tt.tspan(Se);var vt=document.createElementNS(d.globals.SVGNS,"title");vt.textContent=Se,tt.node.appendChild(vt),V+=N}return this.inversedYAxisTitleText(S),this.inversedYAxisBorder(S),S}},{key:"inversedYAxisBorder",value:function(h){var d=this.w,v=new je(this.ctx),S=d.config.xaxis.axisBorder;if(S.show){var T=0;"bar"===d.config.chart.type&&d.globals.isXNumeric&&(T-=15);var I=v.drawLine(d.globals.padHorizontal+T+S.offsetX,this.xAxisoffX,d.globals.gridWidth,this.xAxisoffX,S.color,0,S.height);this.elgrid&&this.elgrid.elGridBorders&&d.config.grid.show?this.elgrid.elGridBorders.add(I):h.add(I)}}},{key:"inversedYAxisTitleText",value:function(h){var d=this.w,v=new je(this.ctx);if(void 0!==d.config.xaxis.title.text){var S=v.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),T=v.drawText({x:d.globals.gridWidth/2+d.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(d.config.xaxis.title.style.fontSize)+d.config.xaxis.title.offsetY+20,text:d.config.xaxis.title.text,textAnchor:"middle",fontSize:d.config.xaxis.title.style.fontSize,fontFamily:d.config.xaxis.title.style.fontFamily,fontWeight:d.config.xaxis.title.style.fontWeight,foreColor:d.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+d.config.xaxis.title.style.cssClass});S.add(T),h.add(S)}}},{key:"yAxisTitleRotate",value:function(h,d){var v=this.w,S=new je(this.ctx),T={width:0,height:0},I={width:0,height:0},N=v.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g"));null!==N&&(T=N.getBoundingClientRect());var V=v.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-title text"));if(null!==V&&(I=V.getBoundingClientRect()),null!==V){var G=this.xPaddingForYAxisTitle(h,T,I,d);V.setAttribute("x",G.xPos-(d?10:0))}if(null!==V){var K=S.rotateAroundCenter(V);V.setAttribute("transform","rotate(".concat(d?-1*v.config.yaxis[h].title.rotate:v.config.yaxis[h].title.rotate," ").concat(K.x," ").concat(K.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(h,d,v,S){var T=this.w,I=0,N=0,V=10;return void 0===T.config.yaxis[h].title.text||h<0?{xPos:N,padd:0}:(S?(N=d.width+T.config.yaxis[h].title.offsetX+v.width/2+V/2,0===(I+=1)&&(N-=V/2)):(N=-1*d.width+T.config.yaxis[h].title.offsetX+V/2+v.width/2,T.globals.isBarHorizontal&&(N=-1*d.width-T.config.yaxis[h].title.offsetX-(V=25))),{xPos:N,padd:V})}},{key:"setYAxisXPosition",value:function(h,d){var v=this.w,S=0,T=0,I=18,N=1;v.config.yaxis.length>1&&(this.multipleYs=!0),v.config.yaxis.map(function(V,G){var K=v.globals.ignoreYAxisIndexes.indexOf(G)>-1||!V.show||V.floating||0===h[G].width,J=h[G].width+d[G].width;V.opposite?v.globals.isBarHorizontal?v.globals.translateYAxisX[G]=(T=v.globals.gridWidth+v.globals.translateX-1)-V.labels.offsetX:(T=v.globals.gridWidth+v.globals.translateX+N,K||(N=N+J+20),v.globals.translateYAxisX[G]=T-V.labels.offsetX+20):(S=v.globals.translateX-I,K||(I=I+J+20),v.globals.translateYAxisX[G]=S+V.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var h=this.w,d=h.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(d=de.listToArray(d)).forEach(function(v,S){var T=h.config.yaxis[S];if(T&&!T.floating&&void 0!==T.labels.align){var I=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(S,"'] .apexcharts-yaxis-texts-g")),N=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(S,"'] .apexcharts-yaxis-label"));N=de.listToArray(N);var V=I.getBoundingClientRect();"left"===T.labels.align?(N.forEach(function(G,K){G.setAttribute("text-anchor","start")}),T.opposite||I.setAttribute("transform","translate(-".concat(V.width,", 0)"))):"center"===T.labels.align?(N.forEach(function(G,K){G.setAttribute("text-anchor","middle")}),I.setAttribute("transform","translate(".concat(V.width/2*(T.opposite?1:-1),", 0)"))):"right"===T.labels.align&&(N.forEach(function(G,K){G.setAttribute("text-anchor","end")}),T.opposite&&I.setAttribute("transform","translate(".concat(V.width,", 0)")))}})}}]),We}(),hi=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.documentEvent=de.bind(this.documentEvent,this)}return nt(We,[{key:"addEventListener",value:function(h,d){var v=this.w;v.globals.events.hasOwnProperty(h)?v.globals.events[h].push(d):v.globals.events[h]=[d]}},{key:"removeEventListener",value:function(h,d){var v=this.w;if(v.globals.events.hasOwnProperty(h)){var S=v.globals.events[h].indexOf(d);-1!==S&&v.globals.events[h].splice(S,1)}}},{key:"fireEvent",value:function(h,d){var v=this.w;if(v.globals.events.hasOwnProperty(h)){d&&d.length||(d=[]);for(var S=v.globals.events[h],T=S.length,I=0;I<T;I++)S[I].apply(null,d)}}},{key:"setupEventHandlers",value:function(){var h=this,d=this.w,v=this.ctx,S=d.globals.dom.baseEl.querySelector(d.globals.chartClass);this.ctx.eventList.forEach(function(T){S.addEventListener(T,function(I){var N=Object.assign({},d,{seriesIndex:d.globals.capturedSeriesIndex,dataPointIndex:d.globals.capturedDataPointIndex});"mousemove"===I.type||"touchmove"===I.type?"function"==typeof d.config.chart.events.mouseMove&&d.config.chart.events.mouseMove(I,v,N):"mouseleave"===I.type||"touchleave"===I.type?"function"==typeof d.config.chart.events.mouseLeave&&d.config.chart.events.mouseLeave(I,v,N):("mouseup"===I.type&&1===I.which||"touchend"===I.type)&&("function"==typeof d.config.chart.events.click&&d.config.chart.events.click(I,v,N),v.ctx.events.fireEvent("click",[I,v,N]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(T){d.globals.dom.baseEl.addEventListener(T,h.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(h){var d=this.w,v=h.target.className;if("click"===h.type){var S=d.globals.dom.baseEl.querySelector(".apexcharts-menu");S&&S.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==v&&S.classList.remove("apexcharts-menu-open")}d.globals.clientX="touchmove"===h.type?h.touches[0].clientX:h.clientX,d.globals.clientY="touchmove"===h.type?h.touches[0].clientY:h.clientY}}]),We}(),pr=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"setCurrentLocaleValues",value:function(h){var d=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(d=this.w.config.chart.locales.concat(window.Apex.chart.locales));var v=d.filter(function(T){return T.name===h})[0];if(!v)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var S=de.extend($e,v);this.w.globals.locale=S.options}}]),We}(),jr=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"drawAxis",value:function(h,d){var v,S,T=this,I=this.w.globals,N=this.w.config,V=new Bt(this.ctx,d),G=new En(this.ctx,d);I.axisCharts&&"radar"!==h&&(I.isBarHorizontal?(S=G.drawYaxisInversed(0),v=V.drawXaxisInversed(0),I.dom.elGraphical.add(v),I.dom.elGraphical.add(S)):(v=V.drawXaxis(),I.dom.elGraphical.add(v),N.yaxis.map(function(K,J){if(-1===I.ignoreYAxisIndexes.indexOf(J)&&(S=G.drawYaxis(J),I.dom.Paper.add(S),"back"===T.w.config.grid.position)){var ie=I.dom.Paper.children()[1];ie.remove(),I.dom.Paper.add(ie)}})))}}]),We}(),_n=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"drawXCrosshairs",value:function(){var h=this.w,d=new je(this.ctx),v=new Ae(this.ctx),S=h.config.xaxis.crosshairs.fill.gradient,T=h.config.xaxis.crosshairs.dropShadow,ie=T.enabled,fe=T.left,Se=T.top,Le=T.blur,Fe=T.color,tt=T.opacity,vt=h.config.xaxis.crosshairs.fill.color;if(h.config.xaxis.crosshairs.show){"gradient"===h.config.xaxis.crosshairs.fill.type&&(vt=d.drawGradient("vertical",S.colorFrom,S.colorTo,S.opacityFrom,S.opacityTo,null,S.stops,null));var W=d.drawRect();1===h.config.xaxis.crosshairs.width&&(W=d.drawLine());var ae=h.globals.gridHeight;(!de.isNumber(ae)||ae<0)&&(ae=0);var De=h.config.xaxis.crosshairs.width;(!de.isNumber(De)||De<0)&&(De=0),W.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:ae,width:De,height:ae,fill:vt,filter:"none","fill-opacity":h.config.xaxis.crosshairs.opacity,stroke:h.config.xaxis.crosshairs.stroke.color,"stroke-width":h.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":h.config.xaxis.crosshairs.stroke.dashArray}),ie&&(W=v.dropShadow(W,{left:fe,top:Se,blur:Le,color:Fe,opacity:tt})),h.globals.dom.elGraphical.add(W)}}},{key:"drawYCrosshairs",value:function(){var h=this.w,d=new je(this.ctx),v=h.config.yaxis[0].crosshairs,S=h.globals.barPadForNumericAxis;if(h.config.yaxis[0].crosshairs.show){var T=d.drawLine(-S,0,h.globals.gridWidth+S,0,v.stroke.color,v.stroke.dashArray,v.stroke.width);T.attr({class:"apexcharts-ycrosshairs"}),h.globals.dom.elGraphical.add(T)}var I=d.drawLine(-S,0,h.globals.gridWidth+S,0,v.stroke.color,0,0);I.attr({class:"apexcharts-ycrosshairs-hidden"}),h.globals.dom.elGraphical.add(I)}}]),We}(),Gn=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"checkResponsiveConfig",value:function(h){var d=this,v=this.w,S=v.config;if(0!==S.responsive.length){var T=S.responsive.slice();T.sort(function(G,K){return G.breakpoint>K.breakpoint?1:K.breakpoint>G.breakpoint?-1:0}).reverse();var I=new pn({}),N=function(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=window.innerWidth>0?window.innerWidth:screen.width;if(J>T[0].breakpoint){var ie=Ke.extendArrayProps(I,v.globals.initialConfig,v);G=de.extend(ie,G),G=de.extend(v.config,G),d.overrideResponsiveOptions(G)}else for(var fe=0;fe<T.length;fe++)J<T[fe].breakpoint&&(G=Ke.extendArrayProps(I,T[fe].options,v),G=de.extend(v.config,G),d.overrideResponsiveOptions(G))};if(h){var V=Ke.extendArrayProps(I,h,v);V=de.extend(v.config,V),N(V=de.extend(V,h))}else N({})}}},{key:"overrideResponsiveOptions",value:function(h){var d=new pn(h).init({responsiveOverride:!0});this.w.config=d}}]),We}(),di=function(){function We(h){it(this,We),this.ctx=h,this.colors=[],this.w=h.w;var d=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===d.config.chart.type&&d.config.plotOptions.treemap.distributed||"heatmap"===d.config.chart.type&&d.config.plotOptions.heatmap.distributed,this.isBarDistributed=d.config.plotOptions.bar.distributed&&("bar"===d.config.chart.type||"rangeBar"===d.config.chart.type)}return nt(We,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var h,d=this,v=this.w,S=new de;if(v.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(v.config.theme.mode)),void 0===v.config.colors||0===(null===(h=v.config.colors)||void 0===h?void 0:h.length)?v.globals.colors=this.predefined():(v.globals.colors=v.config.colors,Array.isArray(v.config.colors)&&v.config.colors.length>0&&"function"==typeof v.config.colors[0]&&(v.globals.colors=v.config.series.map(function(Se,Le){var Fe=v.config.colors[Le];return Fe||(Fe=v.config.colors[0]),"function"==typeof Fe?(d.isColorFn=!0,Fe({value:v.globals.axisCharts?v.globals.series[Le][0]?v.globals.series[Le][0]:0:v.globals.series[Le],seriesIndex:Le,dataPointIndex:Le,w:v})):Fe}))),v.globals.seriesColors.map(function(Se,Le){Se&&(v.globals.colors[Le]=Se)}),v.config.theme.monochrome.enabled){var T=[],I=v.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(I=v.globals.series[0].length*v.globals.series.length);for(var N=v.config.theme.monochrome.color,V=1/(I/v.config.theme.monochrome.shadeIntensity),G=v.config.theme.monochrome.shadeTo,K=0,J=0;J<I;J++){var ie=void 0;"dark"===G?(ie=S.shadeColor(-1*K,N),K+=V):(ie=S.shadeColor(K,N),K+=V),T.push(ie)}v.globals.colors=T.slice()}var fe=v.globals.colors.slice();this.pushExtraColors(v.globals.colors),["fill","stroke"].forEach(function(Se){v.globals[Se].colors=void 0===v.config[Se].colors?d.isColorFn?v.config.colors:fe:v.config[Se].colors.slice(),d.pushExtraColors(v.globals[Se].colors)}),v.globals.dataLabels.style.colors=void 0===v.config.dataLabels.style.colors?fe:v.config.dataLabels.style.colors.slice(),this.pushExtraColors(v.globals.dataLabels.style.colors,50),v.globals.radarPolygons.fill.colors=void 0===v.config.plotOptions.radar.polygons.fill.colors?["dark"===v.config.theme.mode?"#424242":"none"]:v.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(v.globals.radarPolygons.fill.colors,20),v.globals.markers.colors=void 0===v.config.markers.colors?fe:v.config.markers.colors.slice(),this.pushExtraColors(v.globals.markers.colors)}},{key:"pushExtraColors",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,T=d||S.globals.series.length;if(null===v&&(v=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===S.config.chart.type&&S.config.plotOptions.heatmap.colorScale.inverse),v&&S.globals.series.length&&(T=S.globals.series[S.globals.maxValsInArrayIndex].length*S.globals.series.length),h.length<T)for(var I=T-h.length,N=0;N<I;N++)h.push(h[N])}},{key:"updateThemeOptions",value:function(h){h.chart=h.chart||{},h.tooltip=h.tooltip||{};var d=h.theme.mode||"light",v=h.theme.palette?h.theme.palette:"dark"===d?"palette4":"palette1",S=h.chart.foreColor?h.chart.foreColor:"dark"===d?"#f6f7f8":"#373d3f";return h.tooltip.theme=d,h.chart.foreColor=S,h.theme.palette=v,h}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),We}(),bi=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(h){var d=this.w,v="title"===h?d.config.title:d.config.subtitle,S=d.globals.svgWidth/2,T=v.offsetY,I="middle";if("left"===v.align?(S=10,I="start"):"right"===v.align&&(S=d.globals.svgWidth-10,I="end"),S+=v.offsetX,T=T+parseInt(v.style.fontSize,10)+v.margin/2,void 0!==v.text){var N=new je(this.ctx).drawText({x:S,y:T,text:v.text,textAnchor:I,fontSize:v.style.fontSize,fontFamily:v.style.fontFamily,fontWeight:v.style.fontWeight,foreColor:v.style.color,opacity:1});N.node.setAttribute("class","apexcharts-".concat(h,"-text")),d.globals.dom.Paper.add(N)}}}]),We}(),ai=function(){function We(h){it(this,We),this.w=h.w,this.dCtx=h}return nt(We,[{key:"getTitleSubtitleCoords",value:function(h){var d=this.w,v=0,S=0,T="title"===h?d.config.title.floating:d.config.subtitle.floating,I=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-text"));if(null!==I&&!T){var N=I.getBoundingClientRect();v=N.width,S=d.globals.axisCharts?N.height+5:N.height}return{width:v,height:S}}},{key:"getLegendsRect",value:function(){var h=this.w,d=h.globals.dom.elLegendWrap;h.config.legend.height||"top"!==h.config.legend.position&&"bottom"!==h.config.legend.position||(d.style.maxHeight=h.globals.svgHeight/2+"px");var v=Object.assign({},de.getBoundingClientRect(d));return this.dCtx.lgRect=null!==d&&!h.config.legend.floating&&h.config.legend.show?{x:v.x,y:v.y,height:v.height,width:0===v.height?0:v.width}:{x:0,y:0,height:0,width:0},"left"!==h.config.legend.position&&"right"!==h.config.legend.position||1.5*this.dCtx.lgRect.width>h.globals.svgWidth&&(this.dCtx.lgRect.width=h.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(h,d){var v=h;if(this.w.globals.isMultiLineX){var S=d.map(function(I,N){return Array.isArray(I)?I.length:1}),T=Math.max.apply(Math,Ne(S));v=d[S.indexOf(T)]}return v}}]),We}(),Wi=function(){function We(h){it(this,We),this.w=h.w,this.dCtx=h}return nt(We,[{key:"getxAxisLabelsCoords",value:function(){var h,d=this.w,v=d.globals.labels.slice();if(d.config.xaxis.convertedCatToNumeric&&0===v.length&&(v=d.globals.categoryLabels),d.globals.timescaleLabels.length>0){var S=this.getxAxisTimeScaleLabelsCoords();h={width:S.width,height:S.height},d.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==d.config.legend.position&&"right"!==d.config.legend.position||d.config.legend.floating?0:this.dCtx.lgRect.width;var T=d.globals.xLabelFormatter,I=de.getLargestStringFromArr(v),N=this.dCtx.dimHelpers.getLargestStringFromMultiArr(I,v);d.globals.isBarHorizontal&&(N=I=d.globals.yAxisScale[0].result.reduce(function(Se,Le){return Se.length>Le.length?Se:Le},0));var V=new _t(this.dCtx.ctx),G=I;I=V.xLabelFormat(T,I,G,{i:void 0,dateFormatter:new zt(this.dCtx.ctx).formatDate,w:d}),N=V.xLabelFormat(T,N,G,{i:void 0,dateFormatter:new zt(this.dCtx.ctx).formatDate,w:d}),(d.config.xaxis.convertedCatToNumeric&&void 0===I||""===String(I).trim())&&(N=I="1");var K=new je(this.dCtx.ctx),J=K.getTextRects(I,d.config.xaxis.labels.style.fontSize),ie=J;if(I!==N&&(ie=K.getTextRects(N,d.config.xaxis.labels.style.fontSize)),(h={width:J.width>=ie.width?J.width:ie.width,height:J.height>=ie.height?J.height:ie.height}).width*v.length>d.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==d.config.xaxis.labels.rotate||d.config.xaxis.labels.rotateAlways){if(!d.globals.isBarHorizontal){d.globals.rotateXLabels=!0;var fe=function(Se){return K.getTextRects(Se,d.config.xaxis.labels.style.fontSize,d.config.xaxis.labels.style.fontFamily,"rotate(".concat(d.config.xaxis.labels.rotate," 0 0)"),!1)};J=fe(I),I!==N&&(ie=fe(N)),h.height=(J.height>ie.height?J.height:ie.height)/1.5,h.width=J.width>ie.width?J.width:ie.width}}else d.globals.rotateXLabels=!1}return d.config.xaxis.labels.show||(h={width:0,height:0}),{width:h.width,height:h.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var h,d=this.w;if(!d.globals.hasXaxisGroups)return{width:0,height:0};var v,S=(null===(h=d.config.xaxis.group.style)||void 0===h?void 0:h.fontSize)||d.config.xaxis.labels.style.fontSize,T=d.globals.groups.map(function(J){return J.title}),I=de.getLargestStringFromArr(T),N=this.dCtx.dimHelpers.getLargestStringFromMultiArr(I,T),V=new je(this.dCtx.ctx),G=V.getTextRects(I,S),K=G;return I!==N&&(K=V.getTextRects(N,S)),v={width:G.width>=K.width?G.width:K.width,height:G.height>=K.height?G.height:K.height},d.config.xaxis.labels.show||(v={width:0,height:0}),{width:v.width,height:v.height}}},{key:"getxAxisTitleCoords",value:function(){var h=this.w,d=0,v=0;if(void 0!==h.config.xaxis.title.text){var S=new je(this.dCtx.ctx).getTextRects(h.config.xaxis.title.text,h.config.xaxis.title.style.fontSize);d=S.width,v=S.height}return{width:d,height:v}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var h,d=this.w;this.dCtx.timescaleLabels=d.globals.timescaleLabels.slice();var v=this.dCtx.timescaleLabels.map(function(T){return T.value}),S=v.reduce(function(T,I){return void 0===T?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):T.length>I.length?T:I},0);return 1.05*(h=new je(this.dCtx.ctx).getTextRects(S,d.config.xaxis.labels.style.fontSize)).width*v.length>d.globals.gridWidth&&0!==d.config.xaxis.labels.rotate&&(d.globals.overlappingXLabels=!0),h}},{key:"additionalPaddingXLabels",value:function(h){var d=this,v=this.w,S=v.globals,T=v.config,I=T.xaxis.type,N=h.width;S.skipLastTimelinelabel=!1,S.skipFirstTimelinelabel=!1;var V=v.config.yaxis[0].opposite&&v.globals.isBarHorizontal;T.yaxis.forEach(function(K,J){V?(d.dCtx.gridPad.left<N&&(d.dCtx.xPadLeft=N/2+1),d.dCtx.xPadRight=N/2+1):function(K,J){T.yaxis.length>1&&-1!==S.collapsedSeriesIndices.indexOf(J)||function(ie){if(d.dCtx.timescaleLabels&&d.dCtx.timescaleLabels.length){var Le=d.dCtx.timescaleLabels[0].position-N/1.75+d.dCtx.yAxisWidthLeft;d.dCtx.timescaleLabels[d.dCtx.timescaleLabels.length-1].position+N/1.75-d.dCtx.yAxisWidthRight>S.svgWidth-S.translateX-("right"===v.config.legend.position&&d.dCtx.lgRect.width>0?d.dCtx.lgRect.width:0)&&(S.skipLastTimelinelabel=!0),Le<-(ie.show&&!ie.floating||"bar"!==T.chart.type&&"candlestick"!==T.chart.type&&"rangeBar"!==T.chart.type&&"boxPlot"!==T.chart.type?10:N/1.75)&&(S.skipFirstTimelinelabel=!0)}else"datetime"===I?d.dCtx.gridPad.right<N&&!S.rotateXLabels&&(S.skipLastTimelinelabel=!0):"datetime"!==I&&d.dCtx.gridPad.right<N/2-d.dCtx.yAxisWidthRight&&!S.rotateXLabels&&!v.config.xaxis.labels.trim&&("between"!==v.config.xaxis.tickPlacement||v.globals.isBarHorizontal)&&(d.dCtx.xPadRight=N/2+1)}(K)}(K,J)})}}]),We}(),yi=function(){function We(h){it(this,We),this.w=h.w,this.dCtx=h}return nt(We,[{key:"getyAxisLabelsCoords",value:function(){var h=this,d=this.w,v=[],S=10,T=new Et(this.dCtx.ctx);return d.config.yaxis.map(function(I,N){var V={seriesIndex:N,dataPointIndex:-1,w:d},G=d.globals.yAxisScale[N],K=0;if(!T.isYAxisHidden(N)&&I.labels.show&&void 0!==I.labels.minWidth&&(K=I.labels.minWidth),!T.isYAxisHidden(N)&&I.labels.show&&G.result.length){var J=d.globals.yLabelFormatters[N],fe=G.result.reduce(function(ae,De){var Ue,dt;return(null===(Ue=String(J(ae,V)))||void 0===Ue?void 0:Ue.length)>(null===(dt=String(J(De,V)))||void 0===dt?void 0:dt.length)?ae:De},G.niceMin===Number.MIN_VALUE?0:G.niceMin),Se=fe=J(fe,V);if(void 0!==fe&&0!==fe.length||(fe=G.niceMax),d.globals.isBarHorizontal){S=0;var Le=d.globals.labels.slice();fe=de.getLargestStringFromArr(Le),fe=J(fe,{seriesIndex:N,dataPointIndex:-1,w:d}),Se=h.dCtx.dimHelpers.getLargestStringFromMultiArr(fe,Le)}var Fe=new je(h.dCtx.ctx),tt="rotate(".concat(I.labels.rotate," 0 0)"),vt=Fe.getTextRects(fe,I.labels.style.fontSize,I.labels.style.fontFamily,tt,!1),W=vt;fe!==Se&&(W=Fe.getTextRects(Se,I.labels.style.fontSize,I.labels.style.fontFamily,tt,!1)),v.push({width:(K>W.width||K>vt.width?K:W.width>vt.width?W.width:vt.width)+S,height:W.height>vt.height?W.height:vt.height})}else v.push({width:0,height:0})}),v}},{key:"getyAxisTitleCoords",value:function(){var h=this,v=[];return this.w.config.yaxis.map(function(S,T){if(S.show&&void 0!==S.title.text){var I=new je(h.dCtx.ctx),N="rotate(".concat(S.title.rotate," 0 0)"),V=I.getTextRects(S.title.text,S.title.style.fontSize,S.title.style.fontFamily,N,!1);v.push({width:V.width,height:V.height})}else v.push({width:0,height:0})}),v}},{key:"getTotalYAxisWidth",value:function(){var h=this.w,d=0,v=0,S=0,T=h.globals.yAxisScale.length>1?10:0,I=new Et(this.dCtx.ctx),N=function(V,G){var K=h.config.yaxis[G].floating,J=0;V.width>0&&!K?(J=V.width+T,h.globals.ignoreYAxisIndexes.indexOf(G)>-1&&(J=J-V.width-T)):J=K||I.isYAxisHidden(G)?0:5,h.config.yaxis[G].opposite?S+=J:v+=J,d+=J};return h.globals.yLabelsCoords.map(function(V,G){N(V,G)}),h.globals.yTitleCoords.map(function(V,G){N(V,G)}),h.globals.isBarHorizontal&&!h.config.yaxis[0].floating&&(d=h.globals.yLabelsCoords[0].width+h.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=v,this.dCtx.yAxisWidthRight=S,d}}]),We}(),fr=function(){function We(h){it(this,We),this.w=h.w,this.dCtx=h}return nt(We,[{key:"gridPadForColumnsInNumericAxis",value:function(h){var d=this.w;if(d.globals.noData||d.globals.allSeriesCollapsed)return 0;var v=function(K){return"bar"===K||"rangeBar"===K||"candlestick"===K||"boxPlot"===K},S=d.config.chart.type,T=0,I=v(S)?d.config.series.length:1;if(d.globals.comboBarCount>0&&(I=d.globals.comboBarCount),d.globals.collapsedSeries.forEach(function(K){v(K.type)&&(I-=1)}),d.config.chart.stacked&&(I=1),(v(S)||d.globals.comboBarCount>0)&&d.globals.isXNumeric&&!d.globals.isBarHorizontal&&I>0){var N,V,G=Math.abs(d.globals.initialMaxX-d.globals.initialMinX);G<=3&&(G=d.globals.dataPoints),N=G/h,d.globals.minXDiff&&d.globals.minXDiff/N>0&&(V=d.globals.minXDiff/N),V>h/2&&(V/=2),(T=V*parseInt(d.config.plotOptions.bar.columnWidth,10)/100)<1&&(T=1),d.globals.barPadForNumericAxis=T}return T}},{key:"gridPadFortitleSubtitle",value:function(){var h=this,d=this.w,v=d.globals,S=this.dCtx.isSparkline||!d.globals.axisCharts?0:10;["title","subtitle"].forEach(function(N){S+=void 0!==d.config[N].text?d.config[N].margin:h.dCtx.isSparkline||!d.globals.axisCharts?0:5}),!d.config.legend.show||"bottom"!==d.config.legend.position||d.config.legend.floating||d.globals.axisCharts||(S+=10);var T=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),I=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");v.gridHeight=v.gridHeight-T.height-I.height-S,v.translateY=v.translateY+T.height+I.height+S}},{key:"setGridXPosForDualYAxis",value:function(h,d){var v=this.w,S=new Et(this.dCtx.ctx);v.config.yaxis.map(function(T,I){-1!==v.globals.ignoreYAxisIndexes.indexOf(I)||T.floating||S.isYAxisHidden(I)||(T.opposite&&(v.globals.translateX=v.globals.translateX-(d[I].width+h[I].width)-parseInt(v.config.yaxis[I].labels.style.fontSize,10)/1.2-12),v.globals.translateX<2&&(v.globals.translateX=2))})}}]),We}(),po=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ai(this),this.dimYAxis=new yi(this),this.dimXAxis=new Wi(this),this.dimGrid=new fr(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return nt(We,[{key:"plotCoords",value:function(){var h=this,d=this.w,v=d.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((d.config.markers.discrete.length>0||d.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(T){var I=ve(T,2);h.gridPad[I[0]]=Math.max(I[1],h.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(d.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(d.config.stroke.width/2,this.gridPad.bottom)),v.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),v.gridHeight=v.gridHeight-this.gridPad.top-this.gridPad.bottom,v.gridWidth=v.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var S=this.dimGrid.gridPadForColumnsInNumericAxis(v.gridWidth);v.gridWidth=v.gridWidth-2*S,v.translateX=v.translateX+this.gridPad.left+this.xPadLeft+(S>0?S+4:0),v.translateY=v.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var h=this,d=this.w,v=d.globals,S=this.dimYAxis.getyAxisLabelsCoords(),T=this.dimYAxis.getyAxisTitleCoords();d.globals.yLabelsCoords=[],d.globals.yTitleCoords=[],d.config.yaxis.map(function(fe,Se){d.globals.yLabelsCoords.push({width:S[Se].width,index:Se}),d.globals.yTitleCoords.push({width:T[Se].width,index:Se})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var I=this.dimXAxis.getxAxisLabelsCoords(),N=this.dimXAxis.getxAxisGroupLabelsCoords(),V=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(I,V,N),v.translateXAxisY=d.globals.rotateXLabels?this.xAxisHeight/8:-4,v.translateXAxisX=d.globals.rotateXLabels&&d.globals.isXNumeric&&d.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,d.globals.isBarHorizontal&&(v.rotateXLabels=!1,v.translateXAxisY=parseInt(d.config.xaxis.labels.style.fontSize,10)/1.5*-1),v.translateXAxisY=v.translateXAxisY+d.config.xaxis.labels.offsetY,v.translateXAxisX=v.translateXAxisX+d.config.xaxis.labels.offsetX;var G=this.yAxisWidth,K=this.xAxisHeight;v.xAxisLabelsHeight=this.xAxisHeight-V.height,v.xAxisGroupLabelsHeight=v.xAxisLabelsHeight-I.height,v.xAxisLabelsWidth=this.xAxisWidth,v.xAxisHeight=this.xAxisHeight;var J=10;("radar"===d.config.chart.type||this.isSparkline)&&(G=0,K=v.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===d.config.chart.type)&&(G=0,K=0,J=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(I);var ie=function(){v.translateX=G,v.gridHeight=v.svgHeight-h.lgRect.height-K-(h.isSparkline||"treemap"===d.config.chart.type?0:d.globals.rotateXLabels?10:15),v.gridWidth=v.svgWidth-G};switch("top"===d.config.xaxis.position&&(J=v.xAxisHeight-d.config.xaxis.axisTicks.height-5),d.config.legend.position){case"bottom":v.translateY=J,ie();break;case"top":v.translateY=this.lgRect.height+J,ie();break;case"left":v.translateY=J,v.translateX=this.lgRect.width+G,v.gridHeight=v.svgHeight-K-12,v.gridWidth=v.svgWidth-this.lgRect.width-G;break;case"right":v.translateY=J,v.translateX=G,v.gridHeight=v.svgHeight-K-12,v.gridWidth=v.svgWidth-this.lgRect.width-G-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(T,S),new En(this.ctx).setYAxisXPosition(S,T)}},{key:"setDimensionsForNonAxisCharts",value:function(){var h=this.w,d=h.globals,v=h.config,S=0;h.config.legend.show&&!h.config.legend.floating&&(S=20);var T="pie"===v.chart.type||"polarArea"===v.chart.type||"donut"===v.chart.type?"pie":"radialBar",I=v.plotOptions[T].offsetY,N=v.plotOptions[T].offsetX;if(!v.legend.show||v.legend.floating)return d.gridHeight=d.svgHeight-v.grid.padding.left+v.grid.padding.right,d.gridWidth=d.gridHeight,d.translateY=I,void(d.translateX=N+(d.svgWidth-d.gridWidth)/2);switch(v.legend.position){case"bottom":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=I-10,d.translateX=N+(d.svgWidth-d.gridWidth)/2;break;case"top":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=this.lgRect.height+I+10,d.translateX=N+(d.svgWidth-d.gridWidth)/2;break;case"left":d.gridWidth=d.svgWidth-this.lgRect.width-S,d.gridHeight="auto"!==v.chart.height?d.svgHeight:d.gridWidth,d.translateY=I,d.translateX=N+this.lgRect.width+S;break;case"right":d.gridWidth=d.svgWidth-this.lgRect.width-S-5,d.gridHeight="auto"!==v.chart.height?d.svgHeight:d.gridWidth,d.translateY=I,d.translateX=N+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(h,d,v){var S=this.w;this.xAxisHeight=(v.height+h.height+d.height)*(S.globals.isMultiLineX?1.2:S.globals.LINE_HEIGHT_RATIO)+(S.globals.hasXaxisGroups?2:1)*(S.globals.rotateXLabels?22:10)+(S.globals.rotateXLabels&&"bottom"===S.config.legend.position?10:0),this.xAxisWidth=h.width,this.xAxisHeight-d.height>S.config.xaxis.labels.maxHeight&&(this.xAxisHeight=S.config.xaxis.labels.maxHeight),S.config.xaxis.labels.minHeight&&this.xAxisHeight<S.config.xaxis.labels.minHeight&&(this.xAxisHeight=S.config.xaxis.labels.minHeight),S.config.xaxis.floating&&(this.xAxisHeight=0);var K=0,J=0;S.config.yaxis.forEach(function(ie){K+=ie.labels.minWidth,J+=ie.labels.maxWidth}),this.yAxisWidth<K&&(this.yAxisWidth=K),this.yAxisWidth>J&&(this.yAxisWidth=J)}}]),We}(),Fr=function(){function We(h){it(this,We),this.w=h.w,this.lgCtx=h}return nt(We,[{key:"getLegendStyles",value:function(){var h,d,v,S=document.createElement("style");S.setAttribute("type","text/css");var T=(null===(h=this.lgCtx.ctx)||void 0===h||null===(d=h.opts)||void 0===d||null===(v=d.chart)||void 0===v?void 0:v.nonce)||this.w.config.chart.nonce;T&&S.setAttribute("nonce",T);var I=document.createTextNode("\n      .apexcharts-legend {\n        display: flex;\n        overflow: auto;\n        padding: 0 10px;\n      }\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\n        flex-wrap: wrap\n      }\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        flex-direction: column;\n        bottom: 0;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        justify-content: flex-start;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\n        justify-content: center;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\n        justify-content: flex-end;\n      }\n      .apexcharts-legend-series {\n        cursor: pointer;\n        line-height: normal;\n      }\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\n        display: flex;\n        align-items: center;\n      }\n      .apexcharts-legend-text {\n        position: relative;\n        font-size: 14px;\n      }\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\n        pointer-events: none;\n      }\n      .apexcharts-legend-marker {\n        position: relative;\n        display: inline-block;\n        cursor: pointer;\n        margin-right: 3px;\n        border-style: solid;\n      }\n\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\n        display: inline-block;\n      }\n      .apexcharts-legend-series.apexcharts-no-click {\n        cursor: auto;\n      }\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\n        display: none !important;\n      }\n      .apexcharts-inactive-legend {\n        opacity: 0.45;\n      }");return S.appendChild(I),S}},{key:"getLegendBBox",value:function(){var h=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:h.height,clww:h.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(h,d){var v=this,S=this.w;if(S.globals.axisCharts||"radialBar"===S.config.chart.type){S.globals.resized=!0;var T=null,I=null;S.globals.risingSeries=[],S.globals.axisCharts?(T=S.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),I=parseInt(T.getAttribute("data:realIndex"),10)):(T=S.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']")),I=parseInt(T.getAttribute("rel"),10)-1),d?[{cs:S.globals.collapsedSeries,csi:S.globals.collapsedSeriesIndices},{cs:S.globals.ancillaryCollapsedSeries,csi:S.globals.ancillaryCollapsedSeriesIndices}].forEach(function(K){v.riseCollapsedSeries(K.cs,K.csi,I)}):this.hideSeries({seriesEl:T,realIndex:I})}else{var N=S.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(h+1,"'] path")),V=S.config.chart.type;if("pie"===V||"polarArea"===V||"donut"===V){var G=S.config.plotOptions.pie.donut.labels;new je(this.lgCtx.ctx).pathMouseDown(N.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(N.members[0].node,G)}N.fire("click")}}},{key:"hideSeries",value:function(h){var d=h.seriesEl,v=h.realIndex,S=this.w,T=de.clone(S.config.series);if(S.globals.axisCharts){var I=!1;if(S.config.yaxis[v]&&S.config.yaxis[v].show&&S.config.yaxis[v].showAlways&&(I=!0,S.globals.ancillaryCollapsedSeriesIndices.indexOf(v)<0&&(S.globals.ancillaryCollapsedSeries.push({index:v,data:T[v].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),S.globals.ancillaryCollapsedSeriesIndices.push(v))),!I){S.globals.collapsedSeries.push({index:v,data:T[v].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),S.globals.collapsedSeriesIndices.push(v);var N=S.globals.risingSeries.indexOf(v);S.globals.risingSeries.splice(N,1)}}else S.globals.collapsedSeries.push({index:v,data:T[v]}),S.globals.collapsedSeriesIndices.push(v);for(var V=d.childNodes,G=0;G<V.length;G++)V[G].classList.contains("apexcharts-series-markers-wrap")&&(V[G].classList.contains("apexcharts-hide")?V[G].classList.remove("apexcharts-hide"):V[G].classList.add("apexcharts-hide"));S.globals.allSeriesCollapsed=S.globals.collapsedSeries.length===S.config.series.length,T=this._getSeriesBasedOnCollapsedState(T),this.lgCtx.ctx.updateHelpers._updateSeries(T,S.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(h,d,v){var S=this.w,T=de.clone(S.config.series);if(h.length>0){for(var I=0;I<h.length;I++)h[I].index===v&&(S.globals.axisCharts?(T[v].data=h[I].data.slice(),h.splice(I,1),d.splice(I,1),S.globals.risingSeries.push(v)):(T[v]=h[I].data,h.splice(I,1),d.splice(I,1),S.globals.risingSeries.push(v)));T=this._getSeriesBasedOnCollapsedState(T),this.lgCtx.ctx.updateHelpers._updateSeries(T,S.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(h){var d=this.w;return h.forEach(d.globals.axisCharts?function(v,S){d.globals.collapsedSeriesIndices.indexOf(S)>-1&&(h[S].data=[])}:function(v,S){d.globals.collapsedSeriesIndices.indexOf(S)>-1&&(h[S]=0)}),h}}]),We}(),ir=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Fr(this)}return nt(We,[{key:"init",value:function(){var h=this.w,d=h.globals,v=h.config;if((v.legend.showForSingleSeries&&1===d.series.length||this.isBarsDistributed||d.series.length>1||!d.axisCharts)&&v.legend.show){for(;d.dom.elLegendWrap.firstChild;)d.dom.elLegendWrap.removeChild(d.dom.elLegendWrap.firstChild);this.drawLegends(),de.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===v.legend.position||"top"===v.legend.position?this.legendAlignHorizontal():"right"!==v.legend.position&&"left"!==v.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var h=this,d=this.w,v=d.config.legend.fontFamily,S=d.globals.seriesNames,T=d.globals.colors.slice();if("heatmap"===d.config.chart.type){var I=d.config.plotOptions.heatmap.colorScale.ranges;S=I.map(function(Cn){return Cn.name?Cn.name:Cn.from+" - "+Cn.to}),T=I.map(function(Cn){return Cn.color})}else this.isBarsDistributed&&(S=d.globals.labels.slice());d.config.legend.customLegendItems.length&&(S=d.config.legend.customLegendItems);for(var N=d.globals.legendFormatter,V=d.config.legend.inverseOrder,G=V?S.length-1:0;V?G>=0:G<=S.length-1;V?G--:G++){var K,J=N(S[G],{seriesIndex:G,w:d}),ie=!1,fe=!1;if(d.globals.collapsedSeries.length>0)for(var Se=0;Se<d.globals.collapsedSeries.length;Se++)d.globals.collapsedSeries[Se].index===G&&(ie=!0);if(d.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Le=0;Le<d.globals.ancillaryCollapsedSeriesIndices.length;Le++)d.globals.ancillaryCollapsedSeriesIndices[Le]===G&&(fe=!0);var Fe=document.createElement("span");Fe.classList.add("apexcharts-legend-marker");var tt=d.config.legend.markers.offsetX,vt=d.config.legend.markers.offsetY,W=d.config.legend.markers.height,ae=d.config.legend.markers.width,De=d.config.legend.markers.strokeWidth,Ue=d.config.legend.markers.strokeColor,dt=d.config.legend.markers.radius,kt=Fe.style;kt.background=T[G],kt.color=T[G],kt.setProperty("background",T[G],"important"),d.config.legend.markers.fillColors&&d.config.legend.markers.fillColors[G]&&(kt.background=d.config.legend.markers.fillColors[G]),void 0!==d.globals.seriesColors[G]&&(kt.background=d.globals.seriesColors[G],kt.color=d.globals.seriesColors[G]),kt.height=Array.isArray(W)?parseFloat(W[G])+"px":parseFloat(W)+"px",kt.width=Array.isArray(ae)?parseFloat(ae[G])+"px":parseFloat(ae)+"px",kt.left=(Array.isArray(tt)?parseFloat(tt[G]):parseFloat(tt))+"px",kt.top=(Array.isArray(vt)?parseFloat(vt[G]):parseFloat(vt))+"px",kt.borderWidth=Array.isArray(De)?De[G]:De,kt.borderColor=Array.isArray(Ue)?Ue[G]:Ue,kt.borderRadius=Array.isArray(dt)?parseFloat(dt[G])+"px":parseFloat(dt)+"px",d.config.legend.markers.customHTML&&(Array.isArray(d.config.legend.markers.customHTML)?d.config.legend.markers.customHTML[G]&&(Fe.innerHTML=d.config.legend.markers.customHTML[G]()):Fe.innerHTML=d.config.legend.markers.customHTML()),je.setAttrs(Fe,{rel:G+1,"data:collapsed":ie||fe}),(ie||fe)&&Fe.classList.add("apexcharts-inactive-legend");var Xt=document.createElement("div"),qt=document.createElement("span");qt.classList.add("apexcharts-legend-text"),qt.innerHTML=Array.isArray(J)?J.join(" "):J;var Sn=d.config.legend.labels.useSeriesColors?d.globals.colors[G]:Array.isArray(d.config.legend.labels.colors)?null===(K=d.config.legend.labels.colors)||void 0===K?void 0:K[G]:d.config.legend.labels.colors;Sn||(Sn=d.config.chart.foreColor),qt.style.color=Sn,qt.style.fontSize=parseFloat(d.config.legend.fontSize)+"px",qt.style.fontWeight=d.config.legend.fontWeight,qt.style.fontFamily=v||d.config.chart.fontFamily,je.setAttrs(qt,{rel:G+1,i:G,"data:default-text":encodeURIComponent(J),"data:collapsed":ie||fe}),Xt.appendChild(Fe),Xt.appendChild(qt);var Mn=new Ke(this.ctx);d.config.legend.showForZeroSeries||0===Mn.getSeriesTotalByIndex(G)&&Mn.seriesHaveSameValues(G)&&!Mn.isSeriesNull(G)&&-1===d.globals.collapsedSeriesIndices.indexOf(G)&&-1===d.globals.ancillaryCollapsedSeriesIndices.indexOf(G)&&Xt.classList.add("apexcharts-hidden-zero-series"),d.config.legend.showForNullSeries||Mn.isSeriesNull(G)&&-1===d.globals.collapsedSeriesIndices.indexOf(G)&&-1===d.globals.ancillaryCollapsedSeriesIndices.indexOf(G)&&Xt.classList.add("apexcharts-hidden-null-series"),d.globals.dom.elLegendWrap.appendChild(Xt),d.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(d.config.legend.horizontalAlign)),d.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+d.config.legend.position),Xt.classList.add("apexcharts-legend-series"),Xt.style.margin="".concat(d.config.legend.itemMargin.vertical,"px ").concat(d.config.legend.itemMargin.horizontal,"px"),d.globals.dom.elLegendWrap.style.width=d.config.legend.width?d.config.legend.width+"px":"",d.globals.dom.elLegendWrap.style.height=d.config.legend.height?d.config.legend.height+"px":"",je.setAttrs(Xt,{rel:G+1,seriesName:de.escapeString(S[G]),"data:collapsed":ie||fe}),(ie||fe)&&Xt.classList.add("apexcharts-inactive-legend"),d.config.legend.onItemClick.toggleDataSeries||Xt.classList.add("apexcharts-no-click")}d.globals.dom.elWrap.addEventListener("click",h.onLegendClick,!0),d.config.legend.onItemHover.highlightDataSeries&&0===d.config.legend.customLegendItems.length&&(d.globals.dom.elWrap.addEventListener("mousemove",h.onLegendHovered,!0),d.globals.dom.elWrap.addEventListener("mouseout",h.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(h,d){var v=this.w,S=v.globals.dom.elLegendWrap,T=S.getBoundingClientRect(),I=0,N=0;if("bottom"===v.config.legend.position)N+=v.globals.svgHeight-T.height/2;else if("top"===v.config.legend.position){var V=new po(this.ctx),G=V.dimHelpers.getTitleSubtitleCoords("title").height,K=V.dimHelpers.getTitleSubtitleCoords("subtitle").height;N=N+(G>0?G-10:0)+(K>0?K-10:0)}S.style.position="absolute",N=N+d+v.config.legend.offsetY,S.style.left=(I=I+h+v.config.legend.offsetX)+"px",S.style.top=N+"px","bottom"===v.config.legend.position?(S.style.top="auto",S.style.bottom=5-v.config.legend.offsetY+"px"):"right"===v.config.legend.position&&(S.style.left="auto",S.style.right=25+v.config.legend.offsetX+"px"),["width","height"].forEach(function(J){S.style[J]&&(S.style[J]=parseInt(v.config.legend[J],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var h=this.w;h.globals.dom.elLegendWrap.style.right=0;var d=this.legendHelpers.getLegendBBox(),v=new po(this.ctx),S=v.dimHelpers.getTitleSubtitleCoords("title"),T=v.dimHelpers.getTitleSubtitleCoords("subtitle"),I=0;"bottom"===h.config.legend.position?I=-d.clwh/1.8:"top"===h.config.legend.position&&(I=S.height+T.height+h.config.title.margin+h.config.subtitle.margin-10),this.setLegendWrapXY(20,I)}},{key:"legendAlignVertical",value:function(){var h=this.w,d=this.legendHelpers.getLegendBBox(),v=0;"left"===h.config.legend.position&&(v=20),"right"===h.config.legend.position&&(v=h.globals.svgWidth-d.clww-10),this.setLegendWrapXY(v,20)}},{key:"onLegendHovered",value:function(h){var d=this.w,v=h.target.classList.contains("apexcharts-legend-series")||h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker");if("heatmap"===d.config.chart.type||this.isBarsDistributed){if(v){var S=parseInt(h.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,S,this.w]),new jt(this.ctx).highlightRangeInSeries(h,h.target)}}else!h.target.classList.contains("apexcharts-inactive-legend")&&v&&new jt(this.ctx).toggleSeriesOnHover(h,h.target)}},{key:"onLegendClick",value:function(h){var d=this.w;if(!d.config.legend.customLegendItems.length&&(h.target.classList.contains("apexcharts-legend-series")||h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker"))){var v=parseInt(h.target.getAttribute("rel"),10)-1,S="true"===h.target.getAttribute("data:collapsed"),T=this.w.config.chart.events.legendClick;"function"==typeof T&&T(this.ctx,v,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,v,this.w]);var I=this.w.config.legend.markers.onClick;"function"==typeof I&&h.target.classList.contains("apexcharts-legend-marker")&&(I(this.ctx,v,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,v,this.w])),"treemap"!==d.config.chart.type&&"heatmap"!==d.config.chart.type&&!this.isBarsDistributed&&d.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(v,S)}}}]),We}(),Jr=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w;var d=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=d.globals.minX,this.maxX=d.globals.maxX}return nt(We,[{key:"createToolbar",value:function(){var h=this,d=this.w,v=function(){return document.createElement("div")},S=v();if(S.setAttribute("class","apexcharts-toolbar"),S.style.top=d.config.chart.toolbar.offsetY+"px",S.style.right=3-d.config.chart.toolbar.offsetX+"px",d.globals.dom.elWrap.appendChild(S),this.elZoom=v(),this.elZoomIn=v(),this.elZoomOut=v(),this.elPan=v(),this.elSelection=v(),this.elZoomReset=v(),this.elMenuIcon=v(),this.elMenu=v(),this.elCustomIcons=[],this.t=d.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var T=0;T<this.t.customIcons.length;T++)this.elCustomIcons.push(v());var I=[],N=function(J,ie,fe){var Se=J.toLowerCase();h.t[Se]&&d.config.chart.zoom.enabled&&I.push({el:ie,icon:"string"==typeof h.t[Se]?h.t[Se]:fe,title:h.localeValues[J],class:"apexcharts-".concat(Se,"-icon")})};N("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),N("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var V=function(J){h.t[J]&&d.config.chart[J].enabled&&I.push({el:"zoom"===J?h.elZoom:h.elSelection,icon:"string"==typeof h.t[J]?h.t[J]:"zoom"===J?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:h.localeValues["zoom"===J?"selectionZoom":"selection"],class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(J,"-icon")})};V("zoom"),V("selection"),this.t.pan&&d.config.chart.zoom.enabled&&I.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),N("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&I.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var G=0;G<this.elCustomIcons.length;G++)I.push({el:this.elCustomIcons[G],icon:this.t.customIcons[G].icon,title:this.t.customIcons[G].title,index:this.t.customIcons[G].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[G].class});I.forEach(function(J,ie){J.index&&de.moveIndexInArray(I,ie,J.index)});for(var K=0;K<I.length;K++)je.setAttrs(I[K].el,{class:I[K].class,title:I[K].title}),I[K].el.innerHTML=I[K].icon,S.appendChild(I[K].el);this._createHamburgerMenu(S),d.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):d.globals.panEnabled?this.elPan.classList.add(this.selectedClass):d.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(h){this.elMenuItems=[],h.appendChild(this.elMenu),je.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var d=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],v=0;v<d.length;v++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[v].innerHTML=d[v].title,je.setAttrs(this.elMenuItems[v],{class:"apexcharts-menu-item ".concat(d[v].name),title:d[v].title}),this.elMenu.appendChild(this.elMenuItems[v])}},{key:"addToolbarEventListeners",value:function(){var h=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(v){v.classList.contains("exportSVG")?v.addEventListener("click",h.handleDownload.bind(h,"svg")):v.classList.contains("exportPNG")?v.addEventListener("click",h.handleDownload.bind(h,"png")):v.classList.contains("exportCSV")&&v.addEventListener("click",h.handleDownload.bind(h,"csv"))});for(var d=0;d<this.t.customIcons.length;d++)this.elCustomIcons[d].addEventListener("click",this.t.customIcons[d].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(h){this.ctx.getSyncedCharts().forEach(function(d){d.ctx.toolbar.toggleOtherControls();var v="selection"===h?d.ctx.toolbar.elSelection:d.ctx.toolbar.elZoom,S="selection"===h?"selectionEnabled":"zoomEnabled";d.w.globals[S]=!d.w.globals[S],v.classList.contains(d.ctx.toolbar.selectedClass)?v.classList.remove(d.ctx.toolbar.selectedClass):v.classList.add(d.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var h=this.w;this.elZoom||(this.elZoom=h.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=h.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=h.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(h){this.toggleOtherControls(),"pan"===h?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var d="pan"===h?this.elPan:this.elZoom,v="pan"===h?this.elZoom:this.elPan;d&&d.classList.add(this.selectedClass),v&&v.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(h){h.ctx.toolbar.toggleOtherControls(),h.w.globals.panEnabled=!h.w.globals.panEnabled,h.ctx.toolbar.elPan.classList.contains(h.ctx.toolbar.selectedClass)?h.ctx.toolbar.elPan.classList.remove(h.ctx.toolbar.selectedClass):h.ctx.toolbar.elPan.classList.add(h.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var h=this,d=this.w;d.globals.panEnabled=!1,d.globals.zoomEnabled=!1,d.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(v){v&&v.classList.remove(h.selectedClass)})}},{key:"handleZoomIn",value:function(){var h=this.w;h.globals.isRangeBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY);var d=(this.minX+this.maxX)/2,T=this._getNewMinXMaxX((this.minX+d)/2,(this.maxX+d)/2);h.globals.disableZoomIn||this.zoomUpdateOptions(T.minX,T.maxX)}},{key:"handleZoomOut",value:function(){var h=this.w;if(h.globals.isRangeBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY),!("datetime"===h.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var d=(this.minX+this.maxX)/2,T=this._getNewMinXMaxX(this.minX-(d-this.minX),this.maxX-(d-this.maxX));h.globals.disableZoomOut||this.zoomUpdateOptions(T.minX,T.maxX)}}},{key:"_getNewMinXMaxX",value:function(h,d){var v=this.w.config.xaxis.convertedCatToNumeric;return{minX:v?Math.floor(h):h,maxX:v?Math.floor(d):d}}},{key:"zoomUpdateOptions",value:function(h,d){var v=this.w;if(void 0!==h||void 0!==d){if(!(v.config.xaxis.convertedCatToNumeric&&(h<1&&(h=1,d=v.globals.dataPoints),d-h<2))){var S={min:h,max:d},T=this.getBeforeZoomRange(S);T&&(S=T.xaxis);var I={xaxis:S},N=de.clone(v.globals.initialConfig.yaxis);v.config.chart.zoom.autoScaleYaxis&&(N=new On(this.ctx).autoScaleY(this.ctx,N,{xaxis:S})),v.config.chart.group||(I.yaxis=N),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(I,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(S,N)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(h,d){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:h,yaxis:d})}},{key:"getBeforeZoomRange",value:function(h,d){var v=null;return"function"==typeof this.ev.beforeZoom&&(v=this.ev.beforeZoom(this,{xaxis:h,yaxis:d})),v}},{key:"toggleMenu",value:function(){var h=this;window.setTimeout(function(){h.elMenu.classList.contains("apexcharts-menu-open")?h.elMenu.classList.remove("apexcharts-menu-open"):h.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(h){var d=this.w,v=new xn(this.ctx);switch(h){case"svg":v.exportToSVG(this.ctx);break;case"png":v.exportToPng(this.ctx);break;case"csv":v.exportToCSV({series:d.config.series,columnDelimiter:d.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(h){this.ctx.getSyncedCharts().forEach(function(d){var v=d.w;if(v.globals.lastXAxis.min=v.globals.initialConfig.xaxis.min,v.globals.lastXAxis.max=v.globals.initialConfig.xaxis.max,d.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof v.config.chart.events.beforeResetZoom){var S=v.config.chart.events.beforeResetZoom(d,v);S&&d.updateHelpers.revertDefaultAxisMinMax(S)}"function"==typeof v.config.chart.events.zoomed&&d.ctx.toolbar.zoomCallback({min:v.config.xaxis.min,max:v.config.xaxis.max}),v.globals.zoomed=!1;var T=d.ctx.series.emptyCollapsedSeries(de.clone(v.globals.initialSeries));d.updateHelpers._updateSeries(T,v.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),We}(),Zo=function(We){et(d,We);var h=we(d);function d(v){var S;return it(this,d),(S=h.call(this,v)).ctx=v,S.w=v.w,S.dragged=!1,S.graphics=new je(S.ctx),S.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],S.clientX=0,S.clientY=0,S.startX=0,S.endX=0,S.dragX=0,S.startY=0,S.endY=0,S.dragY=0,S.moveDirection="none",S}return nt(d,[{key:"init",value:function(v){var S=this,T=v.xyRatios,I=this.w,N=this;this.xyRatios=T,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=I.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),I.globals.dom.elGraphical.add(this.zoomRect),I.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===I.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:I.globals.gridWidth,maxY:I.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===I.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:I.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=I.globals.dom.baseEl.querySelector("".concat(I.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(V){S.hoverArea.addEventListener(V,N.svgMouseEvents.bind(N,T),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(v,S){var T=this.w,I=this,N=this.ctx.toolbar,V=T.globals.zoomEnabled?T.config.chart.zoom.type:T.config.chart.selection.type,G=T.config.chart.toolbar.autoSelected;if(S.shiftKey?(this.shiftWasPressed=!0,N.enableZoomPanFromToolbar("pan"===G?"zoom":"pan")):this.shiftWasPressed&&(N.enableZoomPanFromToolbar(G),this.shiftWasPressed=!1),S.target){var K,J=S.target.classList;if(S.target.parentNode&&null!==S.target.parentNode&&(K=S.target.parentNode.classList),!(J.contains("apexcharts-selection-rect")||J.contains("apexcharts-legend-marker")||J.contains("apexcharts-legend-text")||K&&K.contains("apexcharts-toolbar"))){if(I.clientX="touchmove"===S.type||"touchstart"===S.type?S.touches[0].clientX:"touchend"===S.type?S.changedTouches[0].clientX:S.clientX,I.clientY="touchmove"===S.type||"touchstart"===S.type?S.touches[0].clientY:"touchend"===S.type?S.changedTouches[0].clientY:S.clientY,"mousedown"===S.type&&1===S.which){var ie=I.gridRect.getBoundingClientRect();I.startX=I.clientX-ie.left,I.startY=I.clientY-ie.top,I.dragged=!1,I.w.globals.mousedown=!0}if(("mousemove"===S.type&&1===S.which||"touchmove"===S.type)&&(I.dragged=!0,T.globals.panEnabled?(T.globals.selection=null,I.w.globals.mousedown&&I.panDragging({context:I,zoomtype:V,xyRatios:v})):(I.w.globals.mousedown&&T.globals.zoomEnabled||I.w.globals.mousedown&&T.globals.selectionEnabled)&&(I.selection=I.selectionDrawing({context:I,zoomtype:V}))),"mouseup"===S.type||"touchend"===S.type||"mouseleave"===S.type){var fe=I.gridRect.getBoundingClientRect();I.w.globals.mousedown&&(I.endX=I.clientX-fe.left,I.endY=I.clientY-fe.top,I.dragX=Math.abs(I.endX-I.startX),I.dragY=Math.abs(I.endY-I.startY),(T.globals.zoomEnabled||T.globals.selectionEnabled)&&I.selectionDrawn({context:I,zoomtype:V}),T.globals.panEnabled&&T.config.xaxis.convertedCatToNumeric&&I.delayedPanScrolled()),T.globals.zoomEnabled&&I.hideSelectionRect(this.selectionRect),I.dragged=!1,I.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var v=this.w;if(this.selectionRect){var S=this.selectionRect.node.getBoundingClientRect();S.width>0&&S.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:v.globals.gridWidth,maxY:v.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var v=this.w,S=this.xyRatios;if(!v.globals.zoomEnabled)if(null!=v.globals.selection)this.drawSelectionRect(v.globals.selection);else if(void 0!==v.config.chart.selection.xaxis.min&&void 0!==v.config.chart.selection.xaxis.max){var T=(v.config.chart.selection.xaxis.min-v.globals.minX)/S.xRatio,I=v.globals.gridWidth-(v.globals.maxX-v.config.chart.selection.xaxis.max)/S.xRatio-T;v.globals.isRangeBar&&(T=(v.config.chart.selection.xaxis.min-v.globals.yAxisScale[0].niceMin)/S.invertedYRatio,I=(v.config.chart.selection.xaxis.max-v.config.chart.selection.xaxis.min)/S.invertedYRatio),this.drawSelectionRect({x:T,y:0,width:I,height:v.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof v.config.chart.events.selection&&v.config.chart.events.selection(this.ctx,{xaxis:{min:v.config.chart.selection.xaxis.min,max:v.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(v){var S=v.x,T=v.y,I=v.width,N=v.height,V=v.translateX,K=v.translateY,ie=this.w,fe=this.zoomRect,Se=this.selectionRect;if(this.dragged||null!==ie.globals.selection){var Le={transform:"translate("+(void 0===V?0:V)+", "+(void 0===K?0:K)+")"};ie.globals.zoomEnabled&&this.dragged&&(I<0&&(I=1),fe.attr({x:S,y:T,width:I,height:N,fill:ie.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":ie.config.chart.zoom.zoomedArea.fill.opacity,stroke:ie.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":ie.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":ie.config.chart.zoom.zoomedArea.stroke.opacity}),je.setAttrs(fe.node,Le)),ie.globals.selectionEnabled&&(Se.attr({x:S,y:T,width:I>0?I:0,height:N>0?N:0,fill:ie.config.chart.selection.fill.color,"fill-opacity":ie.config.chart.selection.fill.opacity,stroke:ie.config.chart.selection.stroke.color,"stroke-width":ie.config.chart.selection.stroke.width,"stroke-dasharray":ie.config.chart.selection.stroke.dashArray,"stroke-opacity":ie.config.chart.selection.stroke.opacity}),je.setAttrs(Se.node,Le))}}},{key:"hideSelectionRect",value:function(v){v&&v.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(v){var Le,T=v.zoomtype,I=this.w,N=v.context,V=this.gridRect.getBoundingClientRect(),G=N.startX-1,K=N.startY,J=!1,ie=!1,fe=N.clientX-V.left-G,Se=N.clientY-V.top-K;return Math.abs(fe+G)>I.globals.gridWidth?fe=I.globals.gridWidth-G:N.clientX-V.left<0&&(fe=G),G>N.clientX-V.left&&(J=!0,fe=Math.abs(fe)),K>N.clientY-V.top&&(ie=!0,Se=Math.abs(Se)),N.drawSelectionRect(Le="x"===T?{x:J?G-fe:G,y:0,width:fe,height:I.globals.gridHeight}:"y"===T?{x:0,y:ie?K-Se:K,width:I.globals.gridWidth,height:Se}:{x:J?G-fe:G,y:ie?K-Se:K,width:fe,height:Se}),N.selectionDragging("resizing"),Le}},{key:"selectionDragging",value:function(v,S){var T=this,I=this.w,N=this.xyRatios,V=this.selectionRect,G=0;"resizing"===v&&(G=30);var K=function(ie){return parseFloat(V.node.getAttribute(ie))},J={x:K("x"),y:K("y"),width:K("width"),height:K("height")};I.globals.selection=J,"function"==typeof I.config.chart.events.selection&&I.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var ie,fe,Se,Le,Fe=T.gridRect.getBoundingClientRect(),tt=V.node.getBoundingClientRect();I.globals.isRangeBar?(ie=I.globals.yAxisScale[0].niceMin+(tt.left-Fe.left)*N.invertedYRatio,fe=I.globals.yAxisScale[0].niceMin+(tt.right-Fe.left)*N.invertedYRatio,Se=0,Le=1):(ie=I.globals.xAxisScale.niceMin+(tt.left-Fe.left)*N.xRatio,fe=I.globals.xAxisScale.niceMin+(tt.right-Fe.left)*N.xRatio,Se=I.globals.yAxisScale[0].niceMin+(Fe.bottom-tt.bottom)*N.yRatio[0],Le=I.globals.yAxisScale[0].niceMax-(tt.top-Fe.top)*N.yRatio[0]);var vt={xaxis:{min:ie,max:fe},yaxis:{min:Se,max:Le}};I.config.chart.events.selection(T.ctx,vt),I.config.chart.brush.enabled&&void 0!==I.config.chart.events.brushScrolled&&I.config.chart.events.brushScrolled(T.ctx,vt)},G))}},{key:"selectionDrawn",value:function(v){var T=v.zoomtype,I=this.w,N=v.context,V=this.xyRatios,G=this.ctx.toolbar;if(N.startX>N.endX){var K=N.startX;N.startX=N.endX,N.endX=K}if(N.startY>N.endY){var J=N.startY;N.startY=N.endY,N.endY=J}var ie=void 0,fe=void 0;I.globals.isRangeBar?(ie=I.globals.yAxisScale[0].niceMin+N.startX*V.invertedYRatio,fe=I.globals.yAxisScale[0].niceMin+N.endX*V.invertedYRatio):(ie=I.globals.xAxisScale.niceMin+N.startX*V.xRatio,fe=I.globals.xAxisScale.niceMin+N.endX*V.xRatio);var Se=[],Le=[];if(I.config.yaxis.forEach(function(dt,kt){Se.push(I.globals.yAxisScale[kt].niceMax-V.yRatio[kt]*N.startY),Le.push(I.globals.yAxisScale[kt].niceMax-V.yRatio[kt]*N.endY)}),N.dragged&&(N.dragX>10||N.dragY>10)&&ie!==fe)if(I.globals.zoomEnabled){var Fe=de.clone(I.globals.initialConfig.yaxis),tt=de.clone(I.globals.initialConfig.xaxis);if(I.globals.zoomed=!0,I.config.xaxis.convertedCatToNumeric&&(ie=Math.floor(ie),fe=Math.floor(fe),ie<1&&(ie=1,fe=I.globals.dataPoints),fe-ie<2&&(fe=ie+1)),"xy"!==T&&"x"!==T||(tt={min:ie,max:fe}),"xy"!==T&&"y"!==T||Fe.forEach(function(dt,kt){Fe[kt].min=Le[kt],Fe[kt].max=Se[kt]}),I.config.chart.zoom.autoScaleYaxis){var vt=new On(N.ctx);Fe=vt.autoScaleY(N.ctx,Fe,{xaxis:tt})}if(G){var W=G.getBeforeZoomRange(tt,Fe);W&&(tt=W.xaxis?W.xaxis:tt,Fe=W.yaxis?W.yaxis:Fe)}var ae={xaxis:tt};I.config.chart.group||(ae.yaxis=Fe),N.ctx.updateHelpers._updateOptions(ae,!1,N.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof I.config.chart.events.zoomed&&G.zoomCallback(tt,Fe)}else if(I.globals.selectionEnabled){var De,Ue=null;De={min:ie,max:fe},"xy"!==T&&"y"!==T||(Ue=de.clone(I.config.yaxis)).forEach(function(dt,kt){Ue[kt].min=Le[kt],Ue[kt].max=Se[kt]}),I.globals.selection=N.selection,"function"==typeof I.config.chart.events.selection&&I.config.chart.events.selection(N.ctx,{xaxis:De,yaxis:Ue})}}},{key:"panDragging",value:function(v){var T=this.w,I=v.context;if(void 0!==T.globals.lastClientPosition.x){var N=T.globals.lastClientPosition.x-I.clientX,V=T.globals.lastClientPosition.y-I.clientY;Math.abs(N)>Math.abs(V)&&N>0?this.moveDirection="left":Math.abs(N)>Math.abs(V)&&N<0?this.moveDirection="right":Math.abs(V)>Math.abs(N)&&V>0?this.moveDirection="up":Math.abs(V)>Math.abs(N)&&V<0&&(this.moveDirection="down")}T.globals.lastClientPosition={x:I.clientX,y:I.clientY},T.config.xaxis.convertedCatToNumeric||I.panScrolled(T.globals.isRangeBar?T.globals.minY:T.globals.minX,T.globals.isRangeBar?T.globals.maxY:T.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var v=this.w,S=v.globals.minX,T=v.globals.maxX,I=(v.globals.maxX-v.globals.minX)/2;"left"===this.moveDirection?(S=v.globals.minX+I,T=v.globals.maxX+I):"right"===this.moveDirection&&(S=v.globals.minX-I,T=v.globals.maxX-I),S=Math.floor(S),T=Math.floor(T),this.updateScrolledChart({xaxis:{min:S,max:T}},S,T)}},{key:"panScrolled",value:function(v,S){var T=this.w,I=this.xyRatios,N=de.clone(T.globals.initialConfig.yaxis),V=I.xRatio,G=T.globals.minX,K=T.globals.maxX;T.globals.isRangeBar&&(V=I.invertedYRatio,G=T.globals.minY,K=T.globals.maxY),"left"===this.moveDirection?(v=G+T.globals.gridWidth/15*V,S=K+T.globals.gridWidth/15*V):"right"===this.moveDirection&&(v=G-T.globals.gridWidth/15*V,S=K-T.globals.gridWidth/15*V),T.globals.isRangeBar||(v<T.globals.initialMinX||S>T.globals.initialMaxX)&&(v=G,S=K);var J={min:v,max:S};T.config.chart.zoom.autoScaleYaxis&&(N=new On(this.ctx).autoScaleY(this.ctx,N,{xaxis:J}));var ie={xaxis:{min:v,max:S}};T.config.chart.group||(ie.yaxis=N),this.updateScrolledChart(ie,v,S)}},{key:"updateScrolledChart",value:function(v,S,T){var I=this.w;this.ctx.updateHelpers._updateOptions(v,!1,!1),"function"==typeof I.config.chart.events.scrolled&&I.config.chart.events.scrolled(this.ctx,{xaxis:{min:S,max:T}})}}]),d}(Jr),ns=function(){function We(h){it(this,We),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx}return nt(We,[{key:"getNearestValues",value:function(h){var d=h.hoverArea,S=h.clientX,T=h.clientY,I=this.w,N=h.elGrid.getBoundingClientRect(),V=N.width,G=N.height,K=V/(I.globals.dataPoints-1),J=G/I.globals.dataPoints,ie=this.hasBars();!I.globals.comboCharts&&!ie||I.config.xaxis.convertedCatToNumeric||(K=V/I.globals.dataPoints);var fe=S-N.left-I.globals.barPadForNumericAxis,Se=T-N.top;fe<0||Se<0||fe>V||Se>G?(d.classList.remove("hovering-zoom"),d.classList.remove("hovering-pan")):I.globals.zoomEnabled?(d.classList.remove("hovering-pan"),d.classList.add("hovering-zoom")):I.globals.panEnabled&&(d.classList.remove("hovering-zoom"),d.classList.add("hovering-pan"));var Le=Math.round(fe/K),Fe=Math.floor(Se/J);ie&&!I.config.xaxis.convertedCatToNumeric&&(Le=Math.ceil(fe/K),Le-=1);var tt=null,vt=null,W=I.globals.seriesXvalues.map(function(kt){return kt.filter(function(Xt){return de.isNumber(Xt)})}),ae=I.globals.seriesYvalues.map(function(kt){return kt.filter(function(Xt){return de.isNumber(Xt)})});if(I.globals.isXNumeric){var De=this.ttCtx.getElGrid().getBoundingClientRect(),Ue=fe*(De.width/V);tt=(vt=this.closestInMultiArray(Ue,Se*(De.height/G),W,ae)).index,Le=vt.j,null!==tt&&(Le=(vt=this.closestInArray(Ue,W=I.globals.seriesXvalues[tt])).index)}return I.globals.capturedSeriesIndex=null===tt?-1:tt,(!Le||Le<1)&&(Le=0),I.globals.capturedDataPointIndex=I.globals.isBarHorizontal?Fe:Le,{capturedSeries:tt,j:I.globals.isBarHorizontal?Fe:Le,hoverX:fe,hoverY:Se}}},{key:"closestInMultiArray",value:function(h,d,v,S){var I=0,N=null,V=-1;this.w.globals.series.length>1?I=this.getFirstActiveXArray(v):N=0;var K=Math.abs(h-v[I][0]);if(v.forEach(function(fe){fe.forEach(function(Se,Le){var Fe=Math.abs(h-Se);Fe<=K&&(K=Fe,V=Le)})}),-1!==V){var ie=Math.abs(d-S[I][V]);N=I,S.forEach(function(fe,Se){var Le=Math.abs(d-fe[V]);Le<=ie&&(ie=Le,N=Se)})}return{index:N,j:V}}},{key:"getFirstActiveXArray",value:function(h){for(var d=this.w,v=0,S=h.map(function(I,N){return I.length>0?N:-1}),T=0;T<S.length;T++)if(-1!==S[T]&&-1===d.globals.collapsedSeriesIndices.indexOf(T)&&-1===d.globals.ancillaryCollapsedSeriesIndices.indexOf(T)){v=S[T];break}return v}},{key:"closestInArray",value:function(h,d){for(var S=null,T=Math.abs(h-d[0]),I=0;I<d.length;I++){var N=Math.abs(h-d[I]);N<T&&(T=N,S=I)}return{index:S}}},{key:"isXoverlap",value:function(h){var d=[],v=this.w.globals.seriesX.filter(function(T){return void 0!==T[0]});if(v.length>0)for(var S=0;S<v.length-1;S++)void 0!==v[S][h]&&void 0!==v[S+1][h]&&v[S][h]!==v[S+1][h]&&d.push("unEqual");return 0===d.length}},{key:"isInitialSeriesSameLen",value:function(){for(var h=!0,d=this.w.globals.initialSeries,v=0;v<d.length-1;v++)if(d[v].data.length!==d[v+1].data.length){h=!1;break}return h}},{key:"getBarsHeight",value:function(h){return Ne(h).reduce(function(d,v){return d+v.getBBox().height},0)}},{key:"getElMarkers",value:function(h){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof h?".apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(h=Ne(h)).sort(function(v,S){var T=Number(v.getAttribute("data:realIndex")),I=Number(S.getAttribute("data:realIndex"));return I<T?1:I>T?-1:0});var d=[];return h.forEach(function(v){d.push(v.querySelector(".apexcharts-marker"))}),d}},{key:"hasMarkers",value:function(h){return this.getElMarkers(h).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(h){var d=this.w,v=d.config.markers.hover.size;return void 0===v&&(v=d.globals.markers.size[h]+d.config.markers.hover.sizeOffset),v}},{key:"toggleAllTooltipSeriesGroups",value:function(h){var d=this.w,v=this.ttCtx;0===v.allTooltipSeriesGroups.length&&(v.allTooltipSeriesGroups=d.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var S=v.allTooltipSeriesGroups,T=0;T<S.length;T++)"enable"===h?(S[T].classList.add("apexcharts-active"),S[T].style.display=d.config.tooltip.items.display):(S[T].classList.remove("apexcharts-active"),S[T].style.display="none")}}]),We}(),Do=function(){function We(h){it(this,We),this.w=h.w,this.ctx=h.ctx,this.ttCtx=h,this.tooltipUtil=new ns(h)}return nt(We,[{key:"drawSeriesTexts",value:function(h){var d=h.shared,v=void 0===d||d,S=h.ttItems,T=h.i,I=void 0===T?0:T,N=h.j,V=void 0===N?null:N,J=h.e,ie=this.w;void 0!==ie.config.tooltip.custom?this.handleCustomTooltip({i:I,j:V,y1:h.y1,y2:h.y2,w:ie}):this.toggleActiveInactiveSeries(v);var fe=this.getValuesToPrint({i:I,j:V});this.printLabels({i:I,j:V,values:fe,ttItems:S,shared:v,e:J});var Se=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Se.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Se.getBoundingClientRect().height}},{key:"printLabels",value:function(h){var d,v=this,S=h.i,T=h.j,I=h.values,N=h.ttItems,V=h.shared,G=h.e,K=this.w,J=[],ie=function(De){return K.globals.seriesGoals[De]&&K.globals.seriesGoals[De][T]&&Array.isArray(K.globals.seriesGoals[De][T])},fe=I.xVal,Se=I.zVal,Le=I.xAxisTTVal,Fe="",tt=K.globals.colors[S];null!==T&&K.config.plotOptions.bar.distributed&&(tt=K.globals.colors[T]);for(var vt=function(De,Ue){var dt=v.getFormatters(S);Fe=v.getSeriesName({fn:dt.yLbTitleFormatter,index:S,seriesIndex:S,j:T}),"treemap"===K.config.chart.type&&(Fe=dt.yLbTitleFormatter(String(K.config.series[S].data[T].x),{series:K.globals.series,seriesIndex:S,dataPointIndex:T,w:K}));var kt=K.config.tooltip.inverseOrder?Ue:De;if(K.globals.axisCharts){var Xt=function(Mn){var Cn,gi,Ei,Bi;return K.globals.isRangeData?dt.yLbFormatter(null===(Cn=K.globals.seriesRangeStart)||void 0===Cn||null===(gi=Cn[Mn])||void 0===gi?void 0:gi[T],{series:K.globals.seriesRangeStart,seriesIndex:Mn,dataPointIndex:T,w:K})+" - "+dt.yLbFormatter(null===(Ei=K.globals.seriesRangeEnd)||void 0===Ei||null===(Bi=Ei[Mn])||void 0===Bi?void 0:Bi[T],{series:K.globals.seriesRangeEnd,seriesIndex:Mn,dataPointIndex:T,w:K}):dt.yLbFormatter(K.globals.series[Mn][T],{series:K.globals.series,seriesIndex:Mn,dataPointIndex:T,w:K})};if(V)dt=v.getFormatters(kt),Fe=v.getSeriesName({fn:dt.yLbTitleFormatter,index:kt,seriesIndex:S,j:T}),tt=K.globals.colors[kt],d=Xt(kt),ie(kt)&&(J=K.globals.seriesGoals[kt][T].map(function(Mn){return{attrs:Mn,val:dt.yLbFormatter(Mn.value,{seriesIndex:kt,dataPointIndex:T,w:K})}}));else{var qt,Sn=null==G||null===(qt=G.target)||void 0===qt?void 0:qt.getAttribute("fill");Sn&&(tt=-1!==Sn.indexOf("url")?document.querySelector(Sn.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Sn),d=Xt(S),ie(S)&&Array.isArray(K.globals.seriesGoals[S][T])&&(J=K.globals.seriesGoals[S][T].map(function(Mn){return{attrs:Mn,val:dt.yLbFormatter(Mn.value,{seriesIndex:S,dataPointIndex:T,w:K})}}))}}null===T&&(d=dt.yLbFormatter(K.globals.series[S],Ze(Ze({},K),{},{seriesIndex:S,dataPointIndex:S}))),v.DOMHandling({i:S,t:kt,j:T,ttItems:N,values:{val:d,goalVals:J,xVal:fe,xAxisTTVal:Le,zVal:Se},seriesName:Fe,shared:V,pColor:tt})},W=0,ae=K.globals.series.length-1;W<K.globals.series.length;W++,ae--)vt(W,ae)}},{key:"getFormatters",value:function(h){var d,v=this.w,S=v.globals.yLabelFormatters[h];return void 0!==v.globals.ttVal?Array.isArray(v.globals.ttVal)?(S=v.globals.ttVal[h]&&v.globals.ttVal[h].formatter,d=v.globals.ttVal[h]&&v.globals.ttVal[h].title&&v.globals.ttVal[h].title.formatter):(S=v.globals.ttVal.formatter,"function"==typeof v.globals.ttVal.title.formatter&&(d=v.globals.ttVal.title.formatter)):d=v.config.tooltip.y.title.formatter,"function"!=typeof S&&(S=v.globals.yLabelFormatters[0]?v.globals.yLabelFormatters[0]:function(T){return T}),"function"!=typeof d&&(d=function(T){return T}),{yLbFormatter:S,yLbTitleFormatter:d}}},{key:"getSeriesName",value:function(h){var S=h.seriesIndex,T=h.j,I=this.w;return(0,h.fn)(String(I.globals.seriesNames[h.index]),{series:I.globals.series,seriesIndex:S,dataPointIndex:T,w:I})}},{key:"DOMHandling",value:function(h){var d=h.t,v=h.j,S=h.ttItems,T=h.values,I=h.seriesName,N=h.shared,V=h.pColor,G=this.w,K=this.ttCtx,J=T.val,ie=T.goalVals,fe=T.xVal,Se=T.xAxisTTVal,Le=T.zVal,Fe=null;Fe=S[d].children,G.config.tooltip.fillSeriesColor&&(S[d].style.backgroundColor=V,Fe[0].style.display="none"),K.showTooltipTitle&&(null===K.tooltipTitle&&(K.tooltipTitle=G.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),K.tooltipTitle.innerHTML=fe),K.isXAxisTooltipEnabled&&(K.xaxisTooltipText.innerHTML=""!==Se?Se:fe);var tt=S[d].querySelector(".apexcharts-tooltip-text-y-label");tt&&(tt.innerHTML=I||"");var vt=S[d].querySelector(".apexcharts-tooltip-text-y-value");vt&&(vt.innerHTML=void 0!==J?J:""),Fe[0]&&Fe[0].classList.contains("apexcharts-tooltip-marker")&&(G.config.tooltip.marker.fillColors&&Array.isArray(G.config.tooltip.marker.fillColors)&&(V=G.config.tooltip.marker.fillColors[d]),Fe[0].style.backgroundColor=V),G.config.tooltip.marker.show||(Fe[0].style.display="none");var W=S[d].querySelector(".apexcharts-tooltip-text-goals-label"),ae=S[d].querySelector(".apexcharts-tooltip-text-goals-value");if(ie.length&&G.globals.seriesGoals[d]){var De=function(){var kt="<div >",Xt="<div>";ie.forEach(function(qt,Sn){kt+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(qt.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(qt.attrs.name,"</div>"),Xt+="<div>".concat(qt.val,"</div>")}),W.innerHTML=kt+"</div>",ae.innerHTML=Xt+"</div>"};N?G.globals.seriesGoals[d][v]&&Array.isArray(G.globals.seriesGoals[d][v])?De():(W.innerHTML="",ae.innerHTML=""):De()}else W.innerHTML="",ae.innerHTML="";if(null!==Le&&(S[d].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=G.config.tooltip.z.title,S[d].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==Le?Le:""),N&&Fe[0]){if(G.config.tooltip.hideEmptySeries){var Ue=S[d].querySelector(".apexcharts-tooltip-marker"),dt=S[d].querySelector(".apexcharts-tooltip-text");0==parseFloat(J)?(Ue.style.display="none",dt.style.display="none"):(Ue.style.display="block",dt.style.display="block")}Fe[0].parentNode.style.display=null==J||G.globals.ancillaryCollapsedSeriesIndices.indexOf(d)>-1||G.globals.collapsedSeriesIndices.indexOf(d)>-1?"none":G.config.tooltip.items.display}}},{key:"toggleActiveInactiveSeries",value:function(h){var d=this.w;if(h)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var v=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");v&&(v.classList.add("apexcharts-active"),v.style.display=d.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(h){var d=h.i,v=h.j,S=this.w,T=this.ctx.series.filteredSeriesX(),I="",N="",V=null,G=null,K={series:S.globals.series,seriesIndex:d,dataPointIndex:v,w:S},J=S.globals.ttZFormatter;null===v?G=S.globals.series[d]:S.globals.isXNumeric&&"treemap"!==S.config.chart.type?(I=T[d][v],0===T[d].length&&(I=T[this.tooltipUtil.getFirstActiveXArray(T)][v])):I=void 0!==S.globals.labels[v]?S.globals.labels[v]:"";var ie=I;return I=S.globals.isXNumeric&&"datetime"===S.config.xaxis.type?new _t(this.ctx).xLabelFormat(S.globals.ttKeyFormatter,ie,ie,{i:void 0,dateFormatter:new zt(this.ctx).formatDate,w:this.w}):S.globals.isBarHorizontal?S.globals.yLabelFormatters[0](ie,K):S.globals.xLabelFormatter(ie,K),void 0!==S.config.tooltip.x.formatter&&(I=S.globals.ttKeyFormatter(ie,K)),S.globals.seriesZ.length>0&&S.globals.seriesZ[d].length>0&&(V=J(S.globals.seriesZ[d][v],S)),N="function"==typeof S.config.xaxis.tooltip.formatter?S.globals.xaxisTooltipFormatter(ie,K):I,{val:Array.isArray(G)?G.join(" "):G,xVal:Array.isArray(I)?I.join(" "):I,xAxisTTVal:Array.isArray(N)?N.join(" "):N,zVal:V}}},{key:"handleCustomTooltip",value:function(h){var d=h.i,v=h.j,S=h.y1,T=h.y2,I=h.w,N=this.ttCtx.getElTooltip(),V=I.config.tooltip.custom;Array.isArray(V)&&V[d]&&(V=V[d]),N.innerHTML=V({ctx:this.ctx,series:I.globals.series,seriesIndex:d,dataPointIndex:v,y1:S,y2:T,w:I})}}]),We}(),fa=function(){function We(h){it(this,We),this.ttCtx=h,this.ctx=h.ctx,this.w=h.w}return nt(We,[{key:"moveXCrosshairs",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=this.ttCtx,S=this.w,T=v.getElXCrosshairs(),I=h-v.xcrosshairsWidth/2,N=S.globals.labels.slice().length;if(null!==d&&(I=S.globals.gridWidth/N*d),null===T||S.globals.isBarHorizontal||(T.setAttribute("x",I),T.setAttribute("x1",I),T.setAttribute("x2",I),T.setAttribute("y2",S.globals.gridHeight),T.classList.add("apexcharts-active")),I<0&&(I=0),I>S.globals.gridWidth&&(I=S.globals.gridWidth),v.isXAxisTooltipEnabled){var V=I;"tickWidth"!==S.config.xaxis.crosshairs.width&&"barWidth"!==S.config.xaxis.crosshairs.width||(V=I+v.xcrosshairsWidth/2),this.moveXAxisTooltip(V)}}},{key:"moveYCrosshairs",value:function(h){var d=this.ttCtx;null!==d.ycrosshairs&&je.setAttrs(d.ycrosshairs,{y1:h,y2:h}),null!==d.ycrosshairsHidden&&je.setAttrs(d.ycrosshairsHidden,{y1:h,y2:h})}},{key:"moveXAxisTooltip",value:function(h){var d=this.w,v=this.ttCtx;if(null!==v.xaxisTooltip&&0!==v.xcrosshairsWidth){v.xaxisTooltip.classList.add("apexcharts-active");var T,S=v.xaxisOffY+d.config.xaxis.tooltip.offsetY+d.globals.translateY+1+d.config.xaxis.offsetY;h-=v.xaxisTooltip.getBoundingClientRect().width/2,isNaN(h)||(h+=d.globals.translateX,T=new je(this.ctx).getTextRects(v.xaxisTooltipText.innerHTML),v.xaxisTooltipText.style.minWidth=T.width+"px",v.xaxisTooltip.style.left=h+"px",v.xaxisTooltip.style.top=S+"px")}}},{key:"moveYAxisTooltip",value:function(h){var d=this.w,v=this.ttCtx;null===v.yaxisTTEls&&(v.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var S=parseInt(v.ycrosshairsHidden.getAttribute("y1"),10),T=d.globals.translateY+S,I=v.yaxisTTEls[h].getBoundingClientRect().height,N=d.globals.translateYAxisX[h]-2;d.config.yaxis[h].opposite&&(N-=26),T-=I/2,-1===d.globals.ignoreYAxisIndexes.indexOf(h)?(v.yaxisTTEls[h].classList.add("apexcharts-active"),v.yaxisTTEls[h].style.top=T+"px",v.yaxisTTEls[h].style.left=N+d.config.yaxis[h].tooltip.offsetX+"px"):v.yaxisTTEls[h].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,T=this.ttCtx,I=T.getElTooltip(),N=T.tooltipRect,V=null!==v?parseFloat(v):1,G=parseFloat(h)+V+5,K=parseFloat(d)+V/2;if(G>S.globals.gridWidth/2&&(G=G-N.ttWidth-V-10),G>S.globals.gridWidth-N.ttWidth-10&&(G=S.globals.gridWidth-N.ttWidth),G<-20&&(G=-20),S.config.tooltip.followCursor){var J=T.getElGrid().getBoundingClientRect();(G=T.e.clientX-J.left)>S.globals.gridWidth/2&&(G-=T.tooltipRect.ttWidth),(K=T.e.clientY+S.globals.translateY-J.top)>S.globals.gridHeight/2&&(K-=T.tooltipRect.ttHeight)}else S.globals.isBarHorizontal||N.ttHeight/2+K>S.globals.gridHeight&&(K=S.globals.gridHeight-N.ttHeight+S.globals.translateY);isNaN(G)||(I.style.left=(G+=S.globals.translateX)+"px",I.style.top=K+"px")}},{key:"moveMarkers",value:function(h,d){var v=this.w,S=this.ttCtx;if(v.globals.markers.size[h]>0)for(var T=v.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-marker")),I=0;I<T.length;I++)parseInt(T[I].getAttribute("rel"),10)===d&&(S.marker.resetPointsSize(),S.marker.enlargeCurrentPoint(d,T[I]));else S.marker.resetPointsSize(),this.moveDynamicPointOnHover(d,h)}},{key:"moveDynamicPointOnHover",value:function(h,d){var v,S,T=this.w,I=this.ttCtx,N=T.globals.pointsArray,V=I.tooltipUtil.getHoverMarkerSize(d),G=T.config.series[d].type;if(!G||"column"!==G&&"candlestick"!==G&&"boxPlot"!==G){v=N[d][h][0],S=N[d][h][1]?N[d][h][1]:0;var K=T.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-series-markers circle"));K&&S<T.globals.gridHeight&&S>0&&(K.setAttribute("r",V),K.setAttribute("cx",v),K.setAttribute("cy",S)),this.moveXCrosshairs(v),I.fixedTooltip||this.moveTooltip(v,S,V)}}},{key:"moveDynamicPointsOnHover",value:function(h){var d,v=this.ttCtx,S=v.w,T=0,I=0,N=S.globals.pointsArray;d=new jt(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var V=v.tooltipUtil.getHoverMarkerSize(d);N[d]&&(T=N[d][h][0],I=N[d][h][1]);var G=v.tooltipUtil.getAllMarkers();if(null!==G)for(var K=0;K<S.globals.series.length;K++){var J=N[K];if(S.globals.comboCharts&&void 0===J&&G.splice(K,0,null),J&&J.length){var ie=N[K][h][1];G[K].setAttribute("cx",T),"rangeArea"!==S.config.chart.type||S.globals.comboCharts||(ie-=Math.abs(ie-N[K][h+S.globals.series[K].length][1])/2),null!==ie&&!isNaN(ie)&&ie<S.globals.gridHeight+V&&ie+V>0?(G[K]&&G[K].setAttribute("r",V),G[K]&&G[K].setAttribute("cy",ie)):G[K]&&G[K].setAttribute("r",0)}}this.moveXCrosshairs(T),v.fixedTooltip||this.moveTooltip(T,I||S.globals.gridHeight,V)}},{key:"moveStickyTooltipOverBars",value:function(h,d){var v=this.w,S=this.ttCtx,T=v.globals.columnSeries?v.globals.columnSeries.length:v.globals.series.length,I=T>=2&&T%2==0?Math.floor(T/2):Math.floor(T/2)+1;v.globals.isBarHorizontal&&(I=new jt(this.ctx).getActiveConfigSeriesIndex("desc")+1);var N=v.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(I,"'] path[j='").concat(h,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(I,"'] path[j='").concat(h,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(I,"'] path[j='").concat(h,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(I,"'] path[j='").concat(h,"']"));N||"number"!=typeof d||(N=v.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(d,"'] path[j='").concat(h,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(d,"'] path[j='").concat(h,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(d,"'] path[j='").concat(h,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(d,"'] path[j='").concat(h,"']")));var V=N?parseFloat(N.getAttribute("cx")):0,G=N?parseFloat(N.getAttribute("cy")):0,K=N?parseFloat(N.getAttribute("barWidth")):0,J=S.getElGrid().getBoundingClientRect(),ie=N&&(N.classList.contains("apexcharts-candlestick-area")||N.classList.contains("apexcharts-boxPlot-area"));v.globals.isXNumeric?(N&&!ie&&(V-=T%2!=0?K/2:0),N&&ie&&v.globals.comboCharts&&(V-=K/2)):v.globals.isBarHorizontal||(V=S.xAxisTicksPositions[h-1]+S.dataPointsDividedWidth/2,isNaN(V)&&(V=S.xAxisTicksPositions[h]-S.dataPointsDividedWidth/2)),v.globals.isBarHorizontal?G-=S.tooltipRect.ttHeight:v.config.tooltip.followCursor?G=S.e.clientY-J.top-S.tooltipRect.ttHeight/2:G+S.tooltipRect.ttHeight+15>v.globals.gridHeight&&(G=v.globals.gridHeight),v.globals.isBarHorizontal||this.moveXCrosshairs(V),S.fixedTooltip||this.moveTooltip(V,G||v.globals.gridHeight)}}]),We}(),Ye=function(){function We(h){it(this,We),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx,this.tooltipPosition=new fa(h)}return nt(We,[{key:"drawDynamicPoints",value:function(){var h=this.w,d=new je(this.ctx),v=new ue(this.ctx),S=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");S=Ne(S),h.config.chart.stacked&&S.sort(function(J,ie){return parseFloat(J.getAttribute("data:realIndex"))-parseFloat(ie.getAttribute("data:realIndex"))});for(var T=0;T<S.length;T++){var I=S[T].querySelector(".apexcharts-series-markers-wrap");if(null!==I){var N=void 0,V="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==h.config.chart.type&&"area"!==h.config.chart.type||h.globals.comboCharts||h.config.tooltip.intersect||(V+=" no-pointer-events");var G=v.getMarkerConfig({cssClass:V,seriesIndex:Number(I.getAttribute("data:realIndex"))});(N=d.drawMarker(0,0,G)).node.setAttribute("default-marker-size",0);var K=document.createElementNS(h.globals.SVGNS,"g");K.classList.add("apexcharts-series-markers"),K.appendChild(N.node),I.appendChild(K)}}}},{key:"enlargeCurrentPoint",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,T=this.w;"bubble"!==T.config.chart.type&&this.newPointSize(h,d);var I=d.getAttribute("cx"),N=d.getAttribute("cy");if(null!==v&&null!==S&&(I=v,N=S),this.tooltipPosition.moveXCrosshairs(I),!this.fixedTooltip){if("radar"===T.config.chart.type){var V=this.ttCtx.getElGrid().getBoundingClientRect();I=this.ttCtx.e.clientX-V.left}this.tooltipPosition.moveTooltip(I,N,T.config.markers.hover.size)}}},{key:"enlargePoints",value:function(h){for(var d=this.w,v=this,S=this.ttCtx,T=h,I=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),N=d.config.markers.hover.size,V=0;V<I.length;V++){var G=I[V].getAttribute("rel"),K=I[V].getAttribute("index");if(void 0===N&&(N=d.globals.markers.size[K]+d.config.markers.hover.sizeOffset),T===parseInt(G,10)){v.newPointSize(T,I[V]);var J=I[V].getAttribute("cx"),ie=I[V].getAttribute("cy");v.tooltipPosition.moveXCrosshairs(J),S.fixedTooltip||v.tooltipPosition.moveTooltip(J,ie,N)}else v.oldPointSize(I[V])}}},{key:"newPointSize",value:function(h,d){var v=this.w,S=v.config.markers.hover.size,T=0===h?d.parentNode.firstChild:d.parentNode.lastChild;if("0"!==T.getAttribute("default-marker-size")){var I=parseInt(T.getAttribute("index"),10);void 0===S&&(S=v.globals.markers.size[I]+v.config.markers.hover.sizeOffset),S<0&&(S=0),T.setAttribute("r",S)}}},{key:"oldPointSize",value:function(h){var d=parseFloat(h.getAttribute("default-marker-size"));h.setAttribute("r",d)}},{key:"resetPointsSize",value:function(){for(var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),d=0;d<h.length;d++){var v=parseFloat(h[d].getAttribute("default-marker-size"));de.isNumber(v)&&v>=0?h[d].setAttribute("r",v):h[d].setAttribute("r",0)}}}]),We}(),Te=function(){function We(h){it(this,We),this.w=h.w;var d=this.w;this.ttCtx=h,this.isVerticalGroupedRangeBar=!d.globals.isBarHorizontal&&"rangeBar"===d.config.chart.type&&d.config.plotOptions.bar.rangeBarGroupRows}return nt(We,[{key:"getAttr",value:function(h,d){return parseFloat(h.target.getAttribute(d))}},{key:"handleHeatTreeTooltip",value:function(h){var d=h.e,v=h.opt,S=h.x,T=h.y,N=this.ttCtx,V=this.w;if(d.target.classList.contains("apexcharts-".concat(h.type,"-rect"))){var G=this.getAttr(d,"i"),K=this.getAttr(d,"j"),J=this.getAttr(d,"cx"),ie=this.getAttr(d,"cy"),fe=this.getAttr(d,"width"),Se=this.getAttr(d,"height");if(N.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:G,j:K,shared:!1,e:d}),V.globals.capturedSeriesIndex=G,V.globals.capturedDataPointIndex=K,S=J+N.tooltipRect.ttWidth/2+fe,T=ie+N.tooltipRect.ttHeight/2-Se/2,N.tooltipPosition.moveXCrosshairs(J+fe/2),S>V.globals.gridWidth/2&&(S=J-N.tooltipRect.ttWidth/2+fe),N.w.config.tooltip.followCursor){var Le=V.globals.dom.elWrap.getBoundingClientRect();S=V.globals.clientX-Le.left-(S>V.globals.gridWidth/2?N.tooltipRect.ttWidth:0),T=V.globals.clientY-Le.top-(T>V.globals.gridHeight/2?N.tooltipRect.ttHeight:0)}}return{x:S,y:T}}},{key:"handleMarkerTooltip",value:function(h){var d,v,S=h.e,T=h.opt,I=h.x,N=h.y,V=this.w,G=this.ttCtx;if(S.target.classList.contains("apexcharts-marker")){var K=parseInt(T.paths.getAttribute("cx"),10),J=parseInt(T.paths.getAttribute("cy"),10),ie=parseFloat(T.paths.getAttribute("val"));if(v=parseInt(T.paths.getAttribute("rel"),10),d=parseInt(T.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,G.intersect){var fe=de.findAncestor(T.paths,"apexcharts-series");fe&&(d=parseInt(fe.getAttribute("data:realIndex"),10))}if(G.tooltipLabels.drawSeriesTexts({ttItems:T.ttItems,i:d,j:v,shared:!G.showOnIntersect&&V.config.tooltip.shared,e:S}),"mouseup"===S.type&&G.markerClick(S,d,v),V.globals.capturedSeriesIndex=d,V.globals.capturedDataPointIndex=v,I=K,N=J+V.globals.translateY-1.4*G.tooltipRect.ttHeight,G.w.config.tooltip.followCursor){var Se=G.getElGrid().getBoundingClientRect();N=G.e.clientY+V.globals.translateY-Se.top}ie<0&&(N=J),G.marker.enlargeCurrentPoint(v,T.paths,I,N)}return{x:I,y:N}}},{key:"handleBarTooltip",value:function(h){var d,v,S=h.e,T=h.opt,I=this.w,N=this.ttCtx,V=N.getElTooltip(),G=0,K=0,J=0,ie=this.getBarTooltipXY({e:S,opt:T}),fe=ie.barHeight,Se=ie.j;I.globals.capturedSeriesIndex=d=ie.i,I.globals.capturedDataPointIndex=Se,I.globals.isBarHorizontal&&N.tooltipUtil.hasBars()||!I.config.tooltip.shared?(K=ie.x,J=ie.y,v=Array.isArray(I.config.stroke.width)?I.config.stroke.width[d]:I.config.stroke.width,G=K):I.globals.comboCharts||I.config.tooltip.shared||(G/=2),isNaN(J)&&(J=I.globals.svgHeight-N.tooltipRect.ttHeight);var Le=parseInt(T.paths.parentNode.getAttribute("data:realIndex"),10),Fe=I.globals.isMultipleYAxis?I.config.yaxis[Le]&&I.config.yaxis[Le].reversed:I.config.yaxis[0].reversed;if(K+N.tooltipRect.ttWidth>I.globals.gridWidth&&!Fe?K-=N.tooltipRect.ttWidth:K<0&&(K=0),N.w.config.tooltip.followCursor){var tt=N.getElGrid().getBoundingClientRect();J=N.e.clientY-tt.top}null===N.tooltip&&(N.tooltip=I.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),I.config.tooltip.shared||N.tooltipPosition.moveXCrosshairs(I.globals.comboBarCount>0?G+v/2:G),!N.fixedTooltip&&(!I.config.tooltip.shared||I.globals.isBarHorizontal&&N.tooltipUtil.hasBars())&&(Fe&&(K-=N.tooltipRect.ttWidth)<0&&(K=0),!Fe||I.globals.isBarHorizontal&&N.tooltipUtil.hasBars()||(J=J+fe-2*(I.globals.series[d][Se]<0?fe:0)),J=J+I.globals.translateY-N.tooltipRect.ttHeight/2,V.style.left=K+I.globals.translateX+"px",V.style.top=J+"px")}},{key:"getBarTooltipXY",value:function(h){var d=this,v=h.e,S=h.opt,T=this.w,I=null,N=this.ttCtx,V=0,G=0,K=0,J=0,ie=0,fe=v.target.classList;if(fe.contains("apexcharts-bar-area")||fe.contains("apexcharts-candlestick-area")||fe.contains("apexcharts-boxPlot-area")||fe.contains("apexcharts-rangebar-area")){var Se=v.target,Le=Se.getBoundingClientRect(),Fe=S.elGrid.getBoundingClientRect(),tt=Le.height;ie=Le.height;var vt=Le.width,W=parseInt(Se.getAttribute("cx"),10),ae=parseInt(Se.getAttribute("cy"),10);J=parseFloat(Se.getAttribute("barWidth"));var De="touchmove"===v.type?v.touches[0].clientX:v.clientX;I=parseInt(Se.getAttribute("j"),10),V=parseInt(Se.parentNode.getAttribute("rel"),10)-1;var Ue=Se.getAttribute("data-range-y1"),dt=Se.getAttribute("data-range-y2");T.globals.comboCharts&&(V=parseInt(Se.parentNode.getAttribute("data:realIndex"),10));var kt=function(qt){return T.globals.isXNumeric?W-vt/2:d.isVerticalGroupedRangeBar?W+vt/2:W-N.dataPointsDividedWidth+vt/2},Xt=function(){return ae-N.dataPointsDividedHeight+tt/2-N.tooltipRect.ttHeight/2};N.tooltipLabels.drawSeriesTexts({ttItems:S.ttItems,i:V,j:I,y1:Ue?parseInt(Ue,10):null,y2:dt?parseInt(dt,10):null,shared:!N.showOnIntersect&&T.config.tooltip.shared,e:v}),T.config.tooltip.followCursor?T.globals.isBarHorizontal?(G=De-Fe.left+15,K=Xt()):(G=kt(),K=v.clientY-Fe.top-N.tooltipRect.ttHeight/2-15):T.globals.isBarHorizontal?((G=W)<N.xyRatios.baseLineInvertedY&&(G=W-N.tooltipRect.ttWidth),K=Xt()):(G=kt(),K=ae)}return{x:G,y:K,barHeight:ie,barWidth:J,i:V,j:I}}}]),We}(),be=function(){function We(h){it(this,We),this.w=h.w,this.ttCtx=h}return nt(We,[{key:"drawXaxisTooltip",value:function(){var h=this.w,d=this.ttCtx,v="bottom"===h.config.xaxis.position;d.xaxisOffY=v?h.globals.gridHeight+1:-h.globals.xAxisHeight-h.config.xaxis.axisTicks.height+3;var S=v?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",T=h.globals.dom.elWrap;d.isXAxisTooltipEnabled&&null===h.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(d.xaxisTooltip=document.createElement("div"),d.xaxisTooltip.setAttribute("class",S+" apexcharts-theme-"+h.config.tooltip.theme),T.appendChild(d.xaxisTooltip),d.xaxisTooltipText=document.createElement("div"),d.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),d.xaxisTooltipText.style.fontFamily=h.config.xaxis.tooltip.style.fontFamily||h.config.chart.fontFamily,d.xaxisTooltipText.style.fontSize=h.config.xaxis.tooltip.style.fontSize,d.xaxisTooltip.appendChild(d.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var h=this.w,d=this.ttCtx,v=function(T){var I=h.config.yaxis[T].opposite||h.config.yaxis[T].crosshairs.opposite;d.yaxisOffX=I?h.globals.gridWidth+1:1;var N="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(T,I?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");h.globals.yAxisSameScaleIndices.map(function(G,K){G.map(function(J,ie){ie===T&&(N+=h.config.yaxis[ie].show?" ":" apexcharts-yaxistooltip-hidden")})});var V=h.globals.dom.elWrap;null===h.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(T))&&(d.yaxisTooltip=document.createElement("div"),d.yaxisTooltip.setAttribute("class",N+" apexcharts-theme-"+h.config.tooltip.theme),V.appendChild(d.yaxisTooltip),0===T&&(d.yaxisTooltipText=[]),d.yaxisTooltipText[T]=document.createElement("div"),d.yaxisTooltipText[T].classList.add("apexcharts-yaxistooltip-text"),d.yaxisTooltip.appendChild(d.yaxisTooltipText[T]))},S=0;S<h.config.yaxis.length;S++)v(S)}},{key:"setXCrosshairWidth",value:function(){var h=this.w,d=this.ttCtx,v=d.getElXCrosshairs();if(d.xcrosshairsWidth=parseInt(h.config.xaxis.crosshairs.width,10),h.globals.comboCharts){var S=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==S&&"barWidth"===h.config.xaxis.crosshairs.width){var T=parseFloat(S.getAttribute("barWidth"));d.xcrosshairsWidth=T}else"tickWidth"===h.config.xaxis.crosshairs.width&&(d.xcrosshairsWidth=h.globals.gridWidth/h.globals.labels.length)}else if("tickWidth"===h.config.xaxis.crosshairs.width)d.xcrosshairsWidth=h.globals.gridWidth/h.globals.labels.length;else if("barWidth"===h.config.xaxis.crosshairs.width){var V=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==V){var G=parseFloat(V.getAttribute("barWidth"));d.xcrosshairsWidth=G}else d.xcrosshairsWidth=1}h.globals.isBarHorizontal&&(d.xcrosshairsWidth=0),null!==v&&d.xcrosshairsWidth>0&&v.setAttribute("width",d.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var h=this.w,d=this.ttCtx;d.ycrosshairs=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),d.ycrosshairsHidden=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(h,d,v){var S=this.ttCtx,T=this.w,I=T.globals.yLabelFormatters[h];if(S.yaxisTooltips[h]){var N=S.getElGrid().getBoundingClientRect(),K=T.globals.minYArr[h]+(T.globals.maxYArr[h]-T.globals.minYArr[h]-(d-N.top)*v.yRatio[h]);S.tooltipPosition.moveYCrosshairs(d-N.top),S.yaxisTooltipText[h].innerHTML=I(K),S.tooltipPosition.moveYAxisTooltip(h)}}}]),We}(),at=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w;var d=this.w;this.tConfig=d.config.tooltip,this.tooltipUtil=new ns(this),this.tooltipLabels=new Do(this),this.tooltipPosition=new fa(this),this.marker=new Ye(this),this.intersect=new Te(this),this.axesTooltip=new be(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!d.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return nt(We,[{key:"getElTooltip",value:function(h){return h||(h=this),h.w.globals.dom.baseEl?h.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(h){var d=this.w;this.xyRatios=h,this.isXAxisTooltipEnabled=d.config.xaxis.tooltip.enabled&&d.globals.axisCharts,this.yaxisTooltips=d.config.yaxis.map(function(I,N){return!!(I.show&&I.tooltip.enabled&&d.globals.axisCharts)}),this.allTooltipSeriesGroups=[],d.globals.axisCharts||(this.showTooltipTitle=!1);var v=document.createElement("div");if(v.classList.add("apexcharts-tooltip"),d.config.tooltip.cssClass&&v.classList.add(d.config.tooltip.cssClass),v.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),d.globals.dom.elWrap.appendChild(v),d.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var S=new Bt(this.ctx);this.xAxisTicksPositions=S.getXAxisTicksPositions()}if(!d.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==d.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==d.config.markers.size&&0!==d.globals.markers.largestSize||this.marker.drawDynamicPoints(this),d.globals.collapsedSeries.length!==d.globals.series.length){this.dataPointsDividedHeight=d.globals.gridHeight/d.globals.dataPoints,this.dataPointsDividedWidth=d.globals.gridWidth/d.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||d.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,v.appendChild(this.tooltipTitle));var T=d.globals.series.length;(d.globals.xyCharts||d.globals.comboCharts)&&this.tConfig.shared&&(T=this.showOnIntersect?1:d.globals.series.length),this.legendLabels=d.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(T),this.addSVGEvents()}}},{key:"createTTElements",value:function(h){for(var d=this,v=this.w,S=[],T=this.getElTooltip(),I=function(V){var G=document.createElement("div");G.classList.add("apexcharts-tooltip-series-group"),G.style.order=v.config.tooltip.inverseOrder?h-V:V+1,d.tConfig.shared&&d.tConfig.enabledOnSeries&&Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(V)<0&&G.classList.add("apexcharts-tooltip-series-group-hidden");var K=document.createElement("span");K.classList.add("apexcharts-tooltip-marker"),K.style.backgroundColor=v.globals.colors[V],G.appendChild(K);var J=document.createElement("div");J.classList.add("apexcharts-tooltip-text"),J.style.fontFamily=d.tConfig.style.fontFamily||v.config.chart.fontFamily,J.style.fontSize=d.tConfig.style.fontSize,["y","goals","z"].forEach(function(ie){var fe=document.createElement("div");fe.classList.add("apexcharts-tooltip-".concat(ie,"-group"));var Se=document.createElement("span");Se.classList.add("apexcharts-tooltip-text-".concat(ie,"-label")),fe.appendChild(Se);var Le=document.createElement("span");Le.classList.add("apexcharts-tooltip-text-".concat(ie,"-value")),fe.appendChild(Le),J.appendChild(fe)}),G.appendChild(J),T.appendChild(G),S.push(G)},N=0;N<h;N++)I(N);return S}},{key:"addSVGEvents",value:function(){var h=this.w,d=h.config.chart.type,v=this.getElTooltip(),S=!("bar"!==d&&"candlestick"!==d&&"boxPlot"!==d&&"rangeBar"!==d),T="area"===d||"line"===d||"scatter"===d||"bubble"===d||"radar"===d,I=h.globals.dom.Paper.node,N=this.getElGrid();N&&(this.seriesBound=N.getBoundingClientRect());var V,G=[],K=[],J={hoverArea:I,elGrid:N,tooltipEl:v,tooltipY:G,tooltipX:K,ttItems:this.ttItems};if(h.globals.axisCharts&&(T?V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):S?V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==d&&"treemap"!==d||(V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),V&&V.length))for(var ie=0;ie<V.length;ie++)G.push(V[ie].getAttribute("cy")),K.push(V[ie].getAttribute("cx"));if(h.globals.xyCharts&&!this.showOnIntersect||h.globals.comboCharts&&!this.showOnIntersect||S&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([I],J);else if(S&&!h.globals.comboCharts||T&&this.showOnIntersect)this.addDatapointEventsListeners(J);else if(!h.globals.axisCharts||"heatmap"===d||"treemap"===d){var fe=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(fe,J)}if(this.showOnIntersect){var Se=h.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Se.length>0&&this.addPathsEventListeners(Se,J),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(J)}}},{key:"drawFixedTooltipRect",value:function(){var h=this.w,d=this.getElTooltip(),v=d.getBoundingClientRect(),S=v.width+10,T=v.height+10,I=this.tConfig.fixed.offsetX,N=this.tConfig.fixed.offsetY,V=this.tConfig.fixed.position.toLowerCase();return V.indexOf("right")>-1&&(I=I+h.globals.svgWidth-S+10),V.indexOf("bottom")>-1&&(N=N+h.globals.svgHeight-T-10),d.style.left=I+"px",d.style.top=N+"px",{x:I,y:N,ttWidth:S,ttHeight:T}}},{key:"addDatapointEventsListeners",value:function(h){var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(d,h)}},{key:"addPathsEventListeners",value:function(h,d){for(var v=this,S=function(I){var N={paths:h[I],tooltipEl:d.tooltipEl,tooltipY:d.tooltipY,tooltipX:d.tooltipX,elGrid:d.elGrid,hoverArea:d.hoverArea,ttItems:d.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(V){return h[I].addEventListener(V,v.onSeriesHover.bind(v,N),{capture:!1,passive:!0})})},T=0;T<h.length;T++)S(T)}},{key:"onSeriesHover",value:function(h,d){var v=this,S=Date.now()-this.lastHoverTime;S>=100?this.seriesHover(h,d):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){v.seriesHover(h,d)},100-S))}},{key:"seriesHover",value:function(h,d){var v=this;this.lastHoverTime=Date.now();var S=[],T=this.w;T.config.chart.group&&(S=this.ctx.getGroupedCharts()),T.globals.axisCharts&&(T.globals.minX===-1/0&&T.globals.maxX===1/0||0===T.globals.dataPoints)||(S.length?S.forEach(function(I){var N=v.getElTooltip(I);I.w.globals.minX===v.w.globals.minX&&I.w.globals.maxX===v.w.globals.maxX&&I.w.globals.tooltip.seriesHoverByContext({chartCtx:I,ttCtx:I.w.globals.tooltip,opt:{paths:h.paths,tooltipEl:N,tooltipY:h.tooltipY,tooltipX:h.tooltipX,elGrid:h.elGrid,hoverArea:h.hoverArea,ttItems:I.w.globals.tooltip.ttItems},e:d})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:h,e:d}))}},{key:"seriesHoverByContext",value:function(h){var d=h.chartCtx,v=h.ttCtx,S=h.opt,T=h.e,I=d.w,N=this.getElTooltip();N&&(v.tooltipRect={x:0,y:0,ttWidth:N.getBoundingClientRect().width,ttHeight:N.getBoundingClientRect().height},v.e=T,v.tooltipUtil.hasBars()&&!I.globals.comboCharts&&!v.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new jt(d).toggleSeriesOnHover(T,T.target.parentNode),v.fixedTooltip&&v.drawFixedTooltipRect(),I.globals.axisCharts?v.axisChartsTooltips({e:T,opt:S,tooltipRect:v.tooltipRect}):v.nonAxisChartsTooltips({e:T,opt:S,tooltipRect:v.tooltipRect}))}},{key:"axisChartsTooltips",value:function(h){var d,v,S=h.e,T=h.opt,I=this.w,N=T.elGrid.getBoundingClientRect(),V="touchmove"===S.type?S.touches[0].clientX:S.clientX,G="touchmove"===S.type?S.touches[0].clientY:S.clientY;if(this.clientY=G,this.clientX=V,I.globals.capturedSeriesIndex=-1,I.globals.capturedDataPointIndex=-1,G<N.top||G>N.top+N.height)this.handleMouseOut(T);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!I.config.tooltip.shared){var K=parseInt(T.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(K)<0)return void this.handleMouseOut(T)}var J=this.getElTooltip(),ie=this.getElXCrosshairs(),fe=I.globals.xyCharts||"bar"===I.config.chart.type&&!I.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||I.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===S.type||"touchmove"===S.type||"mouseup"===S.type){if(I.globals.collapsedSeries.length+I.globals.ancillaryCollapsedSeries.length===I.globals.series.length)return;null!==ie&&ie.classList.add("apexcharts-active");var Se=this.yaxisTooltips.filter(function(tt){return!0===tt});if(null!==this.ycrosshairs&&Se.length&&this.ycrosshairs.classList.add("apexcharts-active"),fe&&!this.showOnIntersect)this.handleStickyTooltip(S,V,G,T);else if("heatmap"===I.config.chart.type||"treemap"===I.config.chart.type){var Le=this.intersect.handleHeatTreeTooltip({e:S,opt:T,x:d,y:v,type:I.config.chart.type});v=Le.y,J.style.left=(d=Le.x)+"px",J.style.top=v+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:S,opt:T}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:S,opt:T,x:d,y:v});if(this.yaxisTooltips.length)for(var Fe=0;Fe<I.config.yaxis.length;Fe++)this.axesTooltip.drawYaxisTooltipText(Fe,G,this.xyRatios);T.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==S.type&&"touchend"!==S.type||this.handleMouseOut(T)}}},{key:"nonAxisChartsTooltips",value:function(h){var d=h.e,v=h.opt,S=h.tooltipRect,T=this.w,I=v.paths.getAttribute("rel"),N=this.getElTooltip(),V=T.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===d.type||"touchmove"===d.type){N.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:parseInt(I,10)-1,shared:!1});var K=T.globals.clientY-V.top-S.ttHeight-10;if(N.style.left=T.globals.clientX-V.left-S.ttWidth/2+"px",N.style.top=K+"px",T.config.legend.tooltipHoverFormatter){var J=I-1,ie=(0,T.config.legend.tooltipHoverFormatter)(this.legendLabels[J].getAttribute("data:default-text"),{seriesIndex:J,dataPointIndex:J,w:T});this.legendLabels[J].innerHTML=ie}}else"mouseout"!==d.type&&"touchend"!==d.type||(N.classList.remove("apexcharts-active"),T.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(fe){var Se=fe.getAttribute("data:default-text");fe.innerHTML=decodeURIComponent(Se)}))}},{key:"handleStickyTooltip",value:function(h,d,v,S){var T=this.w,I=this.tooltipUtil.getNearestValues({context:this,hoverArea:S.hoverArea,elGrid:S.elGrid,clientX:d,clientY:v}),N=I.j,V=I.capturedSeries;T.globals.collapsedSeriesIndices.includes(V)&&(V=null);var G=S.elGrid.getBoundingClientRect();if(I.hoverX<0||I.hoverX>G.width)this.handleMouseOut(S);else if(null!==V)this.handleStickyCapturedSeries(h,V,S,N);else if(this.tooltipUtil.isXoverlap(N)||T.globals.isBarHorizontal){var K=T.globals.series.findIndex(function(J,ie){return!T.globals.collapsedSeriesIndices.includes(ie)});this.create(h,this,K,N,S.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(h,d,v,S){var T=this.w;if(this.tConfig.shared||null!==T.globals.series[d][S]){if(void 0!==T.globals.series[d][S])this.tConfig.shared&&this.tooltipUtil.isXoverlap(S)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(h,this,d,S,v.ttItems):this.create(h,this,d,S,v.ttItems,!1);else if(this.tooltipUtil.isXoverlap(S)){var I=T.globals.series.findIndex(function(N,V){return!T.globals.collapsedSeriesIndices.includes(V)});this.create(h,this,I,S,v.ttItems)}}else this.handleMouseOut(v)}},{key:"deactivateHoverFilter",value:function(){for(var h=this.w,d=new je(this.ctx),v=h.globals.dom.Paper.select(".apexcharts-bar-area"),S=0;S<v.length;S++)d.pathMouseLeave(v[S])}},{key:"handleMouseOut",value:function(h){var d=this.w,v=this.getElXCrosshairs();if(h.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==d.config.chart.type&&this.marker.resetPointsSize(),null!==v&&v.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var S=0;S<this.yaxisTTEls.length;S++)this.yaxisTTEls[S].classList.remove("apexcharts-active")}d.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(T){var I=T.getAttribute("data:default-text");T.innerHTML=decodeURIComponent(I)})}},{key:"markerClick",value:function(h,d,v){var S=this.w;"function"==typeof S.config.chart.events.markerClick&&S.config.chart.events.markerClick(h,this.ctx,{seriesIndex:d,dataPointIndex:v,w:S}),this.ctx.events.fireEvent("markerClick",[h,this.ctx,{seriesIndex:d,dataPointIndex:v,w:S}])}},{key:"create",value:function(h,d,v,S,T){var I,N,V,G,K,J,ie,fe,Se,Le,Fe,tt,vt,W,ae,De,Ue=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,dt=this.w,kt=d;"mouseup"===h.type&&this.markerClick(h,v,S),null===Ue&&(Ue=this.tConfig.shared);var Xt=this.tooltipUtil.hasMarkers(v),qt=this.tooltipUtil.getElBars();if(dt.config.legend.tooltipHoverFormatter){var Sn=dt.config.legend.tooltipHoverFormatter,Mn=Array.from(this.legendLabels);Mn.forEach(function(Fo){var So=Fo.getAttribute("data:default-text");Fo.innerHTML=decodeURIComponent(So)});for(var Cn=0;Cn<Mn.length;Cn++){var gi=Mn[Cn],Ei=parseInt(gi.getAttribute("i"),10),Bi=decodeURIComponent(gi.getAttribute("data:default-text")),sr=Sn(Bi,{seriesIndex:Ue?Ei:v,dataPointIndex:S,w:dt});if(Ue)gi.innerHTML=dt.globals.collapsedSeriesIndices.indexOf(Ei)<0?sr:Bi;else if(gi.innerHTML=Ei===v?sr:Bi,v===Ei)break}}var mr=Ze(Ze({ttItems:T,i:v,j:S},void 0!==(null===(I=dt.globals.seriesRange)||void 0===I||null===(N=I[v])||void 0===N||null===(V=N[S])||void 0===V||null===(G=V.y[0])||void 0===G?void 0:G.y1)&&{y1:null===(K=dt.globals.seriesRange)||void 0===K||null===(J=K[v])||void 0===J||null===(ie=J[S])||void 0===ie||null===(fe=ie.y[0])||void 0===fe?void 0:fe.y1}),void 0!==(null===(Se=dt.globals.seriesRange)||void 0===Se||null===(Le=Se[v])||void 0===Le||null===(Fe=Le[S])||void 0===Fe||null===(tt=Fe.y[0])||void 0===tt?void 0:tt.y2)&&{y2:null===(vt=dt.globals.seriesRange)||void 0===vt||null===(W=vt[v])||void 0===W||null===(ae=W[S])||void 0===ae||null===(De=ae.y[0])||void 0===De?void 0:De.y2});if(Ue){if(kt.tooltipLabels.drawSeriesTexts(Ze(Ze({},mr),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Xt)dt.globals.markers.largestSize>0?kt.marker.enlargePoints(S):kt.tooltipPosition.moveDynamicPointsOnHover(S);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(qt),this.barSeriesHeight>0)){var si=new je(this.ctx),Mi=dt.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(S,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(S,v);for(var Ur=0;Ur<Mi.length;Ur++)si.pathMouseEnter(Mi[Ur])}}else kt.tooltipLabels.drawSeriesTexts(Ze({shared:!1},mr)),this.tooltipUtil.hasBars()&&kt.tooltipPosition.moveStickyTooltipOverBars(S,v),Xt&&kt.tooltipPosition.moveMarkers(v,S)}}]),We}(),bt=function(){function We(h){it(this,We),this.w=h.w,this.barCtx=h,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return nt(We,[{key:"handleBarDataLabels",value:function(h){var d=h.x,v=h.y,S=h.y1,T=h.y2,I=h.i,N=h.j,V=h.realIndex,G=h.groupIndex,K=h.series,J=h.barHeight,ie=h.barWidth,fe=h.barXPosition,Se=h.barYPosition,Le=h.visibleSeries,Fe=h.renderedPath,tt=this.w,vt=new je(this.barCtx.ctx),W=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[V]:this.barCtx.strokeWidth,ae=d+parseFloat(ie*Le),De=v+parseFloat(J*Le);tt.globals.isXNumeric&&!tt.globals.isBarHorizontal&&(ae=d+parseFloat(ie*(Le+1)),De=v+parseFloat(J*(Le+1))-W);var Ue,qt,dt=null,kt=d,Xt=v,Sn=tt.config.dataLabels,Mn=this.barCtx.barOptions.dataLabels,Cn=this.barCtx.barOptions.dataLabels.total;void 0!==Se&&this.barCtx.isRangeBar&&(De=Se,Xt=Se),void 0!==fe&&this.barCtx.isVerticalGroupedRangeBar&&(ae=fe,kt=fe);var gi=Sn.offsetX,Ei=Sn.offsetY,Bi={width:0,height:0};tt.config.dataLabels.enabled&&(Bi=vt.getTextRects(tt.globals.yLabelFormatters[0](this.barCtx.series[I][N]),parseFloat(Sn.style.fontSize)));var mr={x:d,y:v,i:I,j:N,realIndex:V,groupIndex:G||-1,renderedPath:Fe,bcx:ae,bcy:De,barHeight:J,barWidth:ie,textRects:Bi,strokeWidth:W,dataLabelsX:kt,dataLabelsY:Xt,dataLabelsConfig:Sn,barDataLabelsConfig:Mn,barTotalDataLabelsConfig:Cn,offX:gi,offY:Ei};return qt=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(mr):this.calculateColumnsDataLabelsPosition(mr),Fe.attr({cy:qt.bcy,cx:qt.bcx,j:N,val:K[I][N],barHeight:J,barWidth:ie}),Ue=this.drawCalculatedDataLabels({x:qt.dataLabelsX,y:qt.dataLabelsY,val:this.barCtx.isRangeBar?[S,T]:K[I][N],i:V,j:N,barWidth:ie,barHeight:J,textRects:Bi,dataLabelsConfig:Sn}),tt.config.chart.stacked&&Cn.enabled&&(dt=this.drawTotalDataLabels({x:qt.totalDataLabelsX,y:qt.totalDataLabelsY,barWidth:ie,barHeight:J,realIndex:V,textAnchor:qt.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:V,j:N}),dataLabelsConfig:Sn,barTotalDataLabelsConfig:Cn})),{dataLabels:Ue,totalDataLabels:dt}}},{key:"getStackedTotalDataLabel",value:function(h){var d=h.realIndex,v=h.j,S=this.w,T=this.barCtx.stackedSeriesTotals[v];return this.totalFormatter&&(T=this.totalFormatter(T,Ze(Ze({},S),{},{seriesIndex:d,dataPointIndex:v,w:S}))),T}},{key:"calculateColumnsDataLabelsPosition",value:function(h){var d,v,S=this.w,T=h.i,I=h.j,N=h.realIndex,V=h.groupIndex,G=h.y,K=h.bcx,J=h.barWidth,ie=h.barHeight,fe=h.textRects,Se=h.dataLabelsX,Le=h.dataLabelsY,Fe=h.dataLabelsConfig,tt=h.barDataLabelsConfig,vt=h.barTotalDataLabelsConfig,W=h.strokeWidth,ae=h.offX,De=h.offY;ie=Math.abs(ie);var Ue="vertical"===S.config.plotOptions.bar.dataLabels.orientation,dt=this.barCtx.barHelpers.getZeroValueEncounters({i:T,j:I}).zeroEncounters;K=K-W/2+(-1!==V?V*J:0),this.barCtx.isVerticalGroupedRangeBar?Se+=J/2:(Se=S.globals.isXNumeric?K-J/2+ae:K-S.globals.gridWidth/S.globals.dataPoints+J/2+ae,dt>0&&S.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Se-=J*dt)),Ue&&(Se=Se+fe.height/2-W/2-2);var Xt=this.barCtx.series[T][I]<0,qt=G;switch(this.barCtx.isReversed&&(qt=G-ie+(Xt?2*ie:0),G-=ie),tt.position){case"center":Le=Ue?Xt?qt-ie/2+De:qt+ie/2-De:Xt?qt-ie/2+fe.height/2+De:qt+ie/2+fe.height/2-De;break;case"bottom":Le=Ue?Xt?qt-ie+De:qt+ie-De:Xt?qt-ie+fe.height+W+De:qt+ie-fe.height/2+W-De;break;case"top":Le=Ue?Xt?qt+De:qt-De:Xt?qt-fe.height/2-De:qt+fe.height+De}if(this.barCtx.lastActiveBarSerieIndex===N&&vt.enabled){var Sn=new je(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:N,j:I}),Fe.fontSize);d=Xt?qt-Sn.height/2-De-vt.offsetY+18:qt+Sn.height+De+vt.offsetY-18,v=Se+vt.offsetX}return S.config.chart.stacked||(Le<0?Le=0+W:Le+fe.height/3>S.globals.gridHeight&&(Le=S.globals.gridHeight-W)),{bcx:K,bcy:G,dataLabelsX:Se,dataLabelsY:Le,totalDataLabelsX:v,totalDataLabelsY:d,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(h){var d=this.w,v=h.x,S=h.i,T=h.j,I=h.realIndex,N=h.groupIndex,V=h.bcy,G=h.barHeight,K=h.barWidth,J=h.textRects,ie=h.dataLabelsX,fe=h.strokeWidth,Se=h.dataLabelsConfig,Le=h.barDataLabelsConfig,Fe=h.barTotalDataLabelsConfig,tt=h.offX,vt=h.offY,W=d.globals.gridHeight/d.globals.dataPoints;K=Math.abs(K);var ae,De,Ue=(V+=-1!==N?N*G:0)-(this.barCtx.isRangeBar?0:W)+G/2+J.height/2+vt-3,dt="start",kt=this.barCtx.series[S][T]<0,Xt=v;switch(this.barCtx.isReversed&&(Xt=v+K-(kt?2*K:0),v=d.globals.gridWidth-K),Le.position){case"center":ie=kt?Xt+K/2-tt:Math.max(J.width/2,Xt-K/2)+tt;break;case"bottom":ie=kt?Xt+K-fe-Math.round(J.width/2)-tt:Xt-K+fe+Math.round(J.width/2)+tt;break;case"top":ie=kt?Xt-fe+Math.round(J.width/2)-tt:Xt-fe-Math.round(J.width/2)+tt}if(this.barCtx.lastActiveBarSerieIndex===I&&Fe.enabled){var qt=new je(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:I,j:T}),Se.fontSize);kt?(ae=Xt-fe+Math.round(qt.width/2)-tt-Fe.offsetX-15,dt="end"):ae=Xt-fe-Math.round(qt.width/2)+tt+Fe.offsetX+15,De=Ue+Fe.offsetY}return d.config.chart.stacked||(ie<0?ie=ie+J.width+fe:ie+J.width/2>d.globals.gridWidth&&(ie=d.globals.gridWidth-J.width-fe)),{bcx:v,bcy:V,dataLabelsX:ie,dataLabelsY:Ue,totalDataLabelsX:ae,totalDataLabelsY:De,totalDataLabelsAnchor:dt}}},{key:"drawCalculatedDataLabels",value:function(h){var d=h.x,v=h.y,S=h.val,T=h.i,I=h.j,N=h.textRects,V=h.barHeight,G=h.barWidth,K=h.dataLabelsConfig,J=this.w,ie="rotate(0)";"vertical"===J.config.plotOptions.bar.dataLabels.orientation&&(ie="rotate(-90, ".concat(d,", ").concat(v,")"));var fe=new on(this.barCtx.ctx),Se=new je(this.barCtx.ctx),Le=K.formatter,Fe=null,tt=J.globals.collapsedSeriesIndices.indexOf(T)>-1;if(K.enabled&&!tt){Fe=Se.group({class:"apexcharts-data-labels",transform:ie});var vt="";void 0!==S&&(vt=Le(S,Ze(Ze({},J),{},{seriesIndex:T,dataPointIndex:I,w:J}))),!S&&J.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(vt="");var W=J.globals.series[T][I]<0,ae=J.config.plotOptions.bar.dataLabels.position;"vertical"===J.config.plotOptions.bar.dataLabels.orientation&&("top"===ae&&(K.textAnchor=W?"end":"start"),"center"===ae&&(K.textAnchor="middle"),"bottom"===ae&&(K.textAnchor=W?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&G<Se.getTextRects(vt,parseFloat(K.style.fontSize)).width&&(vt=""),J.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?N.width/1.6>Math.abs(G)&&(vt=""):N.height/1.6>Math.abs(V)&&(vt=""));var De=Ze({},K);this.barCtx.isHorizontal&&S<0&&("start"===K.textAnchor?De.textAnchor="end":"end"===K.textAnchor&&(De.textAnchor="start")),fe.plotDataLabelsText({x:d,y:v,text:vt,i:T,j:I,parent:Fe,dataLabelsConfig:De,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Fe}},{key:"drawTotalDataLabels",value:function(h){var d,v=h.x,S=h.y,T=h.val,I=h.barWidth,N=h.barHeight,V=h.realIndex,G=h.textAnchor,K=h.barTotalDataLabelsConfig,J=this.w,ie=new je(this.barCtx.ctx);return K.enabled&&void 0!==v&&void 0!==S&&this.barCtx.lastActiveBarSerieIndex===V&&(d=ie.drawText({x:v-(!J.globals.isBarHorizontal&&J.globals.seriesGroups.length?I/J.globals.seriesGroups.length:0),y:S-(J.globals.isBarHorizontal&&J.globals.seriesGroups.length?N/J.globals.seriesGroups.length:0),foreColor:K.style.color,text:T,textAnchor:G,fontFamily:K.style.fontFamily,fontSize:K.style.fontSize,fontWeight:K.style.fontWeight})),d}}]),We}(),Pt=function(){function We(h){it(this,We),this.w=h.w,this.barCtx=h}return nt(We,[{key:"initVariables",value:function(h){var d=this.w;this.barCtx.series=h,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var v=0;v<h.length;v++)if(h[v].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=h[v].length),d.globals.isXNumeric)for(var S=0;S<h[v].length;S++)d.globals.seriesX[v][S]>d.globals.minX&&d.globals.seriesX[v][S]<d.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=d.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],d.globals.comboCharts||this.checkZeroSeries({series:h})}},{key:"initialPositions",value:function(){var h,d,v,S,T,I,N,V,G=this.w,K=G.globals.dataPoints;this.barCtx.isRangeBar&&(K=G.globals.labels.length);var J=this.barCtx.seriesLen;if(G.config.plotOptions.bar.rangeBarGroupRows&&(J=1),this.barCtx.isHorizontal)T=(v=G.globals.gridHeight/K)/J,G.globals.isXNumeric&&(T=(v=G.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),T=T*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(T=parseInt(this.barCtx.barOptions.barHeight,10)),V=this.barCtx.baseLineInvertedY+G.globals.padHorizontal+(this.barCtx.isReversed?G.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(V=G.globals.gridWidth/2),d=(v-T*this.barCtx.seriesLen)/2;else{if(S=G.globals.gridWidth/this.barCtx.visibleItems,G.config.xaxis.convertedCatToNumeric&&(S=G.globals.gridWidth/G.globals.dataPoints),I=S/J*parseInt(this.barCtx.barOptions.columnWidth,10)/100,G.globals.isXNumeric){var ie=this.barCtx.xRatio;G.globals.minXDiff&&.5!==G.globals.minXDiff&&G.globals.minXDiff/ie>0&&(S=G.globals.minXDiff/ie),(I=S/J*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(I=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(I=parseInt(this.barCtx.barOptions.columnWidth,10)),N=G.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?G.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),h=G.globals.padHorizontal+(S-I*this.barCtx.seriesLen)/2}return G.globals.barHeight=T,G.globals.barWidth=I,{x:h,y:d,yDivision:v,xDivision:S,barHeight:T,barWidth:I,zeroH:N,zeroW:V}}},{key:"initializeStackedPrevVars",value:function(h){var d=h.w;d.globals.hasSeriesGroups?d.globals.seriesGroups.forEach(function(v){h[v]||(h[v]={}),h[v].prevY=[],h[v].prevX=[],h[v].prevYF=[],h[v].prevXF=[],h[v].prevYVal=[],h[v].prevXVal=[]}):(h.prevY=[],h.prevX=[],h.prevYF=[],h.prevXF=[],h.prevYVal=[],h.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(h){var d=h.w;d.globals.hasSeriesGroups?d.globals.seriesGroups.forEach(function(v){h[v]||(h[v]={}),h[v].xArrj=[],h[v].xArrjF=[],h[v].xArrjVal=[],h[v].yArrj=[],h[v].yArrjF=[],h[v].yArrjVal=[]}):(h.xArrj=[],h.xArrjF=[],h.xArrjVal=[],h.yArrj=[],h.yArrjF=[],h.yArrjVal=[])}},{key:"getPathFillColor",value:function(h,d,v,S){var T,I,N,V,G=this.w,K=new pe(this.barCtx.ctx),J=null,ie=this.barCtx.barOptions.distributed?v:d;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(fe){h[d][v]>=fe.from&&h[d][v]<=fe.to&&(J=fe.color)}),G.config.series[d].data[v]&&G.config.series[d].data[v].fillColor&&(J=G.config.series[d].data[v].fillColor),K.fillPath({seriesNumber:this.barCtx.barOptions.distributed?ie:S,dataPointIndex:v,color:J,value:h[d][v],fillConfig:null===(T=G.config.series[d].data[v])||void 0===T?void 0:T.fill,fillType:null!==(I=G.config.series[d].data[v])&&void 0!==I&&null!==(N=I.fill)&&void 0!==N&&N.type?null===(V=G.config.series[d].data[v])||void 0===V?void 0:V.fill.type:Array.isArray(G.config.fill.type)?G.config.fill.type[d]:G.config.fill.type})}},{key:"getStrokeWidth",value:function(h,d,v){var S=0,T=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[h][d],T.config.stroke.show&&(this.barCtx.isNullValue||(S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[v]:this.barCtx.strokeWidth)),S}},{key:"shouldApplyRadius",value:function(h){var d=this.w,v=!1;return d.config.plotOptions.bar.borderRadius>0&&(d.config.chart.stacked&&"last"===d.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===h&&(v=!0):v=!0),v}},{key:"barBackground",value:function(h){var d=h.j,v=h.i,S=h.x1,T=h.x2,I=h.y1,N=h.y2,V=h.elSeries,G=this.w,K=new je(this.barCtx.ctx),J=new jt(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&J===v){d>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(d%=this.barCtx.barOptions.colors.backgroundBarColors.length);var fe=K.drawRect(void 0!==S?S:0,void 0!==I?I:0,void 0!==T?T:G.globals.gridWidth,void 0!==N?N:G.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[d],this.barCtx.barOptions.colors.backgroundBarOpacity);V.add(fe),fe.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(h){var d,v=h.barWidth,S=h.barXPosition,T=h.y1,I=h.y2,N=h.strokeWidth,V=h.seriesGroup,G=h.realIndex,K=h.i,J=h.j,ie=h.w,fe=new je(this.barCtx.ctx);(N=Array.isArray(N)?N[G]:N)||(N=0);var Se=v,Le=S;null!==(d=ie.config.series[G].data[J])&&void 0!==d&&d.columnWidthOffset&&(Le=S-ie.config.series[G].data[J].columnWidthOffset/2,Se=v+ie.config.series[G].data[J].columnWidthOffset);var Fe=Le,tt=Le+Se;I+=.001;var vt=fe.move(Fe,T+=.001),W=fe.move(Fe,T),ae=fe.line(tt-N,T);if(ie.globals.previousPaths.length>0&&(W=this.barCtx.getPreviousPath(G,J,!1)),vt=vt+fe.line(Fe,I)+fe.line(tt-N,I)+fe.line(tt-N,T)+("around"===ie.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),W=W+fe.line(Fe,T)+ae+ae+ae+ae+ae+fe.line(Fe,T)+("around"===ie.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(G)&&(vt=fe.roundPathCorners(vt,ie.config.plotOptions.bar.borderRadius)),ie.config.chart.stacked){var De=this.barCtx;ie.globals.hasSeriesGroups&&V&&(De=this.barCtx[V]),De.yArrj.push(I),De.yArrjF.push(Math.abs(T-I)),De.yArrjVal.push(this.barCtx.series[K][J])}return{pathTo:vt,pathFrom:W}}},{key:"getBarpaths",value:function(h){var d,v=h.barYPosition,S=h.barHeight,T=h.x1,I=h.x2,N=h.strokeWidth,V=h.seriesGroup,G=h.realIndex,K=h.i,J=h.j,ie=h.w,fe=new je(this.barCtx.ctx);(N=Array.isArray(N)?N[G]:N)||(N=0);var Se=v,Le=S;null!==(d=ie.config.series[G].data[J])&&void 0!==d&&d.barHeightOffset&&(Se=v-ie.config.series[G].data[J].barHeightOffset/2,Le=S+ie.config.series[G].data[J].barHeightOffset);var Fe=Se,tt=Se+Le;I+=.001;var vt=fe.move(T+=.001,Fe),W=fe.move(T,Fe);ie.globals.previousPaths.length>0&&(W=this.barCtx.getPreviousPath(G,J,!1));var ae=fe.line(T,tt-N);if(vt=vt+fe.line(I,Fe)+fe.line(I,tt-N)+ae+("around"===ie.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),W=W+fe.line(T,Fe)+ae+ae+ae+ae+ae+fe.line(T,Fe)+("around"===ie.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(G)&&(vt=fe.roundPathCorners(vt,ie.config.plotOptions.bar.borderRadius)),ie.config.chart.stacked){var De=this.barCtx;ie.globals.hasSeriesGroups&&V&&(De=this.barCtx[V]),De.xArrj.push(I),De.xArrjF.push(Math.abs(T-I)),De.xArrjVal.push(this.barCtx.series[K][J])}return{pathTo:vt,pathFrom:W}}},{key:"checkZeroSeries",value:function(h){for(var d=h.series,v=this.w,S=0;S<d.length;S++){for(var T=0,I=0;I<d[v.globals.maxValsInArrayIndex].length;I++)T+=d[S][I];0===T&&this.barCtx.zeroSerieses.push(S)}}},{key:"getXForValue",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:d;return null!=h&&(v=d+h/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?h/this.barCtx.invertedYRatio:0)),v}},{key:"getYForValue",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:d;return null!=h&&(v=d-h/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?h/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),v}},{key:"getGoalValues",value:function(h,d,v,S,T){var I=this,N=this.w,V=[],G=function(ie,fe){var Se;V.push((gt(Se={},h,"x"===h?I.getXForValue(ie,d,!1):I.getYForValue(ie,v,!1)),gt(Se,"attrs",fe),Se))};if(N.globals.seriesGoals[S]&&N.globals.seriesGoals[S][T]&&Array.isArray(N.globals.seriesGoals[S][T])&&N.globals.seriesGoals[S][T].forEach(function(ie){G(ie.value,ie)}),this.barCtx.barOptions.isDumbbell&&N.globals.seriesRange.length){var K=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:N.globals.colors,J={strokeHeight:"x"===h?0:N.globals.markers.size[S],strokeWidth:"x"===h?N.globals.markers.size[S]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(K[S])?K[S][0]:K[S]};G(N.globals.seriesRangeStart[S][T],J),G(N.globals.seriesRangeEnd[S][T],Ze(Ze({},J),{},{strokeColor:Array.isArray(K[S])?K[S][1]:K[S]}))}return V}},{key:"drawGoalLine",value:function(h){var d=h.barXPosition,v=h.barYPosition,S=h.goalX,T=h.goalY,I=h.barWidth,N=h.barHeight,V=new je(this.barCtx.ctx),G=V.group({className:"apexcharts-bar-goals-groups"});G.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:G.node}),G.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var K=null;return this.barCtx.isHorizontal?Array.isArray(S)&&S.forEach(function(J){var ie=void 0!==J.attrs.strokeHeight?J.attrs.strokeHeight:N/2,fe=v+ie+N/2;K=V.drawLine(J.x,fe-2*ie,J.x,fe,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeWidth?J.attrs.strokeWidth:2,J.attrs.strokeLineCap),G.add(K)}):Array.isArray(T)&&T.forEach(function(J){var ie=void 0!==J.attrs.strokeWidth?J.attrs.strokeWidth:I/2,fe=d+ie+I/2;K=V.drawLine(fe-2*ie,J.y,fe,J.y,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeHeight?J.attrs.strokeHeight:2,J.attrs.strokeLineCap),G.add(K)}),G}},{key:"drawBarShadow",value:function(h){var d=h.prevPaths,v=h.currPaths,S=h.color,T=this.w,I=d.x,N=d.x1,G=v.x,K=v.x1,J=v.barYPosition,ie=d.barYPosition+v.barHeight,fe=new je(this.barCtx.ctx),Se=new de,Le=fe.move(N,ie)+fe.line(I,ie)+fe.line(G,J)+fe.line(K,J)+fe.line(N,ie)+("around"===T.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return fe.drawPath({d:Le,fill:Se.shadeColor(.5,de.rgb2hex(S)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(h){var d=h.i,v=h.j,T=0,I=0;return this.w.globals.seriesPercent.forEach(function(N,V){N[v]&&T++,V<d&&0===N[v]&&I++}),{nonZeroColumns:T,zeroEncounters:I}}}]),We}(),ft=function(){function We(h,d){it(this,We),this.ctx=h,this.w=h.w;var v=this.w;this.barOptions=v.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=v.config.stroke.width,this.isNullValue=!1,this.isRangeBar=v.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!v.globals.isBarHorizontal&&v.globals.seriesRange.length&&v.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=d,null!==this.xyRatios&&(this.xRatio=d.xRatio,this.yRatio=d.yRatio,this.invertedXRatio=d.invertedXRatio,this.invertedYRatio=d.invertedYRatio,this.baseLineY=d.baseLineY,this.baseLineInvertedY=d.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var S=new jt(this.ctx);this.lastActiveBarSerieIndex=S.getActiveConfigSeriesIndex("desc",["bar","column"]);var T=S.getBarSeriesIndices(),I=new Ke(this.ctx);this.stackedSeriesTotals=I.getStackedSeriesTotals(this.w.config.series.map(function(N,V){return-1===T.indexOf(V)?V:-1}).filter(function(N){return-1!==N})),this.barHelpers=new Pt(this)}return nt(We,[{key:"draw",value:function(h,d){var v=this.w,S=new je(this.ctx),T=new Ke(this.ctx,v);h=T.getLogSeries(h),this.series=h,this.yRatio=T.getLogYRatios(this.yRatio),this.barHelpers.initVariables(h);var I=S.group({class:"apexcharts-bar-series apexcharts-plot-series"});v.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var N=0,V=0;N<h.length;N++,V++){var G,K,J,ie,fe=void 0,Se=void 0,Le=[],Fe=[],tt=v.globals.comboCharts?d[N]:N,vt=S.group({class:"apexcharts-series",rel:N+1,seriesName:de.escapeString(v.globals.seriesNames[tt]),"data:realIndex":tt});this.ctx.series.addCollapsedClassToSeries(vt,tt),h[N].length>0&&(this.visibleI=this.visibleI+1);var W=0,ae=0;this.yRatio.length>1&&(this.yaxisIndex=tt),this.isReversed=v.config.yaxis[this.yaxisIndex]&&v.config.yaxis[this.yaxisIndex].reversed;var De=this.barHelpers.initialPositions();Se=De.y,W=De.barHeight,K=De.yDivision,ie=De.zeroW,fe=De.x,ae=De.barWidth,G=De.xDivision,J=De.zeroH,this.horizontal||Fe.push(fe+ae/2);var Ue=S.group({class:"apexcharts-datalabels","data:realIndex":tt});v.globals.delayedElements.push({el:Ue.node}),Ue.node.classList.add("apexcharts-element-hidden");var dt=S.group({class:"apexcharts-bar-goals-markers"}),kt=S.group({class:"apexcharts-bar-shadows"});v.globals.delayedElements.push({el:kt.node}),kt.node.classList.add("apexcharts-element-hidden");for(var Xt=0;Xt<h[N].length;Xt++){var qt=this.barHelpers.getStrokeWidth(N,Xt,tt),Sn=null,Mn={indexes:{i:N,j:Xt,realIndex:tt,bc:V},x:fe,y:Se,strokeWidth:qt,elSeries:vt};this.isHorizontal?(Sn=this.drawBarPaths(Ze(Ze({},Mn),{},{barHeight:W,zeroW:ie,yDivision:K})),ae=this.series[N][Xt]/this.invertedYRatio):(Sn=this.drawColumnPaths(Ze(Ze({},Mn),{},{xDivision:G,barWidth:ae,zeroH:J})),W=this.series[N][Xt]/this.yRatio[this.yaxisIndex]);var Cn=this.barHelpers.getPathFillColor(h,N,Xt,tt);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Xt>0){var gi=this.barHelpers.drawBarShadow({color:"string"==typeof Cn&&-1===Cn?.indexOf("url")?Cn:de.hexToRgba(v.globals.colors[N]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Sn});gi&&kt.add(gi)}this.pathArr.push(Sn);var Ei=this.barHelpers.drawGoalLine({barXPosition:Sn.barXPosition,barYPosition:Sn.barYPosition,goalX:Sn.goalX,goalY:Sn.goalY,barHeight:W,barWidth:ae});Ei&&dt.add(Ei),Se=Sn.y,fe=Sn.x,Xt>0&&Fe.push(fe+ae/2),Le.push(Se),this.renderSeries({realIndex:tt,pathFill:Cn,j:Xt,i:N,pathFrom:Sn.pathFrom,pathTo:Sn.pathTo,strokeWidth:qt,elSeries:vt,x:fe,y:Se,series:h,barHeight:Sn.barHeight?Sn.barHeight:W,barWidth:Sn.barWidth?Sn.barWidth:ae,elDataLabelsWrap:Ue,elGoalsMarkers:dt,elBarShadows:kt,visibleSeries:this.visibleI,type:"bar"})}v.globals.seriesXvalues[tt]=Fe,v.globals.seriesYvalues[tt]=Le,I.add(vt)}return I}},{key:"renderSeries",value:function(h){var d=h.realIndex,v=h.pathFill,S=h.lineFill,T=h.j,I=h.i,N=h.groupIndex,V=h.pathFrom,G=h.pathTo,K=h.strokeWidth,J=h.elSeries,ie=h.x,fe=h.y,Se=h.y1,Le=h.y2,Fe=h.series,tt=h.barHeight,vt=h.barWidth,W=h.barXPosition,ae=h.barYPosition,De=h.elDataLabelsWrap,Ue=h.elGoalsMarkers,dt=h.elBarShadows,kt=h.visibleSeries,Xt=h.type,qt=this.w,Sn=new je(this.ctx);S||(S=this.barOptions.distributed?qt.globals.stroke.colors[T]:qt.globals.stroke.colors[d]),qt.config.series[I].data[T]&&qt.config.series[I].data[T].strokeColor&&(S=qt.config.series[I].data[T].strokeColor),this.isNullValue&&(v="none");var Cn=Sn.renderPaths({i:I,j:T,realIndex:d,pathFrom:V,pathTo:G,stroke:S,strokeWidth:K,strokeLineCap:qt.config.stroke.lineCap,fill:v,animationDelay:T/qt.config.chart.animations.animateGradually.delay*(qt.config.chart.animations.speed/qt.globals.dataPoints)/2.4,initialSpeed:qt.config.chart.animations.speed,dataChangeSpeed:qt.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Xt,"-area")});Cn.attr("clip-path","url(#gridRectMask".concat(qt.globals.cuid,")"));var gi=qt.config.forecastDataPoints;gi.count>0&&T>=qt.globals.dataPoints-gi.count&&(Cn.node.setAttribute("stroke-dasharray",gi.dashArray),Cn.node.setAttribute("stroke-width",gi.strokeWidth),Cn.node.setAttribute("fill-opacity",gi.fillOpacity)),void 0!==Se&&void 0!==Le&&(Cn.attr("data-range-y1",Se),Cn.attr("data-range-y2",Le)),new Ae(this.ctx).setSelectionFilter(Cn,d,T),J.add(Cn);var Ei=new bt(this).handleBarDataLabels({x:ie,y:fe,y1:Se,y2:Le,i:I,j:T,series:Fe,realIndex:d,groupIndex:N,barHeight:tt,barWidth:vt,barXPosition:W,barYPosition:ae,renderedPath:Cn,visibleSeries:kt});return null!==Ei.dataLabels&&De.add(Ei.dataLabels),Ei.totalDataLabels&&De.add(Ei.totalDataLabels),J.add(De),Ue&&J.add(Ue),dt&&J.add(dt),J}},{key:"drawBarPaths",value:function(h){var d,N,v=h.indexes,S=h.barHeight,T=h.strokeWidth,I=h.zeroW,V=h.y,G=h.yDivision,K=h.elSeries,J=this.w,ie=v.i,fe=v.j;if(J.globals.isXNumeric)d=(V=(J.globals.seriesX[ie][fe]-J.globals.minX)/this.invertedXRatio-S)+S*this.visibleI;else if(J.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Se=0,Le=0;J.globals.seriesPercent.forEach(function(tt,vt){tt[fe]&&Se++,vt<ie&&0===tt[fe]&&Le++}),Se>0&&(S=this.seriesLen*S/Se),d=V+S*this.visibleI,d-=S*Le}else d=V+S*this.visibleI;this.isFunnel&&(I-=(this.barHelpers.getXForValue(this.series[ie][fe],I)-I)/2),N=this.barHelpers.getXForValue(this.series[ie][fe],I);var Fe=this.barHelpers.getBarpaths({barYPosition:d,barHeight:S,x1:I,x2:N,strokeWidth:T,series:this.series,realIndex:v.realIndex,i:ie,j:fe,w:J});return J.globals.isXNumeric||(V+=G),this.barHelpers.barBackground({j:fe,i:ie,y1:d-S*this.visibleI,y2:S*this.seriesLen,elSeries:K}),{pathTo:Fe.pathTo,pathFrom:Fe.pathFrom,x1:I,x:N,y:V,goalX:this.barHelpers.getGoalValues("x",I,null,ie,fe),barYPosition:d,barHeight:S}}},{key:"drawColumnPaths",value:function(h){var d,T,v=h.indexes,S=h.x,I=h.xDivision,N=h.barWidth,V=h.zeroH,G=h.strokeWidth,K=h.elSeries,J=this.w,fe=v.i,Se=v.j,Le=v.bc;if(J.globals.isXNumeric){var Fe=this.getBarXForNumericXAxis({x:S,j:Se,realIndex:v.realIndex,barWidth:N});S=Fe.x,d=Fe.barXPosition}else if(J.config.plotOptions.bar.hideZeroBarsWhenGrouped){var tt=this.barHelpers.getZeroValueEncounters({i:fe,j:Se}),vt=tt.nonZeroColumns;vt>0&&(N=this.seriesLen*N/vt),d=S+N*this.visibleI,d-=N*tt.zeroEncounters}else d=S+N*this.visibleI;T=this.barHelpers.getYForValue(this.series[fe][Se],V);var ae=this.barHelpers.getColumnPaths({barXPosition:d,barWidth:N,y1:V,y2:T,strokeWidth:G,series:this.series,realIndex:v.realIndex,i:fe,j:Se,w:J});return J.globals.isXNumeric||(S+=I),this.barHelpers.barBackground({bc:Le,j:Se,i:fe,x1:d-G/2-N*this.visibleI,x2:N*this.seriesLen+G/2,elSeries:K}),{pathTo:ae.pathTo,pathFrom:ae.pathFrom,x:S,y:T,goalY:this.barHelpers.getGoalValues("y",null,V,fe,Se),barXPosition:d,barWidth:N}}},{key:"getBarXForNumericXAxis",value:function(h){var d=h.x,v=h.barWidth,S=h.realIndex,T=h.j,I=this.w,N=S;return I.globals.seriesX[S].length||(N=I.globals.maxValsInArrayIndex),I.globals.seriesX[N][T]&&(d=(I.globals.seriesX[N][T]-I.globals.minX)/this.xRatio-v*this.seriesLen/2),{barXPosition:d+v*this.visibleI,x:d}}},{key:"getPreviousPath",value:function(h,d){for(var v,S=this.w,T=0;T<S.globals.previousPaths.length;T++){var I=S.globals.previousPaths[T];I.paths&&I.paths.length>0&&parseInt(I.realIndex,10)===parseInt(h,10)&&void 0!==S.globals.previousPaths[T].paths[d]&&(v=S.globals.previousPaths[T].paths[d].d)}return v}}]),We}(),At=function(We){et(d,We);var h=we(d);function d(){return it(this,d),h.apply(this,arguments)}return nt(d,[{key:"draw",value:function(v,S){var T=this,I=this.w;this.graphics=new je(this.ctx),this.bar=new ft(this.ctx,this.xyRatios);var N=new Ke(this.ctx,I);v=N.getLogSeries(v),this.yRatio=N.getLogYRatios(this.yRatio),this.barHelpers.initVariables(v),"100%"===I.config.chart.stackType&&(v=I.globals.seriesPercent.slice()),this.series=v,this.barHelpers.initializeStackedPrevVars(this);for(var V=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),G=0,K=0,J=function(Se,Le){var Fe=void 0,tt=void 0,vt=void 0,W=void 0,ae=-1;T.groupCtx=T,I.globals.seriesGroups.forEach(function(Mi,Ur){Mi.indexOf(I.config.series[Se].name)>-1&&(ae=Ur)}),-1!==ae&&(T.groupCtx=T[I.globals.seriesGroups[ae]]);var De=[],Ue=[],dt=I.globals.comboCharts?S[Se]:Se;T.yRatio.length>1&&(T.yaxisIndex=dt),T.isReversed=I.config.yaxis[T.yaxisIndex]&&I.config.yaxis[T.yaxisIndex].reversed;var kt=T.graphics.group({class:"apexcharts-series",seriesName:de.escapeString(I.globals.seriesNames[dt]),rel:Se+1,"data:realIndex":dt});T.ctx.series.addCollapsedClassToSeries(kt,dt);var Xt=T.graphics.group({class:"apexcharts-datalabels","data:realIndex":dt}),qt=T.graphics.group({class:"apexcharts-bar-goals-markers"}),Sn=0,Mn=0,Cn=T.initialPositions(G,K,Fe,tt,vt,W);K=Cn.y,tt=Cn.yDivision,W=Cn.zeroW,G=Cn.x,Mn=Cn.barWidth,Fe=Cn.xDivision,vt=Cn.zeroH,I.globals.barHeight=Sn=Cn.barHeight,I.globals.barWidth=Mn,T.barHelpers.initializeStackedXYVars(T),1===T.groupCtx.prevY.length&&T.groupCtx.prevY[0].every(function(Mi){return isNaN(Mi)})&&(T.groupCtx.prevY[0]=T.groupCtx.prevY[0].map(function(Mi){return vt}),T.groupCtx.prevYF[0]=T.groupCtx.prevYF[0].map(function(Mi){return 0}));for(var gi=0;gi<I.globals.dataPoints;gi++){var Ei=T.barHelpers.getStrokeWidth(Se,gi,dt),Bi={indexes:{i:Se,j:gi,realIndex:dt,bc:Le},strokeWidth:Ei,x:G,y:K,elSeries:kt,groupIndex:ae,seriesGroup:I.globals.seriesGroups[ae]},sr=null;T.isHorizontal?(sr=T.drawStackedBarPaths(Ze(Ze({},Bi),{},{zeroW:W,barHeight:Sn,yDivision:tt})),Mn=T.series[Se][gi]/T.invertedYRatio):(sr=T.drawStackedColumnPaths(Ze(Ze({},Bi),{},{xDivision:Fe,barWidth:Mn,zeroH:vt})),Sn=T.series[Se][gi]/T.yRatio[T.yaxisIndex]);var mr=T.barHelpers.drawGoalLine({barXPosition:sr.barXPosition,barYPosition:sr.barYPosition,goalX:sr.goalX,goalY:sr.goalY,barHeight:Sn,barWidth:Mn});mr&&qt.add(mr),K=sr.y,De.push(G=sr.x),Ue.push(K);var si=T.barHelpers.getPathFillColor(v,Se,gi,dt);kt=T.renderSeries({realIndex:dt,pathFill:si,j:gi,i:Se,groupIndex:ae,pathFrom:sr.pathFrom,pathTo:sr.pathTo,strokeWidth:Ei,elSeries:kt,x:G,y:K,series:v,barHeight:Sn,barWidth:Mn,elDataLabelsWrap:Xt,elGoalsMarkers:qt,type:"bar",visibleSeries:0})}I.globals.seriesXvalues[dt]=De,I.globals.seriesYvalues[dt]=Ue,T.groupCtx.prevY.push(T.groupCtx.yArrj),T.groupCtx.prevYF.push(T.groupCtx.yArrjF),T.groupCtx.prevYVal.push(T.groupCtx.yArrjVal),T.groupCtx.prevX.push(T.groupCtx.xArrj),T.groupCtx.prevXF.push(T.groupCtx.xArrjF),T.groupCtx.prevXVal.push(T.groupCtx.xArrjVal),V.add(kt)},ie=0,fe=0;ie<v.length;ie++,fe++)J(ie,fe);return V}},{key:"initialPositions",value:function(v,S,T,I,N,V){var G,K,J,ie,fe=this.w;return this.isHorizontal?(J=(J=I=fe.globals.gridHeight/fe.globals.dataPoints)*parseInt(fe.config.plotOptions.bar.barHeight,10)/100,-1===String(fe.config.plotOptions.bar.barHeight).indexOf("%")&&(J=parseInt(fe.config.plotOptions.bar.barHeight,10)),V=this.baseLineInvertedY+fe.globals.padHorizontal+(this.isReversed?fe.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),S=(I-J)/2):(ie=T=fe.globals.gridWidth/fe.globals.dataPoints,ie=fe.globals.isXNumeric&&fe.globals.dataPoints>1?(T=fe.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:ie*parseInt(fe.config.plotOptions.bar.columnWidth,10)/100,-1===String(fe.config.plotOptions.bar.columnWidth).indexOf("%")&&(ie=parseInt(fe.config.plotOptions.bar.columnWidth,10)),N=fe.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?fe.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),v=fe.globals.padHorizontal+(T-ie)/2),{x:v,y:S,yDivision:I,xDivision:T,barHeight:null!==(G=fe.globals.seriesGroups)&&void 0!==G&&G.length?J/fe.globals.seriesGroups.length:J,barWidth:null!==(K=fe.globals.seriesGroups)&&void 0!==K&&K.length?ie/fe.globals.seriesGroups.length:ie,zeroH:N,zeroW:V}}},{key:"drawStackedBarPaths",value:function(v){for(var S,G,T=v.indexes,I=v.barHeight,N=v.strokeWidth,V=v.zeroW,K=v.y,J=v.groupIndex,ie=v.seriesGroup,fe=v.yDivision,Se=v.elSeries,Le=this.w,Fe=K+(-1!==J?J*I:0),tt=T.i,vt=T.j,W=0,ae=0;ae<this.groupCtx.prevXF.length;ae++)W+=this.groupCtx.prevXF[ae][vt];var De=tt;if(ie&&(De=ie.indexOf(Le.config.series[tt].name)),De>0){var Ue=V;this.groupCtx.prevXVal[De-1][vt]<0?Ue=this.series[tt][vt]>=0?this.groupCtx.prevX[De-1][vt]+W-2*(this.isReversed?W:0):this.groupCtx.prevX[De-1][vt]:this.groupCtx.prevXVal[De-1][vt]>=0&&(Ue=this.series[tt][vt]>=0?this.groupCtx.prevX[De-1][vt]:this.groupCtx.prevX[De-1][vt]-W+2*(this.isReversed?W:0)),S=Ue}else S=V;var dt=this.barHelpers.getBarpaths({barYPosition:Fe,barHeight:I,x1:S,x2:G=null===this.series[tt][vt]?S:S+this.series[tt][vt]/this.invertedYRatio-2*(this.isReversed?this.series[tt][vt]/this.invertedYRatio:0),strokeWidth:N,series:this.series,realIndex:T.realIndex,seriesGroup:ie,i:tt,j:vt,w:Le});return this.barHelpers.barBackground({j:vt,i:tt,y1:Fe,y2:I,elSeries:Se}),K+=fe,{pathTo:dt.pathTo,pathFrom:dt.pathFrom,goalX:this.barHelpers.getGoalValues("x",V,null,tt,vt),barYPosition:Fe,x:G,y:K}}},{key:"drawStackedColumnPaths",value:function(v){var I,S=v.indexes,T=v.x,N=v.xDivision,V=v.barWidth,G=v.zeroH,K=v.groupIndex,J=v.seriesGroup,ie=v.elSeries,fe=this.w,Se=S.i,Le=S.j,Fe=S.bc;if(fe.globals.isXNumeric){var tt=fe.globals.seriesX[Se][Le];tt||(tt=0),T=(tt-fe.globals.minX)/this.xRatio-V/2,fe.globals.seriesGroups.length&&(T=(tt-fe.globals.minX)/this.xRatio-V/2*fe.globals.seriesGroups.length)}for(var vt,W=T+(-1!==K?K*V:0),ae=0,De=0;De<this.groupCtx.prevYF.length;De++)ae+=isNaN(this.groupCtx.prevYF[De][Le])?0:this.groupCtx.prevYF[De][Le];var Ue=Se;if(J&&(Ue=J.indexOf(fe.config.series[Se].name)),Ue>0&&!fe.globals.isXNumeric||Ue>0&&fe.globals.isXNumeric&&fe.globals.seriesX[Se-1][Le]===fe.globals.seriesX[Se][Le]){var dt,kt,Xt,qt=Math.min(this.yRatio.length+1,Se+1);if(void 0!==this.groupCtx.prevY[Ue-1]&&this.groupCtx.prevY[Ue-1].length)for(var Sn=1;Sn<qt;Sn++){var Mn;if(!isNaN(null===(Mn=this.groupCtx.prevY[Ue-Sn])||void 0===Mn?void 0:Mn[Le])){Xt=this.groupCtx.prevY[Ue-Sn][Le];break}}for(var Cn=1;Cn<qt;Cn++){var gi,Ei;if((null===(gi=this.groupCtx.prevYVal[Ue-Cn])||void 0===gi?void 0:gi[Le])<0){kt=this.series[Se][Le]>=0?Xt-ae+2*(this.isReversed?ae:0):Xt;break}if((null===(Ei=this.groupCtx.prevYVal[Ue-Cn])||void 0===Ei?void 0:Ei[Le])>=0){kt=this.series[Se][Le]>=0?Xt:Xt+ae-2*(this.isReversed?ae:0);break}}void 0===kt&&(kt=fe.globals.gridHeight),vt=null!==(dt=this.groupCtx.prevYF[0])&&void 0!==dt&&dt.every(function(sr){return 0===sr})&&this.groupCtx.prevYF.slice(1,Ue).every(function(sr){return sr.every(function(mr){return isNaN(mr)})})?G:kt}else vt=G;var Bi=this.barHelpers.getColumnPaths({barXPosition:W,barWidth:V,y1:vt,y2:I=this.series[Se][Le]?vt-this.series[Se][Le]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[Se][Le]/this.yRatio[this.yaxisIndex]:0):vt,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:J,realIndex:S.realIndex,i:Se,j:Le,w:fe});return this.barHelpers.barBackground({bc:Fe,j:Le,i:Se,x1:W,x2:V,elSeries:ie}),T+=N,{pathTo:Bi.pathTo,pathFrom:Bi.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,G,Se,Le),barXPosition:W,x:fe.globals.isXNumeric?T-N:T,y:I}}}]),d}(ft),Ft=function(We){et(d,We);var h=we(d);function d(){return it(this,d),h.apply(this,arguments)}return nt(d,[{key:"draw",value:function(v,S,T){var I=this,N=this.w,V=new je(this.ctx),G=N.globals.comboCharts?S:N.config.chart.type,K=new pe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=N.config.plotOptions.bar.horizontal;var J=new Ke(this.ctx,N);v=J.getLogSeries(v),this.series=v,this.yRatio=J.getLogYRatios(this.yRatio),this.barHelpers.initVariables(v);for(var ie=V.group({class:"apexcharts-".concat(G,"-series apexcharts-plot-series")}),fe=function(Le){I.isBoxPlot="boxPlot"===N.config.chart.type||"boxPlot"===N.config.series[Le].type;var Fe,tt,vt,W,qt,Sn,ae=void 0,De=void 0,Ue=[],dt=[],kt=N.globals.comboCharts?T[Le]:Le,Xt=V.group({class:"apexcharts-series",seriesName:de.escapeString(N.globals.seriesNames[kt]),rel:Le+1,"data:realIndex":kt});I.ctx.series.addCollapsedClassToSeries(Xt,kt),v[Le].length>0&&(I.visibleI=I.visibleI+1),I.yRatio.length>1&&(I.yaxisIndex=kt);var Mn=I.barHelpers.initialPositions();De=Mn.y,qt=Mn.barHeight,tt=Mn.yDivision,W=Mn.zeroW,Fe=Mn.xDivision,vt=Mn.zeroH,dt.push((ae=Mn.x)+(Sn=Mn.barWidth)/2);for(var Cn=V.group({class:"apexcharts-datalabels","data:realIndex":kt}),gi=function(Bi){var sr=I.barHelpers.getStrokeWidth(Le,Bi,kt),mr=null,si={indexes:{i:Le,j:Bi,realIndex:kt},x:ae,y:De,strokeWidth:sr,elSeries:Xt};mr=I.isHorizontal?I.drawHorizontalBoxPaths(Ze(Ze({},si),{},{yDivision:tt,barHeight:qt,zeroW:W})):I.drawVerticalBoxPaths(Ze(Ze({},si),{},{xDivision:Fe,barWidth:Sn,zeroH:vt})),De=mr.y,ae=mr.x,Bi>0&&dt.push(ae+Sn/2),Ue.push(De),mr.pathTo.forEach(function(Mi,Ur){var Fo=!I.isBoxPlot&&I.candlestickOptions.wick.useFillColor?mr.color[Ur]:N.globals.stroke.colors[Le],So=K.fillPath({seriesNumber:kt,dataPointIndex:Bi,color:mr.color[Ur],value:v[Le][Bi]});I.renderSeries({realIndex:kt,pathFill:So,lineFill:Fo,j:Bi,i:Le,pathFrom:mr.pathFrom,pathTo:Mi,strokeWidth:sr,elSeries:Xt,x:ae,y:De,series:v,barHeight:qt,barWidth:Sn,elDataLabelsWrap:Cn,visibleSeries:I.visibleI,type:N.config.chart.type})})},Ei=0;Ei<N.globals.dataPoints;Ei++)gi(Ei);N.globals.seriesXvalues[kt]=dt,N.globals.seriesYvalues[kt]=Ue,ie.add(Xt)},Se=0;Se<v.length;Se++)fe(Se);return ie}},{key:"drawVerticalBoxPaths",value:function(v){var S=v.indexes,T=v.x,I=v.xDivision,N=v.barWidth,V=v.zeroH,G=v.strokeWidth,K=this.w,J=new je(this.ctx),ie=S.i,fe=S.j,Se=!0,Le=K.config.plotOptions.candlestick.colors.upward,Fe=K.config.plotOptions.candlestick.colors.downward,tt="";this.isBoxPlot&&(tt=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var vt=this.yRatio[this.yaxisIndex],W=S.realIndex,ae=this.getOHLCValue(W,fe),De=V,Ue=V;ae.o>ae.c&&(Se=!1);var dt=Math.min(ae.o,ae.c),kt=Math.max(ae.o,ae.c),Xt=ae.m;K.globals.isXNumeric&&(T=(K.globals.seriesX[W][fe]-K.globals.minX)/this.xRatio-N/2);var qt=T+N*this.visibleI;null==this.series[ie][fe]?(dt=V,kt=V):(dt=V-dt/vt,kt=V-kt/vt,De=V-ae.h/vt,Ue=V-ae.l/vt,Xt=V-ae.m/vt);var Sn=J.move(qt,V),Mn=J.move(qt+N/2,dt);return K.globals.previousPaths.length>0&&(Mn=this.getPreviousPath(W,fe,!0)),Sn=this.isBoxPlot?[J.move(qt,dt)+J.line(qt+N/2,dt)+J.line(qt+N/2,De)+J.line(qt+N/4,De)+J.line(qt+N-N/4,De)+J.line(qt+N/2,De)+J.line(qt+N/2,dt)+J.line(qt+N,dt)+J.line(qt+N,Xt)+J.line(qt,Xt)+J.line(qt,dt+G/2),J.move(qt,Xt)+J.line(qt+N,Xt)+J.line(qt+N,kt)+J.line(qt+N/2,kt)+J.line(qt+N/2,Ue)+J.line(qt+N-N/4,Ue)+J.line(qt+N/4,Ue)+J.line(qt+N/2,Ue)+J.line(qt+N/2,kt)+J.line(qt,kt)+J.line(qt,Xt)+"z"]:[J.move(qt,kt)+J.line(qt+N/2,kt)+J.line(qt+N/2,De)+J.line(qt+N/2,kt)+J.line(qt+N,kt)+J.line(qt+N,dt)+J.line(qt+N/2,dt)+J.line(qt+N/2,Ue)+J.line(qt+N/2,dt)+J.line(qt,dt)+J.line(qt,kt-G/2)],Mn+=J.move(qt,dt),K.globals.isXNumeric||(T+=I),{pathTo:Sn,pathFrom:Mn,x:T,y:kt,barXPosition:qt,color:this.isBoxPlot?tt:Se?[Le]:[Fe]}}},{key:"drawHorizontalBoxPaths",value:function(v){var S=v.indexes,T=v.y,I=v.yDivision,N=v.barHeight,V=v.zeroW,G=v.strokeWidth,K=this.w,J=new je(this.ctx),ie=S.i,fe=S.j,Se=this.boxOptions.colors.lower;this.isBoxPlot&&(Se=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Le=this.invertedYRatio,Fe=S.realIndex,tt=this.getOHLCValue(Fe,fe),vt=V,W=V,ae=Math.min(tt.o,tt.c),De=Math.max(tt.o,tt.c),Ue=tt.m;K.globals.isXNumeric&&(T=(K.globals.seriesX[Fe][fe]-K.globals.minX)/this.invertedXRatio-N/2);var dt=T+N*this.visibleI;null==this.series[ie][fe]?(ae=V,De=V):(ae=V+ae/Le,De=V+De/Le,vt=V+tt.h/Le,W=V+tt.l/Le,Ue=V+tt.m/Le);var kt=J.move(V,dt),Xt=J.move(ae,dt+N/2);return K.globals.previousPaths.length>0&&(Xt=this.getPreviousPath(Fe,fe,!0)),kt=[J.move(ae,dt)+J.line(ae,dt+N/2)+J.line(vt,dt+N/2)+J.line(vt,dt+N/2-N/4)+J.line(vt,dt+N/2+N/4)+J.line(vt,dt+N/2)+J.line(ae,dt+N/2)+J.line(ae,dt+N)+J.line(Ue,dt+N)+J.line(Ue,dt)+J.line(ae+G/2,dt),J.move(Ue,dt)+J.line(Ue,dt+N)+J.line(De,dt+N)+J.line(De,dt+N/2)+J.line(W,dt+N/2)+J.line(W,dt+N-N/4)+J.line(W,dt+N/4)+J.line(W,dt+N/2)+J.line(De,dt+N/2)+J.line(De,dt)+J.line(Ue,dt)+"z"],Xt+=J.move(ae,dt),K.globals.isXNumeric||(T+=I),{pathTo:kt,pathFrom:Xt,x:De,y:T,barYPosition:dt,color:Se}}},{key:"getOHLCValue",value:function(v,S){var T=this.w;return{o:this.isBoxPlot?T.globals.seriesCandleH[v][S]:T.globals.seriesCandleO[v][S],h:this.isBoxPlot?T.globals.seriesCandleO[v][S]:T.globals.seriesCandleH[v][S],m:T.globals.seriesCandleM[v][S],l:this.isBoxPlot?T.globals.seriesCandleC[v][S]:T.globals.seriesCandleL[v][S],c:this.isBoxPlot?T.globals.seriesCandleL[v][S]:T.globals.seriesCandleC[v][S]}}}]),d}(ft),Gt=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"checkColorRange",value:function(){var h=this.w,d=!1,v=h.config.plotOptions[h.config.chart.type];return v.colorScale.ranges.length>0&&v.colorScale.ranges.map(function(S,T){S.from<=0&&(d=!0)}),d}},{key:"getShadeColor",value:function(h,d,v,S){var T=this.w,I=1,N=T.config.plotOptions[h].shadeIntensity,V=this.determineColor(h,d,v);T.globals.hasNegs||S?I=T.config.plotOptions[h].reverseNegativeShade?V.percent<0?V.percent/100*(1.25*N):1.25*N*(1-V.percent/100):V.percent<=0?1-(1+V.percent/100)*N:(1-V.percent/100)*N:(I=1-V.percent/100,"treemap"===h&&(I=1.25*N*(1-V.percent/100)));var G=V.color,K=new de;return T.config.plotOptions[h].enableShades&&(G=de.hexToRgba(K.shadeColor("dark"===this.w.config.theme.mode?-1*I:I,V.color),T.config.fill.opacity)),{color:G,colorProps:V}}},{key:"determineColor",value:function(h,d,v){var S=this.w,T=S.globals.series[d][v],I=S.config.plotOptions[h],N=I.colorScale.inverse?v:d;I.distributed&&"treemap"===S.config.chart.type&&(N=v);var V=S.globals.colors[N],G=null,K=Math.min.apply(Math,Ne(S.globals.series[d])),J=Math.max.apply(Math,Ne(S.globals.series[d]));I.distributed||"heatmap"!==h||(K=S.globals.minY,J=S.globals.maxY),void 0!==I.colorScale.min&&(K=I.colorScale.min<S.globals.minY?I.colorScale.min:S.globals.minY,J=I.colorScale.max>S.globals.maxY?I.colorScale.max:S.globals.maxY);var ie=Math.abs(J)+Math.abs(K),fe=100*T/(0===ie?ie-1e-6:ie);return I.colorScale.ranges.length>0&&I.colorScale.ranges.map(function(Se,Le){if(T>=Se.from&&T<=Se.to){V=Se.color,G=Se.foreColor?Se.foreColor:null,K=Se.from,J=Se.to;var Fe=Math.abs(J)+Math.abs(K);fe=100*T/(0===Fe?Fe-1e-6:Fe)}}),{color:V,foreColor:G,percent:fe}}},{key:"calculateDataLabels",value:function(h){var d=h.text,v=h.x,S=h.y,T=h.i,I=h.j,N=h.colorProps,V=h.fontSize,G=this.w.config.dataLabels,K=new je(this.ctx),J=new on(this.ctx),ie=null;if(G.enabled){ie=K.group({class:"apexcharts-data-labels"});var Se=G.offsetY,Le=v+G.offsetX,Fe=S+parseFloat(G.style.fontSize)/3+Se;J.plotDataLabelsText({x:Le,y:Fe,text:d,i:T,j:I,color:N.foreColor,parent:ie,fontSize:V,dataLabelsConfig:G})}return ie}},{key:"addListeners",value:function(h){var d=new je(this.ctx);h.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this,h)),h.node.addEventListener("mousedown",d.pathMouseDown.bind(this,h))}}]),We}(),zn=function(){function We(h,d){it(this,We),this.ctx=h,this.w=h.w,this.xRatio=d.xRatio,this.yRatio=d.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Gt(h),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return nt(We,[{key:"draw",value:function(h){var d=this.w,v=new je(this.ctx),S=v.group({class:"apexcharts-heatmap"});S.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")"));var T=d.globals.gridWidth/d.globals.dataPoints,I=d.globals.gridHeight/d.globals.series.length,N=0,V=!1;this.negRange=this.helpers.checkColorRange();var G=h.slice();d.config.yaxis[0].reversed&&(V=!0,G.reverse());for(var K=V?0:G.length-1;V?K<G.length:K>=0;V?K++:K--){var J=v.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:de.escapeString(d.globals.seriesNames[K]),rel:K+1,"data:realIndex":K});if(this.ctx.series.addCollapsedClassToSeries(J,K),d.config.chart.dropShadow.enabled){var ie=d.config.chart.dropShadow;new Ae(this.ctx).dropShadow(J,ie,K)}for(var fe=0,Se=d.config.plotOptions.heatmap.shadeIntensity,Le=0;Le<G[K].length;Le++){var Fe=this.helpers.getShadeColor(d.config.chart.type,K,Le,this.negRange),tt=Fe.color,vt=Fe.colorProps;"image"===d.config.fill.type&&(tt=new pe(this.ctx).fillPath({seriesNumber:K,dataPointIndex:Le,opacity:d.globals.hasNegs?vt.percent<0?1-(1+vt.percent/100):Se+vt.percent/100:vt.percent/100,patternID:de.randomId(),width:d.config.fill.image.width?d.config.fill.image.width:T,height:d.config.fill.image.height?d.config.fill.image.height:I}));var ae=v.drawRect(fe,N,T,I,this.rectRadius);if(ae.attr({cx:fe,cy:N}),ae.node.classList.add("apexcharts-heatmap-rect"),J.add(ae),ae.attr({fill:tt,i:K,index:K,j:Le,val:h[K][Le],"stroke-width":this.strokeWidth,stroke:d.config.plotOptions.heatmap.useFillColorAsStroke?tt:d.globals.stroke.colors[0],color:tt}),this.helpers.addListeners(ae),d.config.chart.animations.enabled&&!d.globals.dataChanged){var De=1;d.globals.resized||(De=d.config.chart.animations.speed),this.animateHeatMap(ae,fe,N,T,I,De)}if(d.globals.dataChanged){var Ue=1;if(this.dynamicAnim.enabled&&d.globals.shouldAnimate){Ue=this.dynamicAnim.speed;var dt=d.globals.previousPaths[K]&&d.globals.previousPaths[K][Le]&&d.globals.previousPaths[K][Le].color;dt||(dt="rgba(255, 255, 255, 0)"),this.animateHeatColor(ae,de.isColorHex(dt)?dt:de.rgb2hex(dt),de.isColorHex(tt)?tt:de.rgb2hex(tt),Ue)}}var kt=(0,d.config.dataLabels.formatter)(d.globals.series[K][Le],{value:d.globals.series[K][Le],seriesIndex:K,dataPointIndex:Le,w:d}),Xt=this.helpers.calculateDataLabels({text:kt,x:fe+T/2,y:N+I/2,i:K,j:Le,colorProps:vt,series:G});null!==Xt&&J.add(Xt),fe+=T}N+=I,S.add(J)}var qt=d.globals.yAxisScale[0].result.slice();return d.config.yaxis[0].reversed?qt.unshift(""):qt.push(""),d.globals.yAxisScale[0].result=qt,S}},{key:"animateHeatMap",value:function(h,d,v,S,T,I){var N=new ot(this.ctx);N.animateRect(h,{x:d+S/2,y:v+T/2,width:0,height:0},{x:d,y:v,width:S,height:T},I,function(){N.animationCompleted(h)})}},{key:"animateHeatColor",value:function(h,d,v,S){h.attr({fill:d}).animate(S).attr({fill:v})}}]),We}(),Xn=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"drawYAxisTexts",value:function(h,d,v,S){var T=this.w,I=T.config.yaxis[0],N=T.globals.yLabelFormatters[0];return new je(this.ctx).drawText({x:h+I.labels.offsetX,y:d+I.labels.offsetY,text:N(S,v),textAnchor:"middle",fontSize:I.labels.style.fontSize,fontFamily:I.labels.style.fontFamily,foreColor:Array.isArray(I.labels.style.colors)?I.labels.style.colors[v]:I.labels.style.colors})}}]),We}(),ei=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w;var d=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==d.globals.stroke.colors?d.globals.stroke.colors:d.globals.colors,this.defaultSize=Math.min(d.globals.gridWidth,d.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=d.globals.gridWidth/2,this.fullAngle="radialBar"===d.config.chart.type?360:Math.abs(d.config.plotOptions.pie.endAngle-d.config.plotOptions.pie.startAngle),this.initialAngle=d.config.plotOptions.pie.startAngle%this.fullAngle,d.globals.radialSize=this.defaultSize/2.05-d.config.stroke.width-(d.config.chart.sparkline.enabled?0:d.config.chart.dropShadow.blur),this.donutSize=d.globals.radialSize*parseInt(d.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return nt(We,[{key:"draw",value:function(h){var d=this,v=this.w,S=new je(this.ctx);if(this.ret=S.group({class:"apexcharts-pie"}),v.globals.noData)return this.ret;for(var T=0,I=0;I<h.length;I++)T+=de.negToZero(h[I]);var N=[],V=S.group();0===T&&(T=1e-5),h.forEach(function(dt){d.maxY=Math.max(d.maxY,dt)}),v.config.yaxis[0].max&&(this.maxY=v.config.yaxis[0].max),"back"===v.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var G=0;G<h.length;G++){var K=this.fullAngle*de.negToZero(h[G])/T;N.push(K),"polarArea"===this.chartType?(N[G]=this.fullAngle/h.length,this.sliceSizes.push(v.globals.radialSize*h[G]/this.maxY)):this.sliceSizes.push(v.globals.radialSize)}if(v.globals.dataChanged){for(var J,ie=0,fe=0;fe<v.globals.previousPaths.length;fe++)ie+=de.negToZero(v.globals.previousPaths[fe]);for(var Se=0;Se<v.globals.previousPaths.length;Se++)J=this.fullAngle*de.negToZero(v.globals.previousPaths[Se])/ie,this.prevSectorAngleArr.push(J)}this.donutSize<0&&(this.donutSize=0);var Le=v.config.plotOptions.pie.customScale,vt=v.globals.gridWidth/2-v.globals.gridWidth/2*Le,W=v.globals.gridHeight/2-v.globals.gridHeight/2*Le;if("donut"===this.chartType){var ae=S.drawCircle(this.donutSize);ae.attr({cx:this.centerX,cy:this.centerY,fill:v.config.plotOptions.pie.donut.background?v.config.plotOptions.pie.donut.background:"transparent"}),V.add(ae)}var De=this.drawArcs(N,h);if(this.sliceLabels.forEach(function(dt){De.add(dt)}),V.attr({transform:"translate(".concat(vt,", ").concat(W,") scale(").concat(Le,")")}),V.add(De),this.ret.add(V),this.donutDataLabels.show){var Ue=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:vt,translateY:W});this.ret.add(Ue)}return"front"===v.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(h,d){var v=this.w,S=new Ae(this.ctx),T=new je(this.ctx),I=new pe(this.ctx),N=T.group({class:"apexcharts-slices"}),V=this.initialAngle,G=this.initialAngle,K=this.initialAngle,J=this.initialAngle;this.strokeWidth=v.config.stroke.show?v.config.stroke.width:0;for(var ie=0;ie<h.length;ie++){var fe=T.group({class:"apexcharts-series apexcharts-pie-series",seriesName:de.escapeString(v.globals.seriesNames[ie]),rel:ie+1,"data:realIndex":ie});N.add(fe),K=(V=K)+h[ie],J=(G=J)+this.prevSectorAngleArr[ie];var Se=K<V?this.fullAngle+K-V:K-V,Le=I.fillPath({seriesNumber:ie,size:this.sliceSizes[ie],value:d[ie]}),Fe=this.getChangedPath(G,J),tt=T.drawPath({d:Fe,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[ie]:this.lineColorArr,strokeWidth:0,fill:Le,fillOpacity:v.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(ie)});tt.attr({index:0,j:ie}),S.setSelectionFilter(tt,0,ie),v.config.chart.dropShadow.enabled&&S.dropShadow(tt,v.config.chart.dropShadow,ie),this.addListeners(tt,this.donutDataLabels),je.setAttrs(tt.node,{"data:angle":Se,"data:startAngle":V,"data:strokeWidth":this.strokeWidth,"data:value":d[ie]});var W={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?W=de.polarToCartesian(this.centerX,this.centerY,v.globals.radialSize/1.25+v.config.plotOptions.pie.dataLabels.offset,(V+Se/2)%this.fullAngle):"donut"===this.chartType&&(W=de.polarToCartesian(this.centerX,this.centerY,(v.globals.radialSize+this.donutSize)/2+v.config.plotOptions.pie.dataLabels.offset,(V+Se/2)%this.fullAngle)),fe.add(tt);var ae=0;if(!this.initialAnim||v.globals.resized||v.globals.dataChanged?this.animBeginArr.push(0):(0==(ae=Se/this.fullAngle*v.config.chart.animations.speed)&&(ae=1),this.animDur=ae+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(tt,this.dynamicAnim&&v.globals.dataChanged?{size:this.sliceSizes[ie],endAngle:K,startAngle:V,prevStartAngle:G,prevEndAngle:J,animateStartingPos:!0,i:ie,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:v.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[ie],endAngle:K,startAngle:V,i:ie,totalItems:h.length-1,animBeginArr:this.animBeginArr,dur:ae}),v.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&tt.click(this.pieClicked.bind(this,ie)),void 0!==v.globals.selectedDataPoints[0]&&v.globals.selectedDataPoints[0].indexOf(ie)>-1&&this.pieClicked(ie),v.config.dataLabels.enabled){var De=W.x,Ue=W.y,dt=100*Se/this.fullAngle+"%";if(0!==Se&&v.config.plotOptions.pie.dataLabels.minAngleToShowLabel<h[ie]){var kt=v.config.dataLabels.formatter;void 0!==kt&&(dt=kt(v.globals.seriesPercent[ie][0],{seriesIndex:ie,w:v}));var Xt=v.globals.dataLabels.style.colors[ie],qt=T.group({class:"apexcharts-datalabels"}),Sn=T.drawText({x:De,y:Ue,text:dt,textAnchor:"middle",fontSize:v.config.dataLabels.style.fontSize,fontFamily:v.config.dataLabels.style.fontFamily,fontWeight:v.config.dataLabels.style.fontWeight,foreColor:Xt});qt.add(Sn),v.config.dataLabels.dropShadow.enabled&&S.dropShadow(Sn,v.config.dataLabels.dropShadow),Sn.node.classList.add("apexcharts-pie-label"),v.config.chart.animations.animate&&!1===v.globals.resized&&(Sn.node.classList.add("apexcharts-pie-label-delay"),Sn.node.style.animationDelay=v.config.chart.animations.speed/940+"s"),this.sliceLabels.push(qt)}}}return N}},{key:"addListeners",value:function(h,d){var v=new je(this.ctx);h.node.addEventListener("mouseenter",v.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",v.pathMouseLeave.bind(this,h)),h.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,h.node,d)),h.node.addEventListener("mousedown",v.pathMouseDown.bind(this,h)),this.donutDataLabels.total.showAlways||(h.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,h.node,d)),h.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,h.node,d)))}},{key:"animatePaths",value:function(h,d){var S=d.endAngle<d.startAngle?this.fullAngle+d.endAngle-d.startAngle:d.endAngle-d.startAngle,T=S,I=d.startAngle,N=d.startAngle;void 0!==d.prevStartAngle&&void 0!==d.prevEndAngle&&(I=d.prevEndAngle,T=d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle),d.i===this.w.config.series.length-1&&(S+N>this.fullAngle?d.endAngle=d.endAngle-(S+N):S+N<this.fullAngle&&(d.endAngle=d.endAngle+(this.fullAngle-(S+N)))),S===this.fullAngle&&(S=this.fullAngle-.01),this.animateArc(h,I,N,S,T,d)}},{key:"animateArc",value:function(h,d,v,S,T,I){var N,V=this,G=this.w,K=new ot(this.ctx),J=I.size;(isNaN(d)||isNaN(T))&&(d=v,T=S,I.dur=0);var ie=S,fe=v,Se=d<v?this.fullAngle+d-v:d-v;G.globals.dataChanged&&I.shouldSetPrevPaths&&I.prevEndAngle&&(N=V.getPiePath({me:V,startAngle:I.prevStartAngle,angle:I.prevEndAngle<I.prevStartAngle?this.fullAngle+I.prevEndAngle-I.prevStartAngle:I.prevEndAngle-I.prevStartAngle,size:J}),h.attr({d:N})),0!==I.dur?h.animate(I.dur,G.globals.easing,I.animBeginArr[I.i]).afterAll(function(){"pie"!==V.chartType&&"donut"!==V.chartType&&"polarArea"!==V.chartType||this.animate(G.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":V.strokeWidth}),I.i===G.config.series.length-1&&K.animationCompleted(h)}).during(function(Le){ie=Se+(S-Se)*Le,I.animateStartingPos&&(ie=T+(S-T)*Le,fe=d-T+(v-(d-T))*Le),N=V.getPiePath({me:V,startAngle:fe,angle:ie,size:J}),h.node.setAttribute("data:pathOrig",N),h.attr({d:N})}):(N=V.getPiePath({me:V,startAngle:fe,angle:S,size:J}),I.isTrack||(G.globals.animationEnded=!0),h.node.setAttribute("data:pathOrig",N),h.attr({d:N,"stroke-width":V.strokeWidth}))}},{key:"pieClicked",value:function(h){var d,v=this.w,S=this,T=S.sliceSizes[h]+(v.config.plotOptions.pie.expandOnClick?4:0),I=v.globals.dom.Paper.select(".apexcharts-".concat(S.chartType.toLowerCase(),"-slice-").concat(h)).members[0];if("true"!==I.attr("data:pieClicked")){var N=v.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(N,function(J){J.setAttribute("data:pieClicked","false");var ie=J.getAttribute("data:pathOrig");ie&&J.setAttribute("d",ie)}),I.attr("data:pieClicked","true");var V=parseInt(I.attr("data:startAngle"),10),G=parseInt(I.attr("data:angle"),10);d=S.getPiePath({me:S,startAngle:V,angle:G,size:T}),360!==G&&I.plot(d)}else{I.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(I.node,this.donutDataLabels);var K=I.attr("data:pathOrig");I.attr({d:K})}}},{key:"getChangedPath",value:function(h,d){var v="";return this.dynamicAnim&&this.w.globals.dataChanged&&(v=this.getPiePath({me:this,startAngle:h,angle:d-h,size:this.size})),v}},{key:"getPiePath",value:function(h){var d,v=h.me,S=h.startAngle,T=h.angle,I=h.size,N=new je(this.ctx),V=S,G=Math.PI*(V-90)/180,K=T+S;Math.ceil(K)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(K=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(K)>this.fullAngle&&(K-=this.fullAngle);var J=Math.PI*(K-90)/180,ie=v.centerX+I*Math.cos(G),fe=v.centerY+I*Math.sin(G),Se=v.centerX+I*Math.cos(J),Le=v.centerY+I*Math.sin(J),Fe=de.polarToCartesian(v.centerX,v.centerY,v.donutSize,K),tt=de.polarToCartesian(v.centerX,v.centerY,v.donutSize,V),vt=T>180?1:0,W=["M",ie,fe,"A",I,I,0,vt,1,Se,Le];return d="donut"===v.chartType?[].concat(W,["L",Fe.x,Fe.y,"A",v.donutSize,v.donutSize,0,vt,0,tt.x,tt.y,"L",ie,fe,"z"]).join(" "):"pie"===v.chartType||"polarArea"===v.chartType?[].concat(W,["L",v.centerX,v.centerY,"L",ie,fe]).join(" "):[].concat(W).join(" "),N.roundPathCorners(d,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(h){var d=this.w,v=new On(this.ctx),S=new je(this.ctx),T=new Xn(this.ctx),I=S.group(),N=S.group(),V=v.niceScale(0,Math.ceil(this.maxY),0),G=V.result.reverse(),K=V.result.length;this.maxY=V.niceMax;for(var J=d.globals.radialSize,ie=J/(K-1),fe=0;fe<K-1;fe++){var Se=S.drawCircle(J);if(Se.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":d.config.plotOptions.polarArea.rings.strokeWidth,stroke:d.config.plotOptions.polarArea.rings.strokeColor}),d.config.yaxis[0].show){var Le=T.drawYAxisTexts(this.centerX,this.centerY-J+parseInt(d.config.yaxis[0].labels.style.fontSize,10)/2,fe,G[fe]);N.add(Le)}I.add(Se),J-=ie}this.drawSpokes(h),h.add(I),h.add(N)}},{key:"renderInnerDataLabels",value:function(h,d){var v=this.w,S=new je(this.ctx),T=S.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(d.translateX?d.translateX:0,", ").concat(d.translateY?d.translateY:0,") scale(").concat(v.config.plotOptions.pie.customScale,")")}),I=h.total.show;T.node.style.opacity=d.opacity;var N,V,G=d.centerX,K=d.centerY;N=void 0===h.name.color?v.globals.colors[0]:h.name.color;var J=h.name.fontSize,ie=h.name.fontFamily,fe=h.name.fontWeight;V=void 0===h.value.color?v.config.chart.foreColor:h.value.color;var Se=h.value.formatter,Le="",Fe="";if(I?(N=h.total.color,J=h.total.fontSize,ie=h.total.fontFamily,fe=h.total.fontWeight,Fe=h.total.label,Le=h.total.formatter(v)):1===v.globals.series.length&&(Le=Se(v.globals.series[0],v),Fe=v.globals.seriesNames[0]),Fe&&(Fe=h.name.formatter(Fe,h.total.show,v)),h.name.show){var tt=S.drawText({x:G,y:K+parseFloat(h.name.offsetY),text:Fe,textAnchor:"middle",foreColor:N,fontSize:J,fontWeight:fe,fontFamily:ie});tt.node.classList.add("apexcharts-datalabel-label"),T.add(tt)}if(h.value.show){var vt=h.name.show?parseFloat(h.value.offsetY)+16:h.value.offsetY,W=S.drawText({x:G,y:K+vt,text:Le,textAnchor:"middle",foreColor:V,fontWeight:h.value.fontWeight,fontSize:h.value.fontSize,fontFamily:h.value.fontFamily});W.node.classList.add("apexcharts-datalabel-value"),T.add(W)}return T}},{key:"printInnerLabels",value:function(h,d,v,S){var T,I=this.w;S?T=void 0===h.name.color?I.globals.colors[parseInt(S.parentNode.getAttribute("rel"),10)-1]:h.name.color:I.globals.series.length>1&&h.total.show&&(T=h.total.color);var N=I.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),V=I.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");v=(0,h.value.formatter)(v,I),S||"function"!=typeof h.total.formatter||(v=h.total.formatter(I)),d=h.name.formatter(d,d===h.total.label,I),null!==N&&(N.textContent=d),null!==V&&(V.textContent=v),null!==N&&(N.style.fill=T)}},{key:"printDataLabelsInner",value:function(h,d){var v=this.w,S=h.getAttribute("data:value"),T=v.globals.seriesNames[parseInt(h.parentNode.getAttribute("rel"),10)-1];v.globals.series.length>1&&this.printInnerLabels(d,T,S,h);var I=v.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==I&&(I.style.opacity=1)}},{key:"drawSpokes",value:function(h){var d=this,v=this.w,S=new je(this.ctx),T=v.config.plotOptions.polarArea.spokes;if(0!==T.strokeWidth){for(var I=[],N=360/v.globals.series.length,V=0;V<v.globals.series.length;V++)I.push(de.polarToCartesian(this.centerX,this.centerY,v.globals.radialSize,v.config.plotOptions.pie.startAngle+N*V));I.forEach(function(G,K){var J=S.drawLine(G.x,G.y,d.centerX,d.centerY,Array.isArray(T.connectorColors)?T.connectorColors[K]:T.connectorColors);h.add(J)})}}},{key:"revertDataLabelsInner",value:function(h,d,v){var S=this,T=this.w,I=T.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),N=!1,V=T.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),G=function(ie){var fe=ie.makeSliceOut,Se=ie.printLabel;Array.prototype.forEach.call(V,function(Le){"true"===Le.getAttribute("data:pieClicked")&&(fe&&(N=!0),Se&&S.printDataLabelsInner(Le,d))})};if(G({makeSliceOut:!0,printLabel:!1}),d.total.show&&T.globals.series.length>1)N&&!d.total.showAlways?G({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(d,d.total.label,d.total.formatter(T));else if(G({makeSliceOut:!1,printLabel:!0}),!N)if(T.globals.selectedDataPoints.length&&T.globals.series.length>1)if(T.globals.selectedDataPoints[0].length>0){var K=T.globals.selectedDataPoints[0],J=T.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(K));this.printDataLabelsInner(J,d)}else I&&T.globals.selectedDataPoints.length&&0===T.globals.selectedDataPoints[0].length&&(I.style.opacity=0);else I&&T.globals.series.length>1&&(I.style.opacity=0)}}]),We}(),Qn=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var d=this.w;this.graphics=new je(this.ctx),this.lineColorArr=void 0!==d.globals.stroke.colors?d.globals.stroke.colors:d.globals.colors,this.defaultSize=d.globals.svgHeight<d.globals.svgWidth?d.globals.gridHeight+1.5*d.globals.goldenPadding:d.globals.gridWidth,this.isLog=d.config.yaxis[0].logarithmic,this.coreUtils=new Ke(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(d.globals.maxY,0):d.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):d.globals.minY,this.polygons=d.config.plotOptions.radar.polygons,this.strokeWidth=d.config.stroke.show?d.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-d.config.chart.dropShadow.blur,d.config.xaxis.labels.show&&(this.size=this.size-d.globals.xAxisLabelsWidth/1.75),void 0!==d.config.plotOptions.radar.size&&(this.size=d.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return nt(We,[{key:"draw",value:function(h){var d=this,v=this.w,S=new pe(this.ctx),T=[],I=new on(this.ctx);h.length&&(this.dataPointsLen=h[v.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var K=v.globals.gridHeight/2+v.config.plotOptions.radar.offsetY,J=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(v.globals.gridWidth/2+v.config.plotOptions.radar.offsetX||0,", ").concat(K||0,")")}),ie=[],fe=null,Se=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),h.forEach(function(Fe,tt){var vt=Fe.length===v.globals.dataPoints,W=d.graphics.group().attr({class:"apexcharts-series","data:longestSeries":vt,seriesName:de.escapeString(v.globals.seriesNames[tt]),rel:tt+1,"data:realIndex":tt});d.dataRadiusOfPercent[tt]=[],d.dataRadius[tt]=[],d.angleArr[tt]=[],Fe.forEach(function(Cn,gi){var Ei=Math.abs(d.maxValue-d.minValue);Cn+=Math.abs(d.minValue),d.isLog&&(Cn=d.coreUtils.getLogVal(Cn,0)),d.dataRadiusOfPercent[tt][gi]=Cn/Ei,d.dataRadius[tt][gi]=d.dataRadiusOfPercent[tt][gi]*d.size,d.angleArr[tt][gi]=gi*d.disAngle}),ie=d.getDataPointsPos(d.dataRadius[tt],d.angleArr[tt]);var ae=d.createPaths(ie,{x:0,y:0});fe=d.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Se=d.graphics.group({class:"apexcharts-datalabels","data:realIndex":tt}),v.globals.delayedElements.push({el:fe.node,index:tt});var De={i:tt,realIndex:tt,animationDelay:tt,initialSpeed:v.config.chart.animations.speed,dataChangeSpeed:v.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:v.globals.stroke.colors[tt],strokeLineCap:v.config.stroke.lineCap},Ue=null;v.globals.previousPaths.length>0&&(Ue=d.getPreviousPath(tt));for(var dt=0;dt<ae.linePathsTo.length;dt++){var kt=d.graphics.renderPaths(Ze(Ze({},De),{},{pathFrom:null===Ue?ae.linePathsFrom[dt]:Ue,pathTo:ae.linePathsTo[dt],strokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[tt]:d.strokeWidth,fill:"none",drawShadow:!1}));W.add(kt);var Xt=S.fillPath({seriesNumber:tt}),qt=d.graphics.renderPaths(Ze(Ze({},De),{},{pathFrom:null===Ue?ae.areaPathsFrom[dt]:Ue,pathTo:ae.areaPathsTo[dt],strokeWidth:0,fill:Xt,drawShadow:!1}));v.config.chart.dropShadow.enabled&&new Ae(d.ctx).dropShadow(qt,Object.assign({},v.config.chart.dropShadow,{noUserSpaceOnUse:!0}),tt),W.add(qt)}Fe.forEach(function(Cn,gi){var Ei=new ue(d.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:tt,dataPointIndex:gi}),Bi=d.graphics.drawMarker(ie[gi].x,ie[gi].y,Ei);Bi.attr("rel",gi),Bi.attr("j",gi),Bi.attr("index",tt),Bi.node.setAttribute("default-marker-size",Ei.pSize);var sr=d.graphics.group({class:"apexcharts-series-markers"});sr&&sr.add(Bi),fe.add(sr),W.add(fe);var mr=v.config.dataLabels;if(mr.enabled){var si=mr.formatter(v.globals.series[tt][gi],{seriesIndex:tt,dataPointIndex:gi,w:v});I.plotDataLabelsText({x:ie[gi].x,y:ie[gi].y,text:si,textAnchor:"middle",i:tt,j:tt,parent:Se,offsetCorrection:!1,dataLabelsConfig:Ze({},mr)})}W.add(Se)}),T.push(W)}),this.drawPolygons({parent:J}),v.config.xaxis.labels.show){var Le=this.drawXAxisTexts();J.add(Le)}return T.forEach(function(Fe){J.add(Fe)}),J.add(this.yaxisLabels),J}},{key:"drawPolygons",value:function(h){for(var d=this,v=this.w,S=h.parent,T=new Xn(this.ctx),I=v.globals.yAxisScale[0].result.reverse(),N=I.length,V=[],G=this.size/(N-1),K=0;K<N;K++)V[K]=G*K;V.reverse();var J=[],ie=[];V.forEach(function(fe,Se){var Le=de.getPolygonPos(fe,d.dataPointsLen),Fe="";Le.forEach(function(tt,vt){if(0===Se){var W=d.graphics.drawLine(tt.x,tt.y,0,0,Array.isArray(d.polygons.connectorColors)?d.polygons.connectorColors[vt]:d.polygons.connectorColors);ie.push(W)}0===vt&&d.yaxisLabelsTextsPos.push({x:tt.x,y:tt.y}),Fe+=tt.x+","+tt.y+" "}),J.push(Fe)}),J.forEach(function(fe,Se){var Le=d.polygons.strokeColors,Fe=d.polygons.strokeWidth,tt=d.graphics.drawPolygon(fe,Array.isArray(Le)?Le[Se]:Le,Array.isArray(Fe)?Fe[Se]:Fe,v.globals.radarPolygons.fill.colors[Se]);S.add(tt)}),ie.forEach(function(fe){S.add(fe)}),v.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(fe,Se){var Le=T.drawYAxisTexts(fe.x,fe.y,Se,I[Se]);d.yaxisLabels.add(Le)})}},{key:"drawXAxisTexts",value:function(){var h=this,d=this.w,v=d.config.xaxis.labels,S=this.graphics.group({class:"apexcharts-xaxis"}),T=de.getPolygonPos(this.size,this.dataPointsLen);return d.globals.labels.forEach(function(I,N){var V=d.config.xaxis.labels.formatter,G=new on(h.ctx);if(T[N]){var K=h.getTextPos(T[N],h.size),J=V(I,{seriesIndex:-1,dataPointIndex:N,w:d});G.plotDataLabelsText({x:K.newX,y:K.newY,text:J,textAnchor:K.textAnchor,i:N,j:N,parent:S,color:Array.isArray(v.style.colors)&&v.style.colors[N]?v.style.colors[N]:"#a8a8a8",dataLabelsConfig:Ze({textAnchor:K.textAnchor,dropShadow:{enabled:!1}},v),offsetCorrection:!1})}}),S}},{key:"createPaths",value:function(h,d){var v=this,S=[],T=[],I=[],N=[];if(h.length){T=[this.graphics.move(d.x,d.y)],N=[this.graphics.move(d.x,d.y)];var V=this.graphics.move(h[0].x,h[0].y),G=this.graphics.move(h[0].x,h[0].y);h.forEach(function(K,J){V+=v.graphics.line(K.x,K.y),G+=v.graphics.line(K.x,K.y),J===h.length-1&&(V+="Z",G+="Z")}),S.push(V),I.push(G)}return{linePathsFrom:T,linePathsTo:S,areaPathsFrom:N,areaPathsTo:I}}},{key:"getTextPos",value:function(h,d){var v="middle",S=h.x,T=h.y;return Math.abs(h.x)>=10?h.x>0?(v="start",S+=10):h.x<0&&(v="end",S-=10):v="middle",Math.abs(h.y)>=d-10&&(h.y<0?T-=10:h.y>0&&(T+=10)),{textAnchor:v,newX:S,newY:T}}},{key:"getPreviousPath",value:function(h){for(var d=this.w,v=null,S=0;S<d.globals.previousPaths.length;S++){var T=d.globals.previousPaths[S];T.paths.length>0&&parseInt(T.realIndex,10)===parseInt(h,10)&&void 0!==d.globals.previousPaths[S].paths[0]&&(v=d.globals.previousPaths[S].paths[0].d)}return v}},{key:"getDataPointsPos",value:function(h,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;h=h||[],d=d||[];for(var S=[],T=0;T<v;T++){var I={};I.x=h[T]*Math.sin(d[T]),I.y=-h[T]*Math.cos(d[T]),S.push(I)}return S}}]),We}(),ti=function(We){et(d,We);var h=we(d);function d(v){var S;it(this,d),(S=h.call(this,v)).ctx=v,S.w=v.w,S.animBeginArr=[0],S.animDur=0;var T=S.w;return S.startAngle=T.config.plotOptions.radialBar.startAngle,S.endAngle=T.config.plotOptions.radialBar.endAngle,S.totalAngle=Math.abs(T.config.plotOptions.radialBar.endAngle-T.config.plotOptions.radialBar.startAngle),S.trackStartAngle=T.config.plotOptions.radialBar.track.startAngle,S.trackEndAngle=T.config.plotOptions.radialBar.track.endAngle,S.barLabels=S.w.config.plotOptions.radialBar.barLabels,S.donutDataLabels=S.w.config.plotOptions.radialBar.dataLabels,S.radialDataLabels=S.donutDataLabels,S.trackStartAngle||(S.trackStartAngle=S.startAngle),S.trackEndAngle||(S.trackEndAngle=S.endAngle),360===S.endAngle&&(S.endAngle=359.99),S.margin=parseInt(T.config.plotOptions.radialBar.track.margin,10),S.onBarLabelClick=S.onBarLabelClick.bind(ge(S)),S}return nt(d,[{key:"draw",value:function(v){var S=this.w,T=new je(this.ctx),I=T.group({class:"apexcharts-radialbar"});if(S.globals.noData)return I;var N=T.group(),V=this.defaultSize/2,G=S.globals.gridWidth/2,K=this.defaultSize/2.05;S.config.chart.sparkline.enabled||(K=K-S.config.stroke.width-S.config.chart.dropShadow.blur);var J=S.globals.fill.colors;if(S.config.plotOptions.radialBar.track.show){var ie=this.drawTracks({size:K,centerX:G,centerY:V,colorArr:J,series:v});N.add(ie)}var fe=this.drawArcs({size:K,centerX:G,centerY:V,colorArr:J,series:v}),Se=360;S.config.plotOptions.radialBar.startAngle<0&&(Se=this.totalAngle);var Le=(360-Se)/360;if(S.globals.radialSize=K-K*Le,this.radialDataLabels.value.show){var Fe=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);S.globals.radialSize+=Fe*Le}return N.add(fe.g),"front"===S.config.plotOptions.radialBar.hollow.position&&(fe.g.add(fe.elHollow),fe.dataLabels&&fe.g.add(fe.dataLabels)),I.add(N),I}},{key:"drawTracks",value:function(v){var S=this.w,T=new je(this.ctx),I=T.group({class:"apexcharts-tracks"}),N=new Ae(this.ctx),V=new pe(this.ctx),G=this.getStrokeWidth(v);v.size=v.size-G/2;for(var K=0;K<v.series.length;K++){var J=T.group({class:"apexcharts-radialbar-track apexcharts-track"});I.add(J),J.attr({rel:K+1}),v.size=v.size-G-this.margin;var ie=S.config.plotOptions.radialBar.track,fe=V.fillPath({seriesNumber:0,size:v.size,fillColors:Array.isArray(ie.background)?ie.background[K]:ie.background,solid:!0}),Se=this.trackStartAngle,Le=this.trackEndAngle;Math.abs(Le)+Math.abs(Se)>=360&&(Le=360-Math.abs(this.startAngle)-.1);var Fe=T.drawPath({d:"",stroke:fe,strokeWidth:G*parseInt(ie.strokeWidth,10)/100,fill:"none",strokeOpacity:ie.opacity,classes:"apexcharts-radialbar-area"});ie.dropShadow.enabled&&N.dropShadow(Fe,ie.dropShadow),J.add(Fe),Fe.attr("id","apexcharts-radialbarTrack-"+K),this.animatePaths(Fe,{centerX:v.centerX,centerY:v.centerY,endAngle:Le,startAngle:Se,size:v.size,i:K,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:S.globals.easing})}return I}},{key:"drawArcs",value:function(v){var S=this.w,T=new je(this.ctx),I=new pe(this.ctx),N=new Ae(this.ctx),V=T.group(),G=this.getStrokeWidth(v);v.size=v.size-G/2;var K=S.config.plotOptions.radialBar.hollow.background,J=v.size-G*v.series.length-this.margin*v.series.length-G*parseInt(S.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,ie=J-S.config.plotOptions.radialBar.hollow.margin;void 0!==S.config.plotOptions.radialBar.hollow.image&&(K=this.drawHollowImage(v,V,J,K));var fe=this.drawHollow({size:ie,centerX:v.centerX,centerY:v.centerY,fill:K||"transparent"});S.config.plotOptions.radialBar.hollow.dropShadow.enabled&&N.dropShadow(fe,S.config.plotOptions.radialBar.hollow.dropShadow);var Le=1;!this.radialDataLabels.total.show&&S.globals.series.length>1&&(Le=0);var Fe=null;this.radialDataLabels.show&&(Fe=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:J,centerX:v.centerX,centerY:v.centerY,opacity:Le})),"back"===S.config.plotOptions.radialBar.hollow.position&&(V.add(fe),Fe&&V.add(Fe));var tt=!1;S.config.plotOptions.radialBar.inverseOrder&&(tt=!0);for(var vt=tt?v.series.length-1:0;tt?vt>=0:vt<v.series.length;tt?vt--:vt++){var W=T.group({class:"apexcharts-series apexcharts-radial-series",seriesName:de.escapeString(S.globals.seriesNames[vt])});V.add(W),W.attr({rel:vt+1,"data:realIndex":vt}),this.ctx.series.addCollapsedClassToSeries(W,vt),v.size=v.size-G-this.margin;var ae=I.fillPath({seriesNumber:vt,size:v.size,value:v.series[vt]}),De=this.startAngle,Ue=void 0,dt=de.negToZero(v.series[vt]>100?100:v.series[vt])/100,kt=Math.round(this.totalAngle*dt)+this.startAngle,Xt=void 0;S.globals.dataChanged&&(Ue=this.startAngle,Xt=Math.round(this.totalAngle*de.negToZero(S.globals.previousPaths[vt])/100)+Ue),Math.abs(kt)+Math.abs(De)>=360&&(kt-=.01),Math.abs(Xt)+Math.abs(Ue)>=360&&(Xt-=.01);var qt=kt-De,Sn=Array.isArray(S.config.stroke.dashArray)?S.config.stroke.dashArray[vt]:S.config.stroke.dashArray,Mn=T.drawPath({d:"",stroke:ae,strokeWidth:G,fill:"none",fillOpacity:S.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+vt,strokeDashArray:Sn});if(je.setAttrs(Mn.node,{"data:angle":qt,"data:value":v.series[vt]}),S.config.chart.dropShadow.enabled&&N.dropShadow(Mn,S.config.chart.dropShadow,vt),N.setSelectionFilter(Mn,0,vt),this.addListeners(Mn,this.radialDataLabels),W.add(Mn),Mn.attr({index:0,j:vt}),this.barLabels.enabled){var gi=de.polarToCartesian(v.centerX,v.centerY,v.size,De),Ei=this.barLabels.formatter(S.globals.seriesNames[vt],{seriesIndex:vt,w:S}),Bi=["apexcharts-radialbar-label"];this.barLabels.onClick||Bi.push("apexcharts-no-click");var sr=this.barLabels.useSeriesColors?S.globals.colors[vt]:S.config.chart.foreColor;sr||(sr=S.config.chart.foreColor);var mr=gi.x-this.barLabels.margin,si=gi.y,Mi=T.drawText({x:mr,y:si,text:Ei,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:sr,cssClass:Bi.join(" ")});Mi.on("click",this.onBarLabelClick),Mi.attr({rel:vt+1}),0!==De&&Mi.attr({"transform-origin":"".concat(mr," ").concat(si),transform:"rotate(".concat(De," 0 0)")}),W.add(Mi)}var Ur=0;!this.initialAnim||S.globals.resized||S.globals.dataChanged||(Ur=S.config.chart.animations.speed),S.globals.dataChanged&&(Ur=S.config.chart.animations.dynamicAnimation.speed),this.animDur=Ur/(1.2*v.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Mn,{centerX:v.centerX,centerY:v.centerY,endAngle:kt,startAngle:De,prevEndAngle:Xt,prevStartAngle:Ue,size:v.size,i:vt,totalItems:2,animBeginArr:this.animBeginArr,dur:Ur,shouldSetPrevPaths:!0,easing:S.globals.easing})}return{g:V,elHollow:fe,dataLabels:Fe}}},{key:"drawHollow",value:function(v){var S=new je(this.ctx).drawCircle(2*v.size);return S.attr({class:"apexcharts-radialbar-hollow",cx:v.centerX,cy:v.centerY,r:v.size,fill:v.fill}),S}},{key:"drawHollowImage",value:function(v,S,T,I){var N=this.w,V=new pe(this.ctx),G=de.randomId(),K=N.config.plotOptions.radialBar.hollow.image;if(N.config.plotOptions.radialBar.hollow.imageClipped)V.clippedImgArea({width:T,height:T,image:K,patternID:"pattern".concat(N.globals.cuid).concat(G)}),I="url(#pattern".concat(N.globals.cuid).concat(G,")");else{var J=N.config.plotOptions.radialBar.hollow.imageWidth,ie=N.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===J&&void 0===ie){var fe=N.globals.dom.Paper.image(K).loaded(function(Le){this.move(v.centerX-Le.width/2+N.config.plotOptions.radialBar.hollow.imageOffsetX,v.centerY-Le.height/2+N.config.plotOptions.radialBar.hollow.imageOffsetY)});S.add(fe)}else{var Se=N.globals.dom.Paper.image(K).loaded(function(Le){this.move(v.centerX-J/2+N.config.plotOptions.radialBar.hollow.imageOffsetX,v.centerY-ie/2+N.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(J,ie)});S.add(Se)}}return I}},{key:"getStrokeWidth",value:function(v){return v.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(v.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(v){var S=parseInt(v.target.getAttribute("rel"),10)-1,T=this.barLabels.onClick,I=this.w;T&&T(I.globals.seriesNames[S],{w:I,seriesIndex:S})}}]),d}(ei),Qi=function(We){et(d,We);var h=we(d);function d(){return it(this,d),h.apply(this,arguments)}return nt(d,[{key:"draw",value:function(v,S){var T=this.w,I=new je(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=v,this.seriesRangeStart=T.globals.seriesRangeStart,this.seriesRangeEnd=T.globals.seriesRangeEnd,this.barHelpers.initVariables(v);for(var N=I.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),V=0;V<v.length;V++){var G,K,J,ie,fe=void 0,Se=void 0,Le=T.globals.comboCharts?S[V]:V,Fe=I.group({class:"apexcharts-series",seriesName:de.escapeString(T.globals.seriesNames[Le]),rel:V+1,"data:realIndex":Le});this.ctx.series.addCollapsedClassToSeries(Fe,Le),v[V].length>0&&(this.visibleI=this.visibleI+1);var tt=0,vt=0;this.yRatio.length>1&&(this.yaxisIndex=Le);var W=this.barHelpers.initialPositions();Se=W.y,ie=W.zeroW,fe=W.x,vt=W.barWidth,tt=W.barHeight,G=W.xDivision,K=W.yDivision,J=W.zeroH;for(var ae=I.group({class:"apexcharts-datalabels","data:realIndex":Le}),De=I.group({class:"apexcharts-rangebar-goals-markers"}),Ue=0;Ue<T.globals.dataPoints;Ue++){var dt,kt=this.barHelpers.getStrokeWidth(V,Ue,Le),Xt=this.seriesRangeStart[V][Ue],qt=this.seriesRangeEnd[V][Ue],Sn=null,Mn=null,Cn=null,gi={x:fe,y:Se,strokeWidth:kt,elSeries:Fe},Ei=this.seriesLen;if(T.config.plotOptions.bar.rangeBarGroupRows&&(Ei=1),void 0===T.config.series[V].data[Ue])break;if(this.isHorizontal){if(Cn=Se+tt*this.visibleI,T.config.series[V].data[Ue].x){var sr=this.detectOverlappingBars({i:V,j:Ue,barYPosition:Cn,srty:(K-tt*Ei)/2,barHeight:tt,yDivision:K,initPositions:W});tt=sr.barHeight,Cn=sr.barYPosition}vt=(Sn=this.drawRangeBarPaths(Ze({indexes:{i:V,j:Ue,realIndex:Le},barHeight:tt,barYPosition:Cn,zeroW:ie,yDivision:K,y1:Xt,y2:qt},gi))).barWidth}else{if(T.globals.isXNumeric&&(fe=(T.globals.seriesX[V][Ue]-T.globals.minX)/this.xRatio-vt/2),Mn=fe+vt*this.visibleI,T.config.series[V].data[Ue].x){var si=this.detectOverlappingBars({i:V,j:Ue,barXPosition:Mn,srtx:(G-vt*Ei)/2,barWidth:vt,xDivision:G,initPositions:W});vt=si.barWidth,Mn=si.barXPosition}tt=(Sn=this.drawRangeColumnPaths(Ze({indexes:{i:V,j:Ue,realIndex:Le},barWidth:vt,barXPosition:Mn,zeroH:J,xDivision:G},gi))).barHeight}var Mi=this.barHelpers.drawGoalLine({barXPosition:Sn.barXPosition,barYPosition:Cn,goalX:Sn.goalX,goalY:Sn.goalY,barHeight:tt,barWidth:vt});Mi&&De.add(Mi),Se=Sn.y,fe=Sn.x;var Ur=this.barHelpers.getPathFillColor(v,V,Ue,Le);this.renderSeries((gt(dt={realIndex:Le,pathFill:Ur,lineFill:T.globals.stroke.colors[Le],j:Ue,i:V,x:fe,y:Se,y1:Xt,y2:qt,pathFrom:Sn.pathFrom,pathTo:Sn.pathTo,strokeWidth:kt,elSeries:Fe,series:v,barHeight:tt,barWidth:vt,barXPosition:Mn,barYPosition:Cn},"barWidth",vt),gt(dt,"elDataLabelsWrap",ae),gt(dt,"elGoalsMarkers",De),gt(dt,"visibleSeries",this.visibleI),gt(dt,"type","rangebar"),dt))}N.add(Fe)}return N}},{key:"detectOverlappingBars",value:function(v){var S=v.i,T=v.j,I=v.barYPosition,N=v.barXPosition,V=v.srty,G=v.srtx,K=v.barHeight,J=v.barWidth,ie=v.yDivision,fe=v.xDivision,Se=v.initPositions,Le=this.w,Fe=[],tt=Le.config.series[S].data[T].rangeName,vt=Le.config.series[S].data[T].x,W=Array.isArray(vt)?vt.join(" "):vt,ae=Le.globals.labels.map(function(Ue){return Array.isArray(Ue)?Ue.join(" "):Ue}).indexOf(W),De=Le.globals.seriesRange[S].findIndex(function(Ue){return Ue.x===W&&Ue.overlaps.length>0});return this.isHorizontal?(I=Le.config.plotOptions.bar.rangeBarGroupRows?V+ie*ae:V+K*this.visibleI+ie*ae,De>-1&&!Le.config.plotOptions.bar.rangeBarOverlap&&(Fe=Le.globals.seriesRange[S][De].overlaps).indexOf(tt)>-1&&(I=(K=Se.barHeight/Fe.length)*this.visibleI+ie*(100-parseInt(this.barOptions.barHeight,10))/100/2+K*(this.visibleI+Fe.indexOf(tt))+ie*ae)):(ae>-1&&(N=Le.config.plotOptions.bar.rangeBarGroupRows?G+fe*ae:G+J*this.visibleI+fe*ae),De>-1&&!Le.config.plotOptions.bar.rangeBarOverlap&&(Fe=Le.globals.seriesRange[S][De].overlaps).indexOf(tt)>-1&&(N=(J=Se.barWidth/Fe.length)*this.visibleI+fe*(100-parseInt(this.barOptions.barWidth,10))/100/2+J*(this.visibleI+Fe.indexOf(tt))+fe*ae)),{barYPosition:I,barXPosition:N,barHeight:K,barWidth:J}}},{key:"drawRangeColumnPaths",value:function(v){var S=v.indexes,T=v.x,I=v.xDivision,N=v.barWidth,V=v.barXPosition,G=v.zeroH,K=this.w,J=S.i,ie=S.j,fe=this.yRatio[this.yaxisIndex],Se=S.realIndex,Le=this.getRangeValue(Se,ie),Fe=Math.min(Le.start,Le.end),tt=Math.max(Le.start,Le.end);null==this.series[J][ie]?Fe=G:(Fe=G-Fe/fe,tt=G-tt/fe);var vt=Math.abs(tt-Fe),W=this.barHelpers.getColumnPaths({barXPosition:V,barWidth:N,y1:Fe,y2:tt,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:S.realIndex,i:Se,j:ie,w:K});if(K.globals.isXNumeric){var ae=this.getBarXForNumericXAxis({x:T,j:ie,realIndex:Se,barWidth:N});T=ae.x,V=ae.barXPosition}else T+=I;return{pathTo:W.pathTo,pathFrom:W.pathFrom,barHeight:vt,x:T,y:tt,goalY:this.barHelpers.getGoalValues("y",null,G,J,ie),barXPosition:V}}},{key:"drawRangeBarPaths",value:function(v){var S=v.indexes,T=v.y,V=v.yDivision,G=v.barHeight,K=v.barYPosition,J=v.zeroW,ie=this.w,fe=J+v.y1/this.invertedYRatio,Se=J+v.y2/this.invertedYRatio,Le=Math.abs(Se-fe),Fe=this.barHelpers.getBarpaths({barYPosition:K,barHeight:G,x1:fe,x2:Se,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:S.realIndex,realIndex:S.realIndex,j:S.j,w:ie});return ie.globals.isXNumeric||(T+=V),{pathTo:Fe.pathTo,pathFrom:Fe.pathFrom,barWidth:Le,x:Se,goalX:this.barHelpers.getGoalValues("x",J,null,S.realIndex,S.j),y:T}}},{key:"getRangeValue",value:function(v,S){var T=this.w;return{start:T.globals.seriesRangeStart[v][S],end:T.globals.seriesRangeEnd[v][S]}}}]),d}(ft),Ui=function(){function We(h){it(this,We),this.w=h.w,this.lineCtx=h}return nt(We,[{key:"sameValueSeriesFix",value:function(h,d){var v=this.w;if(("gradient"===v.config.fill.type||"gradient"===v.config.fill.type[h])&&new Ke(this.lineCtx.ctx,v).seriesHaveSameValues(h)){var S=d[h].slice();S[S.length-1]=S[S.length-1]+1e-6,d[h]=S}return d}},{key:"calculatePoints",value:function(h){var d=h.series,S=h.x,T=h.y,I=h.i,N=h.j,V=h.prevY,G=this.w,K=[],J=[];if(0===N){var ie=this.lineCtx.categoryAxisCorrection+G.config.markers.offsetX;G.globals.isXNumeric&&(ie=(G.globals.seriesX[h.realIndex][0]-G.globals.minX)/this.lineCtx.xRatio+G.config.markers.offsetX),K.push(ie),J.push(de.isNumber(d[I][0])?V+G.config.markers.offsetY:null),K.push(S+G.config.markers.offsetX),J.push(de.isNumber(d[I][N+1])?T+G.config.markers.offsetY:null)}else K.push(S+G.config.markers.offsetX),J.push(de.isNumber(d[I][N+1])?T+G.config.markers.offsetY:null);return{x:K,y:J}}},{key:"checkPreviousPaths",value:function(h){for(var d=h.pathFromLine,v=h.pathFromArea,S=h.realIndex,T=this.w,I=0;I<T.globals.previousPaths.length;I++){var N=T.globals.previousPaths[I];("line"===N.type||"area"===N.type)&&N.paths.length>0&&parseInt(N.realIndex,10)===parseInt(S,10)&&("line"===N.type?(this.lineCtx.appendPathFrom=!1,d=T.globals.previousPaths[I].paths[0].d):"area"===N.type&&(this.lineCtx.appendPathFrom=!1,v=T.globals.previousPaths[I].paths[0].d,T.config.stroke.show&&T.globals.previousPaths[I].paths[1]&&(d=T.globals.previousPaths[I].paths[1].d)))}return{pathFromLine:d,pathFromArea:v}}},{key:"determineFirstPrevY",value:function(h){var d,v,S=h.i,T=h.series,I=h.prevY,N=h.lineYPosition,V=this.w,G=V.config.chart.stacked&&!V.globals.comboCharts||V.config.chart.stacked&&V.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(d=this.w.config.series[S])||void 0===d?void 0:d.type));if(void 0!==(null===(v=T[S])||void 0===v?void 0:v[0]))I=(N=G&&S>0?this.lineCtx.prevSeriesY[S-1][0]:this.lineCtx.zeroY)-T[S][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?T[S][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(G&&S>0&&void 0===T[S][0])for(var K=S-1;K>=0;K--)if(null!=T[K][0]){I=N=this.lineCtx.prevSeriesY[K][0];break}return{prevY:I,lineYPosition:N}}}]),We}(),Vn=function(We){for(var h="",d=0;d<We.length;d++){var v=We[d],S=v.length;S>4?(h+="C".concat(v[0],", ").concat(v[1]),h+=", ".concat(v[2],", ").concat(v[3]),h+=", ".concat(v[4],", ").concat(v[5])):S>2&&(h+="S".concat(v[0],", ").concat(v[1]),h+=", ".concat(v[2],", ").concat(v[3]))}return h},Li=function(We){var h=function(We){for(var h,d,v,S,T=function(K){for(var J=[],ie=K[0],fe=K[1],Se=J[0]=Ir(ie,fe),Le=1,Fe=K.length-1;Le<Fe;Le++)J[Le]=.5*(Se+(Se=Ir(ie=fe,fe=K[Le+1])));return J[Le]=Se,J}(We),I=We.length-1,N=[],V=0;V<I;V++)v=Ir(We[V],We[V+1]),Math.abs(v)<1e-6?T[V]=T[V+1]=0:(S=(h=T[V]/v)*h+(d=T[V+1]/v)*d)>9&&(S=3*v/Math.sqrt(S),T[V]=S*h,T[V+1]=S*d);for(var G=0;G<=I;G++)S=(We[Math.min(I,G+1)][0]-We[Math.max(0,G-1)][0])/(6*(1+T[G]*T[G])),N.push([S||0,T[G]*S||0]);return N}(We),d=We[1],v=We[0],S=[],T=h[1],I=h[0];S.push(v,[v[0]+I[0],v[1]+I[1],d[0]-T[0],d[1]-T[1],d[0],d[1]]);for(var N=2,V=h.length;N<V;N++){var G=We[N],K=h[N];S.push([G[0]-K[0],G[1]-K[1],G[0],G[1]])}return S};function Ir(We,h){return(h[1]-We[1])/(h[0]-We[0])}var wr=function(){function We(h,d,v){it(this,We),this.ctx=h,this.w=h.w,this.xyRatios=d,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||v,this.scatter=new ln(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ui(this),this.markers=new ue(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return nt(We,[{key:"draw",value:function(h,d,v,S){var T,I=this.w,N=new je(this.ctx),V=I.globals.comboCharts?d:I.config.chart.type,G=N.group({class:"apexcharts-".concat(V,"-series apexcharts-plot-series")}),K=new Ke(this.ctx,I);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,h=K.getLogSeries(h),this.yRatio=K.getLogYRatios(this.yRatio);for(var J=[],ie=0;ie<h.length;ie++){h=this.lineHelpers.sameValueSeriesFix(ie,h);var fe=I.globals.comboCharts?v[ie]:ie;this._initSerieVariables(h,ie,fe);var Se=[],Le=[],Fe=[],tt=I.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,fe),I.globals.isXNumeric&&I.globals.seriesX.length>0&&(tt=(I.globals.seriesX[fe][0]-I.globals.minX)/this.xRatio),Fe.push(tt);var vt,W=tt,ae=void 0,De=W,Ue=this.zeroY,dt=this.zeroY;Ue=this.lineHelpers.determineFirstPrevY({i:ie,series:h,prevY:Ue,lineYPosition:0}).prevY,Se.push("monotonCubic"===I.config.stroke.curve&&null===h[ie][0]?null:Ue),vt=Ue,"rangeArea"===V&&(ae=dt=this.lineHelpers.determineFirstPrevY({i:ie,series:S,prevY:dt,lineYPosition:0}).prevY,Le.push(dt));var kt={type:V,series:h,realIndex:fe,i:ie,x:tt,y:1,pX:W,pY:vt,pathsFrom:this._calculatePathsFrom({type:V,series:h,i:ie,realIndex:fe,prevX:De,prevY:Ue,prevY2:dt}),linePaths:[],areaPaths:[],seriesIndex:v,lineYPosition:0,xArrj:Fe,yArrj:Se,y2Arrj:Le,seriesRangeEnd:S},Xt=this._iterateOverDataPoints(Ze(Ze({},kt),{},{iterations:"rangeArea"===V?h[ie].length-1:void 0,isRangeStart:!0}));if("rangeArea"===V){var qt=this._calculatePathsFrom({series:S,i:ie,realIndex:fe,prevX:De,prevY:dt}),Sn=this._iterateOverDataPoints(Ze(Ze({},kt),{},{series:S,pY:ae,pathsFrom:qt,iterations:S[ie].length-1,isRangeStart:!1}));Xt.linePaths[0]=Sn.linePath+Xt.linePath,Xt.pathFromLine=Sn.pathFromLine+Xt.pathFromLine}this._handlePaths({type:V,realIndex:fe,i:ie,paths:Xt}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),J.push(this.elSeries)}if(void 0!==(null===(T=I.config.series[0])||void 0===T?void 0:T.zIndex)&&J.sort(function(gi,Ei){return Number(gi.node.getAttribute("zIndex"))-Number(Ei.node.getAttribute("zIndex"))}),I.config.chart.stacked)for(var Mn=J.length;Mn>0;Mn--)G.add(J[Mn-1]);else for(var Cn=0;Cn<J.length;Cn++)G.add(J[Cn]);return G}},{key:"_initSerieVariables",value:function(h,d,v){var S=this.w,T=new je(this.ctx);this.xDivision=S.globals.gridWidth/(S.globals.dataPoints-("on"===S.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(S.config.stroke.width)?S.config.stroke.width[v]:S.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=S.config.yaxis[this.yaxisIndex]&&S.config.yaxis[this.yaxisIndex].reversed,this.zeroY=S.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?S.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>S.globals.gridHeight||"end"===S.config.plotOptions.area.fillTo)&&(this.areaBottomY=S.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=T.group({class:"apexcharts-series",zIndex:void 0!==S.config.series[v].zIndex?S.config.series[v].zIndex:v,seriesName:de.escapeString(S.globals.seriesNames[v])}),this.elPointsMain=T.group({class:"apexcharts-series-markers-wrap","data:realIndex":v}),this.elDataLabelsWrap=T.group({class:"apexcharts-datalabels","data:realIndex":v}),this.elSeries.attr({"data:longestSeries":h[d].length===S.globals.dataPoints,rel:d+1,"data:realIndex":v}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(h){var d,v,S,T,I=h.type,N=h.series,V=h.i,G=h.realIndex,K=h.prevX,J=h.prevY,ie=h.prevY2,fe=this.w,Se=new je(this.ctx);if(null===N[V][0]){for(var Le=0;Le<N[V].length;Le++)if(null!==N[V][Le]){d=Se.move(K=this.xDivision*Le,J=this.zeroY-N[V][Le]/this.yRatio[this.yaxisIndex]),v=Se.move(K,this.areaBottomY);break}}else d=Se.move(K,J),"rangeArea"===I&&(d=Se.move(K,ie)+Se.line(K,J)),v=Se.move(K,this.areaBottomY)+Se.line(K,J);if(S=Se.move(-1,this.zeroY)+Se.line(-1,this.zeroY),T=Se.move(-1,this.zeroY)+Se.line(-1,this.zeroY),fe.globals.previousPaths.length>0){var Fe=this.lineHelpers.checkPreviousPaths({pathFromLine:S,pathFromArea:T,realIndex:G});S=Fe.pathFromLine,T=Fe.pathFromArea}return{prevX:K,prevY:J,linePath:d,areaPath:v,pathFromLine:S,pathFromArea:T}}},{key:"_handlePaths",value:function(h){var d=h.type,v=h.realIndex,S=h.i,T=h.paths,I=this.w,N=new je(this.ctx),V=new pe(this.ctx);this.prevSeriesY.push(T.yArrj),I.globals.seriesXvalues[v]=T.xArrj,I.globals.seriesYvalues[v]=T.yArrj;var G=I.config.forecastDataPoints;if(G.count>0&&"rangeArea"!==d){var K=I.globals.seriesXvalues[v][I.globals.seriesXvalues[v].length-G.count-1],J=N.drawRect(K,0,I.globals.gridWidth,I.globals.gridHeight,0);I.globals.dom.elForecastMask.appendChild(J.node);var ie=N.drawRect(0,0,K,I.globals.gridHeight,0);I.globals.dom.elNonForecastMask.appendChild(ie.node)}this.pointsChart||I.globals.delayedElements.push({el:this.elPointsMain.node,index:v});var fe={i:S,realIndex:v,animationDelay:S,initialSpeed:I.config.chart.animations.speed,dataChangeSpeed:I.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(d)};if("area"===d)for(var Se=V.fillPath({seriesNumber:v}),Le=0;Le<T.areaPaths.length;Le++){var Fe=N.renderPaths(Ze(Ze({},fe),{},{pathFrom:T.pathFromArea,pathTo:T.areaPaths[Le],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Se}));this.elSeries.add(Fe)}if(I.config.stroke.show&&!this.pointsChart){var tt=null;if("line"===d)tt=V.fillPath({seriesNumber:v,i:S});else if("solid"===I.config.stroke.fill.type)tt=I.globals.stroke.colors[v];else{var vt=I.config.fill;I.config.fill=I.config.stroke.fill,tt=V.fillPath({seriesNumber:v,i:S}),I.config.fill=vt}for(var W=0;W<T.linePaths.length;W++){var ae=tt;"rangeArea"===d&&(ae=V.fillPath({seriesNumber:v}));var De=Ze(Ze({},fe),{},{pathFrom:T.pathFromLine,pathTo:T.linePaths[W],stroke:tt,strokeWidth:this.strokeWidth,strokeLineCap:I.config.stroke.lineCap,fill:"rangeArea"===d?ae:"none"}),Ue=N.renderPaths(De);if(this.elSeries.add(Ue),Ue.attr("fill-rule","evenodd"),G.count>0&&"rangeArea"!==d){var dt=N.renderPaths(De);dt.node.setAttribute("stroke-dasharray",G.dashArray),G.strokeWidth&&dt.node.setAttribute("stroke-width",G.strokeWidth),this.elSeries.add(dt),dt.attr("clip-path","url(#forecastMask".concat(I.globals.cuid,")")),Ue.attr("clip-path","url(#nonForecastMask".concat(I.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(h){var d,v=this,S=h.type,T=h.series,I=h.iterations,N=h.realIndex,V=h.i,G=h.x,K=h.y,J=h.pX,ie=h.pY,fe=h.pathsFrom,Se=h.linePaths,Le=h.areaPaths,Fe=h.seriesIndex,tt=h.lineYPosition,vt=h.xArrj,W=h.yArrj,ae=h.y2Arrj,De=h.isRangeStart,Ue=h.seriesRangeEnd,dt=this.w,kt=new je(this.ctx),Xt=this.yRatio,qt=fe.prevY,Sn=fe.linePath,Mn=fe.areaPath,Cn=fe.pathFromLine,gi=fe.pathFromArea,Ei=de.isNumber(dt.globals.minYArr[N])?dt.globals.minYArr[N]:dt.globals.minY;I||(I=dt.globals.dataPoints>1?dt.globals.dataPoints-1:dt.globals.dataPoints);for(var Bi=function(Dn,uo){return uo-Dn/Xt[v.yaxisIndex]+2*(v.isReversed?Dn/Xt[v.yaxisIndex]:0)},sr=K,mr=dt.config.chart.stacked&&!dt.globals.comboCharts||dt.config.chart.stacked&&dt.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(d=this.w.config.series[N])||void 0===d?void 0:d.type)),si=0;si<I;si++){var Mi=null==T[V][si+1];if(dt.globals.isXNumeric){var Ur=dt.globals.seriesX[N][si+1];void 0===dt.globals.seriesX[N][si+1]&&(Ur=dt.globals.seriesX[N][I-1]),G=(Ur-dt.globals.minX)/this.xRatio}else G+=this.xDivision;tt=mr&&V>0&&dt.globals.collapsedSeries.length<dt.config.series.length-1?this.prevSeriesY[function(Dn){for(var uo=Dn,Lo=0;Lo<dt.globals.series.length;Lo++)if(dt.globals.collapsedSeriesIndices.indexOf(Dn)>-1){uo--;break}return uo>=0?uo:0}(V-1)][si+1]:this.zeroY,Mi?K=Bi(Ei,tt):(K=Bi(T[V][si+1],tt),"rangeArea"===S&&(sr=Bi(Ue[V][si+1],tt))),vt.push(G),W.push(Mi&&"smooth"===dt.config.stroke.curve?null:K),ae.push(sr);var Fo=this.lineHelpers.calculatePoints({series:T,x:G,y:K,realIndex:N,i:V,j:si,prevY:qt}),So=this._createPaths({type:S,series:T,i:V,realIndex:N,j:si,x:G,y:K,y2:sr,xArrj:vt,yArrj:W,y2Arrj:ae,pX:J,pY:ie,linePath:Sn,areaPath:Mn,linePaths:Se,areaPaths:Le,seriesIndex:Fe,isRangeStart:De});Le=So.areaPaths,Se=So.linePaths,J=So.pX,ie=So.pY,Mn=So.areaPath,Sn=So.linePath,!this.appendPathFrom||"monotoneCubic"===dt.config.stroke.curve&&"rangeArea"===S||(Cn+=kt.line(G,this.zeroY),gi+=kt.line(G,this.zeroY)),this.handleNullDataPoints(T,Fo,V,si,N),this._handleMarkersAndLabels({type:S,pointsPos:Fo,i:V,j:si,realIndex:N,isRangeStart:De})}return{yArrj:W,xArrj:vt,pathFromArea:gi,areaPaths:Le,pathFromLine:Cn,linePaths:Se,linePath:Sn,areaPath:Mn}}},{key:"_handleMarkersAndLabels",value:function(h){var d=h.type,v=h.pointsPos,S=h.isRangeStart,T=h.i,I=h.j,N=h.realIndex,V=this.w,G=new on(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,I,{realIndex:N,pointsPos:v,zRatio:this.zRatio,elParent:this.elPointsMain});else{V.globals.series[T].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var K=this.markers.plotChartMarkers(v,N,I+1);null!==K&&this.elPointsMain.add(K)}var J=G.drawDataLabel({type:d,isRangeStart:S,pos:v,i:N,j:I+1});null!==J&&this.elDataLabelsWrap.add(J)}},{key:"_createPaths",value:function(h){var d=h.type,v=h.series,S=h.i,T=h.realIndex,I=h.j,N=h.x,V=h.y,G=h.xArrj,K=h.yArrj,J=h.y2,ie=h.y2Arrj,fe=h.pX,Se=h.pY,Le=h.linePath,Fe=h.areaPath,tt=h.linePaths,vt=h.areaPaths,W=h.seriesIndex,ae=h.isRangeStart,De=this.w,Ue=new je(this.ctx),dt=De.config.stroke.curve,kt=this.areaBottomY;if(Array.isArray(De.config.stroke.curve)&&(dt=Array.isArray(W)?De.config.stroke.curve[W[S]]:De.config.stroke.curve[S]),"rangeArea"===d&&(De.globals.hasNullValues||De.config.forecastDataPoints.count>0)&&"monotoneCubic"===dt&&(dt="straight"),"monotoneCubic"===dt){var Xt="rangeArea"===d?G.length===De.globals.dataPoints:I===v[S].length-2,qt=G.map(function(mr,si){return[G[si],K[si]]}).filter(function(mr){return null!==mr[1]});if(Xt&&qt.length>1){var Sn=Li(qt);if(Le+=Vn(Sn),null===v[S][0]?Fe=Le:Fe+=Vn(Sn),"rangeArea"===d&&ae){Le+=Ue.line(G[G.length-1],ie[ie.length-1]);var Mn=G.slice().reverse(),Cn=ie.slice().reverse(),gi=Mn.map(function(mr,si){return[Mn[si],Cn[si]]}),Ei=Li(gi);Fe=Le+=Vn(Ei)}else Fe+=Ue.line(qt[qt.length-1][0],kt)+Ue.line(qt[0][0],kt)+Ue.move(qt[0][0],qt[0][1])+"z";tt.push(Le),vt.push(Fe)}}else if("smooth"===dt){var Bi=.35*(N-fe);De.globals.hasNullValues?(null!==v[S][I]&&(null!==v[S][I+1]?(Le=Ue.move(fe,Se)+Ue.curve(fe+Bi,Se,N-Bi,V,N+1,V),Fe=Ue.move(fe+1,Se)+Ue.curve(fe+Bi,Se,N-Bi,V,N+1,V)+Ue.line(N,kt)+Ue.line(fe,kt)+"z"):(Le=Ue.move(fe,Se),Fe=Ue.move(fe,Se)+"z")),tt.push(Le),vt.push(Fe)):(Le+=Ue.curve(fe+Bi,Se,N-Bi,V,N,V),Fe+=Ue.curve(fe+Bi,Se,N-Bi,V,N,V)),fe=N,Se=V,I===v[S].length-2&&(Fe=Fe+Ue.curve(fe,Se,N,V,N,kt)+Ue.move(N,V)+"z","rangeArea"===d&&ae?Le=Le+Ue.curve(fe,Se,N,V,N,J)+Ue.move(N,J)+"z":De.globals.hasNullValues||(tt.push(Le),vt.push(Fe)))}else null===v[S][I+1]&&(Le+=Ue.move(N,V),Fe=Fe+Ue.line(De.globals.isXNumeric?(De.globals.seriesX[T][I]-De.globals.minX)/this.xRatio:N-this.xDivision,kt)+Ue.move(N,V)+"z"),null===v[S][I]&&(Le+=Ue.move(N,V),Fe+=Ue.move(N,kt)),"stepline"===dt?(Le=Le+Ue.line(N,null,"H")+Ue.line(null,V,"V"),Fe=Fe+Ue.line(N,null,"H")+Ue.line(null,V,"V")):"straight"===dt&&(Le+=Ue.line(N,V),Fe+=Ue.line(N,V)),I===v[S].length-2&&(Fe=Fe+Ue.line(N,kt)+Ue.move(N,V)+"z","rangeArea"===d&&ae?Le=Le+Ue.line(N,J)+Ue.move(N,J)+"z":(tt.push(Le),vt.push(Fe)));return{linePaths:tt,areaPaths:vt,pX:fe,pY:Se,linePath:Le,areaPath:Fe}}},{key:"handleNullDataPoints",value:function(h,d,v,S,T){var I=this.w;if(null===h[v][S]&&I.config.markers.showNullDataPoints||1===h[v].length){var N=this.markers.plotChartMarkers(d,T,S+1,this.strokeWidth-I.config.markers.strokeWidth/2,!0);null!==N&&this.elPointsMain.add(N)}}}]),We}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function We(N,V,G,K){this.xoffset=N,this.yoffset=V,this.height=K,this.width=G,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(J){var ie,fe=[],Se=this.xoffset,Le=this.yoffset,Fe=T(J)/this.height,tt=T(J)/this.width;if(this.width>=this.height)for(ie=0;ie<J.length;ie++)fe.push([Se,Le,Se+Fe,Le+J[ie]/Fe]),Le+=J[ie]/Fe;else for(ie=0;ie<J.length;ie++)fe.push([Se,Le,Se+J[ie]/tt,Le+tt]),Se+=J[ie]/tt;return fe},this.cutArea=function(J){var ie;if(this.width>=this.height){var fe=J/this.height;ie=new We(this.xoffset+fe,this.yoffset,this.width-fe,this.height)}else{var Le=J/this.width;ie=new We(this.xoffset,this.yoffset+Le,this.width,this.height-Le)}return ie}}function h(N,V,G,K,J){return K=void 0===K?0:K,J=void 0===J?0:J,function(fe){var Se,Le,Fe=[];for(Se=0;Se<fe.length;Se++)for(Le=0;Le<fe[Se].length;Le++)Fe.push(fe[Se][Le]);return Fe}(d(function(fe,Se){var Le,Fe=[],tt=Se/T(fe);for(Le=0;Le<fe.length;Le++)Fe[Le]=fe[Le]*tt;return Fe}(N,V*G),[],new We(K,J,V,G),[]))}function d(N,V,G,K){var J,ie,fe,Se,Le,Fe,tt;if(0!==N.length)return J=G.shortestEdge(),Le=ie=N[0],Fe=J,0===(Se=V).length||((tt=Se.slice()).push(Le),v(Se,Fe)>=v(tt,Fe))?(V.push(ie),d(N.slice(1),V,G,K)):(fe=G.cutArea(T(V),K),K.push(G.getCoordinates(V)),d(N,[],fe,K)),K;K.push(G.getCoordinates(V))}function v(N,V){var G=Math.min.apply(Math,N),K=Math.max.apply(Math,N),J=T(N);return Math.max(Math.pow(V,2)*K/Math.pow(J,2),Math.pow(J,2)/(Math.pow(V,2)*G))}function S(N){return N&&N.constructor===Array}function T(N){var V,G=0;for(V=0;V<N.length;V++)G+=N[V];return G}function I(N){var V,G=0;if(S(N[0]))for(V=0;V<N.length;V++)G+=I(N[V]);else G=T(N);return G}return function N(V,G,K,J,ie){J=void 0===J?0:J,ie=void 0===ie?0:ie;var fe,Se,Le=[],Fe=[];if(S(V[0])){for(Se=0;Se<V.length;Se++)Le[Se]=I(V[Se]);for(fe=h(Le,G,K,J,ie),Se=0;Se<V.length;Se++)Fe.push(N(V[Se],fe[Se][2]-fe[Se][0],fe[Se][3]-fe[Se][1],fe[Se][0],fe[Se][1]))}else Fe=h(V,G,K,J,ie);return Fe}}();var tr,Rr,or=function(){function We(h,d){it(this,We),this.ctx=h,this.w=h.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Gt(h),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return nt(We,[{key:"draw",value:function(h){var d=this,v=this.w,S=new je(this.ctx),T=new pe(this.ctx),I=S.group({class:"apexcharts-treemap"});if(v.globals.noData)return I;var N=[];return h.forEach(function(V){var G=V.map(function(K){return Math.abs(K)});N.push(G)}),this.negRange=this.helpers.checkColorRange(),v.config.series.forEach(function(V,G){V.data.forEach(function(K){Array.isArray(d.labels[G])||(d.labels[G]=[]),d.labels[G].push(K.x)})}),window.TreemapSquared.generate(N,v.globals.gridWidth,v.globals.gridHeight).forEach(function(V,G){var K=S.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:de.escapeString(v.globals.seriesNames[G]),rel:G+1,"data:realIndex":G});if(v.config.chart.dropShadow.enabled){var J=v.config.chart.dropShadow;new Ae(d.ctx).dropShadow(I,J,G)}var ie=S.group({class:"apexcharts-data-labels"});V.forEach(function(fe,Se){var Le=fe[0],Fe=fe[1],tt=fe[2],vt=fe[3],W=S.drawRect(Le,Fe,tt-Le,vt-Fe,v.config.plotOptions.treemap.borderRadius,"#fff",1,d.strokeWidth,v.config.plotOptions.treemap.useFillColorAsStroke?De:v.globals.stroke.colors[G]);W.attr({cx:Le,cy:Fe,index:G,i:G,j:Se,width:tt-Le,height:vt-Fe});var ae=d.helpers.getShadeColor(v.config.chart.type,G,Se,d.negRange),De=ae.color;void 0!==v.config.series[G].data[Se]&&v.config.series[G].data[Se].fillColor&&(De=v.config.series[G].data[Se].fillColor);var Ue=T.fillPath({color:De,seriesNumber:G,dataPointIndex:Se});W.node.classList.add("apexcharts-treemap-rect"),W.attr({fill:Ue}),d.helpers.addListeners(W);var dt={x:Le+(tt-Le)/2,y:Fe+(vt-Fe)/2,width:0,height:0},kt={x:Le,y:Fe,width:tt-Le,height:vt-Fe};if(v.config.chart.animations.enabled&&!v.globals.dataChanged){var Xt=1;v.globals.resized||(Xt=v.config.chart.animations.speed),d.animateTreemap(W,dt,kt,Xt)}v.globals.dataChanged&&d.dynamicAnim.enabled&&v.globals.shouldAnimate&&(v.globals.previousPaths[G]&&v.globals.previousPaths[G][Se]&&v.globals.previousPaths[G][Se].rect&&(dt=v.globals.previousPaths[G][Se].rect),d.animateTreemap(W,dt,kt,d.dynamicAnim.speed));var Sn=d.getFontSize(fe),Mn=v.config.dataLabels.formatter(d.labels[G][Se],{value:v.globals.series[G][Se],seriesIndex:G,dataPointIndex:Se,w:v});"truncate"===v.config.plotOptions.treemap.dataLabels.format&&(Sn=parseInt(v.config.dataLabels.style.fontSize,10),Mn=d.truncateLabels(Mn,Sn,Le,Fe,tt,vt));var Cn=d.helpers.calculateDataLabels({text:Mn,x:(Le+tt)/2,y:(Fe+vt)/2+d.strokeWidth/2+Sn/3,i:G,j:Se,colorProps:ae,fontSize:Sn,series:h});v.config.dataLabels.enabled&&Cn&&d.rotateToFitLabel(Cn,Sn,Mn,Le,Fe,tt,vt),K.add(W),null!==Cn&&K.add(Cn)}),K.add(ie),I.add(K)}),I}},{key:"getFontSize",value:function(h){var I,d=this.w,N=function V(G){var K,J=0;if(Array.isArray(G[0]))for(K=0;K<G.length;K++)J+=V(G[K]);else for(K=0;K<G.length;K++)J+=G[K].length;return J}(this.labels)/function V(G){var K,J=0;if(Array.isArray(G[0]))for(K=0;K<G.length;K++)J+=V(G[K]);else for(K=0;K<G.length;K++)J+=1;return J}(this.labels);return I=Math.pow((h[2]-h[0])*(h[3]-h[1]),.5),Math.min(I/N,parseInt(d.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(h,d,v,S,T,I,N){var V=new je(this.ctx),G=V.getTextRects(v,d);if(G.width+this.w.config.stroke.width+5>I-S&&G.width<=N-T){var K=V.rotateAroundCenter(h.node);h.node.setAttribute("transform","rotate(-90 ".concat(K.x," ").concat(K.y,") translate(").concat(G.height/3,")"))}}},{key:"truncateLabels",value:function(h,d,v,S,T,I){var N=new je(this.ctx),V=N.getTextRects(h,d).width+this.w.config.stroke.width+5>T-v&&I-S>T-v?I-S:T-v,G=N.getTextBasedOnMaxWidth({text:h,maxWidth:V,fontSize:d});return h.length!==G.length&&V/d<5?"":G}},{key:"animateTreemap",value:function(h,d,v,S){var T=new ot(this.ctx);T.animateRect(h,{x:d.x,y:d.y,width:d.width,height:d.height},{x:v.x,y:v.y,width:v.width,height:v.height},S,function(){T.animationCompleted(h)})}}]),We}(),Yr=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return nt(We,[{key:"calculateTimeScaleTicks",value:function(h,d){var v=this,S=this.w;if(S.globals.allSeriesCollapsed)return S.globals.labels=[],S.globals.timescaleLabels=[],[];var T=new zt(this.ctx),I=(d-h)/864e5;this.determineInterval(I),S.globals.disableZoomIn=!1,S.globals.disableZoomOut=!1,I<.00011574074074074075?S.globals.disableZoomIn=!0:I>5e4&&(S.globals.disableZoomOut=!0);var N=T.getTimeUnitsfromTimestamp(h,d,this.utc),V=S.globals.gridWidth/I,G=V/24,K=G/60,J=K/60,ie=Math.floor(24*I),fe=Math.floor(1440*I),Se=Math.floor(86400*I),Le=Math.floor(I),Fe=Math.floor(I/30),tt=Math.floor(I/365),vt={minMillisecond:N.minMillisecond,minSecond:N.minSecond,minMinute:N.minMinute,minHour:N.minHour,minDate:N.minDate,minMonth:N.minMonth,minYear:N.minYear},W={firstVal:vt,currentMillisecond:vt.minMillisecond,currentSecond:vt.minSecond,currentMinute:vt.minMinute,currentHour:vt.minHour,currentMonthDate:vt.minDate,currentDate:vt.minDate,currentMonth:vt.minMonth,currentYear:vt.minYear,daysWidthOnXAxis:V,hoursWidthOnXAxis:G,minutesWidthOnXAxis:K,secondsWidthOnXAxis:J,numberOfSeconds:Se,numberOfMinutes:fe,numberOfHours:ie,numberOfDays:Le,numberOfMonths:Fe,numberOfYears:tt};switch(this.tickInterval){case"years":this.generateYearScale(W);break;case"months":case"half_year":this.generateMonthScale(W);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(W);break;case"hours":this.generateHourScale(W);break;case"minutes_fives":case"minutes":this.generateMinuteScale(W);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(W)}var ae=this.timeScaleArray.map(function(De){var Ue={position:De.position,unit:De.unit,year:De.year,day:De.day?De.day:1,hour:De.hour?De.hour:0,month:De.month+1};return"month"===De.unit?Ze(Ze({},Ue),{},{day:1,value:De.value+1}):"day"===De.unit||"hour"===De.unit?Ze(Ze({},Ue),{},{value:De.value}):"minute"===De.unit?Ze(Ze({},Ue),{},{value:De.value,minute:De.value}):"second"===De.unit?Ze(Ze({},Ue),{},{value:De.value,minute:De.minute,second:De.second}):De});return ae.filter(function(De){var Ue=1,dt=Math.ceil(S.globals.gridWidth/120),kt=De.value;void 0!==S.config.xaxis.tickAmount&&(dt=S.config.xaxis.tickAmount),ae.length>dt&&(Ue=Math.floor(ae.length/dt));var Xt=!1,qt=!1;switch(v.tickInterval){case"years":"year"===De.unit&&(Xt=!0);break;case"half_year":Ue=7,"year"===De.unit&&(Xt=!0);break;case"months":Ue=1,"year"===De.unit&&(Xt=!0);break;case"months_fortnight":Ue=15,"year"!==De.unit&&"month"!==De.unit||(Xt=!0),30===kt&&(qt=!0);break;case"months_days":Ue=10,"month"===De.unit&&(Xt=!0),30===kt&&(qt=!0);break;case"week_days":Ue=8,"month"===De.unit&&(Xt=!0);break;case"days":Ue=1,"month"===De.unit&&(Xt=!0);break;case"hours":"day"===De.unit&&(Xt=!0);break;case"minutes_fives":case"seconds_fives":kt%5!=0&&(qt=!0);break;case"seconds_tens":kt%10!=0&&(qt=!0)}if("hours"===v.tickInterval||"minutes_fives"===v.tickInterval||"seconds_tens"===v.tickInterval||"seconds_fives"===v.tickInterval){if(!qt)return!0}else if((kt%Ue==0||Xt)&&!qt)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(h,d){var v=this.w,S=this.formatDates(h),T=this.removeOverlappingTS(S);v.globals.timescaleLabels=T.slice(),new po(this.ctx).plotCoords()}},{key:"determineInterval",value:function(h){var d=24*h,v=60*d;switch(!0){case h/365>5:this.tickInterval="years";break;case h>800:this.tickInterval="half_year";break;case h>180:this.tickInterval="months";break;case h>90:this.tickInterval="months_fortnight";break;case h>60:this.tickInterval="months_days";break;case h>30:this.tickInterval="week_days";break;case h>2:this.tickInterval="days";break;case d>2.4:this.tickInterval="hours";break;case v>15:this.tickInterval="minutes_fives";break;case v>5:this.tickInterval="minutes";break;case v>1:this.tickInterval="seconds_tens";break;case 60*v>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(h){var d=h.firstVal,v=h.currentMonth,S=h.currentYear,T=h.daysWidthOnXAxis,I=h.numberOfYears,N=d.minYear,V=0,G=new zt(this.ctx),K="year";if(d.minDate>1||d.minMonth>0){var J=G.determineRemainingDaysOfYear(d.minYear,d.minMonth,d.minDate);V=(G.determineDaysOfYear(d.minYear)-J+1)*T,this.timeScaleArray.push({position:V,value:N=d.minYear+1,unit:K,year:N,month:de.monthMod(v+1)})}else 1===d.minDate&&0===d.minMonth&&this.timeScaleArray.push({position:V,value:N,unit:K,year:S,month:de.monthMod(v+1)});for(var ie=N,fe=V,Se=0;Se<I;Se++)ie++,fe=G.determineDaysOfYear(ie-1)*T+fe,this.timeScaleArray.push({position:fe,value:ie,unit:K,year:ie,month:1})}},{key:"generateMonthScale",value:function(h){var d=h.firstVal,v=h.currentMonthDate,S=h.currentMonth,T=h.currentYear,I=h.daysWidthOnXAxis,N=h.numberOfMonths,V=S,G=0,K=new zt(this.ctx),J="month",ie=0;if(d.minDate>1){G=(K.determineDaysOfMonths(S+1,d.minYear)-v+1)*I,V=de.monthMod(S+1);var fe=T+ie,Se=de.monthMod(V),Le=V;0===V&&(J="year",Le=fe,Se=1,fe+=ie+=1),this.timeScaleArray.push({position:G,value:Le,unit:J,year:fe,month:Se})}else this.timeScaleArray.push({position:G,value:V,unit:J,year:T,month:de.monthMod(S)});for(var Fe=V+1,tt=G,vt=0,W=1;vt<N;vt++,W++){0===(Fe=de.monthMod(Fe))?(J="year",ie+=1):J="month";var ae=this._getYear(T,Fe,ie);tt=K.determineDaysOfMonths(Fe,ae)*I+tt,this.timeScaleArray.push({position:tt,value:0===Fe?ae:Fe,unit:J,year:ae,month:0===Fe?1:Fe}),Fe++}}},{key:"generateDayScale",value:function(h){var d=h.firstVal,v=h.currentMonth,S=h.currentYear,T=h.hoursWidthOnXAxis,I=h.numberOfDays,N=new zt(this.ctx),V="day",G=d.minDate+1,K=G,J=function(W,ae,De){return W>N.determineDaysOfMonths(ae+1,De)&&(K=1,V="month",fe=ae+=1),ae},ie=(24-d.minHour)*T,fe=G,Se=J(K,v,S);0===d.minHour&&1===d.minDate?(ie=0,fe=de.monthMod(d.minMonth),V="month",K=d.minDate):1!==d.minDate&&0===d.minHour&&0===d.minMinute&&(ie=0,fe=G=d.minDate,Se=J(K=G,v,S)),this.timeScaleArray.push({position:ie,value:fe,unit:V,year:this._getYear(S,Se,0),month:de.monthMod(Se),day:K});for(var Le=ie,Fe=0;Fe<I;Fe++){V="day",Se=J(K+=1,Se,this._getYear(S,Se,0));var tt=this._getYear(S,Se,0);Le=24*T+Le;var vt=1===K?de.monthMod(Se):K;this.timeScaleArray.push({position:Le,value:vt,unit:V,year:tt,month:de.monthMod(Se),day:vt})}}},{key:"generateHourScale",value:function(h){var d=h.firstVal,v=h.currentDate,S=h.currentMonth,T=h.currentYear,I=h.minutesWidthOnXAxis,N=h.numberOfHours,V=new zt(this.ctx),G="hour",K=function(Ue,dt){return Ue>V.determineDaysOfMonths(dt+1,T)&&(Fe=1,dt+=1),{month:dt,date:Fe}},J=function(Ue,dt){return Ue>V.determineDaysOfMonths(dt+1,T)?dt+=1:dt},ie=60-(d.minMinute+d.minSecond/60),fe=ie*I,Se=d.minHour+1,Le=Se;60===ie&&(fe=0,Le=Se=d.minHour);var Fe=v;Le>=24&&(Le=0,Fe+=1,G="day");var tt=K(Fe,S).month;tt=J(Fe,tt),this.timeScaleArray.push({position:fe,value:Se,unit:G,day:Fe,hour:Le,year:T,month:de.monthMod(tt)}),Le++;for(var vt=fe,W=0;W<N;W++){G="hour",Le>=24&&(Le=0,G="day",tt=K(Fe+=1,tt).month,tt=J(Fe,tt));var ae=this._getYear(T,tt,0);this.timeScaleArray.push({position:vt=60*I+vt,value:0===Le?Fe:Le,unit:G,hour:Le,day:Fe,year:ae,month:de.monthMod(tt)}),Le++}}},{key:"generateMinuteScale",value:function(h){for(var G=h.minutesWidthOnXAxis,J=h.numberOfMinutes,ie=h.currentMinute+1,fe=h.currentDate,Se=h.currentMonth,Le=h.currentYear,Fe=h.currentHour,tt=(60-h.currentSecond-h.currentMillisecond/1e3)*h.secondsWidthOnXAxis,vt=0;vt<J;vt++)ie>=60&&(ie=0,24===(Fe+=1)&&(Fe=0)),this.timeScaleArray.push({position:tt,value:ie,unit:"minute",hour:Fe,minute:ie,day:fe,year:this._getYear(Le,Se,0),month:de.monthMod(Se)}),tt+=G,ie++}},{key:"generateSecondScale",value:function(h){for(var G=h.secondsWidthOnXAxis,K=h.numberOfSeconds,J=h.currentSecond+1,ie=h.currentMinute,fe=h.currentDate,Se=h.currentMonth,Le=h.currentYear,Fe=h.currentHour,tt=(1e3-h.currentMillisecond)/1e3*G,vt=0;vt<K;vt++)J>=60&&(J=0,++ie>=60&&(ie=0,24==++Fe&&(Fe=0))),this.timeScaleArray.push({position:tt,value:J,unit:"second",hour:Fe,minute:ie,second:J,day:fe,year:this._getYear(Le,Se,0),month:de.monthMod(Se)}),tt+=G,J++}},{key:"createRawDateString",value:function(h,d){var v=h.year;return 0===h.month&&(h.month=1),v+="-"+("0"+h.month.toString()).slice(-2),v+="day"===h.unit?"day"===h.unit?"-"+("0"+d).slice(-2):"-01":"-"+("0"+(h.day?h.day:"1")).slice(-2),v+="hour"===h.unit?"hour"===h.unit?"T"+("0"+d).slice(-2):"T00":"T"+("0"+(h.hour?h.hour:"0")).slice(-2),v+="minute"===h.unit?":"+("0"+d).slice(-2):":"+(h.minute?("0"+h.minute).slice(-2):"00"),v+="second"===h.unit?":"+("0"+d).slice(-2):":00",this.utc&&(v+=".000Z"),v}},{key:"formatDates",value:function(h){var d=this,v=this.w;return h.map(function(S){var T=S.value.toString(),I=new zt(d.ctx),N=d.createRawDateString(S,T),V=I.getDate(I.parseDate(N));if(d.utc||(V=I.getDate(I.parseDateWithTimezone(N))),void 0===v.config.xaxis.labels.format){var G="dd MMM",K=v.config.xaxis.labels.datetimeFormatter;"year"===S.unit&&(G=K.year),"month"===S.unit&&(G=K.month),"day"===S.unit&&(G=K.day),"hour"===S.unit&&(G=K.hour),"minute"===S.unit&&(G=K.minute),"second"===S.unit&&(G=K.second),T=I.formatDate(V,G)}else T=I.formatDate(V,v.config.xaxis.labels.format);return{dateString:N,position:S.position,value:T,unit:S.unit,year:S.year,month:S.month}})}},{key:"removeOverlappingTS",value:function(h){var d,v=this,S=new je(this.ctx),T=!1;h.length>0&&h[0].value&&h.every(function(V){return V.value.length===h[0].value.length})&&(T=!0,d=S.getTextRects(h[0].value).width);var I=0;return h.map(function(V,G){if(G>0&&v.w.config.xaxis.labels.hideOverlappingLabels){var K=T?d:S.getTextRects(h[I].value).width;return V.position>h[I].position+K+10?(I=G,V):null}return V}).filter(function(V){return null!==V})}},{key:"_getYear",value:function(h,d,v){return h+Math.floor(d/12)+v}}]),We}(),Sr=function(){function We(h,d){it(this,We),this.ctx=d,this.w=d.w,this.el=h}return nt(We,[{key:"setupElements",value:function(){var h=this.w.globals,d=this.w.config,v=d.chart.type;h.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(v)>-1,h.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(v)>-1,h.isBarHorizontal=("bar"===d.chart.type||"rangeBar"===d.chart.type||"boxPlot"===d.chart.type)&&d.plotOptions.bar.horizontal,h.chartClass=".apexcharts"+h.chartID,h.dom.baseEl=this.el,h.dom.elWrap=document.createElement("div"),je.setAttrs(h.dom.elWrap,{id:h.chartClass.substring(1),class:"apexcharts-canvas "+h.chartClass.substring(1)}),this.el.appendChild(h.dom.elWrap),h.dom.Paper=new window.SVG.Doc(h.dom.elWrap),h.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(d.chart.offsetX,", ").concat(d.chart.offsetY,")")}),h.dom.Paper.node.style.background="dark"!==d.theme.mode||d.chart.background?d.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),h.dom.elLegendForeign=document.createElementNS(h.SVGNS,"foreignObject"),je.setAttrs(h.dom.elLegendForeign,{x:0,y:0,width:h.svgWidth,height:h.svgHeight}),h.dom.elLegendWrap=document.createElement("div"),h.dom.elLegendWrap.classList.add("apexcharts-legend"),h.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),h.dom.elLegendForeign.appendChild(h.dom.elLegendWrap),h.dom.Paper.node.appendChild(h.dom.elLegendForeign),h.dom.elGraphical=h.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),h.dom.elDefs=h.dom.Paper.defs(),h.dom.Paper.add(h.dom.elGraphical),h.dom.elGraphical.add(h.dom.elDefs)}},{key:"plotChartType",value:function(h,d){var v=this.w,S=v.config,T=v.globals,I={series:[],i:[]},N={series:[],i:[]},V={series:[],i:[]},G={series:[],i:[]},K={series:[],i:[]},J={series:[],i:[]},ie={series:[],i:[]},fe={series:[],i:[]},Se={series:[],seriesRangeEnd:[],i:[]};T.series.map(function(dt,kt){var Xt=0;void 0!==h[kt].type?("column"===h[kt].type||"bar"===h[kt].type?(T.series.length>1&&S.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),K.series.push(dt),K.i.push(kt),Xt++,v.globals.columnSeries=K.series):"area"===h[kt].type?(N.series.push(dt),N.i.push(kt),Xt++):"line"===h[kt].type?(I.series.push(dt),I.i.push(kt),Xt++):"scatter"===h[kt].type?(V.series.push(dt),V.i.push(kt)):"bubble"===h[kt].type?(G.series.push(dt),G.i.push(kt),Xt++):"candlestick"===h[kt].type?(J.series.push(dt),J.i.push(kt),Xt++):"boxPlot"===h[kt].type?(ie.series.push(dt),ie.i.push(kt),Xt++):"rangeBar"===h[kt].type?(fe.series.push(dt),fe.i.push(kt),Xt++):"rangeArea"===h[kt].type?(Se.series.push(T.seriesRangeStart[kt]),Se.seriesRangeEnd.push(T.seriesRangeEnd[kt]),Se.i.push(kt),Xt++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),Xt>1&&(T.comboCharts=!0)):(I.series.push(dt),I.i.push(kt))});var Le=new wr(this.ctx,d),Fe=new Ft(this.ctx,d);this.ctx.pie=new ei(this.ctx);var tt=new ti(this.ctx);this.ctx.rangeBar=new Qi(this.ctx,d);var vt=new Qn(this.ctx),W=[];if(T.comboCharts){if(N.series.length>0&&W.push(Le.draw(N.series,"area",N.i)),K.series.length>0)if(v.config.chart.stacked){var ae=new At(this.ctx,d);W.push(ae.draw(K.series,K.i))}else this.ctx.bar=new ft(this.ctx,d),W.push(this.ctx.bar.draw(K.series,K.i));if(Se.series.length>0&&W.push(Le.draw(Se.series,"rangeArea",Se.i,Se.seriesRangeEnd)),I.series.length>0&&W.push(Le.draw(I.series,"line",I.i)),J.series.length>0&&W.push(Fe.draw(J.series,"candlestick",J.i)),ie.series.length>0&&W.push(Fe.draw(ie.series,"boxPlot",ie.i)),fe.series.length>0&&W.push(this.ctx.rangeBar.draw(fe.series,fe.i)),V.series.length>0){var De=new wr(this.ctx,d,!0);W.push(De.draw(V.series,"scatter",V.i))}if(G.series.length>0){var Ue=new wr(this.ctx,d,!0);W.push(Ue.draw(G.series,"bubble",G.i))}}else switch(S.chart.type){case"line":W=Le.draw(T.series,"line");break;case"area":W=Le.draw(T.series,"area");break;case"bar":S.chart.stacked?W=new At(this.ctx,d).draw(T.series):(this.ctx.bar=new ft(this.ctx,d),W=this.ctx.bar.draw(T.series));break;case"candlestick":W=new Ft(this.ctx,d).draw(T.series,"candlestick");break;case"boxPlot":W=new Ft(this.ctx,d).draw(T.series,S.chart.type);break;case"rangeBar":W=this.ctx.rangeBar.draw(T.series);break;case"rangeArea":W=Le.draw(T.seriesRangeStart,"rangeArea",void 0,T.seriesRangeEnd);break;case"heatmap":W=new zn(this.ctx,d).draw(T.series);break;case"treemap":W=new or(this.ctx,d).draw(T.series);break;case"pie":case"donut":case"polarArea":W=this.ctx.pie.draw(T.series);break;case"radialBar":W=tt.draw(T.series);break;case"radar":W=vt.draw(T.series);break;default:W=Le.draw(T.series)}return W}},{key:"setSVGDimensions",value:function(){var h=this.w.globals,d=this.w.config;h.svgWidth=d.chart.width,h.svgHeight=d.chart.height;var v=de.getDimensions(this.el),S=d.chart.width.toString().split(/[0-9]+/g).pop();"%"===S?de.isNumber(v[0])&&(0===v[0].width&&(v=de.getDimensions(this.el.parentNode)),h.svgWidth=v[0]*parseInt(d.chart.width,10)/100):"px"!==S&&""!==S||(h.svgWidth=parseInt(d.chart.width,10));var T=d.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==h.svgHeight&&""!==h.svgHeight)if("%"===T){var I=de.getDimensions(this.el.parentNode);h.svgHeight=I[1]*parseInt(d.chart.height,10)/100}else h.svgHeight=parseInt(d.chart.height,10);else h.svgHeight=h.axisCharts?h.svgWidth/1.61:h.svgWidth/1.2;h.svgWidth<0&&(h.svgWidth=0),h.svgHeight<0&&(h.svgHeight=0),je.setAttrs(h.dom.Paper.node,{width:h.svgWidth,height:h.svgHeight}),"%"!==T&&(h.dom.Paper.node.parentNode.parentNode.style.minHeight=h.svgHeight+(d.chart.sparkline.enabled?0:h.axisCharts?d.chart.parentHeightOffset:0)+"px"),h.dom.elWrap.style.width=h.svgWidth+"px",h.dom.elWrap.style.height=h.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var h=this.w.globals;je.setAttrs(h.dom.elGraphical.node,{transform:"translate("+h.translateX+", "+h.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var h=this.w,d=h.globals,v=0,S=h.config.chart.sparkline.enabled?1:15;S+=h.config.grid.padding.bottom,"top"!==h.config.legend.position&&"bottom"!==h.config.legend.position||!h.config.legend.show||h.config.legend.floating||(v=new ir(this.ctx).legendHelpers.getLegendBBox().clwh+10);var T=h.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),I=2.05*h.globals.radialSize;if(T&&!h.config.chart.sparkline.enabled&&0!==h.config.plotOptions.radialBar.startAngle){var N=de.getBoundingClientRect(T);I=N.bottom,I=Math.max(2.05*h.globals.radialSize,N.bottom-N.top)}var G=I+d.translateY+v+S;d.dom.elLegendForeign&&d.dom.elLegendForeign.setAttribute("height",G),h.config.chart.height&&String(h.config.chart.height).indexOf("%")>0||(d.dom.elWrap.style.height=G+"px",je.setAttrs(d.dom.Paper.node,{height:G}),d.dom.Paper.node.parentNode.parentNode.style.minHeight=G+"px")}},{key:"coreCalculations",value:function(){new xr(this.ctx).init()}},{key:"resetGlobals",value:function(){var h=this,d=function(){return h.w.config.series.map(function(T){return[]})},v=new qe,S=this.w.globals;v.initGlobalVars(S),S.seriesXvalues=d(),S.seriesYvalues=d()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var h=null,d=this.w;if(d.globals.axisCharts){if("back"===d.config.xaxis.crosshairs.position&&new _n(this.ctx).drawXCrosshairs(),"back"===d.config.yaxis[0].crosshairs.position&&new _n(this.ctx).drawYCrosshairs(),"datetime"===d.config.xaxis.type&&void 0===d.config.xaxis.labels.formatter){this.ctx.timeScale=new Yr(this.ctx);var v=[];isFinite(d.globals.minX)&&isFinite(d.globals.maxX)&&!d.globals.isBarHorizontal?v=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minX,d.globals.maxX):d.globals.isBarHorizontal&&(v=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minY,d.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(v)}h=new Ke(this.ctx).getCalculatedRatios()}return h}},{key:"updateSourceChart",value:function(h){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:h.w.globals.minX,max:h.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var h=this,d=this.w;if(d.config.chart.brush.enabled&&"function"!=typeof d.config.chart.events.selection){var v=Array.isArray(d.config.chart.brush.targets)?d.config.chart.brush.targets:[d.config.chart.brush.target];v.forEach(function(S){var T=ApexCharts.getChartByID(S);T.w.globals.brushSource=h.ctx,"function"!=typeof T.w.config.chart.events.zoomed&&(T.w.config.chart.events.zoomed=function(){h.updateSourceChart(T)}),"function"!=typeof T.w.config.chart.events.scrolled&&(T.w.config.chart.events.scrolled=function(){h.updateSourceChart(T)})}),d.config.chart.events.selection=function(S,T){v.forEach(function(I){ApexCharts.getChartByID(I).ctx.updateHelpers._updateOptions({xaxis:{min:T.xaxis.min,max:T.xaxis.max}},!1,!1,!1,!1)})}}}}]),We}(),Fn=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"_updateOptions",value:function(h){var d=this,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],T=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],I=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(N){var V=[d.ctx];T&&(V=d.ctx.getSyncedCharts()),d.ctx.w.globals.isExecCalled&&(V=[d.ctx],d.ctx.w.globals.isExecCalled=!1),V.forEach(function(G,K){var J=G.w;if(J.globals.shouldAnimate=S,v||(J.globals.resized=!0,J.globals.dataChanged=!0,S&&G.series.getPreviousPaths()),h&&"object"===Oe(h)&&(G.config=new pn(h),h=Ke.extendArrayProps(G.config,h,J),G.w.globals.chartID!==d.ctx.w.globals.chartID&&delete h.series,J.config=de.extend(J.config,h),I&&(J.globals.lastXAxis=h.xaxis?de.clone(h.xaxis):[],J.globals.lastYAxis=h.yaxis?de.clone(h.yaxis):[],J.globals.initialConfig=de.extend({},J.config),J.globals.initialSeries=de.clone(J.config.series),h.series))){for(var ie=0;ie<J.globals.collapsedSeriesIndices.length;ie++){var fe=J.config.series[J.globals.collapsedSeriesIndices[ie]];J.globals.collapsedSeries[ie].data=J.globals.axisCharts?fe.data.slice():fe}for(var Se=0;Se<J.globals.ancillaryCollapsedSeriesIndices.length;Se++){var Le=J.config.series[J.globals.ancillaryCollapsedSeriesIndices[Se]];J.globals.ancillaryCollapsedSeries[Se].data=J.globals.axisCharts?Le.data.slice():Le}G.series.emptyCollapsedSeries(J.config.series)}return G.update(h).then(function(){K===V.length-1&&N(G)})})})}},{key:"_updateSeries",value:function(h,d){var v=this,S=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(T){var I,N=v.w;return N.globals.shouldAnimate=d,N.globals.dataChanged=!0,d&&v.ctx.series.getPreviousPaths(),N.globals.axisCharts?(0===(I=h.map(function(V,G){return v._extendSeries(V,G)})).length&&(I=[{data:[]}]),N.config.series=I):N.config.series=h.slice(),S&&(N.globals.initialConfig.series=de.clone(N.config.series),N.globals.initialSeries=de.clone(N.config.series)),v.ctx.update().then(function(){T(v.ctx)})})}},{key:"_extendSeries",value:function(h,d){var v=this.w,S=v.config.series[d];return Ze(Ze({},v.config.series[d]),{},{name:h.name?h.name:S?.name,color:h.color?h.color:S?.color,type:h.type?h.type:S?.type,group:h.group?h.group:S?.group,data:h.data?h.data:S?.data,zIndex:void 0!==h.zIndex?h.zIndex:d})}},{key:"toggleDataPointSelection",value:function(h,d){var v=this.w,S=null,T=".apexcharts-series[data\\:realIndex='".concat(h,"']");return v.globals.axisCharts?S=v.globals.dom.Paper.select("".concat(T," path[j='").concat(d,"'], ").concat(T," circle[j='").concat(d,"'], ").concat(T," rect[j='").concat(d,"']")).members[0]:void 0===d&&(S=v.globals.dom.Paper.select("".concat(T," path[j='").concat(h,"']")).members[0],"pie"!==v.config.chart.type&&"polarArea"!==v.config.chart.type&&"donut"!==v.config.chart.type||this.ctx.pie.pieClicked(h)),S?(new je(this.ctx).pathMouseDown(S,null),S.node?S.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(h){var d=this.w;if(["min","max"].forEach(function(S){void 0!==h.xaxis[S]&&(d.config.xaxis[S]=h.xaxis[S],d.globals.lastXAxis[S]=h.xaxis[S])}),h.xaxis.categories&&h.xaxis.categories.length&&(d.config.xaxis.categories=h.xaxis.categories),d.config.xaxis.convertedCatToNumeric){var v=new hn(h);h=v.convertCatToNumericXaxis(h,this.ctx)}return h}},{key:"forceYAxisUpdate",value:function(h){return h.chart&&h.chart.stacked&&"100%"===h.chart.stackType&&(Array.isArray(h.yaxis)?h.yaxis.forEach(function(d,v){h.yaxis[v].min=0,h.yaxis[v].max=100}):(h.yaxis.min=0,h.yaxis.max=100)),h}},{key:"revertDefaultAxisMinMax",value:function(h){var d=this,v=this.w,S=v.globals.lastXAxis,T=v.globals.lastYAxis;h&&h.xaxis&&(S=h.xaxis),h&&h.yaxis&&(T=h.yaxis),v.config.xaxis.min=S.min,v.config.xaxis.max=S.max,v.config.yaxis.map(function(N,V){v.globals.zoomed||void 0!==T[V]?function(N){void 0!==T[N]&&(v.config.yaxis[N].min=T[N].min,v.config.yaxis[N].max=T[N].max)}(V):void 0!==d.ctx.opts.yaxis[V]&&(N.min=d.ctx.opts.yaxis[V].min,N.max=d.ctx.opts.yaxis[V].max)})}}]),We}();tr=typeof window<"u"?window:void 0,Rr=function(We,h){var d=(void 0!==this?this:We).SVG=function(W){if(d.supported)return W=new d.Doc(W),d.parser.draw||d.prepare(),W};if(d.ns="http://www.w3.org/2000/svg",d.xmlns="http://www.w3.org/2000/xmlns/",d.xlink="http://www.w3.org/1999/xlink",d.svgjs="http://svgjs.dev",d.supported=!0,!d.supported)return!1;d.did=1e3,d.eid=function(W){return"Svgjs"+K(W)+d.did++},d.create=function(W){var ae=h.createElementNS(this.ns,W);return ae.setAttribute("id",this.eid(W)),ae},d.extend=function(){var W,ae;ae=(W=[].slice.call(arguments)).pop();for(var De=W.length-1;De>=0;De--)if(W[De])for(var Ue in ae)W[De].prototype[Ue]=ae[Ue];d.Set&&d.Set.inherit&&d.Set.inherit()},d.invent=function(W){var ae="function"==typeof W.create?W.create:function(){this.constructor.call(this,d.create(W.create))};return W.inherit&&(ae.prototype=new W.inherit),W.extend&&d.extend(ae,W.extend),W.construct&&d.extend(W.parent||d.Container,W.construct),ae},d.adopt=function(W){return W?W.instance?W.instance:((ae="svg"==W.nodeName?W.parentNode instanceof We.SVGElement?new d.Nested:new d.Doc:"linearGradient"==W.nodeName?new d.Gradient("linear"):"radialGradient"==W.nodeName?new d.Gradient("radial"):d[K(W.nodeName)]?new(d[K(W.nodeName)]):new d.Element(W)).type=W.nodeName,ae.node=W,W.instance=ae,ae instanceof d.Doc&&ae.namespace().defs(),ae.setData(JSON.parse(W.getAttribute("svgjs:data"))||{}),ae):null;var ae},d.prepare=function(){var W=h.getElementsByTagName("body")[0],ae=(W?new d.Doc(W):d.adopt(h.documentElement).nested()).size(2,0);d.parser={body:W||h.documentElement,draw:ae.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:ae.polyline().node,path:ae.path().node,native:d.create("svg")}},d.parser={native:d.create("svg")},h.addEventListener("DOMContentLoaded",function(){d.parser.draw||d.prepare()},!1),d.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},d.utils={map:function(W,ae){for(var De=W.length,Ue=[],dt=0;dt<De;dt++)Ue.push(ae(W[dt]));return Ue},filter:function(W,ae){for(var De=W.length,Ue=[],dt=0;dt<De;dt++)ae(W[dt])&&Ue.push(W[dt]);return Ue},filterSVGElements:function(W){return this.filter(W,function(ae){return ae instanceof We.SVGElement})}},d.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},d.Color=function(W){var ae,De;this.r=0,this.g=0,this.b=0,W&&("string"==typeof W?d.regex.isRgb.test(W)?(ae=d.regex.rgb.exec(W.replace(d.regex.whitespace,"")),this.r=parseInt(ae[1]),this.g=parseInt(ae[2]),this.b=parseInt(ae[3])):d.regex.isHex.test(W)&&(ae=d.regex.hex.exec(4==(De=W).length?["#",De.substring(1,2),De.substring(1,2),De.substring(2,3),De.substring(2,3),De.substring(3,4),De.substring(3,4)].join(""):De),this.r=parseInt(ae[1],16),this.g=parseInt(ae[2],16),this.b=parseInt(ae[3],16)):"object"===Oe(W)&&(this.r=W.r,this.g=W.g,this.b=W.b))},d.extend(d.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+J(this.r)+J(this.g)+J(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(W){return this.destination=new d.Color(W),this},at:function(W){return this.destination?new d.Color({r:~~(this.r+(this.destination.r-this.r)*(W=W<0?0:W>1?1:W)),g:~~(this.g+(this.destination.g-this.g)*W),b:~~(this.b+(this.destination.b-this.b)*W)}):this}}),d.Color.test=function(W){return d.regex.isHex.test(W+="")||d.regex.isRgb.test(W)},d.Color.isRgb=function(W){return W&&"number"==typeof W.r&&"number"==typeof W.g&&"number"==typeof W.b},d.Color.isColor=function(W){return d.Color.isRgb(W)||d.Color.test(W)},d.Array=function(W,ae){0==(W=(W||[]).valueOf()).length&&ae&&(W=ae.valueOf()),this.value=this.parse(W)},d.extend(d.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(W){return W=W.valueOf(),Array.isArray(W)?W:this.split(W)}}),d.PointArray=function(W,ae){d.Array.call(this,W,ae||[[0,0]])},d.PointArray.prototype=new d.Array,d.PointArray.prototype.constructor=d.PointArray;for(var v={M:function(W,ae,De){return ae.x=De.x=W[0],ae.y=De.y=W[1],["M",ae.x,ae.y]},L:function(W,ae){return ae.x=W[0],ae.y=W[1],["L",W[0],W[1]]},H:function(W,ae){return ae.x=W[0],["H",W[0]]},V:function(W,ae){return ae.y=W[0],["V",W[0]]},C:function(W,ae){return ae.x=W[4],ae.y=W[5],["C",W[0],W[1],W[2],W[3],W[4],W[5]]},Q:function(W,ae){return ae.x=W[2],ae.y=W[3],["Q",W[0],W[1],W[2],W[3]]},S:function(W,ae){return ae.x=W[2],ae.y=W[3],["S",W[0],W[1],W[2],W[3]]},Z:function(W,ae,De){return ae.x=De.x,ae.y=De.y,["Z"]}},S="mlhvqtcsaz".split(""),T=0,I=S.length;T<I;++T)v[S[T]]=function(W){return function(ae,De,Ue){if("H"==W)ae[0]=ae[0]+De.x;else if("V"==W)ae[0]=ae[0]+De.y;else if("A"==W)ae[5]=ae[5]+De.x,ae[6]=ae[6]+De.y;else for(var dt=0,kt=ae.length;dt<kt;++dt)ae[dt]=ae[dt]+(dt%2?De.y:De.x);if(v&&"function"==typeof v[W])return v[W](ae,De,Ue)}}(S[T].toUpperCase());d.PathArray=function(W,ae){d.Array.call(this,W,ae||[["M",0,0]])},d.PathArray.prototype=new d.Array,d.PathArray.prototype.constructor=d.PathArray,d.extend(d.PathArray,{toString:function(){return function(W){for(var ae=0,De=W.length,Ue="";ae<De;ae++)Ue+=W[ae][0],null!=W[ae][1]&&(Ue+=W[ae][1],null!=W[ae][2]&&(Ue+=" ",Ue+=W[ae][2],null!=W[ae][3]&&(Ue+=" ",Ue+=W[ae][3],Ue+=" ",Ue+=W[ae][4],null!=W[ae][5]&&(Ue+=" ",Ue+=W[ae][5],Ue+=" ",Ue+=W[ae][6],null!=W[ae][7]&&(Ue+=" ",Ue+=W[ae][7])))));return Ue+" "}(this.value)},move:function(W,ae){return this.bbox(),this},at:function(W){if(!this.destination)return this;for(var ae=this.value,De=this.destination.value,Ue=[],dt=new d.PathArray,kt=0,Xt=ae.length;kt<Xt;kt++){Ue[kt]=[ae[kt][0]];for(var qt=1,Sn=ae[kt].length;qt<Sn;qt++)Ue[kt][qt]=ae[kt][qt]+(De[kt][qt]-ae[kt][qt])*W;"A"===Ue[kt][0]&&(Ue[kt][4]=+(0!=Ue[kt][4]),Ue[kt][5]=+(0!=Ue[kt][5]))}return dt.value=Ue,dt},parse:function(W){if(W instanceof d.PathArray)return W.valueOf();var ae,De={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};W="string"==typeof W?W.replace(d.regex.numbersWithDots,V).replace(d.regex.pathLetters," $& ").replace(d.regex.hyphen,"$1 -").trim().split(d.regex.delimiter):W.reduce(function(Sn,Mn){return[].concat.call(Sn,Mn)},[]);var Ue=[],dt=new d.Point,kt=new d.Point,Xt=0,qt=W.length;do{d.regex.isPathLetter.test(W[Xt])?(ae=W[Xt],++Xt):"M"==ae?ae="L":"m"==ae&&(ae="l"),Ue.push(v[ae].call(null,W.slice(Xt,Xt+=De[ae.toUpperCase()]).map(parseFloat),dt,kt))}while(qt>Xt);return Ue},bbox:function(){return d.parser.draw||d.prepare(),d.parser.path.setAttribute("d",this.toString()),d.parser.path.getBBox()}}),d.Number=d.invent({create:function(W,ae){this.value=0,this.unit=ae||"","number"==typeof W?this.value=isNaN(W)?0:isFinite(W)?W:W<0?-34e37:34e37:"string"==typeof W?(ae=W.match(d.regex.numberAndUnit))&&(this.value=parseFloat(ae[1]),"%"==ae[5]?this.value/=100:"s"==ae[5]&&(this.value*=1e3),this.unit=ae[5]):W instanceof d.Number&&(this.value=W.valueOf(),this.unit=W.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(W){return W=new d.Number(W),new d.Number(this+W,this.unit||W.unit)},minus:function(W){return W=new d.Number(W),new d.Number(this-W,this.unit||W.unit)},times:function(W){return W=new d.Number(W),new d.Number(this*W,this.unit||W.unit)},divide:function(W){return W=new d.Number(W),new d.Number(this/W,this.unit||W.unit)},to:function(W){var ae=new d.Number(this);return"string"==typeof W&&(ae.unit=W),ae},morph:function(W){return this.destination=new d.Number(W),W.relative&&(this.destination.value+=this.value),this},at:function(W){return this.destination?new d.Number(this.destination).minus(this).times(W).plus(this):this}}}),d.Element=d.invent({create:function(W){this._stroke=d.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=W)&&(this.type=W.nodeName,this.node.instance=this,this._stroke=W.getAttribute("stroke")||this._stroke)},extend:{x:function(W){return this.attr("x",W)},y:function(W){return this.attr("y",W)},cx:function(W){return null==W?this.x()+this.width()/2:this.x(W-this.width()/2)},cy:function(W){return null==W?this.y()+this.height()/2:this.y(W-this.height()/2)},move:function(W,ae){return this.x(W).y(ae)},center:function(W,ae){return this.cx(W).cy(ae)},width:function(W){return this.attr("width",W)},height:function(W){return this.attr("height",W)},size:function(W,ae){var De=ie(this,W,ae);return this.width(new d.Number(De.width)).height(new d.Number(De.height))},clone:function(W){this.writeDataToDom();var ae=Le(this.node.cloneNode(!0));return W?W.add(ae):this.after(ae),ae},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(W){return this.after(W).remove(),W},addTo:function(W){return W.put(this)},putIn:function(W){return W.add(this)},id:function(W){return this.attr("id",W)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var W=this.attr("class");return null==W?[]:W.trim().split(d.regex.delimiter)},hasClass:function(W){return-1!=this.classes().indexOf(W)},addClass:function(W){if(!this.hasClass(W)){var ae=this.classes();ae.push(W),this.attr("class",ae.join(" "))}return this},removeClass:function(W){return this.hasClass(W)&&this.attr("class",this.classes().filter(function(ae){return ae!=W}).join(" ")),this},toggleClass:function(W){return this.hasClass(W)?this.removeClass(W):this.addClass(W)},reference:function(W){return d.get(this.attr(W))},parent:function(W){var ae=this;if(!ae.node.parentNode)return null;if(ae=d.adopt(ae.node.parentNode),!W)return ae;for(;ae&&ae.node instanceof We.SVGElement;){if("string"==typeof W?ae.matches(W):ae instanceof W)return ae;if(!ae.node.parentNode||"#document"==ae.node.parentNode.nodeName)return null;ae=d.adopt(ae.node.parentNode)}},doc:function(){return this instanceof d.Doc?this:this.parent(d.Doc)},parents:function(W){var ae=[],De=this;do{if(!(De=De.parent(W))||!De.node)break;ae.push(De)}while(De.parent);return ae},matches:function(W){return((ae=this.node).matches||ae.matchesSelector||ae.msMatchesSelector||ae.mozMatchesSelector||ae.webkitMatchesSelector||ae.oMatchesSelector).call(ae,W);var ae},native:function(){return this.node},svg:function(W){var ae=h.createElement("svg");if(!(W&&this instanceof d.Parent))return ae.appendChild(W=h.createElement("svg")),this.writeDataToDom(),W.appendChild(this.node.cloneNode(!0)),ae.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");ae.innerHTML="<svg>"+W.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var De=0,Ue=ae.firstChild.childNodes.length;De<Ue;De++)this.node.appendChild(ae.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(W){return this.dom=W,this},is:function(W){return this instanceof W}}}),d.easing={"-":function(W){return W},"<>":function(W){return-Math.cos(W*Math.PI)/2+.5},">":function(W){return Math.sin(W*Math.PI/2)},"<":function(W){return 1-Math.cos(W*Math.PI/2)}},d.morph=function(W){return function(ae,De){return new d.MorphObj(ae,De).at(W)}},d.Situation=d.invent({create:function(W){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new d.Number(W.duration).valueOf(),this.delay=new d.Number(W.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=W.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),d.FX=d.invent({create:function(W){this._target=W,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(W,ae,De){"object"===Oe(W)&&(ae=W.ease,De=W.delay,W=W.duration);var Ue=new d.Situation({duration:W||1e3,delay:De||0,ease:d.easing[ae||"-"]||ae});return this.queue(Ue),this},target:function(W){return W&&W instanceof d.Element?(this._target=W,this):this._target},timeToAbsPos:function(W){return(W-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(W){return this.situation.duration/this._speed*W+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=We.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){We.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(W){return("function"==typeof W||W instanceof d.Situation)&&this.situations.push(W),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof d.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var W,ae=this.situation;if(ae.init)return this;for(var De in ae.animations){W=this.target()[De](),Array.isArray(W)||(W=[W]),Array.isArray(ae.animations[De])||(ae.animations[De]=[ae.animations[De]]);for(var Ue=W.length;Ue--;)ae.animations[De][Ue]instanceof d.Number&&(W[Ue]=new d.Number(W[Ue])),ae.animations[De][Ue]=W[Ue].morph(ae.animations[De][Ue])}for(var De in ae.attrs)ae.attrs[De]=new d.MorphObj(this.target().attr(De),ae.attrs[De]);for(var De in ae.styles)ae.styles[De]=new d.MorphObj(this.target().style(De),ae.styles[De]);return ae.initialTransformation=this.target().matrixify(),ae.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(W,ae){var De=this.active;return this.active=!1,ae&&this.clearQueue(),W&&this.situation&&(!De&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(W){var ae=this.last();return this.target().on("finished.fx",function De(Ue){Ue.detail.situation==ae&&(W.call(this,ae),this.off("finished.fx",De))}),this._callStart()},during:function(W){var ae=this.last(),De=function(Ue){Ue.detail.situation==ae&&W.call(this,Ue.detail.pos,d.morph(Ue.detail.pos),Ue.detail.eased,ae)};return this.target().off("during.fx",De).on("during.fx",De),this.after(function(){this.off("during.fx",De)}),this._callStart()},afterAll:function(W){var ae=function De(Ue){W.call(this),this.off("allfinished.fx",De)};return this.target().off("allfinished.fx",ae).on("allfinished.fx",ae),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(W,ae,De){return this.last()[De||"animations"][W]=ae,this._callStart()},step:function(W){var ae,De,Ue;W||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(ae=Math.max(this.absPos,0),De=Math.floor(ae),!0===this.situation.loops||De<this.situation.loops?(this.pos=ae-De,Ue=this.situation.loop,this.situation.loop=De):(this.absPos=this.situation.loops,this.pos=1,Ue=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-Ue)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var dt=this.situation.ease(this.pos);for(var kt in this.situation.once)kt>this.lastPos&&kt<=dt&&(this.situation.once[kt].call(this.target(),this.pos,dt),delete this.situation.once[kt]);return this.active&&this.target().fire("during",{pos:this.pos,eased:dt,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=dt,this):this},eachAt:function(){var W,ae=this,De=this.target(),Ue=this.situation;for(var dt in Ue.animations)W=[].concat(Ue.animations[dt]).map(function(qt){return"string"!=typeof qt&&qt.at?qt.at(Ue.ease(ae.pos),ae.pos):qt}),De[dt].apply(De,W);for(var dt in Ue.attrs)W=[dt].concat(Ue.attrs[dt]).map(function(Sn){return"string"!=typeof Sn&&Sn.at?Sn.at(Ue.ease(ae.pos),ae.pos):Sn}),De.attr.apply(De,W);for(var dt in Ue.styles)W=[dt].concat(Ue.styles[dt]).map(function(Sn){return"string"!=typeof Sn&&Sn.at?Sn.at(Ue.ease(ae.pos),ae.pos):Sn}),De.style.apply(De,W);if(Ue.transforms.length){W=Ue.initialTransformation,dt=0;for(var kt=Ue.transforms.length;dt<kt;dt++){var Xt=Ue.transforms[dt];Xt instanceof d.Matrix?W=Xt.relative?W.multiply((new d.Matrix).morph(Xt).at(Ue.ease(this.pos))):W.morph(Xt).at(Ue.ease(this.pos)):(Xt.relative||Xt.undo(W.extract()),W=W.multiply(Xt.at(Ue.ease(this.pos))))}De.matrix(W)}return this},once:function(W,ae,De){var Ue=this.last();return De||(W=Ue.ease(W)),Ue.once[W]=ae,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:d.Element,construct:{animate:function(W,ae,De){return(this.fx||(this.fx=new d.FX(this))).animate(W,ae,De)},delay:function(W){return(this.fx||(this.fx=new d.FX(this))).delay(W)},stop:function(W,ae){return this.fx&&this.fx.stop(W,ae),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),d.MorphObj=d.invent({create:function(W,ae){return d.Color.isColor(ae)?new d.Color(W).morph(ae):d.regex.delimiter.test(W)?d.regex.pathLetters.test(W)?new d.PathArray(W).morph(ae):new d.Array(W).morph(ae):d.regex.numberAndUnit.test(ae)?new d.Number(W).morph(ae):(this.value=W,void(this.destination=ae))},extend:{at:function(W,ae){return ae<1?this.value:this.destination},valueOf:function(){return this.value}}}),d.extend(d.FX,{attr:function(W,ae,De){if("object"===Oe(W))for(var Ue in W)this.attr(Ue,W[Ue]);else this.add(W,ae,"attrs");return this},plot:function(W,ae,De,Ue){return 4==arguments.length?this.plot([W,ae,De,Ue]):this.add("plot",new(this.target().morphArray)(W))}}),d.Box=d.invent({create:function(W,ae,De,Ue){if(!("object"!==Oe(W)||W instanceof d.Element))return d.Box.call(this,null!=W.left?W.left:W.x,null!=W.top?W.top:W.y,W.width,W.height);var dt;4==arguments.length&&(this.x=W,this.y=ae,this.width=De,this.height=Ue),null==(dt=this).x&&(dt.x=0,dt.y=0,dt.width=0,dt.height=0),dt.w=dt.width,dt.h=dt.height,dt.x2=dt.x+dt.width,dt.y2=dt.y+dt.height,dt.cx=dt.x+dt.width/2,dt.cy=dt.y+dt.height/2}}),d.BBox=d.invent({create:function(W){if(d.Box.apply(this,[].slice.call(arguments)),W instanceof d.Element){var ae;try{if(!h.documentElement.contains){for(var De=W.node;De.parentNode;)De=De.parentNode;if(De!=h)throw new Error("Element not in the dom")}ae=W.node.getBBox()}catch{if(W instanceof d.Shape){d.parser.draw||d.prepare();var Ue=W.clone(d.parser.draw.instance).show();Ue&&Ue.node&&"function"==typeof Ue.node.getBBox&&(ae=Ue.node.getBBox()),Ue&&"function"==typeof Ue.remove&&Ue.remove()}else ae={x:W.node.clientLeft,y:W.node.clientTop,width:W.node.clientWidth,height:W.node.clientHeight}}d.Box.call(this,ae)}},inherit:d.Box,parent:d.Element,construct:{bbox:function(){return new d.BBox(this)}}}),d.BBox.prototype.constructor=d.BBox,d.Matrix=d.invent({create:function(W){var ae=Se([1,0,0,1,0,0]);W=null===W?ae:W instanceof d.Element?W.matrixify():"string"==typeof W?Se(W.split(d.regex.delimiter).map(parseFloat)):6==arguments.length?Se([].slice.call(arguments)):Array.isArray(W)?Se(W):W&&"object"===Oe(W)?W:ae;for(var De=tt.length-1;De>=0;--De)this[tt[De]]=null!=W[tt[De]]?W[tt[De]]:ae[tt[De]]},extend:{extract:function(){var W=fe(this,0,1);fe(this,1,0);var ae=180/Math.PI*Math.atan2(W.y,W.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(ae*Math.PI/180)+this.f*Math.sin(ae*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(ae*Math.PI/180)+this.e*Math.sin(-ae*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:ae,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new d.Matrix(this)}},clone:function(){return new d.Matrix(this)},morph:function(W){return this.destination=new d.Matrix(W),this},multiply:function(W){return new d.Matrix(this.native().multiply((ae=W,ae instanceof d.Matrix||(ae=new d.Matrix(ae)),ae).native()));var ae},inverse:function(){return new d.Matrix(this.native().inverse())},translate:function(W,ae){return new d.Matrix(this.native().translate(W||0,ae||0))},native:function(){for(var W=d.parser.native.createSVGMatrix(),ae=tt.length-1;ae>=0;ae--)W[tt[ae]]=this[tt[ae]];return W},toString:function(){return"matrix("+Fe(this.a)+","+Fe(this.b)+","+Fe(this.c)+","+Fe(this.d)+","+Fe(this.e)+","+Fe(this.f)+")"}},parent:d.Element,construct:{ctm:function(){return new d.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof d.Nested){var W=this.rect(1,1),ae=W.node.getScreenCTM();return W.remove(),new d.Matrix(ae)}return new d.Matrix(this.node.getScreenCTM())}}}),d.Point=d.invent({create:function(W,ae){var De;De=Array.isArray(W)?{x:W[0],y:W[1]}:"object"===Oe(W)?{x:W.x,y:W.y}:null!=W?{x:W,y:ae??W}:{x:0,y:0},this.x=De.x,this.y=De.y},extend:{clone:function(){return new d.Point(this)},morph:function(W,ae){return this.destination=new d.Point(W,ae),this}}}),d.extend(d.Element,{point:function(W,ae){return new d.Point(W,ae).transform(this.screenCTM().inverse())}}),d.extend(d.Element,{attr:function(W,ae,De){if(null==W){for(W={},De=(ae=this.node.attributes).length-1;De>=0;De--)W[ae[De].nodeName]=d.regex.isNumber.test(ae[De].nodeValue)?parseFloat(ae[De].nodeValue):ae[De].nodeValue;return W}if("object"===Oe(W))for(var Ue in W)this.attr(Ue,W[Ue]);else if(null===ae)this.node.removeAttribute(W);else{if(null==ae)return null==(ae=this.node.getAttribute(W))?d.defaults.attrs[W]:d.regex.isNumber.test(ae)?parseFloat(ae):ae;"stroke-width"==W?this.attr("stroke",parseFloat(ae)>0?this._stroke:null):"stroke"==W&&(this._stroke=ae),"fill"!=W&&"stroke"!=W||(d.regex.isImage.test(ae)&&(ae=this.doc().defs().image(ae,0,0)),ae instanceof d.Image&&(ae=this.doc().defs().pattern(0,0,function(){this.add(ae)}))),"number"==typeof ae?ae=new d.Number(ae):d.Color.isColor(ae)?ae=new d.Color(ae):Array.isArray(ae)&&(ae=new d.Array(ae)),"leading"==W?this.leading&&this.leading(ae):"string"==typeof De?this.node.setAttributeNS(De,W,ae.toString()):this.node.setAttribute(W,ae.toString()),!this.rebuild||"font-size"!=W&&"x"!=W||this.rebuild(W,ae)}return this}}),d.extend(d.Element,{transform:function(W,ae){var De;return"object"!==Oe(W)?(De=new d.Matrix(this).extract(),"string"==typeof W?De[W]:De):(De=new d.Matrix(this),ae=!!ae||!!W.relative,null!=W.a&&(De=ae?De.multiply(new d.Matrix(W)):new d.Matrix(W)),this.attr("transform",De))}}),d.extend(d.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(d.regex.transforms).slice(0,-1).map(function(W){var ae=W.trim().split("(");return[ae[0],ae[1].split(d.regex.delimiter).map(function(De){return parseFloat(De)})]}).reduce(function(W,ae){return"matrix"==ae[0]?W.multiply(Se(ae[1])):W[ae[0]].apply(W,ae[1])},new d.Matrix)},toParent:function(W){if(this==W)return this;var ae=this.screenCTM(),De=W.screenCTM().inverse();return this.addTo(W).untransform().transform(De.multiply(ae)),this},toDoc:function(){return this.toParent(this.doc())}}),d.Transformation=d.invent({create:function(W,ae){if(arguments.length>1&&"boolean"!=typeof ae)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(W))for(var De=0,Ue=this.arguments.length;De<Ue;++De)this[this.arguments[De]]=W[De];else if(W&&"object"===Oe(W))for(De=0,Ue=this.arguments.length;De<Ue;++De)this[this.arguments[De]]=W[this.arguments[De]];this.inversed=!1,!0===ae&&(this.inversed=!0)}}),d.Translate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(W,ae){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),d.extend(d.Element,{style:function(W,ae){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Oe(W))for(var De in W)this.style(De,W[De]);else{if(!d.regex.isCss.test(W))return this.node.style[G(W)];for(W=W.split(/\s*;\s*/).filter(function(Ue){return!!Ue}).map(function(Ue){return Ue.split(/\s*:\s*/)});ae=W.pop();)this.style(ae[0],ae[1])}else this.node.style[G(W)]=null===ae||d.regex.isBlank.test(ae)?"":ae;return this}}),d.Parent=d.invent({create:function(W){this.constructor.call(this,W)},inherit:d.Element,extend:{children:function(){return d.utils.map(d.utils.filterSVGElements(this.node.childNodes),function(W){return d.adopt(W)})},add:function(W,ae){return null==ae?this.node.appendChild(W.node):W.node!=this.node.childNodes[ae]&&this.node.insertBefore(W.node,this.node.childNodes[ae]),this},put:function(W,ae){return this.add(W,ae),W},has:function(W){return this.index(W)>=0},index:function(W){return[].slice.call(this.node.childNodes).indexOf(W.node)},get:function(W){return d.adopt(this.node.childNodes[W])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(W,ae){for(var De=this.children(),Ue=0,dt=De.length;Ue<dt;Ue++)De[Ue]instanceof d.Element&&W.apply(De[Ue],[Ue,De]),ae&&De[Ue]instanceof d.Container&&De[Ue].each(W,ae);return this},removeElement:function(W){return this.node.removeChild(W.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),d.extend(d.Parent,{ungroup:function(W,ae){return 0===ae||this instanceof d.Defs||this.node==d.parser.draw||(W=W||(this instanceof d.Doc?this:this.parent(d.Parent)),ae=ae||1/0,this.each(function(){return this instanceof d.Defs?this:this instanceof d.Parent?this.ungroup(W,ae-1):this.toParent(W)}),this.node.firstChild||this.remove()),this},flatten:function(W,ae){return this.ungroup(W,ae)}}),d.Container=d.invent({create:function(W){this.constructor.call(this,W)},inherit:d.Parent}),d.ViewBox=d.invent({parent:d.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(W){d.Element.prototype[W]=function(ae){return d.on(this.node,W,ae),this}}),d.listeners=[],d.handlerMap=[],d.listenerId=0,d.on=function(W,ae,De,Ue,dt){var kt=De.bind(Ue||W.instance||W),Xt=(d.handlerMap.indexOf(W)+1||d.handlerMap.push(W))-1,qt=ae.split(".")[0],Sn=ae.split(".")[1]||"*";d.listeners[Xt]=d.listeners[Xt]||{},d.listeners[Xt][qt]=d.listeners[Xt][qt]||{},d.listeners[Xt][qt][Sn]=d.listeners[Xt][qt][Sn]||{},De._svgjsListenerId||(De._svgjsListenerId=++d.listenerId),d.listeners[Xt][qt][Sn][De._svgjsListenerId]=kt,W.addEventListener(qt,kt,dt||{passive:!0})},d.off=function(W,ae,De){var Ue=d.handlerMap.indexOf(W),dt=ae&&ae.split(".")[0],kt=ae&&ae.split(".")[1],Xt="";if(-1!=Ue)if(De){if("function"==typeof De&&(De=De._svgjsListenerId),!De)return;d.listeners[Ue][dt]&&d.listeners[Ue][dt][kt||"*"]&&(W.removeEventListener(dt,d.listeners[Ue][dt][kt||"*"][De],!1),delete d.listeners[Ue][dt][kt||"*"][De])}else if(kt&&dt){if(d.listeners[Ue][dt]&&d.listeners[Ue][dt][kt]){for(var qt in d.listeners[Ue][dt][kt])d.off(W,[dt,kt].join("."),qt);delete d.listeners[Ue][dt][kt]}}else if(kt)for(var Sn in d.listeners[Ue])for(var Xt in d.listeners[Ue][Sn])kt===Xt&&d.off(W,[Sn,kt].join("."));else if(dt){if(d.listeners[Ue][dt]){for(var Xt in d.listeners[Ue][dt])d.off(W,[dt,Xt].join("."));delete d.listeners[Ue][dt]}}else{for(var Sn in d.listeners[Ue])d.off(W,Sn);delete d.listeners[Ue],delete d.handlerMap[Ue]}},d.extend(d.Element,{on:function(W,ae,De,Ue){return d.on(this.node,W,ae,De,Ue),this},off:function(W,ae){return d.off(this.node,W,ae),this},fire:function(W,ae){return this.node.dispatchEvent(W instanceof We.Event?W:W=new d.CustomEvent(W,{detail:ae,cancelable:!0})),this._event=W,this},event:function(){return this._event}}),d.Defs=d.invent({create:"defs",inherit:d.Container}),d.G=d.invent({create:"g",inherit:d.Container,extend:{x:function(W){return null==W?this.transform("x"):this.transform({x:W-this.x()},!0)}},construct:{group:function(){return this.put(new d.G)}}}),d.Doc=d.invent({create:function(W){W&&("svg"==(W="string"==typeof W?h.getElementById(W):W).nodeName?this.constructor.call(this,W):(this.constructor.call(this,d.create("svg")),W.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:d.Container,extend:{namespace:function(){return this.attr({xmlns:d.ns,version:"1.1"}).attr("xmlns:xlink",d.xlink,d.xmlns).attr("xmlns:svgjs",d.svgjs,d.xmlns)},defs:function(){var W;return this._defs||(this._defs=(W=this.node.getElementsByTagName("defs")[0])?d.adopt(W):new d.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,d.parser.draw&&!d.parser.draw.parentNode&&this.node.appendChild(d.parser.draw),this},clone:function(W){this.writeDataToDom();var ae=this.node,De=Le(ae.cloneNode(!0));return W?(W.node||W).appendChild(De.node):ae.parentNode.insertBefore(De.node,ae.nextSibling),De}}}),d.extend(d.Element,{}),d.Gradient=d.invent({create:function(W){this.constructor.call(this,d.create(W+"Gradient")),this.type=W},inherit:d.Container,extend:{at:function(W,ae,De){return this.put(new d.Stop).update(W,ae,De)},update:function(W){return this.clear(),"function"==typeof W&&W.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(W,ae,De){return"transform"==W&&(W="gradientTransform"),d.Container.prototype.attr.call(this,W,ae,De)}},construct:{gradient:function(W,ae){return this.defs().gradient(W,ae)}}}),d.extend(d.Gradient,d.FX,{from:function(W,ae){return this.attr("radial"==(this._target||this).type?{fx:new d.Number(W),fy:new d.Number(ae)}:{x1:new d.Number(W),y1:new d.Number(ae)})},to:function(W,ae){return this.attr("radial"==(this._target||this).type?{cx:new d.Number(W),cy:new d.Number(ae)}:{x2:new d.Number(W),y2:new d.Number(ae)})}}),d.extend(d.Defs,{gradient:function(W,ae){return this.put(new d.Gradient(W)).update(ae)}}),d.Stop=d.invent({create:"stop",inherit:d.Element,extend:{update:function(W){return("number"==typeof W||W instanceof d.Number)&&(W={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=W.opacity&&this.attr("stop-opacity",W.opacity),null!=W.color&&this.attr("stop-color",W.color),null!=W.offset&&this.attr("offset",new d.Number(W.offset)),this}}}),d.Pattern=d.invent({create:"pattern",inherit:d.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(W){return this.clear(),"function"==typeof W&&W.call(this,this),this},toString:function(){return this.fill()},attr:function(W,ae,De){return"transform"==W&&(W="patternTransform"),d.Container.prototype.attr.call(this,W,ae,De)}},construct:{pattern:function(W,ae,De){return this.defs().pattern(W,ae,De)}}}),d.extend(d.Defs,{pattern:function(W,ae,De){return this.put(new d.Pattern).update(De).attr({x:0,y:0,width:W,height:ae,patternUnits:"userSpaceOnUse"})}}),d.Shape=d.invent({create:function(W){this.constructor.call(this,W)},inherit:d.Element}),d.Symbol=d.invent({create:"symbol",inherit:d.Container,construct:{symbol:function(){return this.put(new d.Symbol)}}}),d.Use=d.invent({create:"use",inherit:d.Shape,extend:{element:function(W,ae){return this.attr("href",(ae||"")+"#"+W,d.xlink)}},construct:{use:function(W,ae){return this.put(new d.Use).element(W,ae)}}}),d.Rect=d.invent({create:"rect",inherit:d.Shape,construct:{rect:function(W,ae){return this.put(new d.Rect).size(W,ae)}}}),d.Circle=d.invent({create:"circle",inherit:d.Shape,construct:{circle:function(W){return this.put(new d.Circle).rx(new d.Number(W).divide(2)).move(0,0)}}}),d.extend(d.Circle,d.FX,{rx:function(W){return this.attr("r",W)},ry:function(W){return this.rx(W)}}),d.Ellipse=d.invent({create:"ellipse",inherit:d.Shape,construct:{ellipse:function(W,ae){return this.put(new d.Ellipse).size(W,ae).move(0,0)}}}),d.extend(d.Ellipse,d.Rect,d.FX,{rx:function(W){return this.attr("rx",W)},ry:function(W){return this.attr("ry",W)}}),d.extend(d.Circle,d.Ellipse,{x:function(W){return null==W?this.cx()-this.rx():this.cx(W+this.rx())},y:function(W){return null==W?this.cy()-this.ry():this.cy(W+this.ry())},cx:function(W){return null==W?this.attr("cx"):this.attr("cx",W)},cy:function(W){return null==W?this.attr("cy"):this.attr("cy",W)},width:function(W){return null==W?2*this.rx():this.rx(new d.Number(W).divide(2))},height:function(W){return null==W?2*this.ry():this.ry(new d.Number(W).divide(2))},size:function(W,ae){var De=ie(this,W,ae);return this.rx(new d.Number(De.width).divide(2)).ry(new d.Number(De.height).divide(2))}}),d.Line=d.invent({create:"line",inherit:d.Shape,extend:{array:function(){return new d.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(W,ae,De,Ue){return null==W?this.array():(W=void 0!==ae?{x1:W,y1:ae,x2:De,y2:Ue}:new d.PointArray(W).toLine(),this.attr(W))},move:function(W,ae){return this.attr(this.array().move(W,ae).toLine())},size:function(W,ae){var De=ie(this,W,ae);return this.attr(this.array().size(De.width,De.height).toLine())}},construct:{line:function(W,ae,De,Ue){return d.Line.prototype.plot.apply(this.put(new d.Line),null!=W?[W,ae,De,Ue]:[0,0,0,0])}}}),d.Polyline=d.invent({create:"polyline",inherit:d.Shape,construct:{polyline:function(W){return this.put(new d.Polyline).plot(W||new d.PointArray)}}}),d.Polygon=d.invent({create:"polygon",inherit:d.Shape,construct:{polygon:function(W){return this.put(new d.Polygon).plot(W||new d.PointArray)}}}),d.extend(d.Polyline,d.Polygon,{array:function(){return this._array||(this._array=new d.PointArray(this.attr("points")))},plot:function(W){return null==W?this.array():this.clear().attr("points","string"==typeof W?W:this._array=new d.PointArray(W))},clear:function(){return delete this._array,this},move:function(W,ae){return this.attr("points",this.array().move(W,ae))},size:function(W,ae){var De=ie(this,W,ae);return this.attr("points",this.array().size(De.width,De.height))}}),d.extend(d.Line,d.Polyline,d.Polygon,{morphArray:d.PointArray,x:function(W){return null==W?this.bbox().x:this.move(W,this.bbox().y)},y:function(W){return null==W?this.bbox().y:this.move(this.bbox().x,W)},width:function(W){var ae=this.bbox();return null==W?ae.width:this.size(W,ae.height)},height:function(W){var ae=this.bbox();return null==W?ae.height:this.size(ae.width,W)}}),d.Path=d.invent({create:"path",inherit:d.Shape,extend:{morphArray:d.PathArray,array:function(){return this._array||(this._array=new d.PathArray(this.attr("d")))},plot:function(W){return null==W?this.array():this.clear().attr("d","string"==typeof W?W:this._array=new d.PathArray(W))},clear:function(){return delete this._array,this}},construct:{path:function(W){return this.put(new d.Path).plot(W||new d.PathArray)}}}),d.Image=d.invent({create:"image",inherit:d.Shape,extend:{load:function(W){if(!W)return this;var ae=this,De=new We.Image;return d.on(De,"load",function(){d.off(De);var Ue=ae.parent(d.Pattern);null!==Ue&&(0==ae.width()&&0==ae.height()&&ae.size(De.width,De.height),Ue&&0==Ue.width()&&0==Ue.height()&&Ue.size(ae.width(),ae.height()),"function"==typeof ae._loaded&&ae._loaded.call(ae,{width:De.width,height:De.height,ratio:De.width/De.height,url:W}))}),d.on(De,"error",function(Ue){d.off(De),"function"==typeof ae._error&&ae._error.call(ae,Ue)}),this.attr("href",De.src=this.src=W,d.xlink)},loaded:function(W){return this._loaded=W,this},error:function(W){return this._error=W,this}},construct:{image:function(W,ae,De){return this.put(new d.Image).load(W).size(ae||0,De||ae||0)}}}),d.Text=d.invent({create:function(){this.constructor.call(this,d.create("text")),this.dom.leading=new d.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",d.defaults.attrs["font-family"])},inherit:d.Shape,extend:{x:function(W){return null==W?this.attr("x"):this.attr("x",W)},text:function(W){if(void 0===W){W="";for(var ae=this.node.childNodes,De=0,Ue=ae.length;De<Ue;++De)0!=De&&3!=ae[De].nodeType&&1==d.adopt(ae[De]).dom.newLined&&(W+="\n"),W+=ae[De].textContent;return W}if(this.clear().build(!0),"function"==typeof W)W.call(this,this);else{De=0;for(var dt=(W=W.split("\n")).length;De<dt;De++)this.tspan(W[De]).newLine()}return this.build(!1).rebuild()},size:function(W){return this.attr("font-size",W).rebuild()},leading:function(W){return null==W?this.dom.leading:(this.dom.leading=new d.Number(W),this.rebuild())},lines:function(){var W=(this.textPath&&this.textPath()||this).node,ae=d.utils.map(d.utils.filterSVGElements(W.childNodes),function(De){return d.adopt(De)});return new d.Set(ae)},rebuild:function(W){if("boolean"==typeof W&&(this._rebuild=W),this._rebuild){var ae=this,De=0,Ue=this.dom.leading*new d.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(ae.textPath()||this.attr("x",ae.attr("x")),"\n"==this.text()?De+=Ue:(this.attr("dy",Ue+De),De=0))}),this.fire("rebuild")}return this},build:function(W){return this._build=!!W,this},setData:function(W){return this.dom=W,this.dom.leading=new d.Number(W.leading||1.3),this}},construct:{text:function(W){return this.put(new d.Text).text(W)},plain:function(W){return this.put(new d.Text).plain(W)}}}),d.Tspan=d.invent({create:"tspan",inherit:d.Shape,extend:{text:function(W){return null==W?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof W?W.call(this,this):this.plain(W),this)},dx:function(W){return this.attr("dx",W)},dy:function(W){return this.attr("dy",W)},newLine:function(){var W=this.parent(d.Text);return this.dom.newLined=!0,this.dy(W.dom.leading*W.attr("font-size")).attr("x",W.x())}}}),d.extend(d.Text,d.Tspan,{plain:function(W){return!1===this._build&&this.clear(),this.node.appendChild(h.createTextNode(W)),this},tspan:function(W){var ae=(this.textPath&&this.textPath()||this).node,De=new d.Tspan;return!1===this._build&&this.clear(),ae.appendChild(De.node),De.text(W)},clear:function(){for(var W=(this.textPath&&this.textPath()||this).node;W.hasChildNodes();)W.removeChild(W.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),d.TextPath=d.invent({create:"textPath",inherit:d.Parent,parent:d.Text,construct:{morphArray:d.PathArray,array:function(){var W=this.track();return W?W.array():null},plot:function(W){var ae=this.track(),De=null;return ae&&(De=ae.plot(W)),null==W?De:this},track:function(){var W=this.textPath();if(W)return W.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return d.adopt(this.node.firstChild)}}}),d.Nested=d.invent({create:function(){this.constructor.call(this,d.create("svg")),this.style("overflow","visible")},inherit:d.Container,construct:{nested:function(){return this.put(new d.Nested)}}});var N={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(W,ae){return"color"==ae?W:W+"-"+ae}};function V(W,ae,De,Ue){return De+Ue.replace(d.regex.dots," .")}function G(W){return W.toLowerCase().replace(/-(.)/g,function(ae,De){return De.toUpperCase()})}function K(W){return W.charAt(0).toUpperCase()+W.slice(1)}function J(W){var ae=W.toString(16);return 1==ae.length?"0"+ae:ae}function ie(W,ae,De){if(null==ae||null==De){var Ue=W.bbox();null==ae?ae=Ue.width/Ue.height*De:null==De&&(De=Ue.height/Ue.width*ae)}return{width:ae,height:De}}function fe(W,ae,De){return{x:ae*W.a+De*W.c+0,y:ae*W.b+De*W.d+0}}function Se(W){return{a:W[0],b:W[1],c:W[2],d:W[3],e:W[4],f:W[5]}}function Le(W){for(var ae=W.childNodes.length-1;ae>=0;ae--)W.childNodes[ae]instanceof We.SVGElement&&Le(W.childNodes[ae]);return d.adopt(W).id(d.eid(W.nodeName))}function Fe(W){return Math.abs(W)>1e-37?W:0}["fill","stroke"].forEach(function(W){var ae={};ae[W]=function(De){if(void 0===De)return this;if("string"==typeof De||d.Color.isRgb(De)||De&&"function"==typeof De.fill)this.attr(W,De);else for(var Ue=N[W].length-1;Ue>=0;Ue--)null!=De[N[W][Ue]]&&this.attr(N.prefix(W,N[W][Ue]),De[N[W][Ue]]);return this},d.extend(d.Element,d.FX,ae)}),d.extend(d.Element,d.FX,{translate:function(W,ae){return this.transform({x:W,y:ae})},matrix:function(W){return this.attr("transform",new d.Matrix(6==arguments.length?[].slice.call(arguments):W))},opacity:function(W){return this.attr("opacity",W)},dx:function(W){return this.x(new d.Number(W).plus(this instanceof d.FX?0:this.x()),!0)},dy:function(W){return this.y(new d.Number(W).plus(this instanceof d.FX?0:this.y()),!0)}}),d.extend(d.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(W){return this.node.getPointAtLength(W)}}),d.Set=d.invent({create:function(W){Array.isArray(W)?this.members=W:this.clear()},extend:{add:function(){for(var W=[].slice.call(arguments),ae=0,De=W.length;ae<De;ae++)this.members.push(W[ae]);return this},remove:function(W){var ae=this.index(W);return ae>-1&&this.members.splice(ae,1),this},each:function(W){for(var ae=0,De=this.members.length;ae<De;ae++)W.apply(this.members[ae],[ae,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(W){return this.index(W)>=0},index:function(W){return this.members.indexOf(W)},get:function(W){return this.members[W]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(W){return new d.Set(W)}}}),d.FX.Set=d.invent({create:function(W){this.set=W}}),d.Set.inherit=function(){var W=[];for(var ae in d.Shape.prototype)"function"==typeof d.Shape.prototype[ae]&&"function"!=typeof d.Set.prototype[ae]&&W.push(ae);for(var ae in W.forEach(function(Ue){d.Set.prototype[Ue]=function(){for(var dt=0,kt=this.members.length;dt<kt;dt++)this.members[dt]&&"function"==typeof this.members[dt][Ue]&&this.members[dt][Ue].apply(this.members[dt],arguments);return"animate"==Ue?this.fx||(this.fx=new d.FX.Set(this)):this}}),W=[],d.FX.prototype)"function"==typeof d.FX.prototype[ae]&&"function"!=typeof d.FX.Set.prototype[ae]&&W.push(ae);W.forEach(function(De){d.FX.Set.prototype[De]=function(){for(var Ue=0,dt=this.set.members.length;Ue<dt;Ue++)this.set.members[Ue].fx[De].apply(this.set.members[Ue].fx,arguments);return this}})},d.extend(d.Element,{}),d.extend(d.Element,{remember:function(W,ae){if("object"===Oe(arguments[0]))for(var De in W)this.remember(De,W[De]);else{if(1==arguments.length)return this.memory()[W];this.memory()[W]=ae}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var W=arguments.length-1;W>=0;W--)delete this.memory()[arguments[W]];return this},memory:function(){return this._memory||(this._memory={})}}),d.get=function(W){var ae=h.getElementById(function(De){var Ue=(De||"").toString().match(d.regex.reference);if(Ue)return Ue[1]}(W)||W);return d.adopt(ae)},d.select=function(W,ae){return new d.Set(d.utils.map((ae||h).querySelectorAll(W),function(De){return d.adopt(De)}))},d.extend(d.Parent,{select:function(W){return d.select(W,this.node)}});var tt="abcdef".split("");if("function"!=typeof We.CustomEvent){var vt=function(W,ae){ae=ae||{bubbles:!1,cancelable:!1,detail:void 0};var De=h.createEvent("CustomEvent");return De.initCustomEvent(W,ae.bubbles,ae.cancelable,ae.detail),De};vt.prototype=We.Event.prototype,d.CustomEvent=vt}else d.CustomEvent=We.CustomEvent;return d},"function"==typeof define&&define.amd?define(function(){return Rr(tr,tr.document)}):"object"===(typeof exports>"u"?"undefined":Oe(exports))&&typeof module<"u"?module.exports=tr.document?Rr(tr,tr.document):function(We){return Rr(We,We.document)}:tr.SVG=Rr(tr,tr.document),
/*! svg.filter.js - v2.0.2 - 2016-02-24
    * https://github.com/wout/svg.filter.js
    * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(I,N){return this.add(I,N),!I.attr("in")&&this.autoSetIn&&I.attr("in",this.source),I.attr("result")||I.attr("result",I),I},blend:function(I,N,V){return this.put(new SVG.BlendEffect(I,N,V))},colorMatrix:function(I,N){return this.put(new SVG.ColorMatrixEffect(I,N))},convolveMatrix:function(I){return this.put(new SVG.ConvolveMatrixEffect(I))},componentTransfer:function(I){return this.put(new SVG.ComponentTransferEffect(I))},composite:function(I,N,V){return this.put(new SVG.CompositeEffect(I,N,V))},flood:function(I,N){return this.put(new SVG.FloodEffect(I,N))},offset:function(I,N){return this.put(new SVG.OffsetEffect(I,N))},image:function(I){return this.put(new SVG.ImageEffect(I))},merge:function(){var I=[void 0];for(var N in arguments)I.push(arguments[N]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,I)))},gaussianBlur:function(I,N){return this.put(new SVG.GaussianBlurEffect(I,N))},morphology:function(I,N){return this.put(new SVG.MorphologyEffect(I,N))},diffuseLighting:function(I,N,V){return this.put(new SVG.DiffuseLightingEffect(I,N,V))},displacementMap:function(I,N,V,G,K){return this.put(new SVG.DisplacementMapEffect(I,N,V,G,K))},specularLighting:function(I,N,V,G){return this.put(new SVG.SpecularLightingEffect(I,N,V,G))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(I,N,V,G,K){return this.put(new SVG.TurbulenceEffect(I,N,V,G,K))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(I){var N=this.put(new SVG.Filter);return"function"==typeof I&&I.call(N,N),N}}),SVG.extend(SVG.Container,{filter:function(I){return this.defs().filter(I)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(I){return this.filterer=I instanceof SVG.Element?I:this.doc().filter(I),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(I){return this.filterer&&!0===I&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(I){return null==I?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",I)},result:function(I){return null==I?this.attr("result"):this.attr("result",I)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(I){return null==I?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",I)},result:function(I){return null==I?this.attr("result"):this.attr("result",I)},toString:function(){return this.result()}}});var We={blend:function(I,N){return this.parent()&&this.parent().blend(this,I,N)},colorMatrix:function(I,N){return this.parent()&&this.parent().colorMatrix(I,N).in(this)},convolveMatrix:function(I){return this.parent()&&this.parent().convolveMatrix(I).in(this)},componentTransfer:function(I){return this.parent()&&this.parent().componentTransfer(I).in(this)},composite:function(I,N){return this.parent()&&this.parent().composite(this,I,N)},flood:function(I,N){return this.parent()&&this.parent().flood(I,N)},offset:function(I,N){return this.parent()&&this.parent().offset(I,N).in(this)},image:function(I){return this.parent()&&this.parent().image(I)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(I,N){return this.parent()&&this.parent().gaussianBlur(I,N).in(this)},morphology:function(I,N){return this.parent()&&this.parent().morphology(I,N).in(this)},diffuseLighting:function(I,N,V){return this.parent()&&this.parent().diffuseLighting(I,N,V).in(this)},displacementMap:function(I,N,V,G){return this.parent()&&this.parent().displacementMap(this,I,N,V,G)},specularLighting:function(I,N,V,G){return this.parent()&&this.parent().specularLighting(I,N,V,G).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(I,N,V,G,K){return this.parent()&&this.parent().turbulence(I,N,V,G,K).in(this)}};SVG.extend(SVG.Effect,We),SVG.extend(SVG.ParentEffect,We),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(I){this.attr("in",I)}}});var h={blend:function(I,N,V){this.attr({in:I,in2:N,mode:V||"normal"})},colorMatrix:function(I,N){"matrix"==I&&(N=S(N)),this.attr({type:I,values:void 0===N?null:N})},convolveMatrix:function(I){I=S(I),this.attr({order:Math.sqrt(I.split(" ").length),kernelMatrix:I})},composite:function(I,N,V){this.attr({in:I,in2:N,operator:V})},flood:function(I,N){this.attr("flood-color",I),null!=N&&this.attr("flood-opacity",N)},offset:function(I,N){this.attr({dx:I,dy:N})},image:function(I){this.attr("href",I,SVG.xlink)},displacementMap:function(I,N,V,G,K){this.attr({in:I,in2:N,scale:V,xChannelSelector:G,yChannelSelector:K})},gaussianBlur:function(I,N){this.attr("stdDeviation",null!=I||null!=N?function(V){if(!Array.isArray(V))return V;for(var G=0,K=V.length,J=[];G<K;G++)J.push(V[G]);return J.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(I,N){this.attr({operator:I,radius:N})},tile:function(){},turbulence:function(I,N,V,G,K){this.attr({numOctaves:N,seed:V,stitchTiles:G,baseFrequency:I,type:K})}},d={merge:function(){var I;if(arguments[0]instanceof SVG.Set){var N=this;arguments[0].each(function(G){this instanceof SVG.MergeNode?N.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&N.put(new SVG.MergeNode(this))})}else{I=Array.isArray(arguments[0])?arguments[0]:arguments;for(var V=0;V<I.length;V++)I[V]instanceof SVG.MergeNode?this.put(I[V]):this.put(new SVG.MergeNode(I[V]))}},componentTransfer:function(I){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(V){this[V]=new(SVG["Func"+V.toUpperCase()])("identity"),this.rgb.add(this[V]),this.node.appendChild(this[V].node)}.bind(this)),I)for(var N in I.rgb&&(["r","g","b"].forEach(function(V){this[V].attr(I.rgb)}.bind(this)),delete I.rgb),I)this[N].attr(I[N])},diffuseLighting:function(I,N,V){this.attr({surfaceScale:I,diffuseConstant:N,kernelUnitLength:V})},specularLighting:function(I,N,V,G){this.attr({surfaceScale:I,diffuseConstant:N,specularExponent:V,kernelUnitLength:G})}},v={distantLight:function(I,N){this.attr({azimuth:I,elevation:N})},pointLight:function(I,N,V){this.attr({x:I,y:N,z:V})},spotLight:function(I,N,V,G,K,J){this.attr({x:I,y:N,z:V,pointsAtX:G,pointsAtY:K,pointsAtZ:J})},mergeNode:function(I){this.attr("in",I)}};function S(I){return Array.isArray(I)&&(I=new SVG.Array(I)),I.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function T(){var I=function(){};for(var N in"function"==typeof arguments[arguments.length-1]&&(I=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var V in arguments[N])I(arguments[N][V],V,arguments[N])}["r","g","b","a"].forEach(function(I){v["Func"+I.toUpperCase()]=function(N){switch(this.attr("type",N),N){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),T(h,function(I,N){var V=N.charAt(0).toUpperCase()+N.slice(1);SVG[V+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+V)),I.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),T(d,function(I,N){var V=N.charAt(0).toUpperCase()+N.slice(1);SVG[V+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+V)),I.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),T(v,function(I,N){var V=N.charAt(0).toUpperCase()+N.slice(1);SVG[V]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+V)),I.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(I){return I instanceof SVG.MergeNode?this.add(I,0):this.add(new SVG.MergeNode(I),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(I){return null==I?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",I)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function We(T,I,N,V,G,K,J){for(var ie=T.slice(I,N||J),fe=V.slice(G,K||J),Se=0,Le={pos:[0,0],start:[0,0]},Fe={pos:[0,0],start:[0,0]};ie[Se]=h.call(Le,ie[Se]),fe[Se]=h.call(Fe,fe[Se]),ie[Se][0]!=fe[Se][0]||"M"==ie[Se][0]||"A"==ie[Se][0]&&(ie[Se][4]!=fe[Se][4]||ie[Se][5]!=fe[Se][5])?(Array.prototype.splice.apply(ie,[Se,1].concat(v.call(Le,ie[Se]))),Array.prototype.splice.apply(fe,[Se,1].concat(v.call(Fe,fe[Se])))):(ie[Se]=d.call(Le,ie[Se]),fe[Se]=d.call(Fe,fe[Se])),++Se!=ie.length||Se!=fe.length;)Se==ie.length&&ie.push(["C",Le.pos[0],Le.pos[1],Le.pos[0],Le.pos[1],Le.pos[0],Le.pos[1]]),Se==fe.length&&fe.push(["C",Fe.pos[0],Fe.pos[1],Fe.pos[0],Fe.pos[1],Fe.pos[0],Fe.pos[1]]);return{start:ie,dest:fe}}function h(T){switch(T[0]){case"z":case"Z":T[0]="L",T[1]=this.start[0],T[2]=this.start[1];break;case"H":T[0]="L",T[2]=this.pos[1];break;case"V":T[0]="L",T[2]=T[1],T[1]=this.pos[0];break;case"T":T[0]="Q",T[3]=T[1],T[4]=T[2],T[1]=this.reflection[1],T[2]=this.reflection[0];break;case"S":T[0]="C",T[6]=T[4],T[5]=T[3],T[4]=T[2],T[3]=T[1],T[2]=this.reflection[1],T[1]=this.reflection[0]}return T}function d(T){var I=T.length;return this.pos=[T[I-2],T[I-1]],-1!="SCQT".indexOf(T[0])&&(this.reflection=[2*this.pos[0]-T[I-4],2*this.pos[1]-T[I-3]]),T}function v(T){var I=[T];switch(T[0]){case"M":return this.pos=this.start=[T[1],T[2]],I;case"L":T[5]=T[3]=T[1],T[6]=T[4]=T[2],T[1]=this.pos[0],T[2]=this.pos[1];break;case"Q":T[6]=T[4],T[5]=T[3],T[4]=1*T[4]/3+2*T[2]/3,T[3]=1*T[3]/3+2*T[1]/3,T[2]=1*this.pos[1]/3+2*T[2]/3,T[1]=1*this.pos[0]/3+2*T[1]/3;break;case"A":T=(I=function(N,V){var G,K,J,ie,fe,Se,Le,Fe,tt,vt,W,ae,De,Ue,dt,kt,Xt,qt,Sn,Mn,Cn,gi,Ei,Bi,sr,mr,si=Math.abs(V[1]),Mi=Math.abs(V[2]),Ur=V[3]%360,Fo=V[4],So=V[5],Dn=V[6],uo=V[7],Lo=new SVG.Point(N),Gr=new SVG.Point(Dn,uo),lr=[];if(0===si||0===Mi||Lo.x===Gr.x&&Lo.y===Gr.y)return[["C",Lo.x,Lo.y,Gr.x,Gr.y,Gr.x,Gr.y]];for((K=(G=new SVG.Point((Lo.x-Gr.x)/2,(Lo.y-Gr.y)/2).transform((new SVG.Matrix).rotate(Ur))).x*G.x/(si*si)+G.y*G.y/(Mi*Mi))>1&&(si*=K=Math.sqrt(K),Mi*=K),J=(new SVG.Matrix).rotate(Ur).scale(1/si,1/Mi).rotate(-Ur),Lo=Lo.transform(J),Se=(ie=[(Gr=Gr.transform(J)).x-Lo.x,Gr.y-Lo.y])[0]*ie[0]+ie[1]*ie[1],fe=Math.sqrt(Se),ie[0]/=fe,ie[1]/=fe,Le=Se<4?Math.sqrt(1-Se/4):0,Fo===So&&(Le*=-1),Fe=new SVG.Point((Gr.x+Lo.x)/2+Le*-ie[1],(Gr.y+Lo.y)/2+Le*ie[0]),tt=new SVG.Point(Lo.x-Fe.x,Lo.y-Fe.y),vt=new SVG.Point(Gr.x-Fe.x,Gr.y-Fe.y),W=Math.acos(tt.x/Math.sqrt(tt.x*tt.x+tt.y*tt.y)),tt.y<0&&(W*=-1),ae=Math.acos(vt.x/Math.sqrt(vt.x*vt.x+vt.y*vt.y)),vt.y<0&&(ae*=-1),So&&W>ae&&(ae+=2*Math.PI),!So&&W<ae&&(ae-=2*Math.PI),kt=[],Xt=W,De=(ae-W)/(Ue=Math.ceil(2*Math.abs(W-ae)/Math.PI)),dt=4*Math.tan(De/4)/3,Cn=0;Cn<=Ue;Cn++)Sn=Math.cos(Xt),qt=Math.sin(Xt),Mn=new SVG.Point(Fe.x+Sn,Fe.y+qt),kt[Cn]=[new SVG.Point(Mn.x+dt*qt,Mn.y-dt*Sn),Mn,new SVG.Point(Mn.x-dt*qt,Mn.y+dt*Sn)],Xt+=De;for(kt[0][0]=kt[0][1].clone(),kt[kt.length-1][2]=kt[kt.length-1][1].clone(),J=(new SVG.Matrix).rotate(Ur).scale(si,Mi).rotate(-Ur),Cn=0,gi=kt.length;Cn<gi;Cn++)kt[Cn][0]=kt[Cn][0].transform(J),kt[Cn][1]=kt[Cn][1].transform(J),kt[Cn][2]=kt[Cn][2].transform(J);for(Cn=1,gi=kt.length;Cn<gi;Cn++)Ei=(Mn=kt[Cn-1][2]).x,Bi=Mn.y,sr=(Mn=kt[Cn][0]).x,mr=Mn.y,Dn=(Mn=kt[Cn][1]).x,lr.push(["C",Ei,Bi,sr,mr,Dn,uo=Mn.y]);return lr}(this.pos,T))[0]}return T[0]="C",this.pos=[T[5],T[6]],this.reflection=[2*T[5]-T[3],2*T[6]-T[4]],I}function S(T,I){if(!1===I)return!1;for(var N=I,V=T.length;N<V;++N)if("M"==T[N][0])return N;return!1}SVG.extend(SVG.PathArray,{morph:function(T){for(var I=this.value,N=this.parse(T),V=0,G=0,K=!1,J=!1;!1!==V||!1!==G;){var ie;K=S(I,!1!==V&&V+1),J=S(N,!1!==G&&G+1),!1===V&&(V=0==(ie=new SVG.PathArray(fe.start).bbox()).height||0==ie.width?I.push(I[0])-1:I.push(["M",ie.x+ie.width/2,ie.y+ie.height/2])-1),!1===G&&(G=0==(ie=new SVG.PathArray(fe.dest).bbox()).height||0==ie.width?N.push(N[0])-1:N.push(["M",ie.x+ie.width/2,ie.y+ie.height/2])-1);var fe=We(I,V,K,N,G,J);I=I.slice(0,V).concat(fe.start,!1===K?[]:I.slice(K)),N=N.slice(0,G).concat(fe.dest,!1===J?[]:N.slice(J)),V=!1!==K&&V+fe.start.length,G=!1!==J&&G+fe.dest.length}return this.value=I,this.destination=new SVG.PathArray,this.destination.value=N,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
    * https://github.com/svgdotjs/svg.draggable.js
    * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function We(h){h.remember("_draggable",this),this.el=h}We.prototype.init=function(h,d){var v=this;this.constraint=h,this.value=d,this.el.on("mousedown.drag",function(S){v.start(S)}),this.el.on("touchstart.drag",function(S){v.start(S)})},We.prototype.transformPoint=function(h,d){var v=(h=h||window.event).changedTouches&&h.changedTouches[0]||h;return this.p.x=v.clientX-(d||0),this.p.y=v.clientY,this.p.matrixTransform(this.m)},We.prototype.getBBox=function(){var h=this.el.bbox();return this.el instanceof SVG.Nested&&(h=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(h.x=this.el.x(),h.y=this.el.y()),h},We.prototype.start=function(h){if("click"!=h.type&&"mousedown"!=h.type&&"mousemove"!=h.type||1==(h.which||h.buttons)){var d=this;if(this.el.fire("beforedrag",{event:h,handler:this}),!this.el.event().defaultPrevented){h.preventDefault(),h.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var v,S=this.getBBox();if(this.el instanceof SVG.Text)switch(v=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":v/=2;break;case"start":v=0}this.startPoints={point:this.transformPoint(h,v),box:S,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(T){d.drag(T)}),SVG.on(window,"touchmove.drag",function(T){d.drag(T)}),SVG.on(window,"mouseup.drag",function(T){d.end(T)}),SVG.on(window,"touchend.drag",function(T){d.end(T)}),this.el.fire("dragstart",{event:h,p:this.startPoints.point,m:this.m,handler:this})}}},We.prototype.drag=function(h){var d=this.getBBox(),v=this.transformPoint(h),S=this.startPoints.box.x+v.x-this.startPoints.point.x,T=this.startPoints.box.y+v.y-this.startPoints.point.y,I=this.constraint,N=v.x-this.startPoints.point.x,V=v.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:h,p:v,m:this.m,handler:this}),this.el.event().defaultPrevented)return v;if("function"==typeof I){var G=I.call(this.el,S,T,this.m);"boolean"==typeof G&&(G={x:G,y:G}),!0===G.x?this.el.x(S):!1!==G.x&&this.el.x(G.x),!0===G.y?this.el.y(T):!1!==G.y&&this.el.y(G.y)}else"object"==typeof I&&(null!=I.minX&&S<I.minX?N=(S=I.minX)-this.startPoints.box.x:null!=I.maxX&&S>I.maxX-d.width&&(N=(S=I.maxX-d.width)-this.startPoints.box.x),null!=I.minY&&T<I.minY?V=(T=I.minY)-this.startPoints.box.y:null!=I.maxY&&T>I.maxY-d.height&&(V=(T=I.maxY-d.height)-this.startPoints.box.y),null!=I.snapToGrid&&(S-=S%I.snapToGrid,T-=T%I.snapToGrid,N-=N%I.snapToGrid,V-=V%I.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:N,y:V},!0):this.el.move(S,T));return v},We.prototype.end=function(h){var d=this.drag(h);this.el.fire("dragend",{event:h,p:d,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(h,d){"function"!=typeof h&&"object"!=typeof h||(d=h,h=!0);var v=this.remember("_draggable")||new We(this);return(h=void 0===h||h)?v.init(d||{},h):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function We(h){this.el=h,h.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(d,v,S){var T="string"!=typeof d?d:v[d];return S?T/2:T},this.pointCoords=function(d,v){var S=this.pointsList[d];return{x:this.pointCoord(S[0],v,"t"===d||"b"===d),y:this.pointCoord(S[1],v,"r"===d||"l"===d)}}}We.prototype.init=function(h,d){var v=this.el.bbox();this.options={};var S=this.el.selectize.defaults.points;for(var T in this.el.selectize.defaults)this.options[T]=this.el.selectize.defaults[T],void 0!==d[T]&&(this.options[T]=d[T]);var I=["points","pointsExclude"];for(var T in I){var N=this.options[I[T]];"string"==typeof N?N=N.length>0?N.split(/\s*,\s*/i):[]:"boolean"==typeof N&&"points"===I[T]&&(N=N?S:[]),this.options[I[T]]=N}this.options.points=[S,this.options.points].reduce(function(V,G){return V.filter(function(K){return G.indexOf(K)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(V,G){return V.filter(function(K){return G.indexOf(K)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(v.x,v.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(h):this.selectRect(h),this.observe(),this.cleanup()},We.prototype.selectPoints=function(h){return this.pointSelection.isSelected=h,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},We.prototype.getPointArray=function(){var h=this.el.bbox();return this.el.array().valueOf().map(function(d){return[d[0]-h.x,d[1]-h.y]})},We.prototype.drawPoints=function(){for(var h=this,d=this.getPointArray(),v=0,S=d.length;v<S;++v){var T=function(N){return function(V){(V=V||window.event).preventDefault?V.preventDefault():V.returnValue=!1,V.stopPropagation(),h.el.fire("point",{x:V.pageX||V.touches[0].pageX,y:V.pageY||V.touches[0].pageY,i:N,event:V})}}(v),I=this.drawPoint(d[v][0],d[v][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",T).on("mousedown",T);this.pointSelection.set.add(I)}},We.prototype.drawPoint=function(h,d){var v=this.options.pointType;switch(v){case"circle":return this.drawCircle(h,d);case"rect":return this.drawRect(h,d);default:if("function"==typeof v)return v.call(this,h,d);throw new Error("Unknown "+v+" point type!")}},We.prototype.drawCircle=function(h,d){return this.nested.circle(this.options.pointSize).center(h,d)},We.prototype.drawRect=function(h,d){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(h,d)},We.prototype.updatePointSelection=function(){var h=this.getPointArray();this.pointSelection.set.each(function(d){this.cx()===h[d][0]&&this.cy()===h[d][1]||this.center(h[d][0],h[d][1])})},We.prototype.updateRectSelection=function(){var h=this,d=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:d.width,height:d.height}),this.options.points.length&&this.options.points.map(function(S,T){var I=h.pointCoords(S,d);h.rectSelection.set.get(T+1).center(I.x,I.y)}),this.options.rotationPoint){var v=this.rectSelection.set.length();this.rectSelection.set.get(v-1).center(d.width/2,20)}},We.prototype.selectRect=function(h){var d=this,v=this.el.bbox();function S(N){return function(V){(V=V||window.event).preventDefault?V.preventDefault():V.returnValue=!1,V.stopPropagation(),d.el.fire(N,{x:V.pageX||V.touches[0].pageX,y:V.pageY||V.touches[0].pageY,event:V})}}if(this.rectSelection.isSelected=h,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(v.width,v.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(N,V){var G=d.pointCoords(N,v),K=d.drawPoint(G.x,G.y).attr("class",d.options.classPoints+"_"+N).on("mousedown",S(N)).on("touchstart",S(N));d.rectSelection.set.add(K)}),this.rectSelection.set.each(function(){this.addClass(d.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var T=function(N){(N=N||window.event).preventDefault?N.preventDefault():N.returnValue=!1,N.stopPropagation(),d.el.fire("rot",{x:N.pageX||N.touches[0].pageX,y:N.pageY||N.touches[0].pageY,event:N})},I=this.drawPoint(v.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",T).on("mousedown",T);this.rectSelection.set.add(I)}},We.prototype.handler=function(){var h=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(h.x,h.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},We.prototype.observe=function(){var h=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){h.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){h.handler()})},We.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(h,d){return"object"==typeof h&&(d=h,h=!0),(this.remember("_selectHandler")||new We(this)).init(void 0===h||h,d||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function We(h){h.remember("_resizeHandler",this),this.el=h,this.parameters={},this.lastUpdateCall=null,this.p=h.doc().node.createSVGPoint()}We.prototype.transformPoint=function(h,d,v){return this.p.x=h-(this.offset.x-window.pageXOffset),this.p.y=d-(this.offset.y-window.pageYOffset),this.p.matrixTransform(v||this.m)},We.prototype._extractPosition=function(h){return{x:null!=h.clientX?h.clientX:h.touches[0].clientX,y:null!=h.clientY?h.clientY:h.touches[0].clientY}},We.prototype.init=function(h){var d=this;if(this.stop(),"stop"!==h){for(var v in this.options={},this.el.resize.defaults)this.options[v]=this.el.resize.defaults[v],void 0!==h[v]&&(this.options[v]=h[v]);this.el.on("lt.resize",function(S){d.resize(S||window.event)}),this.el.on("rt.resize",function(S){d.resize(S||window.event)}),this.el.on("rb.resize",function(S){d.resize(S||window.event)}),this.el.on("lb.resize",function(S){d.resize(S||window.event)}),this.el.on("t.resize",function(S){d.resize(S||window.event)}),this.el.on("r.resize",function(S){d.resize(S||window.event)}),this.el.on("b.resize",function(S){d.resize(S||window.event)}),this.el.on("l.resize",function(S){d.resize(S||window.event)}),this.el.on("rot.resize",function(S){d.resize(S||window.event)}),this.el.on("point.resize",function(S){d.resize(S||window.event)}),this.update()}},We.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},We.prototype.resize=function(h){var d=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var v=this._extractPosition(h.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(v.x,v.y),x:h.detail.x,y:h.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==h.detail.i){var S=this.el.array().valueOf();this.parameters.i=h.detail.i,this.parameters.pointCoords=[S[h.detail.i][0],S[h.detail.i][1]]}switch(h.type){case"lt":this.calc=function(T,I){var N=this.snapToGrid(T,I);if(this.parameters.box.width-N[0]>0&&this.parameters.box.height-N[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-N[0]);N=this.checkAspectRatio(N),this.el.move(this.parameters.box.x+N[0],this.parameters.box.y+N[1]).size(this.parameters.box.width-N[0],this.parameters.box.height-N[1])}};break;case"rt":this.calc=function(T,I){var N=this.snapToGrid(T,I,2);if(this.parameters.box.width+N[0]>0&&this.parameters.box.height-N[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+N[0]);N=this.checkAspectRatio(N,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+N[1]).size(this.parameters.box.width+N[0],this.parameters.box.height-N[1])}};break;case"rb":this.calc=function(T,I){var N=this.snapToGrid(T,I,0);if(this.parameters.box.width+N[0]>0&&this.parameters.box.height+N[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+N[0]);N=this.checkAspectRatio(N),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+N[0],this.parameters.box.height+N[1])}};break;case"lb":this.calc=function(T,I){var N=this.snapToGrid(T,I,1);if(this.parameters.box.width-N[0]>0&&this.parameters.box.height+N[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-N[0]);N=this.checkAspectRatio(N,!0),this.el.move(this.parameters.box.x+N[0],this.parameters.box.y).size(this.parameters.box.width-N[0],this.parameters.box.height+N[1])}};break;case"t":this.calc=function(T,I){var N=this.snapToGrid(T,I,2);if(this.parameters.box.height-N[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+N[1]).height(this.parameters.box.height-N[1])}};break;case"r":this.calc=function(T,I){var N=this.snapToGrid(T,I,0);if(this.parameters.box.width+N[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+N[0])}};break;case"b":this.calc=function(T,I){var N=this.snapToGrid(T,I,0);if(this.parameters.box.height+N[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+N[1])}};break;case"l":this.calc=function(T,I){var N=this.snapToGrid(T,I,1);if(this.parameters.box.width-N[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+N[0],this.parameters.box.y).width(this.parameters.box.width-N[0])}};break;case"rot":this.calc=function(T,I){var N=T+this.parameters.p.x,V=I+this.parameters.p.y,G=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),K=Math.atan2(V-this.parameters.box.y-this.parameters.box.height/2,N-this.parameters.box.x-this.parameters.box.width/2),J=this.parameters.rotation+180*(K-G)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(J-J%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(T,I){var N=this.snapToGrid(T,I,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),V=this.el.array().valueOf();V[this.parameters.i][0]=this.parameters.pointCoords[0]+N[0],V[this.parameters.i][1]=this.parameters.pointCoords[1]+N[1],this.el.plot(V)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:h}),SVG.on(window,"touchmove.resize",function(T){d.update(T||window.event)}),SVG.on(window,"touchend.resize",function(){d.done()}),SVG.on(window,"mousemove.resize",function(T){d.update(T||window.event)}),SVG.on(window,"mouseup.resize",function(){d.done()})},We.prototype.update=function(h){if(h){var d=this._extractPosition(h),v=this.transformPoint(d.x,d.y),S=v.x-this.parameters.p.x,T=v.y-this.parameters.p.y;this.lastUpdateCall=[S,T],this.calc(S,T),this.el.fire("resizing",{dx:S,dy:T,event:h})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},We.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},We.prototype.snapToGrid=function(h,d,v,S){var T;return T=void 0!==S?[(v+h)%this.options.snapToGrid,(S+d)%this.options.snapToGrid]:[(this.parameters.box.x+h+(1&(v=v??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+d+(2&v?0:this.parameters.box.height))%this.options.snapToGrid],h<0&&(T[0]-=this.options.snapToGrid),d<0&&(T[1]-=this.options.snapToGrid),h-=Math.abs(T[0])<this.options.snapToGrid/2?T[0]:T[0]-(h<0?-this.options.snapToGrid:this.options.snapToGrid),d-=Math.abs(T[1])<this.options.snapToGrid/2?T[1]:T[1]-(d<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(h,d,v,S)},We.prototype.constraintToBox=function(h,d,v,S){var T,I,N=this.options.constraint||{};return void 0!==S?(T=v,I=S):(T=this.parameters.box.x+(1&v?0:this.parameters.box.width),I=this.parameters.box.y+(2&v?0:this.parameters.box.height)),void 0!==N.minX&&T+h<N.minX&&(h=N.minX-T),void 0!==N.maxX&&T+h>N.maxX&&(h=N.maxX-T),void 0!==N.minY&&I+d<N.minY&&(d=N.minY-I),void 0!==N.maxY&&I+d>N.maxY&&(d=N.maxY-I),[h,d]},We.prototype.checkAspectRatio=function(h,d){if(!this.options.saveAspectRatio)return h;var v=h.slice(),S=this.parameters.box.width/this.parameters.box.height,T=this.parameters.box.width+h[0],I=this.parameters.box.height-h[1],N=T/I;return N<S?(v[1]=T/S-this.parameters.box.height,d&&(v[1]=-v[1])):N>S&&(v[0]=this.parameters.box.width-I*S,d&&(v[0]=-v[0])),v},SVG.extend(SVG.Element,{resize:function(h){return(this.remember("_resizeHandler")||new We(this)).init(h||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var ni=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ot(this.ctx),this.ctx.axes=new jr(this.ctx),this.ctx.core=new Sr(this.ctx.el,this.ctx),this.ctx.config=new pn({}),this.ctx.data=new Zt(this.ctx),this.ctx.grid=new Ht(this.ctx),this.ctx.graphics=new je(this.ctx),this.ctx.coreUtils=new Ke(this.ctx),this.ctx.crosshairs=new _n(this.ctx),this.ctx.events=new hi(this.ctx),this.ctx.exports=new xn(this.ctx),this.ctx.localization=new pr(this.ctx),this.ctx.options=new Qe,this.ctx.responsive=new Gn(this.ctx),this.ctx.series=new jt(this.ctx),this.ctx.theme=new di(this.ctx),this.ctx.formatters=new _t(this.ctx),this.ctx.titleSubtitle=new bi(this.ctx),this.ctx.legend=new ir(this.ctx),this.ctx.toolbar=new Jr(this.ctx),this.ctx.tooltip=new at(this.ctx),this.ctx.dimensions=new po(this.ctx),this.ctx.updateHelpers=new Fn(this.ctx),this.ctx.zoomPanSelection=new Zo(this.ctx),this.ctx.w.globals.tooltip=new at(this.ctx)}}]),We}(),Jn=function(){function We(h){it(this,We),this.ctx=h,this.w=h.w}return nt(We,[{key:"clear",value:function(h){var d=h.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:d})}},{key:"killSVG",value:function(h){h.each(function(d,v){this.removeClass("*"),this.off(),this.stop()},!0),h.ungroup(),h.clear()}},{key:"clearDomElements",value:function(h){var d=this,S=this.w.globals.dom.Paper.node;S.parentNode&&S.parentNode.parentNode&&!h.isUpdating&&(S.parentNode.parentNode.style.minHeight="unset");var T=this.w.globals.dom.baseEl;T&&this.ctx.eventList.forEach(function(N){T.removeEventListener(N,d.ctx.events.documentEvent)});var I=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(I.Paper),I.Paper.remove(),I.elWrap=null,I.elGraphical=null,I.elLegendWrap=null,I.elLegendForeign=null,I.baseEl=null,I.elGridRect=null,I.elGridRectMask=null,I.elGridRectMarkerMask=null,I.elForecastMask=null,I.elNonForecastMask=null,I.elDefs=null}}]),We}(),fi=new WeakMap,xi=function(){function We(h,d){it(this,We),this.opts=d,this.ctx=this,this.w=new Vt(d).init(),this.el=h,this.w.globals.cuid=de.randomId(),this.w.globals.chartID=this.w.config.chart.id?de.escapeString(this.w.config.chart.id):this.w.globals.cuid,new ni(this).initModules(),this.create=de.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return nt(We,[{key:"render",value:function(){var h=this;return new Promise(function(d,v){if(null!==h.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),h.w.config.chart.id&&Apex._chartInstances.push({id:h.w.globals.chartID,group:h.w.config.chart.group,chart:h}),h.setLocale(h.w.config.chart.defaultLocale);var S=h.w.config.chart.events.beforeMount;if("function"==typeof S&&S(h,h.w),h.events.fireEvent("beforeMount",[h,h.w]),window.addEventListener("resize",h.windowResizeHandler),function(ie,fe){var Se=!1;if(ie.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var Le=ie.getBoundingClientRect();"none"!==ie.style.display&&0!==Le.width||(Se=!0)}var Fe=new ResizeObserver(function(tt){Se&&fe.call(ie,tt),Se=!0});ie.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(ie.children).forEach(function(tt){return Fe.observe(tt)}):Fe.observe(ie),fi.set(fe,Fe)}(h.el.parentNode,h.parentResizeHandler),!h.css){var T=h.el.getRootNode&&h.el.getRootNode(),I=de.is("ShadowRoot",T),N=h.el.ownerDocument,V=N.getElementById("apexcharts-css");if(I||!V){var G;h.css=document.createElement("style"),h.css.id="apexcharts-css",h.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-radialbar-label {\n  cursor: pointer;\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}';var K=(null===(G=h.opts.chart)||void 0===G?void 0:G.nonce)||h.w.config.chart.nonce;K&&h.css.setAttribute("nonce",K),I?T.prepend(h.css):N.head.appendChild(h.css)}}var J=h.create(h.w.config.series,{});if(!J)return d(h);h.mount(J).then(function(){"function"==typeof h.w.config.chart.events.mounted&&h.w.config.chart.events.mounted(h,h.w),h.events.fireEvent("mounted",[h,h.w]),d(J)}).catch(function(ie){v(ie)})}else v(new Error("Element not found"))})}},{key:"create",value:function(h,d){var v=this.w;new ni(this).initModules();var S=this.w.globals;if(S.noData=!1,S.animationEnded=!1,this.responsive.checkResponsiveConfig(d),v.config.xaxis.convertedCatToNumeric&&new hn(v.config).convertCatToNumericXaxis(v.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===v.config.chart.type&&(v.config.grid.show=!1,v.config.yaxis[0].show=!1),0===S.svgWidth))return S.animationEnded=!0,null;var T=Ke.checkComboSeries(h);S.comboCharts=T.comboCharts,S.comboBarCount=T.comboBarCount;var I=h.every(function(K){return K.data&&0===K.data.length});(0===h.length||I)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(h),this.theme.init(),new ue(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),S.noData&&S.collapsedSeries.length!==S.series.length&&!v.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),S.axisCharts&&(this.core.coreCalculations(),"category"!==v.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=v.globals.minX,this.ctx.toolbar.maxX=v.globals.maxX),this.formatters.heatmapLabelFormatters(),new Ke(this).getLargestMarkerSize(),this.dimensions.plotCoords();var N=this.core.xySettings();this.grid.createGridMask();var V=this.core.plotChartType(h,N),G=new on(this);return G.bringForward(),v.config.dataLabels.background.enabled&&G.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:V,xyRatios:N,dimensions:{plot:{left:v.globals.translateX,top:v.globals.translateY,width:v.globals.gridWidth,height:v.globals.gridHeight}}}}},{key:"mount",value:function(){var h=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,v=this,S=v.w;return new Promise(function(T,I){if(null===v.el)return I(new Error("Not enough data to display or target element not found"));(null===d||S.globals.allSeriesCollapsed)&&v.series.handleNoData(),v.grid=new Ht(v);var N,V,G=v.grid.drawGrid();if(v.annotations=new rt(v),v.annotations.drawImageAnnos(),v.annotations.drawTextAnnos(),"back"===S.config.grid.position&&(G&&S.globals.dom.elGraphical.add(G.el),null!=G&&null!==(N=G.elGridBorders)&&void 0!==N&&N.node&&S.globals.dom.elGraphical.add(G.elGridBorders)),Array.isArray(d.elGraph))for(var K=0;K<d.elGraph.length;K++)S.globals.dom.elGraphical.add(d.elGraph[K]);else S.globals.dom.elGraphical.add(d.elGraph);"front"===S.config.grid.position&&(G&&S.globals.dom.elGraphical.add(G.el),null!=G&&null!==(V=G.elGridBorders)&&void 0!==V&&V.node&&S.globals.dom.elGraphical.add(G.elGridBorders)),"front"===S.config.xaxis.crosshairs.position&&v.crosshairs.drawXCrosshairs(),"front"===S.config.yaxis[0].crosshairs.position&&v.crosshairs.drawYCrosshairs(),"treemap"!==S.config.chart.type&&v.axes.drawAxis(S.config.chart.type,G);var J=new Bt(h.ctx,G),ie=new En(h.ctx,G);if(null!==G&&(J.xAxisLabelCorrections(G.xAxisTickWidth),ie.setYAxisTextAlignments(),S.config.yaxis.map(function(Se,Le){-1===S.globals.ignoreYAxisIndexes.indexOf(Le)&&ie.yAxisTitleRotate(Le,Se.opposite)})),v.annotations.drawAxesAnnotations(),!S.globals.noData){if(S.config.tooltip.enabled&&!S.globals.noData&&v.w.globals.tooltip.drawTooltip(d.xyRatios),S.globals.axisCharts&&(S.globals.isXNumeric||S.config.xaxis.convertedCatToNumeric||S.globals.isRangeBar))(S.config.chart.zoom.enabled||S.config.chart.selection&&S.config.chart.selection.enabled||S.config.chart.pan&&S.config.chart.pan.enabled)&&v.zoomPanSelection.init({xyRatios:d.xyRatios});else{var fe=S.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(Se){fe[Se]=!1})}S.config.chart.toolbar.show&&!S.globals.allSeriesCollapsed&&v.toolbar.createToolbar()}S.globals.memory.methodsToExec.length>0&&S.globals.memory.methodsToExec.forEach(function(Se){Se.method(Se.params,!1,Se.context)}),S.globals.axisCharts||S.globals.noData||v.core.resizeNonAxisCharts(),T(v)})}},{key:"destroy",value:function(){var h,d;window.removeEventListener("resize",this.windowResizeHandler),(d=fi.get(h=this.parentResizeHandler))&&(d.disconnect(),fi.delete(h));var v=this.w.config.chart.id;v&&Apex._chartInstances.forEach(function(S,T){S.id===de.escapeString(v)&&Apex._chartInstances.splice(T,1)}),new Jn(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(h){var d=this,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],T=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],I=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=this.w;return N.globals.selection=void 0,h.series&&(this.series.resetSeries(!1,!0,!1),h.series.length&&h.series[0].data&&(h.series=h.series.map(function(V,G){return d.updateHelpers._extendSeries(V,G)})),this.updateHelpers.revertDefaultAxisMinMax()),h.xaxis&&(h=this.updateHelpers.forceXAxisUpdate(h)),h.yaxis&&(h=this.updateHelpers.forceYAxisUpdate(h)),N.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),h.theme&&(h=this.theme.updateThemeOptions(h)),this.updateHelpers._updateOptions(h,v,S,T,I)}},{key:"updateSeries",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,d,v)}},{key:"appendSeries",value:function(h){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=this.w.config.series.slice();return S.push(h),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(S,d,v)}},{key:"appendData",value:function(h){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=this;v.w.globals.dataChanged=!0,v.series.getPreviousPaths();for(var S=v.w.config.series.slice(),T=0;T<S.length;T++)if(null!=h[T])for(var I=0;I<h[T].data.length;I++)S[T].data.push(h[T].data[I]);return v.w.config.series=S,d&&(v.w.globals.initialSeries=de.clone(v.w.config.series)),this.update()}},{key:"update",value:function(h){var d=this;return new Promise(function(v,S){new Jn(d.ctx).clear({isUpdating:!0});var T=d.create(d.w.config.series,h);if(!T)return v(d);d.mount(T).then(function(){"function"==typeof d.w.config.chart.events.updated&&d.w.config.chart.events.updated(d,d.w),d.events.fireEvent("updated",[d,d.w]),d.w.globals.isDirty=!0,v(d)}).catch(function(I){S(I)})})}},{key:"getSyncedCharts",value:function(){var h=this.getGroupedCharts(),d=[this];return h.length&&(d=[],h.forEach(function(v){d.push(v)})),d}},{key:"getGroupedCharts",value:function(){var h=this;return Apex._chartInstances.filter(function(d){if(d.group)return!0}).map(function(d){return h.w.config.chart.group===d.group?d.chart:h})}},{key:"toggleSeries",value:function(h){return this.series.toggleSeries(h)}},{key:"highlightSeriesOnLegendHover",value:function(h,d){return this.series.toggleSeriesOnHover(h,d)}},{key:"showSeries",value:function(h){this.series.showSeries(h)}},{key:"hideSeries",value:function(h){this.series.hideSeries(h)}},{key:"isSeriesHidden",value:function(h){this.series.isSeriesHidden(h)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(h,d){this.events.addEventListener(h,d)}},{key:"removeEventListener",value:function(h,d){this.events.removeEventListener(h,d)}},{key:"addXaxisAnnotation",value:function(h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;v&&(S=v),S.annotations.addXaxisAnnotationExternal(h,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],S)}},{key:"addYaxisAnnotation",value:function(h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;v&&(S=v),S.annotations.addYaxisAnnotationExternal(h,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],S)}},{key:"addPointAnnotation",value:function(h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;v&&(S=v),S.annotations.addPointAnnotationExternal(h,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],S)}},{key:"clearAnnotations",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,d=this;h&&(d=h),d.annotations.clearAnnotations(d)}},{key:"removeAnnotation",value:function(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,v=this;d&&(v=d),v.annotations.removeAnnotation(v,h)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(h,d){return this.coreUtils.getSeriesTotalsXRange(h,d)}},{key:"getHighestValueInSeries",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new xr(this.ctx).getMinYMaxY(h).highestY}},{key:"getLowestValueInSeries",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new xr(this.ctx).getMinYMaxY(h).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(h,d){return this.updateHelpers.toggleDataPointSelection(h,d)}},{key:"zoomX",value:function(h,d){this.ctx.toolbar.zoomUpdateOptions(h,d)}},{key:"setLocale",value:function(h){this.localization.setCurrentLocaleValues(h)}},{key:"dataURI",value:function(h){return new xn(this.ctx).dataURI(h)}},{key:"exportToCSV",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new xn(this.ctx).exportToCSV(h)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var h=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){h.w.globals.resized=!0,h.w.globals.dataChanged=!1,h.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var h=this.w.config.chart.redrawOnWindowResize;"function"==typeof h&&(h=h()),h&&this._windowResize()}}],[{key:"getChartByID",value:function(h){var d=de.escapeString(h);if(Apex._chartInstances){var v=Apex._chartInstances.filter(function(S){return S.id===d})[0];return v&&v.chart}}},{key:"initOnLoad",value:function(){for(var h=document.querySelectorAll("[data-apexcharts]"),d=0;d<h.length;d++)new We(h[d],JSON.parse(h[d].getAttribute("data-options"))).render()}},{key:"exec",value:function(h,d){var v=this.getChartByID(h);if(v){v.w.globals.isExecCalled=!0;var S=null;if(-1!==v.publicMethods.indexOf(d)){for(var T=arguments.length,I=new Array(T>2?T-2:0),N=2;N<T;N++)I[N-2]=arguments[N];S=v[d].apply(v,I)}return S}}},{key:"merge",value:function(h,d){return de.extend(h,d)}}]),We}();return xi}),function(Kt,Ze){"object"==typeof exports&&typeof module<"u"?module.exports=Ze():"function"==typeof define&&define.amd?define(Ze):(Kt=typeof globalThis<"u"?globalThis:Kt||self).Chart=Ze()}(this,function(){"use strict";var Kt=Object.freeze({__proto__:null,get Colors(){return Lh},get Decimation(){return Ph},get Filler(){return df},get Legend(){return iu},get SubTitle(){return pf},get Title(){return Og},get Tooltip(){return J0}});function Ze(){}const Oe=(()=>{let E=0;return()=>E++})();function it(E){return null==E}function Nt(E){if(Array.isArray&&Array.isArray(E))return!0;const x=Object.prototype.toString.call(E);return"[object"===x.slice(0,7)&&"Array]"===x.slice(-6)}function nt(E){return null!==E&&"[object Object]"===Object.prototype.toString.call(E)}function gt(E){return("number"==typeof E||E instanceof Number)&&isFinite(+E)}function et(E,x){return gt(E)?E:x}function Ve(E,x){return void 0===E?x:E}const ye=(E,x)=>"string"==typeof E&&E.endsWith("%")?parseFloat(E)/100:+E/x,ge=(E,x)=>"string"==typeof E&&E.endsWith("%")?parseFloat(E)/100*x:+E;function we(E,x,A){if(E&&"function"==typeof E.call)return E.apply(A,x)}function ve(E,x,A,P){let B,j,U;if(Nt(E))if(j=E.length,P)for(B=j-1;B>=0;B--)x.call(A,E[B],B);else for(B=0;B<j;B++)x.call(A,E[B],B);else if(nt(E))for(U=Object.keys(E),j=U.length,B=0;B<j;B++)x.call(A,E[U[B]],U[B])}function Ne(E,x){let A,P,B,j;if(!E||!x||E.length!==x.length)return!1;for(A=0,P=E.length;A<P;++A)if(B=E[A],j=x[A],B.datasetIndex!==j.datasetIndex||B.index!==j.index)return!1;return!0}function Ie(E){if(Nt(E))return E.map(Ie);if(nt(E)){const x=Object.create(null),A=Object.keys(E),P=A.length;let B=0;for(;B<P;++B)x[A[B]]=Ie(E[A[B]]);return x}return E}function Ce(E){return-1===["__proto__","prototype","constructor"].indexOf(E)}function de(E,x,A,P){if(!Ce(E))return;const B=x[E],j=A[E];nt(B)&&nt(j)?ot(B,j,P):x[E]=Ie(j)}function ot(E,x,A){const P=Nt(x)?x:[x],B=P.length;if(!nt(E))return E;const j=(A=A||{}).merger||de;let U;for(let ee=0;ee<B;++ee){if(U=P[ee],!nt(U))continue;const le=Object.keys(U);for(let me=0,Be=le.length;me<Be;++me)j(le[me],E,U,A)}return E}function Ae(E,x){return ot(E,x,{merger:je})}function je(E,x,A){if(!Ce(E))return;const P=x[E],B=A[E];nt(P)&&nt(B)?Ae(P,B):Object.prototype.hasOwnProperty.call(x,E)||(x[E]=Ie(B))}const Ke={"":E=>E,x:E=>E.x,y:E=>E.y};function yt(E){const x=E.split("."),A=[];let P="";for(const B of x)P+=B,P.endsWith("\\")?P=P.slice(0,-1)+".":(A.push(P),P="");return A}function Ot(E,x){return(Ke[x]||(Ke[x]=function(P){const B=yt(P);return j=>{for(const U of B){if(""===U)break;j=j&&j[U]}return j}}(x)))(E)}function wt(E){return E.charAt(0).toUpperCase()+E.slice(1)}const lt=E=>void 0!==E,$e=E=>"function"==typeof E,Qe=(E,x)=>{if(E.size!==x.size)return!1;for(const A of E)if(!x.has(A))return!1;return!0};function rt(E){return"mouseup"===E.type||"click"===E.type||"contextmenu"===E.type}const zt=Math.PI,_t=2*zt,It=_t+zt,Hn=Number.POSITIVE_INFINITY,hn=zt/180,pn=zt/2,qe=zt/4,Vt=2*zt/3,pe=Math.log10,ue=Math.sign;function ln(E,x,A){return Math.abs(E-x)<A}function on(E){const x=Math.round(E);E=ln(E,x,E/1e3)?x:E;const A=Math.pow(10,Math.floor(pe(E))),P=E/A;return(P<=1?1:P<=2?2:P<=5?5:10)*A}function jt(E){const x=[],A=Math.sqrt(E);let P;for(P=1;P<A;P++)E%P==0&&(x.push(P),x.push(E/P));return A===(0|A)&&x.push(A),x.sort((B,j)=>B-j).pop(),x}function Zt(E){return!isNaN(parseFloat(E))&&isFinite(E)}function Et(E,x){const A=Math.round(E);return A-x<=E&&A+x>=E}function xn(E,x,A){let P,B,j;for(P=0,B=E.length;P<B;P++)j=E[P][A],isNaN(j)||(x.min=Math.min(x.min,j),x.max=Math.max(x.max,j))}function Bt(E){return E*(zt/180)}function Ht(E){return E*(180/zt)}function On(E){if(!gt(E))return;let x=1,A=0;for(;Math.round(E*x)/x!==E;)x*=10,A++;return A}function xr(E,x){const A=x.x-E.x,P=x.y-E.y,B=Math.sqrt(A*A+P*P);let j=Math.atan2(P,A);return j<-.5*zt&&(j+=_t),{angle:j,distance:B}}function En(E,x){return Math.sqrt(Math.pow(x.x-E.x,2)+Math.pow(x.y-E.y,2))}function hi(E,x){return(E-x+It)%_t-zt}function pr(E){return(E%_t+_t)%_t}function jr(E,x,A,P){const B=pr(E),j=pr(x),U=pr(A),ee=pr(j-B),le=pr(U-B),me=pr(B-j),Be=pr(B-U);return B===j||B===U||P&&j===U||ee>le&&me<Be}function _n(E,x,A){return Math.max(x,Math.min(A,E))}function Gn(E){return _n(E,-32768,32767)}function di(E,x,A,P=1e-6){return E>=Math.min(x,A)-P&&E<=Math.max(x,A)+P}function bi(E,x,A){A=A||(U=>E[U]<x);let P,B=E.length-1,j=0;for(;B-j>1;)P=j+B>>1,A(P)?j=P:B=P;return{lo:j,hi:B}}const ai=(E,x,A,P)=>bi(E,A,P?B=>{const j=E[B][x];return j<A||j===A&&E[B+1][x]===A}:B=>E[B][x]<A),Wi=(E,x,A)=>bi(E,A,P=>E[P][x]>=A);function yi(E,x,A){let P=0,B=E.length;for(;P<B&&E[P]<x;)P++;for(;B>P&&E[B-1]>A;)B--;return P>0||B<E.length?E.slice(P,B):E}const fr=["push","pop","shift","splice","unshift"];function po(E,x){E._chartjs?E._chartjs.listeners.push(x):(Object.defineProperty(E,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[x]}}),fr.forEach(A=>{const P="_onData"+wt(A),B=E[A];Object.defineProperty(E,A,{configurable:!0,enumerable:!1,value(...j){const U=B.apply(this,j);return E._chartjs.listeners.forEach(ee=>{"function"==typeof ee[P]&&ee[P](...j)}),U}})}))}function Fr(E,x){const A=E._chartjs;if(!A)return;const P=A.listeners,B=P.indexOf(x);-1!==B&&P.splice(B,1),P.length>0||(fr.forEach(j=>{delete E[j]}),delete E._chartjs)}function ir(E){const x=new Set(E);return x.size===E.length?E:Array.from(x)}const Jr=typeof window>"u"?function(E){return E()}:window.requestAnimationFrame;function Zo(E,x){let A=[],P=!1;return function(...B){A=B,P||(P=!0,Jr.call(window,()=>{P=!1,E.apply(x,A)}))}}function ns(E,x){let A;return function(...P){return x?(clearTimeout(A),A=setTimeout(E,x,P)):E.apply(this,P),x}}const Do=E=>"start"===E?"left":"end"===E?"right":"center",fa=(E,x,A)=>"start"===E?x:"end"===E?A:(x+A)/2,Ye=(E,x,A,P)=>E===(P?"left":"right")?A:"center"===E?(x+A)/2:x;function Te(E,x,A){const P=x.length;let B=0,j=P;if(E._sorted){const{iScale:U,_parsed:ee}=E,le=U.axis,{min:me,max:Be,minDefined:Pe,maxDefined:Ge}=U.getUserBounds();Pe&&(B=_n(Math.min(ai(ee,le,me).lo,A?P:ai(x,le,U.getPixelForValue(me)).lo),0,P-1)),j=Ge?_n(Math.max(ai(ee,U.axis,Be,!0).hi+1,A?0:ai(x,le,U.getPixelForValue(Be),!0).hi+1),B,P)-B:P-B}return{start:B,count:j}}function be(E){const{xScale:x,yScale:A,_scaleRanges:P}=E,B={xmin:x.min,xmax:x.max,ymin:A.min,ymax:A.max};if(!P)return E._scaleRanges=B,!0;const j=P.xmin!==x.min||P.xmax!==x.max||P.ymin!==A.min||P.ymax!==A.max;return Object.assign(P,B),j}var bt=new class at{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(x,A,P,B){const U=A.duration;A.listeners[B].forEach(ee=>ee({chart:x,initial:A.initial,numSteps:U,currentStep:Math.min(P-A.start,U)}))}_refresh(){this._request||(this._running=!0,this._request=Jr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(x=Date.now()){let A=0;this._charts.forEach((P,B)=>{if(!P.running||!P.items.length)return;const j=P.items;let U,ee=j.length-1,le=!1;for(;ee>=0;--ee)U=j[ee],U._active?(U._total>P.duration&&(P.duration=U._total),U.tick(x),le=!0):(j[ee]=j[j.length-1],j.pop());le&&(B.draw(),this._notify(B,P,x,"progress")),j.length||(P.running=!1,this._notify(B,P,x,"complete"),P.initial=!1),A+=j.length}),this._lastDate=x,0===A&&(this._running=!1)}_getAnims(x){const A=this._charts;let P=A.get(x);return P||(P={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},A.set(x,P)),P}listen(x,A,P){this._getAnims(x).listeners[A].push(P)}add(x,A){A&&A.length&&this._getAnims(x).items.push(...A)}has(x){return this._getAnims(x).items.length>0}start(x){const A=this._charts.get(x);A&&(A.running=!0,A.start=Date.now(),A.duration=A.items.reduce((P,B)=>Math.max(P,B._duration),0),this._refresh())}running(x){if(!this._running)return!1;const A=this._charts.get(x);return!!(A&&A.running&&A.items.length)}stop(x){const A=this._charts.get(x);if(!A||!A.items.length)return;const P=A.items;let B=P.length-1;for(;B>=0;--B)P[B].cancel();A.items=[],this._notify(x,A,Date.now(),"complete")}remove(x){return this._charts.delete(x)}};function Pt(E){return E+.5|0}const ft=(E,x,A)=>Math.max(Math.min(E,A),x);function At(E){return ft(Pt(2.55*E),0,255)}function Ft(E){return ft(Pt(255*E),0,255)}function Gt(E){return ft(Pt(E/2.55)/100,0,1)}function zn(E){return ft(Pt(100*E),0,100)}const Xn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ei=[..."0123456789ABCDEF"],Qn=E=>ei[15&E],ti=E=>ei[(240&E)>>4]+ei[15&E],Qi=E=>(240&E)>>4==(15&E),gr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vn(E,x,A){const P=x*Math.min(A,1-A),B=(j,U=(j+E/30)%12)=>A-P*Math.max(Math.min(U-3,9-U,1),-1);return[B(0),B(8),B(4)]}function Li(E,x,A){const P=(B,j=(B+E/60)%6)=>A-A*x*Math.max(Math.min(j,4-j,1),0);return[P(5),P(3),P(1)]}function Ir(E,x,A){const P=Vn(E,1,.5);let B;for(x+A>1&&(B=1/(x+A),x*=B,A*=B),B=0;B<3;B++)P[B]*=1-x-A,P[B]+=x;return P}function wr(E){const x=E.r/255,A=E.g/255,P=E.b/255,B=Math.max(x,A,P),j=Math.min(x,A,P),U=(B+j)/2;let ee,le,me;return B!==j&&(me=B-j,le=U>.5?me/(2-B-j):me/(B+j),Pe=A,Ge=P,ct=me,ee=(Be=x)===(Ct=B)?(Pe-Ge)/ct+(Pe<Ge?6:0):Pe===Ct?(Ge-Be)/ct+2:(Be-Pe)/ct+4,ee=60*ee+.5),[0|ee,le||0,U];var Be,Pe,Ge,ct,Ct}function tr(E,x,A,P){return(Array.isArray(x)?E(x[0],x[1],x[2]):E(x,A,P)).map(Ft)}function Rr(E,x,A){return tr(Vn,E,x,A)}function or(E){return(E%360+360)%360}const Yr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Fn;const Jn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,fi=E=>E<=.0031308?12.92*E:1.055*Math.pow(E,1/2.4)-.055,xi=E=>E<=.04045?E/12.92:Math.pow((E+.055)/1.055,2.4);function We(E,x,A){if(E){let P=wr(E);P[x]=Math.max(0,Math.min(P[x]+P[x]*A,0===x?360:1)),P=Rr(P),E.r=P[0],E.g=P[1],E.b=P[2]}}function h(E,x){return E&&Object.assign(x||{},E)}function d(E){var x={r:0,g:0,b:0,a:255};return Array.isArray(E)?E.length>=3&&(x={r:E[0],g:E[1],b:E[2],a:255},E.length>3&&(x.a=Ft(E[3]))):(x=h(E,{r:0,g:0,b:0,a:1})).a=Ft(x.a),x}class S{constructor(x){if(x instanceof S)return x;const A=typeof x;let P;var B,j,U;"object"===A?P=d(x):"string"===A&&(U=(B=x).length,"#"===B[0]&&(4===U||5===U?j={r:255&17*Xn[B[1]],g:255&17*Xn[B[2]],b:255&17*Xn[B[3]],a:5===U?17*Xn[B[4]]:255}:7!==U&&9!==U||(j={r:Xn[B[1]]<<4|Xn[B[2]],g:Xn[B[3]]<<4|Xn[B[4]],b:Xn[B[5]]<<4|Xn[B[6]],a:9===U?Xn[B[7]]<<4|Xn[B[8]]:255})),P=j||function ni(E){Fn||(Fn=function(){const A={},P=Object.keys(Sr),B=Object.keys(Yr);let j,U,ee,le,me;for(j=0;j<P.length;j++){for(le=me=P[j],U=0;U<B.length;U++)ee=B[U],me=me.replace(ee,Yr[ee]);ee=parseInt(Sr[le],16),A[me]=[ee>>16&255,ee>>8&255,255&ee]}return A}(),Fn.transparent=[0,0,0,0]);const x=Fn[E.toLowerCase()];return x&&{r:x[0],g:x[1],b:x[2],a:4===x.length?x[3]:255}}(x)||function v(E){return"r"===E.charAt(0)?function(x){const A=Jn.exec(x);let P,B,j,U=255;if(A){if(A[7]!==P){const ee=+A[7];U=A[8]?At(ee):ft(255*ee,0,255)}return P=+A[1],B=+A[3],j=+A[5],P=255&(A[2]?At(P):ft(P,0,255)),B=255&(A[4]?At(B):ft(B,0,255)),j=255&(A[6]?At(j):ft(j,0,255)),{r:P,g:B,b:j,a:U}}}(E):function ar(E){const x=gr.exec(E);let A,P=255;if(!x)return;x[5]!==A&&(P=x[6]?At(+x[5]):Ft(+x[5]));const B=or(+x[2]),j=+x[3]/100,U=+x[4]/100;return A="hwb"===x[1]?tr(Ir,B,j,U):"hsv"===x[1]?tr(Li,B,j,U):Rr(B,j,U),{r:A[0],g:A[1],b:A[2],a:P}}(E)}(x)),this._rgb=P,this._valid=!!P}get valid(){return this._valid}get rgb(){var x=h(this._rgb);return x&&(x.a=Gt(x.a)),x}set rgb(x){this._rgb=d(x)}rgbString(){return this._valid?(x=this._rgb)&&(x.a<255?`rgba(${x.r}, ${x.g}, ${x.b}, ${Gt(x.a)})`:`rgb(${x.r}, ${x.g}, ${x.b})`):void 0;var x}hexString(){return this._valid?function Ui(E){var A,x=Qi((A=E).r)&&Qi(A.g)&&Qi(A.b)&&Qi(A.a)?Qn:ti;return E?"#"+x(E.r)+x(E.g)+x(E.b)+((A,P)=>A<255?P(A):"")(E.a,x):void 0}(this._rgb):void 0}hslString(){return this._valid?function(x){if(!x)return;const A=wr(x),P=A[0],B=zn(A[1]),j=zn(A[2]);return x.a<255?`hsla(${P}, ${B}%, ${j}%, ${Gt(x.a)})`:`hsl(${P}, ${B}%, ${j}%)`}(this._rgb):void 0}mix(x,A){if(x){const P=this.rgb,B=x.rgb;let j;const U=A===j?.5:A,ee=2*U-1,le=P.a-B.a,me=((ee*le==-1?ee:(ee+le)/(1+ee*le))+1)/2;j=1-me,P.r=255&me*P.r+j*B.r+.5,P.g=255&me*P.g+j*B.g+.5,P.b=255&me*P.b+j*B.b+.5,P.a=U*P.a+(1-U)*B.a,this.rgb=P}return this}interpolate(x,A){return x&&(this._rgb=function(P,B,j){const U=xi(Gt(P.r)),ee=xi(Gt(P.g)),le=xi(Gt(P.b));return{r:Ft(fi(U+j*(xi(Gt(B.r))-U))),g:Ft(fi(ee+j*(xi(Gt(B.g))-ee))),b:Ft(fi(le+j*(xi(Gt(B.b))-le))),a:P.a+j*(B.a-P.a)}}(this._rgb,x._rgb,A)),this}clone(){return new S(this.rgb)}alpha(x){return this._rgb.a=Ft(x),this}clearer(x){return this._rgb.a*=1-x,this}greyscale(){const x=this._rgb,A=Pt(.3*x.r+.59*x.g+.11*x.b);return x.r=x.g=x.b=A,this}opaquer(x){return this._rgb.a*=1+x,this}negate(){const x=this._rgb;return x.r=255-x.r,x.g=255-x.g,x.b=255-x.b,this}lighten(x){return We(this._rgb,2,x),this}darken(x){return We(this._rgb,2,-x),this}saturate(x){return We(this._rgb,1,x),this}desaturate(x){return We(this._rgb,1,-x),this}rotate(x){return P=x,(B=wr(A=this._rgb))[0]=or(B[0]+P),B=Rr(B),A.r=B[0],A.g=B[1],A.b=B[2],this;var A,P,B}}function T(E){if(E&&"object"==typeof E){const x=E.toString();return"[object CanvasPattern]"===x||"[object CanvasGradient]"===x}return!1}function I(E){return T(E)?E:new S(E)}function N(E){return T(E)?E:new S(E).saturate(.5).darken(.1).hexString()}const V=["x","y","borderWidth","radius","tension"],G=["color","borderColor","backgroundColor"],K=new Map;function J(E,x,A){return function(P,B){B=B||{};const j=P+JSON.stringify(B);let U=K.get(j);return U||(U=new Intl.NumberFormat(P,B),K.set(j,U)),U}(x,A).format(E)}const ie={values:E=>Nt(E)?E:""+E,numeric(E,x,A){if(0===E)return"0";const P=this.chart.options.locale;let B,j=E;if(A.length>1){const me=Math.max(Math.abs(A[0].value),Math.abs(A[A.length-1].value));(me<1e-4||me>1e15)&&(B="scientific"),j=function(Be,Pe){let Ge=Pe.length>3?Pe[2].value-Pe[1].value:Pe[1].value-Pe[0].value;return Math.abs(Ge)>=1&&Be!==Math.floor(Be)&&(Ge=Be-Math.floor(Be)),Ge}(E,A)}const U=pe(Math.abs(j)),ee=isNaN(U)?1:Math.max(Math.min(-1*Math.floor(U),20),0),le={notation:B,minimumFractionDigits:ee,maximumFractionDigits:ee};return Object.assign(le,this.options.ticks.format),J(E,P,le)},logarithmic(E,x,A){if(0===E)return"0";const P=A[x].significand||E/Math.pow(10,Math.floor(pe(E)));return[1,2,3,5,10,15].includes(P)||x>.8*A.length?ie.numeric.call(this,E,x,A):""}};var fe={formatters:ie};const Se=Object.create(null),Le=Object.create(null);function Fe(E,x){if(!x)return E;const A=x.split(".");for(let P=0,B=A.length;P<B;++P){const j=A[P];E=E[j]||(E[j]=Object.create(null))}return E}function tt(E,x,A){return"string"==typeof x?ot(Fe(E,x),A):ot(Fe(E,""),x)}var W=new class vt{constructor(x,A){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=P=>P.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(P,B)=>N(B.backgroundColor),this.hoverBorderColor=(P,B)=>N(B.borderColor),this.hoverColor=(P,B)=>N(B.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(x),this.apply(A)}set(x,A){return tt(this,x,A)}get(x){return Fe(this,x)}describe(x,A){return tt(Le,x,A)}override(x,A){return tt(Se,x,A)}route(x,A,P,B){const j=Fe(this,x),U=Fe(this,P),ee="_"+A;Object.defineProperties(j,{[ee]:{value:j[A],writable:!0},[A]:{enumerable:!0,get(){const le=this[ee],me=U[B];return nt(le)?Object.assign({},me,le):Ve(le,me)},set(le){this[ee]=le}}})}apply(x){x.forEach(A=>A(this))}}({_scriptable:E=>!E.startsWith("on"),_indexable:E=>"events"!==E,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(E){E.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),E.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:x=>"onProgress"!==x&&"onComplete"!==x&&"fn"!==x}),E.set("animations",{colors:{type:"color",properties:G},numbers:{type:"number",properties:V}}),E.describe("animations",{_fallback:"animation"}),E.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:x=>0|x}}}})},function(E){E.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(E){E.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(x,A)=>A.lineWidth,tickColor:(x,A)=>A.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fe.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),E.route("scale.ticks","color","","color"),E.route("scale.grid","color","","borderColor"),E.route("scale.border","color","","borderColor"),E.route("scale.title","color","","color"),E.describe("scale",{_fallback:!1,_scriptable:x=>!x.startsWith("before")&&!x.startsWith("after")&&"callback"!==x&&"parser"!==x,_indexable:x=>"borderDash"!==x&&"tickBorderDash"!==x&&"dash"!==x}),E.describe("scales",{_fallback:"scale"}),E.describe("scale.ticks",{_scriptable:x=>"backdropPadding"!==x&&"callback"!==x,_indexable:x=>"backdropPadding"!==x})}]);function ae(){return typeof window<"u"&&typeof document<"u"}function De(E){let x=E.parentNode;return x&&"[object ShadowRoot]"===x.toString()&&(x=x.host),x}function Ue(E,x,A){let P;return"string"==typeof E?(P=parseInt(E,10),-1!==E.indexOf("%")&&(P=P/100*x.parentNode[A])):P=E,P}const dt=E=>E.ownerDocument.defaultView.getComputedStyle(E,null);function kt(E,x){return dt(E).getPropertyValue(x)}const Xt=["top","right","bottom","left"];function qt(E,x,A){const P={};A=A?"-"+A:"";for(let B=0;B<4;B++){const j=Xt[B];P[j]=parseFloat(E[x+"-"+j+A])||0}return P.width=P.left+P.right,P.height=P.top+P.bottom,P}const Sn=(E,x,A)=>(E>0||x>0)&&(!A||!A.shadowRoot);function Mn(E,x){if("native"in E)return E;const{canvas:A,currentDevicePixelRatio:P}=x,B=dt(A),j="border-box"===B.boxSizing,U=qt(B,"padding"),ee=qt(B,"border","width"),{x:le,y:me,box:Be}=function(xt,Mt){const Ut=xt.touches,bn=Ut&&Ut.length?Ut[0]:xt,{offsetX:gn,offsetY:mn}=bn;let Bn,Kn,Si=!1;if(Sn(gn,mn,xt.target))Bn=gn,Kn=mn;else{const wi=Mt.getBoundingClientRect();Bn=bn.clientX-wi.left,Kn=bn.clientY-wi.top,Si=!0}return{x:Bn,y:Kn,box:Si}}(E,A),Pe=U.left+(Be&&ee.left),Ge=U.top+(Be&&ee.top);let{width:ct,height:Ct}=x;return j&&(ct-=U.width+ee.width,Ct-=U.height+ee.height),{x:Math.round((le-Pe)/ct*A.width/P),y:Math.round((me-Ge)/Ct*A.height/P)}}const Cn=E=>Math.round(10*E)/10;function gi(E,x,A,P){const B=dt(E),j=qt(B,"margin"),U=Ue(B.maxWidth,E,"clientWidth")||Hn,ee=Ue(B.maxHeight,E,"clientHeight")||Hn,le=function(Pe,Ge,ct){let Ct,xt;if(void 0===Ge||void 0===ct){const Mt=De(Pe);if(Mt){const Ut=Mt.getBoundingClientRect(),bn=dt(Mt),gn=qt(bn,"border","width"),mn=qt(bn,"padding");Ge=Ut.width-mn.width-gn.width,ct=Ut.height-mn.height-gn.height,Ct=Ue(bn.maxWidth,Mt,"clientWidth"),xt=Ue(bn.maxHeight,Mt,"clientHeight")}else Ge=Pe.clientWidth,ct=Pe.clientHeight}return{width:Ge,height:ct,maxWidth:Ct||Hn,maxHeight:xt||Hn}}(E,x,A);let{width:me,height:Be}=le;if("content-box"===B.boxSizing){const Pe=qt(B,"border","width"),Ge=qt(B,"padding");me-=Ge.width+Pe.width,Be-=Ge.height+Pe.height}return me=Math.max(0,me-j.width),Be=Math.max(0,P?me/P:Be-j.height),me=Cn(Math.min(me,U,le.maxWidth)),Be=Cn(Math.min(Be,ee,le.maxHeight)),me&&!Be&&(Be=Cn(me/2)),(void 0!==x||void 0!==A)&&P&&le.height&&Be>le.height&&(Be=le.height,me=Cn(Math.floor(Be*P))),{width:me,height:Be}}function Ei(E,x,A){const P=x||1,B=Math.floor(E.height*P),j=Math.floor(E.width*P);E.height=Math.floor(E.height),E.width=Math.floor(E.width);const U=E.canvas;return U.style&&(A||!U.style.height&&!U.style.width)&&(U.style.height=`${E.height}px`,U.style.width=`${E.width}px`),(E.currentDevicePixelRatio!==P||U.height!==B||U.width!==j)&&(E.currentDevicePixelRatio=P,U.height=B,U.width=j,E.ctx.setTransform(P,0,0,P,0,0),!0)}const Bi=function(){let E=!1;try{const x={get passive(){return E=!0,!1}};ae()&&(window.addEventListener("test",null,x),window.removeEventListener("test",null,x))}catch{}return E}();function sr(E,x){const A=kt(E,x),P=A&&A.match(/^(\d+)(\.\d+)?px$/);return P?+P[1]:void 0}function mr(E){return!E||it(E.size)||it(E.family)?null:(E.style?E.style+" ":"")+(E.weight?E.weight+" ":"")+E.size+"px "+E.family}function si(E,x,A,P,B){let j=x[B];return j||(j=x[B]=E.measureText(B).width,A.push(B)),j>P&&(P=j),P}function Mi(E,x,A,P){let B=(P=P||{}).data=P.data||{},j=P.garbageCollect=P.garbageCollect||[];P.font!==x&&(B=P.data={},j=P.garbageCollect=[],P.font=x),E.save(),E.font=x;let U=0;const ee=A.length;let le,me,Be,Pe,Ge;for(le=0;le<ee;le++)if(Pe=A[le],null==Pe||Nt(Pe)){if(Nt(Pe))for(me=0,Be=Pe.length;me<Be;me++)Ge=Pe[me],null==Ge||Nt(Ge)||(U=si(E,B,j,U,Ge))}else U=si(E,B,j,U,Pe);E.restore();const ct=j.length/2;if(ct>A.length){for(le=0;le<ct;le++)delete B[j[le]];j.splice(0,ct)}return U}function Ur(E,x,A){const P=E.currentDevicePixelRatio,B=0!==A?Math.max(A/2,.5):0;return Math.round((x-B)*P)/P+B}function Fo(E,x){(x=x||E.getContext("2d")).save(),x.resetTransform(),x.clearRect(0,0,E.width,E.height),x.restore()}function So(E,x,A,P){Dn(E,x,A,P,null)}function Dn(E,x,A,P,B){let j,U,ee,le,me,Be,Pe,Ge;const ct=x.pointStyle,Ct=x.rotation,xt=x.radius;let Mt=(Ct||0)*hn;if(ct&&"object"==typeof ct&&(j=ct.toString(),"[object HTMLImageElement]"===j||"[object HTMLCanvasElement]"===j))return E.save(),E.translate(A,P),E.rotate(Mt),E.drawImage(ct,-ct.width/2,-ct.height/2,ct.width,ct.height),void E.restore();if(!(isNaN(xt)||xt<=0)){switch(E.beginPath(),ct){default:B?E.ellipse(A,P,B/2,xt,0,0,_t):E.arc(A,P,xt,0,_t),E.closePath();break;case"triangle":Be=B?B/2:xt,E.moveTo(A+Math.sin(Mt)*Be,P-Math.cos(Mt)*xt),Mt+=Vt,E.lineTo(A+Math.sin(Mt)*Be,P-Math.cos(Mt)*xt),Mt+=Vt,E.lineTo(A+Math.sin(Mt)*Be,P-Math.cos(Mt)*xt),E.closePath();break;case"rectRounded":me=.516*xt,le=xt-me,U=Math.cos(Mt+qe)*le,Pe=Math.cos(Mt+qe)*(B?B/2-me:le),ee=Math.sin(Mt+qe)*le,Ge=Math.sin(Mt+qe)*(B?B/2-me:le),E.arc(A-Pe,P-ee,me,Mt-zt,Mt-pn),E.arc(A+Ge,P-U,me,Mt-pn,Mt),E.arc(A+Pe,P+ee,me,Mt,Mt+pn),E.arc(A-Ge,P+U,me,Mt+pn,Mt+zt),E.closePath();break;case"rect":if(!Ct){le=Math.SQRT1_2*xt,Be=B?B/2:le,E.rect(A-Be,P-le,2*Be,2*le);break}Mt+=qe;case"rectRot":Pe=Math.cos(Mt)*(B?B/2:xt),U=Math.cos(Mt)*xt,ee=Math.sin(Mt)*xt,Ge=Math.sin(Mt)*(B?B/2:xt),E.moveTo(A-Pe,P-ee),E.lineTo(A+Ge,P-U),E.lineTo(A+Pe,P+ee),E.lineTo(A-Ge,P+U),E.closePath();break;case"crossRot":Mt+=qe;case"cross":Pe=Math.cos(Mt)*(B?B/2:xt),U=Math.cos(Mt)*xt,ee=Math.sin(Mt)*xt,Ge=Math.sin(Mt)*(B?B/2:xt),E.moveTo(A-Pe,P-ee),E.lineTo(A+Pe,P+ee),E.moveTo(A+Ge,P-U),E.lineTo(A-Ge,P+U);break;case"star":Pe=Math.cos(Mt)*(B?B/2:xt),U=Math.cos(Mt)*xt,ee=Math.sin(Mt)*xt,Ge=Math.sin(Mt)*(B?B/2:xt),E.moveTo(A-Pe,P-ee),E.lineTo(A+Pe,P+ee),E.moveTo(A+Ge,P-U),E.lineTo(A-Ge,P+U),Mt+=qe,Pe=Math.cos(Mt)*(B?B/2:xt),U=Math.cos(Mt)*xt,ee=Math.sin(Mt)*xt,Ge=Math.sin(Mt)*(B?B/2:xt),E.moveTo(A-Pe,P-ee),E.lineTo(A+Pe,P+ee),E.moveTo(A+Ge,P-U),E.lineTo(A-Ge,P+U);break;case"line":U=B?B/2:Math.cos(Mt)*xt,ee=Math.sin(Mt)*xt,E.moveTo(A-U,P-ee),E.lineTo(A+U,P+ee);break;case"dash":E.moveTo(A,P),E.lineTo(A+Math.cos(Mt)*(B?B/2:xt),P+Math.sin(Mt)*xt);break;case!1:E.closePath()}E.fill(),x.borderWidth>0&&E.stroke()}}function uo(E,x,A){return A=A||.5,!x||E&&E.x>x.left-A&&E.x<x.right+A&&E.y>x.top-A&&E.y<x.bottom+A}function Lo(E,x){E.save(),E.beginPath(),E.rect(x.left,x.top,x.right-x.left,x.bottom-x.top),E.clip()}function Gr(E){E.restore()}function lr(E,x,A,P,B){if(!x)return E.lineTo(A.x,A.y);if("middle"===B){const j=(x.x+A.x)/2;E.lineTo(j,x.y),E.lineTo(j,A.y)}else"after"===B!=!!P?E.lineTo(x.x,A.y):E.lineTo(A.x,x.y);E.lineTo(A.x,A.y)}function Wc(E,x,A,P){if(!x)return E.lineTo(A.x,A.y);E.bezierCurveTo(P?x.cp1x:x.cp2x,P?x.cp1y:x.cp2y,P?A.cp2x:A.cp1x,P?A.cp2y:A.cp1y,A.x,A.y)}function Mg(E,x,A,P,B){if(B.strikethrough||B.underline){const j=E.measureText(P),U=x-j.actualBoundingBoxLeft,ee=x+j.actualBoundingBoxRight,me=A+j.actualBoundingBoxDescent,Be=B.strikethrough?(A-j.actualBoundingBoxAscent+me)/2:me;E.strokeStyle=E.fillStyle,E.beginPath(),E.lineWidth=B.decorationWidth||2,E.moveTo(U,Be),E.lineTo(ee,Be),E.stroke()}}function Tg(E,x){const A=E.fillStyle;E.fillStyle=x.color,E.fillRect(x.left,x.top,x.width,x.height),E.fillStyle=A}function Ds(E,x,A,P,B,j={}){const U=Nt(x)?x:[x],ee=j.strokeWidth>0&&""!==j.strokeColor;let le,me;for(E.save(),E.font=B.string,Be=E,(Pe=j).translation&&Be.translate(Pe.translation[0],Pe.translation[1]),it(Pe.rotation)||Be.rotate(Pe.rotation),Pe.color&&(Be.fillStyle=Pe.color),Pe.textAlign&&(Be.textAlign=Pe.textAlign),Pe.textBaseline&&(Be.textBaseline=Pe.textBaseline),le=0;le<U.length;++le)me=U[le],j.backdrop&&Tg(E,j.backdrop),ee&&(j.strokeColor&&(E.strokeStyle=j.strokeColor),it(j.strokeWidth)||(E.lineWidth=j.strokeWidth),E.strokeText(me,A,P,j.maxWidth)),E.fillText(me,A,P,j.maxWidth),Mg(E,A,P,me,j),P+=Number(B.lineHeight);var Be,Pe;E.restore()}function Cr(E,x){const{x:A,y:P,w:B,h:j,radius:U}=x;E.arc(A+U.topLeft,P+U.topLeft,U.topLeft,1.5*zt,zt,!0),E.lineTo(A,P+j-U.bottomLeft),E.arc(A+U.bottomLeft,P+j-U.bottomLeft,U.bottomLeft,zt,pn,!0),E.lineTo(A+B-U.bottomRight,P+j),E.arc(A+B-U.bottomRight,P+j-U.bottomRight,U.bottomRight,pn,0,!0),E.lineTo(A+B,P+U.topRight),E.arc(A+B-U.topRight,P+U.topRight,U.topRight,0,-pn,!0),E.lineTo(A+U.topLeft,P)}function gc(E,x=[""],A,P,B=(()=>E[0])){const j=A||E;void 0===P&&(P=Ya("_fallback",E));const U={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:E,_rootScopes:j,_fallback:P,_getTarget:B,override:ee=>gc([ee,...E],x,j,P)};return new Proxy(U,{deleteProperty:(ee,le)=>(delete ee[le],delete ee._keys,delete E[0][le],!0),get:(ee,le)=>rd(ee,le,()=>function(me,Be,Pe,Ge){let ct;for(const Ct of Be)if(ct=Ya(ys(Ct,me),Pe),void 0!==ct)return ja(me,ct)?Ho(Pe,Ge,me,ct):ct}(le,x,E,ee)),getOwnPropertyDescriptor:(ee,le)=>Reflect.getOwnPropertyDescriptor(ee._scopes[0],le),getPrototypeOf:()=>Reflect.getPrototypeOf(E[0]),has:(ee,le)=>Xs(ee).includes(le),ownKeys:ee=>Xs(ee),set(ee,le,me){const Be=ee._storage||(ee._storage=B());return ee[le]=Be[le]=me,delete ee._keys,!0}})}function Sl(E,x,A,P){const B={_cacheable:!1,_proxy:E,_context:x,_subProxy:A,_stack:new Set,_descriptors:mc(E,P),setContext:j=>Sl(E,j,A,P),override:j=>Sl(E.override(j),x,A,P)};return new Proxy(B,{deleteProperty:(j,U)=>(delete j[U],delete E[U],!0),get:(j,U,ee)=>rd(j,U,()=>function(le,me,Be){const{_proxy:Pe,_context:Ge,_subProxy:ct,_descriptors:Ct}=le;let xt=Pe[me];return $e(xt)&&Ct.isScriptable(me)&&(xt=function(Mt,Ut,bn,gn){const{_proxy:mn,_context:Bn,_subProxy:Kn,_stack:Si}=bn;if(Si.has(Mt))throw new Error("Recursion detected: "+Array.from(Si).join("->")+"->"+Mt);Si.add(Mt);let wi=Ut(Bn,Kn||gn);return Si.delete(Mt),ja(Mt,wi)&&(wi=Ho(mn._scopes,mn,Mt,wi)),wi}(me,xt,le,Be)),Nt(xt)&&xt.length&&(xt=function(Mt,Ut,bn,gn){const{_proxy:mn,_context:Bn,_subProxy:Kn,_descriptors:Si}=bn;if(void 0!==Bn.index&&gn(Mt))return Ut[Bn.index%Ut.length];if(nt(Ut[0])){const wi=Ut,Ni=mn._scopes.filter(ji=>ji!==wi);Ut=[];for(const ji of wi){const Vi=Ho(Ni,mn,Mt,ji);Ut.push(Sl(Vi,Bn,Kn&&Kn[Mt],Si))}}return Ut}(me,xt,le,Ct.isIndexable)),ja(me,xt)&&(xt=Sl(xt,Ge,ct&&ct[me],Ct)),xt}(j,U,ee)),getOwnPropertyDescriptor:(j,U)=>j._descriptors.allKeys?Reflect.has(E,U)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(E,U),getPrototypeOf:()=>Reflect.getPrototypeOf(E),has:(j,U)=>Reflect.has(E,U),ownKeys:()=>Reflect.ownKeys(E),set:(j,U,ee)=>(E[U]=ee,delete j[U],!0)})}function mc(E,x={scriptable:!0,indexable:!0}){const{_scriptable:A=x.scriptable,_indexable:P=x.indexable,_allKeys:B=x.allKeys}=E;return{allKeys:B,scriptable:A,indexable:P,isScriptable:$e(A)?A:()=>A,isIndexable:$e(P)?P:()=>P}}const ys=(E,x)=>E?E+wt(x):x,ja=(E,x)=>nt(x)&&"adapters"!==E&&(null===Object.getPrototypeOf(x)||x.constructor===Object);function rd(E,x,A){if(Object.prototype.hasOwnProperty.call(E,x))return E[x];const P=A();return E[x]=P,P}function od(E,x,A){return $e(E)?E(x,A):E}const jc=(E,x)=>!0===E?x:"string"==typeof E?Ot(x,E):void 0;function ad(E,x,A,P,B){for(const j of x){const U=jc(A,j);if(U){E.add(U);const ee=od(U._fallback,A,B);if(void 0!==ee&&ee!==A&&ee!==P)return ee}else if(!1===U&&void 0!==P&&A!==P)return null}return!1}function Ho(E,x,A,P){const B=x._rootScopes,j=od(x._fallback,A,P),U=[...E,...B],ee=new Set;ee.add(P);let le=bs(ee,U,A,j||A,P);return null!==le&&(void 0===j||j===A||(le=bs(ee,U,j,le,P),null!==le))&&gc(Array.from(ee),[""],B,j,()=>function(me,Be,Pe){const Ge=me._getTarget();Be in Ge||(Ge[Be]={});const ct=Ge[Be];return Nt(ct)&&nt(Pe)?Pe:ct||{}}(x,A,P))}function bs(E,x,A,P,B){for(;A;)A=ad(E,x,A,P,B);return A}function Ya(E,x){for(const A of x){if(!A)continue;const P=A[E];if(void 0!==P)return P}}function Xs(E){let x=E._keys;return x||(x=E._keys=function(A){const P=new Set;for(const B of A)for(const j of Object.keys(B).filter(U=>!U.startsWith("_")))P.add(j);return Array.from(P)}(E._scopes)),x}function qs(E,x,A,P){const{iScale:B}=E,{key:j="r"}=this._parsing,U=new Array(P);let ee,le,me,Be;for(ee=0,le=P;ee<le;++ee)me=ee+A,Be=x[me],U[ee]={r:B.parse(Ot(Be,j),me)};return U}const Sa=Number.EPSILON||1e-14,Xl=(E,x)=>x<E.length&&!E[x].skip&&E[x],vc=E=>"x"===E?"y":"x";function ql(E,x,A,P){const B=E.skip?x:E,j=x,U=A.skip?x:A,ee=En(j,B),le=En(U,j);let me=ee/(ee+le),Be=le/(ee+le);me=isNaN(me)?0:me,Be=isNaN(Be)?0:Be;const Pe=P*me,Ge=P*Be;return{previous:{x:j.x-Pe*(U.x-B.x),y:j.y-Pe*(U.y-B.y)},next:{x:j.x+Ge*(U.x-B.x),y:j.y+Ge*(U.y-B.y)}}}function Cl(E,x="x"){const A=vc(x),P=E.length,B=Array(P).fill(0),j=Array(P);let U,ee,le,me=Xl(E,0);for(U=0;U<P;++U)if(ee=le,le=me,me=Xl(E,U+1),le){if(me){const Be=me[x]-le[x];B[U]=0!==Be?(me[A]-le[A])/Be:0}j[U]=ee?me?ue(B[U-1])!==ue(B[U])?0:(B[U-1]+B[U])/2:B[U-1]:B[U]}(function(Be,Pe,Ge){const ct=Be.length;let Ct,xt,Mt,Ut,bn,gn=Xl(Be,0);for(let mn=0;mn<ct-1;++mn)bn=gn,gn=Xl(Be,mn+1),bn&&gn&&(ln(Pe[mn],0,Sa)?Ge[mn]=Ge[mn+1]=0:(Ct=Ge[mn]/Pe[mn],xt=Ge[mn+1]/Pe[mn],Ut=Math.pow(Ct,2)+Math.pow(xt,2),Ut<=9||(Mt=3/Math.sqrt(Ut),Ge[mn]=Ct*Mt*Pe[mn],Ge[mn+1]=xt*Mt*Pe[mn])))})(E,B,j),function(Be,Pe,Ge="x"){const ct=vc(Ge),Ct=Be.length;let xt,Mt,Ut,bn=Xl(Be,0);for(let gn=0;gn<Ct;++gn){if(Mt=Ut,Ut=bn,bn=Xl(Be,gn+1),!Ut)continue;const mn=Ut[Ge],Bn=Ut[ct];Mt&&(xt=(mn-Mt[Ge])/3,Ut[`cp1${Ge}`]=mn-xt,Ut[`cp1${ct}`]=Bn-xt*Pe[gn]),bn&&(xt=(bn[Ge]-mn)/3,Ut[`cp2${Ge}`]=mn+xt,Ut[`cp2${ct}`]=Bn+xt*Pe[gn])}}(E,j,x)}function Cu(E,x,A){return Math.max(Math.min(E,A),x)}function _h(E,x,A,P,B){let j,U,ee,le;if(x.spanGaps&&(E=E.filter(me=>!me.skip)),"monotone"===x.cubicInterpolationMode)Cl(E,B);else{let me=P?E[E.length-1]:E[0];for(j=0,U=E.length;j<U;++j)ee=E[j],le=ql(me,ee,E[Math.min(j+1,U-(P?0:1))%U],x.tension),ee.cp1x=le.previous.x,ee.cp1y=le.previous.y,ee.cp2x=le.next.x,ee.cp2y=le.next.y,me=ee}x.capBezierPoints&&function(me,Be){let Pe,Ge,ct,Ct,xt,Mt=uo(me[0],Be);for(Pe=0,Ge=me.length;Pe<Ge;++Pe)xt=Ct,Ct=Mt,Mt=Pe<Ge-1&&uo(me[Pe+1],Be),Ct&&(ct=me[Pe],xt&&(ct.cp1x=Cu(ct.cp1x,Be.left,Be.right),ct.cp1y=Cu(ct.cp1y,Be.top,Be.bottom)),Mt&&(ct.cp2x=Cu(ct.cp2x,Be.left,Be.right),ct.cp2y=Cu(ct.cp2y,Be.top,Be.bottom)))}(E,A)}const kl=E=>0===E||1===E,wh=(E,x,A)=>-Math.pow(2,10*(E-=1))*Math.sin((E-x)*_t/A),xs=(E,x,A)=>Math.pow(2,-10*E)*Math.sin((E-x)*_t/A)+1,Ca={linear:E=>E,easeInQuad:E=>E*E,easeOutQuad:E=>-E*(E-2),easeInOutQuad:E=>(E/=.5)<1?.5*E*E:-.5*(--E*(E-2)-1),easeInCubic:E=>E*E*E,easeOutCubic:E=>(E-=1)*E*E+1,easeInOutCubic:E=>(E/=.5)<1?.5*E*E*E:.5*((E-=2)*E*E+2),easeInQuart:E=>E*E*E*E,easeOutQuart:E=>-((E-=1)*E*E*E-1),easeInOutQuart:E=>(E/=.5)<1?.5*E*E*E*E:-.5*((E-=2)*E*E*E-2),easeInQuint:E=>E*E*E*E*E,easeOutQuint:E=>(E-=1)*E*E*E*E+1,easeInOutQuint:E=>(E/=.5)<1?.5*E*E*E*E*E:.5*((E-=2)*E*E*E*E+2),easeInSine:E=>1-Math.cos(E*pn),easeOutSine:E=>Math.sin(E*pn),easeInOutSine:E=>-.5*(Math.cos(zt*E)-1),easeInExpo:E=>0===E?0:Math.pow(2,10*(E-1)),easeOutExpo:E=>1===E?1:1-Math.pow(2,-10*E),easeInOutExpo:E=>kl(E)?E:E<.5?.5*Math.pow(2,10*(2*E-1)):.5*(2-Math.pow(2,-10*(2*E-1))),easeInCirc:E=>E>=1?E:-(Math.sqrt(1-E*E)-1),easeOutCirc:E=>Math.sqrt(1-(E-=1)*E),easeInOutCirc:E=>(E/=.5)<1?-.5*(Math.sqrt(1-E*E)-1):.5*(Math.sqrt(1-(E-=2)*E)+1),easeInElastic:E=>kl(E)?E:wh(E,.075,.3),easeOutElastic:E=>kl(E)?E:xs(E,.075,.3),easeInOutElastic:E=>kl(E)?E:E<.5?.5*wh(2*E,.1125,.45):.5+.5*xs(2*E-1,.1125,.45),easeInBack:E=>E*E*(2.70158*E-1.70158),easeOutBack:E=>(E-=1)*E*(2.70158*E+1.70158)+1,easeInOutBack(E){let x=1.70158;return(E/=.5)<1?E*E*((1+(x*=1.525))*E-x)*.5:.5*((E-=2)*E*((1+(x*=1.525))*E+x)+2)},easeInBounce:E=>1-Ca.easeOutBounce(1-E),easeOutBounce:E=>E<1/2.75?7.5625*E*E:E<2/2.75?7.5625*(E-=1.5/2.75)*E+.75:E<2.5/2.75?7.5625*(E-=2.25/2.75)*E+.9375:7.5625*(E-=2.625/2.75)*E+.984375,easeInOutBounce:E=>E<.5?.5*Ca.easeInBounce(2*E):.5*Ca.easeOutBounce(2*E-1)+.5};function Pa(E,x,A,P){return{x:E.x+A*(x.x-E.x),y:E.y+A*(x.y-E.y)}}function is(E,x,A,P){return{x:E.x+A*(x.x-E.x),y:"middle"===P?A<.5?E.y:x.y:"after"===P?A<1?E.y:x.y:A>0?x.y:E.y}}function ra(E,x,A,P){const B={x:E.cp2x,y:E.cp2y},j={x:x.cp1x,y:x.cp1y},U=Pa(E,B,A),ee=Pa(B,j,A),le=Pa(j,x,A),me=Pa(U,ee,A),Be=Pa(ee,le,A);return Pa(me,Be,A)}const Ko=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Sh(E,x){const A=(""+E).match(Ko);if(!A||"normal"===A[1])return 1.2*x;switch(E=+A[2],A[3]){case"px":return E;case"%":E/=100}return x*E}const Kd=E=>+E||0;function Vo(E,x){const A={},P=nt(x),B=P?Object.keys(x):x,j=nt(E)?P?U=>Ve(E[U],E[x[U]]):U=>E[U]:()=>E;for(const U of B)A[U]=Kd(j(U));return A}function ku(E){return Vo(E,{top:"y",right:"x",bottom:"y",left:"x"})}function Br(E){return Vo(E,["topLeft","topRight","bottomLeft","bottomRight"])}function $r(E){const x=ku(E);return x.width=x.left+x.right,x.height=x.top+x.bottom,x}function oa(E,x){let A=Ve((E=E||{}).size,(x=x||W.font).size);"string"==typeof A&&(A=parseInt(A,10));let P=Ve(E.style,x.style);P&&!(""+P).match(Yt)&&(console.warn('Invalid font style specified: "'+P+'"'),P=void 0);const B={family:Ve(E.family,x.family),lineHeight:Sh(Ve(E.lineHeight,x.lineHeight),A),size:A,style:P,weight:Ve(E.weight,x.weight),string:""};return B.string=mr(B),B}function _s(E,x,A,P){let B,j,U,ee=!0;for(B=0,j=E.length;B<j;++B)if(U=E[B],void 0!==U&&(void 0!==x&&"function"==typeof U&&(U=U(x),ee=!1),void 0!==A&&Nt(U)&&(U=U[A%U.length],ee=!1),void 0!==U))return P&&!ee&&(P.cacheable=!1),U}function Ul(E,x,A){const{min:P,max:B}=E,j=ge(x,(B-P)/2),U=(ee,le)=>A&&0===ee?0:ee+le;return{min:U(P,-Math.abs(j)),max:U(B,j)}}function ba(E,x){return Object.assign(Object.create(E),x)}function Al(E,x,A){return E?(P=x,B=A,{x:j=>P+P+B-j,setWidth(j){B=j},textAlign:j=>"center"===j?j:"right"===j?"left":"right",xPlus:(j,U)=>j-U,leftForLtr:(j,U)=>j-U}):{x:P=>P,setWidth(P){},textAlign:P=>P,xPlus:(P,B)=>P+B,leftForLtr:(P,B)=>P};var P,B}function sd(E,x){let A,P;"ltr"!==x&&"rtl"!==x||(A=E.canvas.style,P=[A.getPropertyValue("direction"),A.getPropertyPriority("direction")],A.setProperty("direction",x,"important"),E.prevTextDirection=P)}function Ml(E,x){void 0!==x&&(delete E.prevTextDirection,E.canvas.style.setProperty("direction",x[0],x[1]))}function Tl(E){return"angle"===E?{between:jr,compare:hi,normalize:pr}:{between:di,compare:(x,A)=>x-A,normalize:x=>x}}function $l({start:E,end:x,count:A,loop:P,style:B}){return{start:E%A,end:x%A,loop:P&&(x-E+1)%A==0,style:B}}function Qd(E,x,A){if(!A)return[E];const{property:P,start:B,end:j}=A,U=x.length,{compare:ee,between:le,normalize:me}=Tl(P),{start:Be,end:Pe,loop:Ge,style:ct}=function(Kn,Si,wi){const{property:Ni,start:ji,end:Vi}=wi,{between:qi,normalize:Ri}=Tl(Ni),_i=Si.length;let ki,Or,{start:Ro,end:wo,loop:Ma}=Kn;if(Ma){for(Ro+=_i,wo+=_i,ki=0,Or=_i;ki<Or&&qi(Ri(Si[Ro%_i][Ni]),ji,Vi);++ki)Ro--,wo--;Ro%=_i,wo%=_i}return wo<Ro&&(wo+=_i),{start:Ro,end:wo,loop:Ma,style:Kn.style}}(E,x,A),Ct=[];let xt,Mt,Ut,bn=!1,gn=null;for(let Kn=Be,Si=Be;Kn<=Pe;++Kn)Mt=x[Kn%U],Mt.skip||(xt=me(Mt[P]),xt!==Ut&&(bn=le(xt,B,j),null===gn&&(bn||le(B,Ut,xt)&&0!==ee(B,Ut))&&(gn=0===ee(xt,B)?Kn:Si),null!==gn&&(!bn||0===ee(j,xt)||le(j,Ut,xt))&&(Ct.push($l({start:gn,end:Kn,loop:Ge,count:U,style:ct})),gn=null),Si=Kn,Ut=xt));return null!==gn&&Ct.push($l({start:gn,end:Pe,loop:Ge,count:U,style:ct})),Ct}function Po(E,x){const A=[],P=E.segments;for(let B=0;B<P.length;B++){const j=Qd(P[B],E.points,x);j.length&&A.push(...j)}return A}function Yc(E,x){const A=E.points,P=E.options.spanGaps,B=A.length;if(!B)return[];const j=!!E._loop,{start:U,end:ee}=function(le,me,Be,Pe){let Ge=0,ct=me-1;if(Be&&!Pe)for(;Ge<me&&!le[Ge].skip;)Ge++;for(;Ge<me&&le[Ge].skip;)Ge++;for(Ge%=me,Be&&(ct+=Ge);ct>Ge&&le[ct%me].skip;)ct--;return ct%=me,{start:Ge,end:ct}}(A,B,j,P);return function Ls(E,x,A,P){return P&&P.setContext&&A?function(B,j,U,ee){const le=B._chart.getContext(),me=Gc(B.options),{_datasetIndex:Be,options:{spanGaps:Pe}}=B,Ge=U.length,ct=[];let Ct=me,xt=j[0].start,Mt=xt;function Ut(bn,gn,mn,Bn){const Kn=Pe?-1:1;if(bn!==gn){for(bn+=Ge;U[bn%Ge].skip;)bn-=Kn;for(;U[gn%Ge].skip;)gn+=Kn;bn%Ge!=gn%Ge&&(ct.push({start:bn%Ge,end:gn%Ge,loop:mn,style:Bn}),Ct=Bn,xt=gn%Ge)}}for(const bn of j){xt=Pe?xt:bn.start;let gn,mn=U[xt%Ge];for(Mt=xt+1;Mt<=bn.end;Mt++){const Bn=U[Mt%Ge];gn=Gc(ee.setContext(ba(le,{type:"segment",p0:mn,p1:Bn,p0DataIndex:(Mt-1)%Ge,p1DataIndex:Mt%Ge,datasetIndex:Be}))),ld(gn,Ct)&&Ut(xt,Mt-1,bn.loop,Ct),mn=Bn,Ct=gn}xt<Mt-1&&Ut(xt,Mt-1,bn.loop,Ct)}return ct}(E,x,A,P):x}(E,!0===P?[{start:U,end:ee,loop:j}]:function(le,me,Be,Pe){const Ge=le.length,ct=[];let Ct,xt=me,Mt=le[me];for(Ct=me+1;Ct<=Be;++Ct){const Ut=le[Ct%Ge];Ut.skip||Ut.stop?Mt.skip||(ct.push({start:me%Ge,end:(Ct-1)%Ge,loop:Pe=!1}),me=xt=Ut.stop?Ct:null):(xt=Ct,Mt.skip&&(me=Ct)),Mt=Ut}return null!==xt&&ct.push({start:me%Ge,end:xt%Ge,loop:Pe}),ct}(A,U,ee<U?ee+B:ee,!!E._fullLoop&&0===U&&ee===B-1),A,x)}function Gc(E){return{backgroundColor:E.backgroundColor,borderCapStyle:E.borderCapStyle,borderDash:E.borderDash,borderDashOffset:E.borderDashOffset,borderJoinStyle:E.borderJoinStyle,borderWidth:E.borderWidth,borderColor:E.borderColor}}function ld(E,x){if(!x)return!1;const A=[],P=function(B,j){return T(j)?(A.includes(j)||A.push(j),A.indexOf(j)):j};return JSON.stringify(E,P)!==JSON.stringify(x,P)}var yc=Object.freeze({__proto__:null,HALF_PI:pn,INFINITY:Hn,PI:zt,PITAU:It,QUARTER_PI:qe,RAD_PER_DEG:hn,TAU:_t,TWO_THIRDS_PI:Vt,_addGrace:Ul,_alignPixel:Ur,_alignStartEnd:fa,_angleBetween:jr,_angleDiff:hi,_arrayUnique:ir,_attachContext:Sl,_bezierCurveTo:Wc,_bezierInterpolation:ra,_boundSegment:Qd,_boundSegments:Po,_capitalize:wt,_computeSegments:Yc,_createResolver:gc,_decimalPlaces:On,_deprecated:function(E,x,A,P){void 0!==x&&console.warn(E+': "'+A+'" is deprecated. Please use "'+P+'" instead')},_descriptors:mc,_elementsEqual:Ne,_factorize:jt,_filterBetween:yi,_getParentNode:De,_getStartAndCountOfVisiblePoints:Te,_int16Range:Gn,_isBetween:di,_isClickEvent:rt,_isDomSupported:ae,_isPointInArea:uo,_limitValue:_n,_longestText:Mi,_lookup:bi,_lookupByKey:ai,_measureText:si,_merger:de,_mergerIf:je,_normalizeAngle:pr,_parseObjectDataRadialScale:qs,_pointInLine:Pa,_readValueToProps:Vo,_rlookupByKey:Wi,_scaleRangesChanged:be,_setMinAndMaxByKey:xn,_splitKey:yt,_steppedInterpolation:is,_steppedLineTo:lr,_textX:Ye,_toLeftRightCenter:Do,_updateBezierControlPoints:_h,addRoundedRectPath:Cr,almostEquals:ln,almostWhole:Et,callback:we,clearCanvas:Fo,clipArea:Lo,clone:Ie,color:I,createContext:ba,debounce:ns,defined:lt,distanceBetweenPoints:En,drawPoint:So,drawPointLegend:Dn,each:ve,easingEffects:Ca,finiteOrDefault:et,fontString:function(E,x,A){return x+" "+E+"px "+A},formatNumber:J,getAngleFromPoint:xr,getHoverColor:N,getMaximumSize:gi,getRelativePosition:Mn,getRtlAdapter:Al,getStyle:kt,isArray:Nt,isFinite:gt,isFunction:$e,isNullOrUndef:it,isNumber:Zt,isObject:nt,isPatternOrGradient:T,listenArrayEvents:po,log10:pe,merge:ot,mergeIf:Ae,niceNum:on,noop:Ze,overrideTextDirection:sd,readUsedSize:sr,renderText:Ds,requestAnimFrame:Jr,resolve:_s,resolveObjectKey:Ot,restoreTextDirection:Ml,retinaScale:Ei,setsEqual:Qe,sign:ue,splineCurve:ql,splineCurveMonotone:Cl,supportsEventListenerOptions:Bi,throttled:Zo,toDegrees:Ht,toDimension:ge,toFont:oa,toFontString:mr,toLineHeight:Sh,toPadding:$r,toPercentage:ye,toRadians:Bt,toTRBL:ku,toTRBLCorners:Br,uid:Oe,unclipArea:Gr,unlistenArrayEvents:Fr,valueOrDefault:Ve});function Jd(E,x,A,P){const{controller:B,data:j,_sorted:U}=E,ee=B._cachedMeta.iScale;if(ee&&x===ee.axis&&"r"!==x&&U&&j.length){const le=ee._reversePixels?Wi:ai;if(!P)return le(j,x,A);if(B._sharedOptions){const me=j[0],Be="function"==typeof me.getRange&&me.getRange(x);if(Be){const Pe=le(j,x,A-Be),Ge=le(j,x,A+Be);return{lo:Pe.lo,hi:Ge.hi}}}}return{lo:0,hi:j.length-1}}function ol(E,x,A,P,B){const j=E.getSortedVisibleDatasetMetas(),U=A[x];for(let ee=0,le=j.length;ee<le;++ee){const{index:me,data:Be}=j[ee],{lo:Pe,hi:Ge}=Jd(j[ee],x,U,B);for(let ct=Pe;ct<=Ge;++ct){const Ct=Be[ct];Ct.skip||P(Ct,me,ct)}}}function xa(E,x,A,P,B){const j=[];return!B&&!E.isPointInArea(x)||ol(E,A,x,function(U,ee,le){(B||uo(U,E.chartArea,0))&&U.inRange(x.x,x.y,P)&&j.push({element:U,datasetIndex:ee,index:le})},!0),j}function cd(E,x,A,P,B,j){return j||E.isPointInArea(x)?"r"!==A||P?function ws(E,x,A,P,B,j){let U=[];const ee=function(me){const Be=-1!==me.indexOf("x"),Pe=-1!==me.indexOf("y");return function(Ge,ct){const Ct=Be?Math.abs(Ge.x-ct.x):0,xt=Pe?Math.abs(Ge.y-ct.y):0;return Math.sqrt(Math.pow(Ct,2)+Math.pow(xt,2))}}(A);let le=Number.POSITIVE_INFINITY;return ol(E,A,x,function(me,Be,Pe){const Ge=me.inRange(x.x,x.y,B);if(P&&!Ge)return;const ct=me.getCenterPoint(B);if(!j&&!E.isPointInArea(ct)&&!Ge)return;const Ct=ee(x,ct);Ct<le?(U=[{element:me,datasetIndex:Be,index:Pe}],le=Ct):Ct===le&&U.push({element:me,datasetIndex:Be,index:Pe})}),U}(E,x,A,P,B,j):function(U,ee,le,me){let Be=[];return ol(U,le,ee,function(Pe,Ge,ct){const{startAngle:Ct,endAngle:xt}=Pe.getProps(["startAngle","endAngle"],me),{angle:Mt}=xr(Pe,{x:ee.x,y:ee.y});jr(Mt,Ct,xt)&&Be.push({element:Pe,datasetIndex:Ge,index:ct})}),Be}(E,x,A,B):[]}function Au(E,x,A,P,B){const j=[],U="x"===A?"inXRange":"inYRange";let ee=!1;return ol(E,A,x,(le,me,Be)=>{le[U](x[A],B)&&(j.push({element:le,datasetIndex:me,index:Be}),ee=ee||le.inRange(x.x,x.y,B))}),P&&!ee?[]:j}var Xc={evaluateInteractionItems:ol,modes:{index(E,x,A,P){const B=Mn(x,E),j=A.axis||"x",U=A.includeInvisible||!1,ee=A.intersect?xa(E,B,j,P,U):cd(E,B,j,!1,P,U),le=[];return ee.length?(E.getSortedVisibleDatasetMetas().forEach(me=>{const Be=ee[0].index,Pe=me.data[Be];Pe&&!Pe.skip&&le.push({element:Pe,datasetIndex:me.index,index:Be})}),le):[]},dataset(E,x,A,P){const B=Mn(x,E),j=A.axis||"xy",U=A.includeInvisible||!1;let ee=A.intersect?xa(E,B,j,P,U):cd(E,B,j,!1,P,U);if(ee.length>0){const le=ee[0].datasetIndex,me=E.getDatasetMeta(le).data;ee=[];for(let Be=0;Be<me.length;++Be)ee.push({element:me[Be],datasetIndex:le,index:Be})}return ee},point:(E,x,A,P)=>xa(E,Mn(x,E),A.axis||"xy",P,A.includeInvisible||!1),nearest:(E,x,A,P)=>cd(E,Mn(x,E),A.axis||"xy",A.intersect,P,A.includeInvisible||!1),x:(E,x,A,P)=>Au(E,Mn(x,E),"x",A.intersect,P),y:(E,x,A,P)=>Au(E,Mn(x,E),"y",A.intersect,P)}};const _a=["left","top","right","bottom"];function qc(E,x){return E.filter(A=>A.pos===x)}function Ps(E,x){return E.filter(A=>-1===_a.indexOf(A.pos)&&A.box.axis===x)}function Na(E,x){return E.sort((A,P)=>{const B=x?P:A,j=x?A:P;return B.weight===j.weight?B.index-j.index:B.weight-j.weight})}function Uc(E,x,A,P){return Math.max(E[A],x[A])+Math.max(E[P],x[P])}function Mu(E,x){E.top=Math.max(E.top,x.top),E.left=Math.max(E.left,x.left),E.bottom=Math.max(E.bottom,x.bottom),E.right=Math.max(E.right,x.right)}function al(E,x,A,P){const{pos:B,box:j}=A,U=E.maxPadding;if(!nt(B)){A.size&&(E[B]-=A.size);const Pe=P[A.stack]||{size:0,count:1};Pe.size=Math.max(Pe.size,A.horizontal?j.height:j.width),A.size=Pe.size/Pe.count,E[B]+=A.size}j.getPadding&&Mu(U,j.getPadding());const ee=Math.max(0,x.outerWidth-Uc(U,E,"left","right")),le=Math.max(0,x.outerHeight-Uc(U,E,"top","bottom")),me=ee!==E.w,Be=le!==E.h;return E.w=ee,E.h=le,A.horizontal?{same:me,other:Be}:{same:Be,other:me}}function El(E,x){const A=x.maxPadding;return function P(B){const j={left:0,top:0,right:0,bottom:0};return B.forEach(U=>{j[U]=Math.max(x[U],A[U])}),j}(E?["left","right"]:["top","bottom"])}function rs(E,x,A,P){const B=[];let j,U,ee,le,me,Be;for(j=0,U=E.length,me=0;j<U;++j){ee=E[j],le=ee.box,le.update(ee.width||x.w,ee.height||x.h,El(ee.horizontal,x));const{same:Pe,other:Ge}=al(x,A,ee,P);me|=Pe&&B.length,Be=Be||Ge,le.fullSize||B.push(ee)}return me&&rs(B,x,A,P)||Be}function Us(E,x,A,P,B){E.top=A,E.left=x,E.right=x+P,E.bottom=A+B,E.width=P,E.height=B}function ep(E,x,A,P){const B=A.padding;let{x:j,y:U}=x;for(const ee of E){const le=ee.box,me=P[ee.stack]||{count:1,placed:0,weight:1},Be=ee.stackWeight/me.weight||1;if(ee.horizontal){const Pe=x.w*Be,Ge=me.size||le.height;lt(me.start)&&(U=me.start),le.fullSize?Us(le,B.left,U,A.outerWidth-B.right-B.left,Ge):Us(le,x.left+me.placed,U,Pe,Ge),me.start=U,me.placed+=Pe,U=le.bottom}else{const Pe=x.h*Be,Ge=me.size||le.width;lt(me.start)&&(j=me.start),le.fullSize?Us(le,j,B.top,Ge,A.outerHeight-B.bottom-B.top):Us(le,j,x.top+me.placed,Ge,Pe),me.start=j,me.placed+=Pe,j=le.right}}x.x=j,x.y=U}var Qo={addBox(E,x){E.boxes||(E.boxes=[]),x.fullSize=x.fullSize||!1,x.position=x.position||"top",x.weight=x.weight||0,x._layers=x._layers||function(){return[{z:0,draw(A){x.draw(A)}}]},E.boxes.push(x)},removeBox(E,x){const A=E.boxes?E.boxes.indexOf(x):-1;-1!==A&&E.boxes.splice(A,1)},configure(E,x,A){x.fullSize=A.fullSize,x.position=A.position,x.weight=A.weight},update(E,x,A,P){if(!E)return;const B=$r(E.options.layout.padding),j=Math.max(x-B.width,0),U=Math.max(A-B.height,0),ee=function(xt){const Mt=function(wi){const Ni=[];let ji,Vi,qi,Ri,_i,ki;for(ji=0,Vi=(wi||[]).length;ji<Vi;++ji)qi=wi[ji],({position:Ri,options:{stack:_i,stackWeight:ki=1}}=qi),Ni.push({index:ji,box:qi,pos:Ri,horizontal:qi.isHorizontal(),weight:qi.weight,stack:_i&&Ri+_i,stackWeight:ki});return Ni}(xt),Ut=Na(Mt.filter(wi=>wi.box.fullSize),!0),bn=Na(qc(Mt,"left"),!0),gn=Na(qc(Mt,"right")),mn=Na(qc(Mt,"top"),!0),Bn=Na(qc(Mt,"bottom")),Kn=Ps(Mt,"x"),Si=Ps(Mt,"y");return{fullSize:Ut,leftAndTop:bn.concat(mn),rightAndBottom:gn.concat(Si).concat(Bn).concat(Kn),chartArea:qc(Mt,"chartArea"),vertical:bn.concat(gn).concat(Si),horizontal:mn.concat(Bn).concat(Kn)}}(E.boxes),le=ee.vertical,me=ee.horizontal;ve(E.boxes,xt=>{"function"==typeof xt.beforeLayout&&xt.beforeLayout()});const Be=le.reduce((xt,Mt)=>Mt.box.options&&!1===Mt.box.options.display?xt:xt+1,0)||1,Pe=Object.freeze({outerWidth:x,outerHeight:A,padding:B,availableWidth:j,availableHeight:U,vBoxMaxWidth:j/2/Be,hBoxMaxHeight:U/2}),Ge=Object.assign({},B);Mu(Ge,$r(P));const ct=Object.assign({maxPadding:Ge,w:j,h:U,x:B.left,y:B.top},B),Ct=function Eg(E,x){const A=function(le){const me={};for(const Be of le){const{stack:Pe,pos:Ge,stackWeight:ct}=Be;if(!Pe||!_a.includes(Ge))continue;const Ct=me[Pe]||(me[Pe]={count:0,placed:0,weight:0,size:0});Ct.count++,Ct.weight+=ct}return me}(E),{vBoxMaxWidth:P,hBoxMaxHeight:B}=x;let j,U,ee;for(j=0,U=E.length;j<U;++j){ee=E[j];const{fullSize:le}=ee.box,me=A[ee.stack],Be=me&&ee.stackWeight/me.weight;ee.horizontal?(ee.width=Be?Be*P:le&&x.availableWidth,ee.height=B):(ee.width=P,ee.height=Be?Be*B:le&&x.availableHeight)}return A}(le.concat(me),Pe);rs(ee.fullSize,ct,Pe,Ct),rs(le,ct,Pe,Ct),rs(me,ct,Pe,Ct)&&rs(le,ct,Pe,Ct),function(xt){const Mt=xt.maxPadding;function Ut(bn){const gn=Math.max(Mt[bn]-xt[bn],0);return xt[bn]+=gn,gn}xt.y+=Ut("top"),xt.x+=Ut("left"),Ut("right"),Ut("bottom")}(ct),ep(ee.leftAndTop,ct,Pe,Ct),ct.x+=ct.w,ct.y+=ct.h,ep(ee.rightAndBottom,ct,Pe,Ct),E.chartArea={left:ct.left,top:ct.top,right:ct.left+ct.w,bottom:ct.top+ct.h,height:ct.h,width:ct.w},ve(ee.chartArea,xt=>{const Mt=xt.box;Object.assign(Mt,E.chartArea),Mt.update(ct.w,ct.h,{left:0,top:0,right:0,bottom:0})})}};class Il{acquireContext(x,A){}releaseContext(x){return!1}addEventListener(x,A,P){}removeEventListener(x,A,P){}getDevicePixelRatio(){return 1}getMaximumSize(x,A,P,B){return A=Math.max(0,A||x.width),P=P||x.height,{width:A,height:Math.max(0,B?Math.floor(A/B):P)}}isAttached(x){return!0}updateConfig(x){}}class $s extends Il{acquireContext(x){return x&&x.getContext&&x.getContext("2d")||null}updateConfig(x){x.options.animation=!1}}const aa="$chartjs",Tu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ch=E=>null===E||""===E,tp=!!Bi&&{passive:!0};function Ga(E,x,A){E&&E.canvas&&E.canvas.removeEventListener(x,A,tp)}function Ns(E,x){for(const A of E)if(A===x||A.contains(x))return!0}function np(E,x,A){const P=E.canvas,B=new MutationObserver(j=>{let U=!1;for(const ee of j)U=U||Ns(ee.addedNodes,P),U=U&&!Ns(ee.removedNodes,P);U&&A()});return B.observe(document,{childList:!0,subtree:!0}),B}function qo(E,x,A){const P=E.canvas,B=new MutationObserver(j=>{let U=!1;for(const ee of j)U=U||Ns(ee.removedNodes,P),U=U&&!Ns(ee.addedNodes,P);U&&A()});return B.observe(document,{childList:!0,subtree:!0}),B}const Eu=new Map;let Ol=0;function $c(){const E=window.devicePixelRatio;E!==Ol&&(Ol=E,Eu.forEach((x,A)=>{A.currentDevicePixelRatio!==E&&x()}))}function yo(E,x,A){const P=E.canvas,B=P&&De(P);if(!B)return;const j=Zo((ee,le)=>{const me=B.clientWidth;A(ee,le),me<B.clientWidth&&A()},window),U=new ResizeObserver(ee=>{const le=ee[0],me=le.contentRect.width,Be=le.contentRect.height;0===me&&0===Be||j(me,Be)});return U.observe(B),ee=E,le=j,Eu.size||window.addEventListener("resize",$c),Eu.set(ee,le),U;var ee,le}function sl(E,x,A){A&&A.disconnect(),"resize"===x&&(Eu.delete(E),Eu.size||window.removeEventListener("resize",$c))}function Iu(E,x,A){const P=E.canvas,B=Zo(j=>{null!==E.ctx&&A(function(U,ee){const le=Tu[U.type]||U.type,{x:me,y:Be}=Mn(U,ee);return{type:le,chart:ee,native:U,x:void 0!==me?me:null,y:void 0!==Be?Be:null}}(j,E))},E);return(j=P)&&j.addEventListener(x,B,tp),B;var j}class Dl extends Il{acquireContext(x,A){const P=x&&x.getContext&&x.getContext("2d");return P&&P.canvas===x?(function(B,j){const U=B.style,ee=B.getAttribute("height"),le=B.getAttribute("width");if(B[aa]={initial:{height:ee,width:le,style:{display:U.display,height:U.height,width:U.width}}},U.display=U.display||"block",U.boxSizing=U.boxSizing||"border-box",Ch(le)){const me=sr(B,"width");void 0!==me&&(B.width=me)}if(Ch(ee))if(""===B.style.height)B.height=B.width/(j||2);else{const me=sr(B,"height");void 0!==me&&(B.height=me)}}(x,A),P):null}releaseContext(x){const A=x.canvas;if(!A[aa])return!1;const P=A[aa].initial;["height","width"].forEach(j=>{const U=P[j];it(U)?A.removeAttribute(j):A.setAttribute(j,U)});const B=P.style||{};return Object.keys(B).forEach(j=>{A.style[j]=B[j]}),A.width=A.width,delete A[aa],!0}addEventListener(x,A,P){this.removeEventListener(x,A),(x.$proxies||(x.$proxies={}))[A]=({attach:np,detach:qo,resize:yo}[A]||Iu)(x,A,P)}removeEventListener(x,A){const P=x.$proxies||(x.$proxies={}),B=P[A];B&&(({attach:sl,detach:sl,resize:sl}[A]||Ga)(x,A,B),P[A]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(x,A,P,B){return gi(x,A,P,B)}isAttached(x){const A=De(x);return!(!A||!A.isConnected)}}function Ou(E){return!ae()||typeof OffscreenCanvas<"u"&&E instanceof OffscreenCanvas?$s:Dl}var Ll=Object.freeze({__proto__:null,BasePlatform:Il,BasicPlatform:$s,DomPlatform:Dl,_detectPlatform:Ou});const Pl="transparent",nf={boolean:(E,x,A)=>A>.5?x:E,color(E,x,A){const P=I(E||Pl),B=P.valid&&I(x||Pl);return B&&B.valid?B.mix(P,A).hexString():x},number:(E,x,A)=>E+(x-E)*A};class Du{constructor(x,A,P,B){const j=A[P];B=_s([x.to,B,j,x.from]);const U=_s([x.from,j,B]);this._active=!0,this._fn=x.fn||nf[x.type||typeof U],this._easing=Ca[x.easing]||Ca.linear,this._start=Math.floor(Date.now()+(x.delay||0)),this._duration=this._total=Math.floor(x.duration),this._loop=!!x.loop,this._target=A,this._prop=P,this._from=U,this._to=B,this._promises=void 0}active(){return this._active}update(x,A,P){if(this._active){this._notify(!1);const B=this._target[this._prop],j=P-this._start,U=this._duration-j;this._start=P,this._duration=Math.floor(Math.max(U,x.duration)),this._total+=j,this._loop=!!x.loop,this._to=_s([x.to,A,B,x.from]),this._from=_s([x.from,B,A])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(x){const A=x-this._start,P=this._duration,B=this._prop,j=this._from,U=this._loop,ee=this._to;let le;if(this._active=j!==ee&&(U||A<P),!this._active)return this._target[B]=ee,void this._notify(!0);A<0?this._target[B]=j:(le=A/P%2,le=U&&le>1?2-le:le,le=this._easing(Math.min(1,Math.max(0,le))),this._target[B]=this._fn(j,ee,le))}wait(){const x=this._promises||(this._promises=[]);return new Promise((A,P)=>{x.push({res:A,rej:P})})}_notify(x){const A=x?"res":"rej",P=this._promises||[];for(let B=0;B<P.length;B++)P[B][A]()}}class Nl{constructor(x,A){this._chart=x,this._properties=new Map,this.configure(A)}configure(x){if(!nt(x))return;const A=Object.keys(W.animation),P=this._properties;Object.getOwnPropertyNames(x).forEach(B=>{const j=x[B];if(!nt(j))return;const U={};for(const ee of A)U[ee]=j[ee];(Nt(j.properties)&&j.properties||[B]).forEach(ee=>{ee!==B&&P.has(ee)||P.set(ee,U)})})}_animateOptions(x,A){const P=A.options,B=function(U,ee){if(!ee)return;let le=U.options;return le?(le.$shared&&(U.options=le=Object.assign({},le,{$shared:!1,$animations:{}})),le):void(U.options=ee)}(x,P);if(!B)return[];const j=this._createAnimations(B,P);return P.$shared&&function(U,ee){const le=[],me=Object.keys(ee);for(let Be=0;Be<me.length;Be++){const Pe=U[me[Be]];Pe&&Pe.active()&&le.push(Pe.wait())}return Promise.all(le)}(x.options.$animations,P).then(()=>{x.options=P},()=>{}),j}_createAnimations(x,A){const P=this._properties,B=[],j=x.$animations||(x.$animations={}),U=Object.keys(A),ee=Date.now();let le;for(le=U.length-1;le>=0;--le){const me=U[le];if("$"===me.charAt(0))continue;if("options"===me){B.push(...this._animateOptions(x,A));continue}const Be=A[me];let Pe=j[me];const Ge=P.get(me);if(Pe){if(Ge&&Pe.active()){Pe.update(Ge,Be,ee);continue}Pe.cancel()}Ge&&Ge.duration?(j[me]=Pe=new Du(Ge,x,me,Be),B.push(Pe)):x[me]=Be}return B}update(x,A){if(0===this._properties.size)return void Object.assign(x,A);const P=this._createAnimations(x,A);return P.length?(bt.add(this._chart,P),!0):void 0}}function Zc(E,x){const A=E&&E.options||{},P=A.reverse,B=void 0===A.min?x:0,j=void 0===A.max?x:0;return{start:P?j:B,end:P?B:j}}function kh(E,x){const A=[],P=E._getSortedDatasetMetas(x);let B,j;for(B=0,j=P.length;B<j;++B)A.push(P[B].index);return A}function Lu(E,x,A,P={}){const B=E.keys,j="single"===P.mode;let U,ee,le,me;if(null!==x){for(U=0,ee=B.length;U<ee;++U){if(le=+B[U],le===A){if(P.all)continue;break}me=E.values[le],gt(me)&&(j||0===x||ue(x)===ue(me))&&(x+=me)}return x}}function Pu(E,x){const A=E&&E.options.stacked;return A||void 0===A&&void 0!==x.stack}function Ig(E,x,A){const P=E[x]||(E[x]={});return P[A]||(P[A]={})}function ud(E,x,A,P){for(const B of x.getMatchingVisibleMetas(P).reverse()){const j=E[B.index];if(A&&j>0||!A&&j<0)return B.index}return null}function bc(E,x){const{chart:A,_cachedMeta:P}=E,B=A._stacks||(A._stacks={}),{iScale:j,vScale:U,index:ee}=P,le=j.axis,me=U.axis,Be=`${j.id}.${U.id}.${(xt=P).stack||xt.type}`,Pe=x.length;var xt;let Ge;for(let ct=0;ct<Pe;++ct){const Ct=x[ct],{[le]:xt,[me]:Mt}=Ct;Ge=(Ct._stacks||(Ct._stacks={}))[me]=Ig(B,Be,xt),Ge[ee]=Mt,Ge._top=ud(Ge,U,!0,P.type),Ge._bottom=ud(Ge,U,!1,P.type),(Ge._visualValues||(Ge._visualValues={}))[ee]=Mt}}function ga(E,x){const A=E.scales;return Object.keys(A).filter(P=>A[P].axis===x).shift()}function Nu(E,x){const A=E.controller.index,P=E.vScale&&E.vScale.axis;if(P){x=x||E._parsed;for(const B of x){const j=B._stacks;if(!j||void 0===j[P]||void 0===j[P][A])return;delete j[P][A],void 0!==j[P]._visualValues&&void 0!==j[P]._visualValues[A]&&delete j[P]._visualValues[A]}}}const Jo=E=>"reset"===E||"none"===E,Zl=(E,x)=>x?E:Object.assign({},E);class Rs{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(x,A){this.chart=x,this._ctx=x.ctx,this.index=A,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const x=this._cachedMeta;this.configure(),this.linkScales(),x._stacked=Pu(x.vScale,x),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(x){this.index!==x&&Nu(this._cachedMeta),this.index=x}linkScales(){const x=this.chart,A=this._cachedMeta,P=this.getDataset(),B=(Pe,Ge,ct,Ct)=>"x"===Pe?Ge:"r"===Pe?Ct:ct,j=A.xAxisID=Ve(P.xAxisID,ga(x,"x")),U=A.yAxisID=Ve(P.yAxisID,ga(x,"y")),ee=A.rAxisID=Ve(P.rAxisID,ga(x,"r")),le=A.indexAxis,me=A.iAxisID=B(le,j,U,ee),Be=A.vAxisID=B(le,U,j,ee);A.xScale=this.getScaleForId(j),A.yScale=this.getScaleForId(U),A.rScale=this.getScaleForId(ee),A.iScale=this.getScaleForId(me),A.vScale=this.getScaleForId(Be)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(x){return this.chart.scales[x]}_getOtherScale(x){const A=this._cachedMeta;return x===A.iScale?A.vScale:A.iScale}reset(){this._update("reset")}_destroy(){const x=this._cachedMeta;this._data&&Fr(this._data,this),x._stacked&&Nu(x)}_dataCheck(){const x=this.getDataset(),A=x.data||(x.data=[]),P=this._data;if(nt(A))this._data=function(B){const j=Object.keys(B),U=new Array(j.length);let ee,le,me;for(ee=0,le=j.length;ee<le;++ee)me=j[ee],U[ee]={x:me,y:B[me]};return U}(A);else if(P!==A){if(P){Fr(P,this);const B=this._cachedMeta;Nu(B),B._parsed=[]}A&&Object.isExtensible(A)&&po(A,this),this._syncList=[],this._data=A}}addElements(){const x=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(x.dataset=new this.datasetElementType)}buildOrUpdateElements(x){const A=this._cachedMeta,P=this.getDataset();let B=!1;this._dataCheck();const j=A._stacked;A._stacked=Pu(A.vScale,A),A.stack!==P.stack&&(B=!0,Nu(A),A.stack=P.stack),this._resyncElements(x),(B||j!==A._stacked)&&bc(this,A._parsed)}configure(){const x=this.chart.config,A=x.datasetScopeKeys(this._type),P=x.getOptionScopes(this.getDataset(),A,!0);this.options=x.createResolver(P,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(x,A){const{_cachedMeta:P,_data:B}=this,{iScale:j,_stacked:U}=P,ee=j.axis;let le,me,Be,Pe=0===x&&A===B.length||P._sorted,Ge=x>0&&P._parsed[x-1];if(!1===this._parsing)P._parsed=B,P._sorted=!0,Be=B;else{Be=Nt(B[x])?this.parseArrayData(P,B,x,A):nt(B[x])?this.parseObjectData(P,B,x,A):this.parsePrimitiveData(P,B,x,A);const ct=()=>null===me[ee]||Ge&&me[ee]<Ge[ee];for(le=0;le<A;++le)P._parsed[le+x]=me=Be[le],Pe&&(ct()&&(Pe=!1),Ge=me);P._sorted=Pe}U&&bc(this,Be)}parsePrimitiveData(x,A,P,B){const{iScale:j,vScale:U}=x,ee=j.axis,le=U.axis,me=j.getLabels(),Be=j===U,Pe=new Array(B);let Ge,ct,Ct;for(Ge=0,ct=B;Ge<ct;++Ge)Ct=Ge+P,Pe[Ge]={[ee]:Be||j.parse(me[Ct],Ct),[le]:U.parse(A[Ct],Ct)};return Pe}parseArrayData(x,A,P,B){const{xScale:j,yScale:U}=x,ee=new Array(B);let le,me,Be,Pe;for(le=0,me=B;le<me;++le)Be=le+P,Pe=A[Be],ee[le]={x:j.parse(Pe[0],Be),y:U.parse(Pe[1],Be)};return ee}parseObjectData(x,A,P,B){const{xScale:j,yScale:U}=x,{xAxisKey:ee="x",yAxisKey:le="y"}=this._parsing,me=new Array(B);let Be,Pe,Ge,ct;for(Be=0,Pe=B;Be<Pe;++Be)Ge=Be+P,ct=A[Ge],me[Be]={x:j.parse(Ot(ct,ee),Ge),y:U.parse(Ot(ct,le),Ge)};return me}getParsed(x){return this._cachedMeta._parsed[x]}getDataElement(x){return this._cachedMeta.data[x]}applyStack(x,A,P){const j=this._cachedMeta,U=A[x.axis];return Lu({keys:kh(this.chart,!0),values:A._stacks[x.axis]._visualValues},U,j.index,{mode:P})}updateRangeFromParsed(x,A,P,B){const j=P[A.axis];let U=null===j?NaN:j;const ee=B&&P._stacks[A.axis];B&&ee&&(B.values=ee,U=Lu(B,j,this._cachedMeta.index)),x.min=Math.min(x.min,U),x.max=Math.max(x.max,U)}getMinMax(x,A){const P=this._cachedMeta,B=P._parsed,j=P._sorted&&x===P.iScale,U=B.length,ee=this._getOtherScale(x),le=((xt,Mt,Ut)=>xt&&!Mt.hidden&&Mt._stacked&&{keys:kh(this.chart,!0),values:null})(A,P),me={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Be,max:Pe}=function(xt){const{min:Mt,max:Ut,minDefined:bn,maxDefined:gn}=xt.getUserBounds();return{min:bn?Mt:Number.NEGATIVE_INFINITY,max:gn?Ut:Number.POSITIVE_INFINITY}}(ee);let Ge,ct;function Ct(){ct=B[Ge];const xt=ct[ee.axis];return!gt(ct[x.axis])||Be>xt||Pe<xt}for(Ge=0;Ge<U&&(Ct()||(this.updateRangeFromParsed(me,x,ct,le),!j));++Ge);if(j)for(Ge=U-1;Ge>=0;--Ge)if(!Ct()){this.updateRangeFromParsed(me,x,ct,le);break}return me}getAllParsedValues(x){const A=this._cachedMeta._parsed,P=[];let B,j,U;for(B=0,j=A.length;B<j;++B)U=A[B][x.axis],gt(U)&&P.push(U);return P}getMaxOverflow(){return!1}getLabelAndValue(x){const A=this._cachedMeta,P=A.iScale,B=A.vScale,j=this.getParsed(x);return{label:P?""+P.getLabelForValue(j[P.axis]):"",value:B?""+B.getLabelForValue(j[B.axis]):""}}_update(x){const A=this._cachedMeta;this.update(x||"default"),A._clip=function(P){let B,j,U,ee;return nt(P)?(B=P.top,j=P.right,U=P.bottom,ee=P.left):B=j=U=ee=P,{top:B,right:j,bottom:U,left:ee,disabled:!1===P}}(Ve(this.options.clip,function(P,B,j){if(!1===j)return!1;const U=Zc(P,j),ee=Zc(B,j);return{top:ee.end,right:U.end,bottom:ee.start,left:U.start}}(A.xScale,A.yScale,this.getMaxOverflow())))}update(x){}draw(){const x=this._ctx,P=this._cachedMeta,B=P.data||[],j=this.chart.chartArea,U=[],ee=this._drawStart||0,le=this._drawCount||B.length-ee,me=this.options.drawActiveElementsOnTop;let Be;for(P.dataset&&P.dataset.draw(x,j,ee,le),Be=ee;Be<ee+le;++Be){const Pe=B[Be];Pe.hidden||(Pe.active&&me?U.push(Pe):Pe.draw(x,j))}for(Be=0;Be<U.length;++Be)U[Be].draw(x,j)}getStyle(x,A){const P=A?"active":"default";return void 0===x&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(P):this.resolveDataElementOptions(x||0,P)}getContext(x,A,P){const B=this.getDataset();let j;if(x>=0&&x<this._cachedMeta.data.length){const U=this._cachedMeta.data[x];j=U.$context||(U.$context=ba(this.getContext(),{active:!1,dataIndex:le=x,parsed:void 0,raw:void 0,element:U,index:le,mode:"default",type:"data"})),j.parsed=this.getParsed(x),j.raw=B.data[x],j.index=j.dataIndex=x}else j=this.$context||(this.$context=ba(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:ee=this.index,index:ee,mode:"default",type:"dataset"})),j.dataset=B,j.index=j.datasetIndex=this.index;var ee,le;return j.active=!!A,j.mode=P,j}resolveDatasetElementOptions(x){return this._resolveElementOptions(this.datasetElementType.id,x)}resolveDataElementOptions(x,A){return this._resolveElementOptions(this.dataElementType.id,A,x)}_resolveElementOptions(x,A="default",P){const B="active"===A,j=this._cachedDataOpts,U=x+"-"+A,ee=j[U],le=this.enableOptionSharing&&lt(P);if(ee)return Zl(ee,le);const me=this.chart.config,Be=me.datasetElementScopeKeys(this._type,x),Pe=B?[`${x}Hover`,"hover",x,""]:[x,""],Ge=me.getOptionScopes(this.getDataset(),Be),ct=Object.keys(W.elements[x]),Ct=me.resolveNamedOptions(Ge,ct,()=>this.getContext(P,B,A),Pe);return Ct.$shared&&(Ct.$shared=le,j[U]=Object.freeze(Zl(Ct,le))),Ct}_resolveAnimations(x,A,P){const B=this.chart,j=this._cachedDataOpts,U=`animation-${A}`,ee=j[U];if(ee)return ee;let le;if(!1!==B.options.animation){const Be=this.chart.config,Pe=Be.datasetAnimationScopeKeys(this._type,A),Ge=Be.getOptionScopes(this.getDataset(),Pe);le=Be.createResolver(Ge,this.getContext(x,P,A))}const me=new Nl(B,le&&le.animations);return le&&le._cacheable&&(j[U]=Object.freeze(me)),me}getSharedOptions(x){if(x.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},x))}includeOptions(x,A){return!A||Jo(x)||this.chart._animationsDisabled}_getSharedOptions(x,A){const P=this.resolveDataElementOptions(x,A),B=this._sharedOptions,j=this.getSharedOptions(P),U=this.includeOptions(A,j)||j!==B;return this.updateSharedOptions(j,A,P),{sharedOptions:j,includeOptions:U}}updateElement(x,A,P,B){Jo(B)?Object.assign(x,P):this._resolveAnimations(A,B).update(x,P)}updateSharedOptions(x,A,P){x&&!Jo(A)&&this._resolveAnimations(void 0,A).update(x,P)}_setStyle(x,A,P,B){x.active=B;const j=this.getStyle(A,B);this._resolveAnimations(A,P,B).update(x,{options:!B&&this.getSharedOptions(j)||j})}removeHoverStyle(x,A,P){this._setStyle(x,P,"active",!1)}setHoverStyle(x,A,P){this._setStyle(x,P,"active",!0)}_removeDatasetHoverStyle(){const x=this._cachedMeta.dataset;x&&this._setStyle(x,void 0,"active",!1)}_setDatasetHoverStyle(){const x=this._cachedMeta.dataset;x&&this._setStyle(x,void 0,"active",!0)}_resyncElements(x){const A=this._data,P=this._cachedMeta.data;for(const[ee,le,me]of this._syncList)this[ee](le,me);this._syncList=[];const B=P.length,j=A.length,U=Math.min(j,B);U&&this.parse(0,U),j>B?this._insertElements(B,j-B,x):j<B&&this._removeElements(j,B-j)}_insertElements(x,A,P=!0){const B=this._cachedMeta,j=B.data,U=x+A;let ee;const le=me=>{for(me.length+=A,ee=me.length-1;ee>=U;ee--)me[ee]=me[ee-A]};for(le(j),ee=x;ee<U;++ee)j[ee]=new this.dataElementType;this._parsing&&le(B._parsed),this.parse(x,A),P&&this.updateElements(j,x,A,"reset")}updateElements(x,A,P,B){}_removeElements(x,A){const P=this._cachedMeta;if(this._parsing){const B=P._parsed.splice(x,A);P._stacked&&Nu(P,B)}P.data.splice(x,A)}_sync(x){if(this._parsing)this._syncList.push(x);else{const[A,P,B]=x;this[A](P,B)}this.chart._dataChanges.push([this.index,...x])}_onDataPush(){const x=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-x,x])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(x,A){A&&this._sync(["_removeElements",x,A]);const P=arguments.length-2;P&&this._sync(["_insertElements",x,P])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class pi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(x){const{x:A,y:P}=this.getProps(["x","y"],x);return{x:A,y:P}}hasValue(){return Zt(this.x)&&Zt(this.y)}getProps(x,A){const P=this.$animations;if(!A||!P)return this;const B={};return x.forEach(j=>{B[j]=P[j]&&P[j].active()?P[j]._to:this[j]}),B}}function Kl(E,x,A,P,B){const j=Ve(P,0),U=Math.min(Ve(B,E.length),E.length);let ee,le,me,Be=0;for(A=Math.ceil(A),B&&(ee=B-P,A=ee/Math.floor(ee/A)),me=j;me<0;)Be++,me=Math.round(j+Be*A);for(le=Math.max(j,0);le<U;le++)le===me&&(x.push(E[le]),Be++,me=Math.round(j+Be*A))}const Bs=(E,x,A)=>"top"===x||"left"===x?E[x]+A:E[x]-A,Ru=(E,x)=>Math.min(x||E,E);function ip(E,x){const A=[],P=E.length/x,B=E.length;let j=0;for(;j<B;j+=P)A.push(E[Math.floor(j)]);return A}function Bu(E,x,A){const P=E.ticks.length,B=Math.min(x,P-1),j=E._startPixel,U=E._endPixel;let le,me=E.getPixelForTick(B);if(!(A&&(le=1===P?Math.max(me-j,U-me):0===x?(E.getPixelForTick(1)-me)/2:(me-E.getPixelForTick(B-1))/2,me+=B<x?le:-le,me<j-1e-6||me>U+1e-6)))return me}function sa(E){return E.drawTicks?E.tickLength:0}function hd(E,x){if(!E.display)return 0;const A=oa(E.font,x),P=$r(E.padding);return(Nt(E.text)?E.text.length:1)*A.lineHeight+P.height}function rf(E,x,A){let P=Do(E);return(A&&"right"!==x||!A&&"right"===x)&&(P="left"===(B=P)?"right":"right"===B?"left":B),P;var B}class Rn extends pi{constructor(x){super(),this.id=x.id,this.type=x.type,this.options=void 0,this.ctx=x.ctx,this.chart=x.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(x){this.options=x.setContext(this.getContext()),this.axis=x.axis,this._userMin=this.parse(x.min),this._userMax=this.parse(x.max),this._suggestedMin=this.parse(x.suggestedMin),this._suggestedMax=this.parse(x.suggestedMax)}parse(x,A){return x}getUserBounds(){let{_userMin:x,_userMax:A,_suggestedMin:P,_suggestedMax:B}=this;return x=et(x,Number.POSITIVE_INFINITY),A=et(A,Number.NEGATIVE_INFINITY),P=et(P,Number.POSITIVE_INFINITY),B=et(B,Number.NEGATIVE_INFINITY),{min:et(x,P),max:et(A,B),minDefined:gt(x),maxDefined:gt(A)}}getMinMax(x){let A,{min:P,max:B,minDefined:j,maxDefined:U}=this.getUserBounds();if(j&&U)return{min:P,max:B};const ee=this.getMatchingVisibleMetas();for(let le=0,me=ee.length;le<me;++le)A=ee[le].controller.getMinMax(this,x),j||(P=Math.min(P,A.min)),U||(B=Math.max(B,A.max));return P=U&&P>B?B:P,B=j&&P>B?P:B,{min:et(P,et(B,P)),max:et(B,et(P,B))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const x=this.chart.data;return this.options.labels||(this.isHorizontal()?x.xLabels:x.yLabels)||x.labels||[]}getLabelItems(x=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(x))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){we(this.options.beforeUpdate,[this])}update(x,A,P){const{beginAtZero:B,grace:j,ticks:U}=this.options,ee=U.sampleSize;this.beforeUpdate(),this.maxWidth=x,this.maxHeight=A,this._margins=P=Object.assign({left:0,right:0,top:0,bottom:0},P),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+P.left+P.right:this.height+P.top+P.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ul(this,j,B),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const le=ee<this.ticks.length;this._convertTicksToLabels(le?ip(this.ticks,ee):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),U.display&&(U.autoSkip||"auto"===U.source)&&(this.ticks=function Xa(E,x){const A=E.options.ticks,P=function(Pe){const Ge=Pe.options.offset,ct=Pe._tickSize();return Math.floor(Math.min(Pe._length/ct+(Ge?0:1),Pe._maxLength/ct))}(E),B=Math.min(A.maxTicksLimit||P,P),j=A.major.enabled?function(Pe){const Ge=[];let ct,Ct;for(ct=0,Ct=Pe.length;ct<Ct;ct++)Pe[ct].major&&Ge.push(ct);return Ge}(x):[],U=j.length,ee=j[0],le=j[U-1],me=[];if(U>B)return function(Pe,Ge,ct,Ct){let xt,Mt=0,Ut=ct[0];for(Ct=Math.ceil(Ct),xt=0;xt<Pe.length;xt++)xt===Ut&&(Ge.push(Pe[xt]),Mt++,Ut=ct[Mt*Ct])}(x,me,j,U/B),me;const Be=function(Pe,Ge,ct){const Ct=function(Ut){const bn=Ut.length;let gn,mn;if(bn<2)return!1;for(mn=Ut[0],gn=1;gn<bn;++gn)if(Ut[gn]-Ut[gn-1]!==mn)return!1;return mn}(Pe),xt=Ge.length/ct;if(!Ct)return Math.max(xt,1);const Mt=jt(Ct);for(let Ut=0,bn=Mt.length-1;Ut<bn;Ut++){const gn=Mt[Ut];if(gn>xt)return gn}return Math.max(xt,1)}(j,x,B);if(U>0){let Pe,Ge;const ct=U>1?Math.round((le-ee)/(U-1)):null;for(Kl(x,me,Be,it(ct)?0:ee-ct,ee),Pe=0,Ge=U-1;Pe<Ge;Pe++)Kl(x,me,Be,j[Pe],j[Pe+1]);return Kl(x,me,Be,le,it(ct)?x.length:le+ct),me}return Kl(x,me,Be),me}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),le&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let x,A,P=this.options.reverse;this.isHorizontal()?(x=this.left,A=this.right):(x=this.top,A=this.bottom,P=!P),this._startPixel=x,this._endPixel=A,this._reversePixels=P,this._length=A-x,this._alignToPixels=this.options.alignToPixels}afterUpdate(){we(this.options.afterUpdate,[this])}beforeSetDimensions(){we(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){we(this.options.afterSetDimensions,[this])}_callHooks(x){this.chart.notifyPlugins(x,this.getContext()),we(this.options[x],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){we(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(x){const A=this.options.ticks;let P,B,j;for(P=0,B=x.length;P<B;P++)j=x[P],j.label=we(A.callback,[j.value,P,x],this)}afterTickToLabelConversion(){we(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){we(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const x=this.options,A=x.ticks,P=Ru(this.ticks.length,x.ticks.maxTicksLimit),B=A.minRotation||0,j=A.maxRotation;let U,ee,le,me=B;if(!this._isVisible()||!A.display||B>=j||P<=1||!this.isHorizontal())return void(this.labelRotation=B);const Be=this._getLabelSizes(),Pe=Be.widest.width,Ge=Be.highest.height,ct=_n(this.chart.width-Pe,0,this.maxWidth);U=x.offset?this.maxWidth/P:ct/(P-1),Pe+6>U&&(U=ct/(P-(x.offset?.5:1)),ee=this.maxHeight-sa(x.grid)-A.padding-hd(x.title,this.chart.options.font),le=Math.sqrt(Pe*Pe+Ge*Ge),me=Ht(Math.min(Math.asin(_n((Be.highest.height+6)/U,-1,1)),Math.asin(_n(ee/le,-1,1))-Math.asin(_n(Ge/le,-1,1)))),me=Math.max(B,Math.min(j,me))),this.labelRotation=me}afterCalculateLabelRotation(){we(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){we(this.options.beforeFit,[this])}fit(){const x={width:0,height:0},{chart:A,options:{ticks:P,title:B,grid:j}}=this,U=this._isVisible(),ee=this.isHorizontal();if(U){const le=hd(B,A.options.font);if(ee?(x.width=this.maxWidth,x.height=sa(j)+le):(x.height=this.maxHeight,x.width=sa(j)+le),P.display&&this.ticks.length){const{first:me,last:Be,widest:Pe,highest:Ge}=this._getLabelSizes(),ct=2*P.padding,Ct=Bt(this.labelRotation),xt=Math.cos(Ct),Mt=Math.sin(Ct);ee?x.height=Math.min(this.maxHeight,x.height+(P.mirror?0:Mt*Pe.width+xt*Ge.height)+ct):x.width=Math.min(this.maxWidth,x.width+(P.mirror?0:xt*Pe.width+Mt*Ge.height)+ct),this._calculatePadding(me,Be,Mt,xt)}}this._handleMargins(),ee?(this.width=this._length=A.width-this._margins.left-this._margins.right,this.height=x.height):(this.width=x.width,this.height=this._length=A.height-this._margins.top-this._margins.bottom)}_calculatePadding(x,A,P,B){const{ticks:{align:j,padding:U},position:ee}=this.options,le=0!==this.labelRotation,me="top"!==ee&&"x"===this.axis;if(this.isHorizontal()){const Be=this.getPixelForTick(0)-this.left,Pe=this.right-this.getPixelForTick(this.ticks.length-1);let Ge=0,ct=0;le?me?(Ge=B*x.width,ct=P*A.height):(Ge=P*x.height,ct=B*A.width):"start"===j?ct=A.width:"end"===j?Ge=x.width:"inner"!==j&&(Ge=x.width/2,ct=A.width/2),this.paddingLeft=Math.max((Ge-Be+U)*this.width/(this.width-Be),0),this.paddingRight=Math.max((ct-Pe+U)*this.width/(this.width-Pe),0)}else{let Be=A.height/2,Pe=x.height/2;"start"===j?(Be=0,Pe=x.height):"end"===j&&(Be=A.height,Pe=0),this.paddingTop=Be+U,this.paddingBottom=Pe+U}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){we(this.options.afterFit,[this])}isHorizontal(){const{axis:x,position:A}=this.options;return"top"===A||"bottom"===A||"x"===x}isFullSize(){return this.options.fullSize}_convertTicksToLabels(x){let A,P;for(this.beforeTickToLabelConversion(),this.generateTickLabels(x),A=0,P=x.length;A<P;A++)it(x[A].label)&&(x.splice(A,1),P--,A--);this.afterTickToLabelConversion()}_getLabelSizes(){let x=this._labelSizes;if(!x){const A=this.options.ticks.sampleSize;let P=this.ticks;A<P.length&&(P=ip(P,A)),this._labelSizes=x=this._computeLabelSizes(P,P.length,this.options.ticks.maxTicksLimit)}return x}_computeLabelSizes(x,A,P){const{ctx:B,_longestTextCache:j}=this,U=[],ee=[],le=Math.floor(A/Ru(A,P));let me,Be,Pe,Ge,ct,Ct,xt,Mt,Ut,bn,gn,mn=0,Bn=0;for(me=0;me<A;me+=le){if(Ge=x[me].label,ct=this._resolveTickFontOptions(me),B.font=Ct=ct.string,xt=j[Ct]=j[Ct]||{data:{},gc:[]},Mt=ct.lineHeight,Ut=bn=0,it(Ge)||Nt(Ge)){if(Nt(Ge))for(Be=0,Pe=Ge.length;Be<Pe;++Be)gn=Ge[Be],it(gn)||Nt(gn)||(Ut=si(B,xt.data,xt.gc,Ut,gn),bn+=Mt)}else Ut=si(B,xt.data,xt.gc,Ut,Ge),bn=Mt;U.push(Ut),ee.push(bn),mn=Math.max(Ut,mn),Bn=Math.max(bn,Bn)}var ji;ji=A,ve(j,Vi=>{const qi=Vi.gc,Ri=qi.length/2;let _i;if(Ri>ji){for(_i=0;_i<Ri;++_i)delete Vi.data[qi[_i]];qi.splice(0,Ri)}});const Kn=U.indexOf(mn),Si=ee.indexOf(Bn),wi=Ni=>({width:U[Ni]||0,height:ee[Ni]||0});return{first:wi(0),last:wi(A-1),widest:wi(Kn),highest:wi(Si),widths:U,heights:ee}}getLabelForValue(x){return x}getPixelForValue(x,A){return NaN}getValueForPixel(x){}getPixelForTick(x){const A=this.ticks;return x<0||x>A.length-1?null:this.getPixelForValue(A[x].value)}getPixelForDecimal(x){this._reversePixels&&(x=1-x);const A=this._startPixel+x*this._length;return Gn(this._alignToPixels?Ur(this.chart,A,0):A)}getDecimalForPixel(x){const A=(x-this._startPixel)/this._length;return this._reversePixels?1-A:A}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:x,max:A}=this;return x<0&&A<0?A:x>0&&A>0?x:0}getContext(x){const A=this.ticks||[];if(x>=0&&x<A.length){const P=A[x];return P.$context||(P.$context=ba(this.getContext(),{tick:P,index:x,type:"tick"}))}return this.$context||(this.$context=ba(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const x=this.options.ticks,A=Bt(this.labelRotation),P=Math.abs(Math.cos(A)),B=Math.abs(Math.sin(A)),j=this._getLabelSizes(),U=x.autoSkipPadding||0,ee=j?j.widest.width+U:0,le=j?j.highest.height+U:0;return this.isHorizontal()?le*P>ee*B?ee/P:le/B:le*B<ee*P?le/P:ee/B}_isVisible(){const x=this.options.display;return"auto"!==x?!!x:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(x){const A=this.axis,P=this.chart,B=this.options,{grid:j,position:U,border:ee}=B,le=j.offset,me=this.isHorizontal(),Be=this.ticks.length+(le?1:0),Pe=sa(j),Ge=[],ct=ee.setContext(this.getContext()),Ct=ct.display?ct.width:0,xt=Ct/2,Mt=function(ki){return Ur(P,ki,Ct)};let Ut,bn,gn,mn,Bn,Kn,Si,wi,Ni,ji,Vi,qi;if("top"===U)Ut=Mt(this.bottom),Kn=this.bottom-Pe,wi=Ut-xt,ji=Mt(x.top)+xt,qi=x.bottom;else if("bottom"===U)Ut=Mt(this.top),ji=x.top,qi=Mt(x.bottom)-xt,Kn=Ut+xt,wi=this.top+Pe;else if("left"===U)Ut=Mt(this.right),Bn=this.right-Pe,Si=Ut-xt,Ni=Mt(x.left)+xt,Vi=x.right;else if("right"===U)Ut=Mt(this.left),Ni=x.left,Vi=Mt(x.right)-xt,Bn=Ut+xt,Si=this.left+Pe;else if("x"===A){if("center"===U)Ut=Mt((x.top+x.bottom)/2+.5);else if(nt(U)){const ki=Object.keys(U)[0];Ut=Mt(this.chart.scales[ki].getPixelForValue(U[ki]))}ji=x.top,qi=x.bottom,Kn=Ut+xt,wi=Kn+Pe}else if("y"===A){if("center"===U)Ut=Mt((x.left+x.right)/2);else if(nt(U)){const ki=Object.keys(U)[0];Ut=Mt(this.chart.scales[ki].getPixelForValue(U[ki]))}Bn=Ut-xt,Si=Bn-Pe,Ni=x.left,Vi=x.right}const Ri=Ve(B.ticks.maxTicksLimit,Be),_i=Math.max(1,Math.ceil(Be/Ri));for(bn=0;bn<Be;bn+=_i){const ki=this.getContext(bn),Or=j.setContext(ki),Ro=ee.setContext(ki),wo=Or.lineWidth,Ma=Or.color,za=Ro.dash||[],dl=Ro.dashOffset,ks=Or.tickWidth,hr=Or.tickColor,kc=Or.tickBorderDash||[],As=Or.tickBorderDashOffset;gn=Bu(this,bn,le),void 0!==gn&&(mn=Ur(P,gn,wo),me?Bn=Si=Ni=Vi=mn:Kn=wi=ji=qi=mn,Ge.push({tx1:Bn,ty1:Kn,tx2:Si,ty2:wi,x1:Ni,y1:ji,x2:Vi,y2:qi,width:wo,color:Ma,borderDash:za,borderDashOffset:dl,tickWidth:ks,tickColor:hr,tickBorderDash:kc,tickBorderDashOffset:As}))}return this._ticksLength=Be,this._borderValue=Ut,Ge}_computeLabelItems(x){const A=this.axis,P=this.options,{position:B,ticks:j}=P,U=this.isHorizontal(),ee=this.ticks,{align:le,crossAlign:me,padding:Be,mirror:Pe}=j,Ge=sa(P.grid),ct=Ge+Be,Ct=Pe?-Be:ct,xt=-Bt(this.labelRotation),Mt=[];let Ut,bn,gn,mn,Bn,Kn,Si,wi,Ni,ji,Vi,qi,Ri="middle";if("top"===B)Kn=this.bottom-Ct,Si=this._getXAxisLabelAlignment();else if("bottom"===B)Kn=this.top+Ct,Si=this._getXAxisLabelAlignment();else if("left"===B){const ki=this._getYAxisLabelAlignment(Ge);Si=ki.textAlign,Bn=ki.x}else if("right"===B){const ki=this._getYAxisLabelAlignment(Ge);Si=ki.textAlign,Bn=ki.x}else if("x"===A){if("center"===B)Kn=(x.top+x.bottom)/2+ct;else if(nt(B)){const ki=Object.keys(B)[0];Kn=this.chart.scales[ki].getPixelForValue(B[ki])+ct}Si=this._getXAxisLabelAlignment()}else if("y"===A){if("center"===B)Bn=(x.left+x.right)/2-ct;else if(nt(B)){const ki=Object.keys(B)[0];Bn=this.chart.scales[ki].getPixelForValue(B[ki])}Si=this._getYAxisLabelAlignment(Ge).textAlign}"y"===A&&("start"===le?Ri="top":"end"===le&&(Ri="bottom"));const _i=this._getLabelSizes();for(Ut=0,bn=ee.length;Ut<bn;++Ut){gn=ee[Ut],mn=gn.label;const ki=j.setContext(this.getContext(Ut));wi=this.getPixelForTick(Ut)+j.labelOffset,Ni=this._resolveTickFontOptions(Ut),ji=Ni.lineHeight,Vi=Nt(mn)?mn.length:1;const Or=Vi/2,Ro=ki.color,wo=ki.textStrokeColor,Ma=ki.textStrokeWidth;let za,dl=Si;if(U?(Bn=wi,"inner"===Si&&(dl=Ut===bn-1?this.options.reverse?"left":"right":0===Ut?this.options.reverse?"right":"left":"center"),qi="top"===B?"near"===me||0!==xt?-Vi*ji+ji/2:"center"===me?-_i.highest.height/2-Or*ji+ji:ji/2-_i.highest.height:"near"===me||0!==xt?ji/2:"center"===me?_i.highest.height/2-Or*ji:_i.highest.height-Vi*ji,Pe&&(qi*=-1),0===xt||ki.showLabelBackdrop||(Bn+=ji/2*Math.sin(xt))):(Kn=wi,qi=(1-Vi)*ji/2),ki.showLabelBackdrop){const ks=$r(ki.backdropPadding),hr=_i.heights[Ut],kc=_i.widths[Ut];let As=qi-ks.top,ic=0-ks.left;switch(Ri){case"middle":As-=hr/2;break;case"bottom":As-=hr}switch(Si){case"center":ic-=kc/2;break;case"right":ic-=kc;break;case"inner":Ut===bn-1?ic-=kc:Ut>0&&(ic-=kc/2)}za={left:ic,top:As,width:kc+ks.width,height:hr+ks.height,color:ki.backdropColor}}Mt.push({label:mn,font:Ni,textOffset:qi,options:{rotation:xt,color:Ro,strokeColor:wo,strokeWidth:Ma,textAlign:dl,textBaseline:Ri,translation:[Bn,Kn],backdrop:za}})}return Mt}_getXAxisLabelAlignment(){const{position:x,ticks:A}=this.options;if(-Bt(this.labelRotation))return"top"===x?"left":"right";let P="center";return"start"===A.align?P="left":"end"===A.align?P="right":"inner"===A.align&&(P="inner"),P}_getYAxisLabelAlignment(x){const{position:A,ticks:{crossAlign:P,mirror:B,padding:j}}=this.options,U=x+j,ee=this._getLabelSizes().widest.width;let le,me;return"left"===A?B?(me=this.right+j,"near"===P?le="left":"center"===P?(le="center",me+=ee/2):(le="right",me+=ee)):(me=this.right-U,"near"===P?le="right":"center"===P?(le="center",me-=ee/2):(le="left",me=this.left)):"right"===A?B?(me=this.left+j,"near"===P?le="right":"center"===P?(le="center",me-=ee/2):(le="left",me-=ee)):(me=this.left+U,"near"===P?le="left":"center"===P?(le="center",me+=ee/2):(le="right",me=this.right)):le="right",{textAlign:le,x:me}}_computeLabelArea(){if(this.options.ticks.mirror)return;const x=this.chart,A=this.options.position;return"left"===A||"right"===A?{top:0,left:this.left,bottom:x.height,right:this.right}:"top"===A||"bottom"===A?{top:this.top,left:0,bottom:this.bottom,right:x.width}:void 0}drawBackground(){const{ctx:x,options:{backgroundColor:A},left:P,top:B,width:j,height:U}=this;A&&(x.save(),x.fillStyle=A,x.fillRect(P,B,j,U),x.restore())}getLineWidthForValue(x){const A=this.options.grid;if(!this._isVisible()||!A.display)return 0;const P=this.ticks.findIndex(B=>B.value===x);return P>=0?A.setContext(this.getContext(P)).lineWidth:0}drawGrid(x){const A=this.options.grid,P=this.ctx,B=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(x));let j,U;const ee=(le,me,Be)=>{Be.width&&Be.color&&(P.save(),P.lineWidth=Be.width,P.strokeStyle=Be.color,P.setLineDash(Be.borderDash||[]),P.lineDashOffset=Be.borderDashOffset,P.beginPath(),P.moveTo(le.x,le.y),P.lineTo(me.x,me.y),P.stroke(),P.restore())};if(A.display)for(j=0,U=B.length;j<U;++j){const le=B[j];A.drawOnChartArea&&ee({x:le.x1,y:le.y1},{x:le.x2,y:le.y2},le),A.drawTicks&&ee({x:le.tx1,y:le.ty1},{x:le.tx2,y:le.ty2},{color:le.tickColor,width:le.tickWidth,borderDash:le.tickBorderDash,borderDashOffset:le.tickBorderDashOffset})}}drawBorder(){const{chart:x,ctx:A,options:{border:P,grid:B}}=this,j=P.setContext(this.getContext()),U=P.display?j.width:0;if(!U)return;const ee=B.setContext(this.getContext(0)).lineWidth,le=this._borderValue;let me,Be,Pe,Ge;this.isHorizontal()?(me=Ur(x,this.left,U)-U/2,Be=Ur(x,this.right,ee)+ee/2,Pe=Ge=le):(Pe=Ur(x,this.top,U)-U/2,Ge=Ur(x,this.bottom,ee)+ee/2,me=Be=le),A.save(),A.lineWidth=j.width,A.strokeStyle=j.color,A.beginPath(),A.moveTo(me,Pe),A.lineTo(Be,Ge),A.stroke(),A.restore()}drawLabels(x){if(!this.options.ticks.display)return;const A=this.ctx,P=this._computeLabelArea();P&&Lo(A,P);const B=this.getLabelItems(x);for(const j of B)Ds(A,j.label,0,j.textOffset,j.font,j.options);P&&Gr(A)}drawTitle(){const{ctx:x,options:{position:A,title:P,reverse:B}}=this;if(!P.display)return;const j=oa(P.font),U=$r(P.padding),ee=P.align;let le=j.lineHeight/2;"bottom"===A||"center"===A||nt(A)?(le+=U.bottom,Nt(P.text)&&(le+=j.lineHeight*(P.text.length-1))):le+=U.top;const{titleX:me,titleY:Be,maxWidth:Pe,rotation:Ge}=function(ct,Ct,xt,Mt){const{top:Ut,left:bn,bottom:gn,right:mn,chart:Bn}=ct,{chartArea:Kn,scales:Si}=Bn;let wi,Ni,ji,Vi=0;const qi=gn-Ut,Ri=mn-bn;if(ct.isHorizontal()){if(Ni=fa(Mt,bn,mn),nt(xt)){const _i=Object.keys(xt)[0];ji=Si[_i].getPixelForValue(xt[_i])+qi-Ct}else ji="center"===xt?(Kn.bottom+Kn.top)/2+qi-Ct:Bs(ct,xt,Ct);wi=mn-bn}else{if(nt(xt)){const _i=Object.keys(xt)[0];Ni=Si[_i].getPixelForValue(xt[_i])-Ri+Ct}else Ni="center"===xt?(Kn.left+Kn.right)/2-Ri+Ct:Bs(ct,xt,Ct);ji=fa(Mt,gn,Ut),Vi="left"===xt?-pn:pn}return{titleX:Ni,titleY:ji,maxWidth:wi,rotation:Vi}}(this,le,A,ee);Ds(x,P.text,0,0,j,{color:P.color,maxWidth:Pe,rotation:Ge,textAlign:rf(ee,A,B),textBaseline:"middle",translation:[me,Be]})}draw(x){this._isVisible()&&(this.drawBackground(),this.drawGrid(x),this.drawBorder(),this.drawTitle(),this.drawLabels(x))}_layers(){const x=this.options,A=x.ticks&&x.ticks.z||0,P=Ve(x.grid&&x.grid.z,-1),B=Ve(x.border&&x.border.z,0);return this._isVisible()&&this.draw===Rn.prototype.draw?[{z:P,draw:j=>{this.drawBackground(),this.drawGrid(j),this.drawTitle()}},{z:B,draw:()=>{this.drawBorder()}},{z:A,draw:j=>{this.drawLabels(j)}}]:[{z:A,draw:j=>{this.draw(j)}}]}getMatchingVisibleMetas(x){const A=this.chart.getSortedVisibleDatasetMetas(),P=this.axis+"AxisID",B=[];let j,U;for(j=0,U=A.length;j<U;++j){const ee=A[j];ee[P]!==this.id||x&&ee.type!==x||B.push(ee)}return B}_resolveTickFontOptions(x){return oa(this.options.ticks.setContext(this.getContext(x)).font)}_maxDigits(){const x=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/x}}class xc{constructor(x,A,P){this.type=x,this.scope=A,this.override=P,this.items=Object.create(null)}isForType(x){return Object.prototype.isPrototypeOf.call(this.type.prototype,x.prototype)}register(x){const A=Object.getPrototypeOf(x);let P;var ee;"id"in(ee=A)&&"defaults"in ee&&(P=this.register(A));const B=this.items,j=x.id,U=this.scope+"."+j;if(!j)throw new Error("class does not have id: "+x);return j in B||(B[j]=x,function(ee,le,me){const Be=ot(Object.create(null),[me?W.get(me):{},W.get(le),ee.defaults]);var Pe,Ge;W.set(le,Be),ee.defaultRoutes&&(Pe=le,Ge=ee.defaultRoutes,Object.keys(Ge).forEach(ct=>{const Ct=ct.split("."),xt=Ct.pop(),Mt=[Pe].concat(Ct).join("."),Ut=Ge[ct].split("."),bn=Ut.pop(),gn=Ut.join(".");W.route(Mt,xt,gn,bn)})),ee.descriptors&&W.describe(le,ee.descriptors)}(x,U,P),this.override&&W.override(x.id,x.overrides)),U}get(x){return this.items[x]}unregister(x){const A=this.items,P=x.id,B=this.scope;P in A&&delete A[P],B&&P in W[B]&&(delete W[B][P],this.override&&delete Se[P])}}var ka=new class Ah{constructor(){this.controllers=new xc(Rs,"datasets",!0),this.elements=new xc(pi,"elements"),this.plugins=new xc(Object,"plugins"),this.scales=new xc(Rn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...x){this._each("register",x)}remove(...x){this._each("unregister",x)}addControllers(...x){this._each("register",x,this.controllers)}addElements(...x){this._each("register",x,this.elements)}addPlugins(...x){this._each("register",x,this.plugins)}addScales(...x){this._each("register",x,this.scales)}getController(x){return this._get(x,this.controllers,"controller")}getElement(x){return this._get(x,this.elements,"element")}getPlugin(x){return this._get(x,this.plugins,"plugin")}getScale(x){return this._get(x,this.scales,"scale")}removeControllers(...x){this._each("unregister",x,this.controllers)}removeElements(...x){this._each("unregister",x,this.elements)}removePlugins(...x){this._each("unregister",x,this.plugins)}removeScales(...x){this._each("unregister",x,this.scales)}_each(x,A,P){[...A].forEach(B=>{const j=P||this._getRegistryForType(B);P||j.isForType(B)||j===this.plugins&&B.id?this._exec(x,j,B):ve(B,U=>{const ee=P||this._getRegistryForType(U);this._exec(x,ee,U)})})}_exec(x,A,P){const B=wt(x);we(P["before"+B],[],P),A[x](P),we(P["after"+B],[],P)}_getRegistryForType(x){for(let A=0;A<this._typedRegistries.length;A++){const P=this._typedRegistries[A];if(P.isForType(x))return P}return this.plugins}_get(x,A,P){const B=A.get(x);if(void 0===B)throw new Error('"'+x+'" is not a registered '+P+".");return B}};class Mh{constructor(){this._init=[]}notify(x,A,P,B){"beforeInit"===A&&(this._init=this._createDescriptors(x,!0),this._notify(this._init,x,"install"));const j=B?this._descriptors(x).filter(B):this._descriptors(x),U=this._notify(j,x,A,P);return"afterDestroy"===A&&(this._notify(j,x,"stop"),this._notify(this._init,x,"uninstall")),U}_notify(x,A,P,B){B=B||{};for(const j of x){const U=j.plugin;if(!1===we(U[P],[A,B,j.options],U)&&B.cancelable)return!1}return!0}invalidate(){it(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(x){if(this._cache)return this._cache;const A=this._cache=this._createDescriptors(x);return this._notifyStateChanges(x),A}_createDescriptors(x,A){const P=x&&x.config,B=Ve(P.options&&P.options.plugins,{}),j=function(U){const ee={},le=[],me=Object.keys(ka.plugins.items);for(let Pe=0;Pe<me.length;Pe++)le.push(ka.getPlugin(me[Pe]));const Be=U.plugins||[];for(let Pe=0;Pe<Be.length;Pe++){const Ge=Be[Pe];-1===le.indexOf(Ge)&&(le.push(Ge),ee[Ge.id]=!0)}return{plugins:le,localIds:ee}}(P);return!1!==B||A?function(U,{plugins:ee,localIds:le},me,Be){const Pe=[],Ge=U.getContext();for(const ct of ee){const Ct=ct.id,xt=Kc(me[Ct],Be);null!==xt&&Pe.push({plugin:ct,options:Co(U.config,{plugin:ct,local:le[Ct]},xt,Ge)})}return Pe}(x,j,B,A):[]}_notifyStateChanges(x){const A=this._oldCache||[],P=this._cache,B=(j,U)=>j.filter(ee=>!U.some(le=>ee.plugin.id===le.plugin.id));this._notify(B(A,P),x,"stop"),this._notify(B(P,A),x,"start")}}function Kc(E,x){return x||!1!==E?!0===E?{}:E:null}function Co(E,{plugin:x,local:A},P,B){const j=E.pluginScopeKeys(x),U=E.getOptionScopes(P,j);return A&&x.defaults&&U.push(x.defaults),E.createResolver(U,B,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Th(E,x){return((x.datasets||{})[E]||{}).indexAxis||x.indexAxis||(W.datasets[E]||{}).indexAxis||"x"}function Ss(E){if("x"===E||"y"===E||"r"===E)return E}function fo(E,...x){if(Ss(E))return E;for(const P of x){const B=P.axis||("top"===(A=P.position)||"bottom"===A?"x":"left"===A||"right"===A?"y":void 0)||E.length>1&&Ss(E[0].toLowerCase());if(B)return B}var A;throw new Error(`Cannot determine type of '${E}' axis. Please provide 'axis' or 'position' option.`)}function Rl(E,x,A){if(A[x+"AxisID"]===E)return{axis:x}}function qa(E){const x=E.options||(E.options={});x.plugins=Ve(x.plugins,{}),x.scales=function zu(E,x){const A=Se[E.type]||{scales:{}},P=x.scales||{},B=Th(E.type,x),j=Object.create(null);return Object.keys(P).forEach(U=>{const ee=P[U];if(!nt(ee))return console.error(`Invalid scale configuration for scale: ${U}`);if(ee._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${U}`);const le=fo(U,ee,function(Pe,Ge){if(Ge.data&&Ge.data.datasets){const ct=Ge.data.datasets.filter(Ct=>Ct.xAxisID===Pe||Ct.yAxisID===Pe);if(ct.length)return Rl(Pe,"x",ct[0])||Rl(Pe,"y",ct[0])}return{}}(U,E),W.scales[ee.type]),me=le===B?"_index_":"_value_",Be=A.scales||{};j[U]=Ae(Object.create(null),[{axis:le},ee,Be[le],Be[me]])}),E.data.datasets.forEach(U=>{const ee=U.type||E.type,le=U.indexAxis||Th(ee,x),me=(Se[ee]||{}).scales||{};Object.keys(me).forEach(Be=>{const Pe=function(ct,Ct){let xt=ct;return"_index_"===ct?xt=Ct:"_value_"===ct&&(xt="x"===Ct?"y":"x"),xt}(Be,le),Ge=U[Pe+"AxisID"]||Pe;j[Ge]=j[Ge]||Object.create(null),Ae(j[Ge],[{axis:Pe},P[Ge],me[Be]])})}),Object.keys(j).forEach(U=>{const ee=j[U];Ae(ee,[W.scales[ee.type],W.scale])}),j}(E,x)}function Ql(E){return(E=E||{}).datasets=E.datasets||[],E.labels=E.labels||[],E}const Qc=new Map,rp=new Set;function Ua(E,x){let A=Qc.get(E);return A||(A=x(),Qc.set(E,A),rp.add(A)),A}const go=(E,x,A)=>{const P=Ot(x,A);void 0!==P&&E.add(P)};class _c{constructor(x){var A;this._config=((A=(A=x)||{}).data=Ql(A.data),qa(A),A),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(x){this._config.type=x}get data(){return this._config.data}set data(x){this._config.data=Ql(x)}get options(){return this._config.options}set options(x){this._config.options=x}get plugins(){return this._config.plugins}update(){const x=this._config;this.clearCache(),qa(x)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(x){return Ua(x,()=>[[`datasets.${x}`,""]])}datasetAnimationScopeKeys(x,A){return Ua(`${x}.transition.${A}`,()=>[[`datasets.${x}.transitions.${A}`,`transitions.${A}`],[`datasets.${x}`,""]])}datasetElementScopeKeys(x,A){return Ua(`${x}-${A}`,()=>[[`datasets.${x}.elements.${A}`,`datasets.${x}`,`elements.${A}`,""]])}pluginScopeKeys(x){const A=x.id;return Ua(`${this.type}-plugin-${A}`,()=>[[`plugins.${A}`,...x.additionalOptionScopes||[]]])}_cachedScopes(x,A){const P=this._scopeCache;let B=P.get(x);return B&&!A||(B=new Map,P.set(x,B)),B}getOptionScopes(x,A,P){const{options:B,type:j}=this,U=this._cachedScopes(x,P),ee=U.get(A);if(ee)return ee;const le=new Set;A.forEach(Be=>{x&&(le.add(x),Be.forEach(Pe=>go(le,x,Pe))),Be.forEach(Pe=>go(le,B,Pe)),Be.forEach(Pe=>go(le,Se[j]||{},Pe)),Be.forEach(Pe=>go(le,W,Pe)),Be.forEach(Pe=>go(le,Le,Pe))});const me=Array.from(le);return 0===me.length&&me.push(Object.create(null)),rp.has(A)&&U.set(A,me),me}chartOptionScopes(){const{options:x,type:A}=this;return[x,Se[A]||{},W.datasets[A]||{},{type:A},W,Le]}resolveNamedOptions(x,A,P,B=[""]){const j={$shared:!0},{resolver:U,subPrefixes:ee}=Fu(this._resolverCache,x,B);let le=U;(function(me,Be){const{isScriptable:Pe,isIndexable:Ge}=mc(me);for(const ct of Be){const Ct=Pe(ct),xt=Ge(ct),Mt=(xt||Ct)&&me[ct];if(Ct&&($e(Mt)||$a(Mt))||xt&&Nt(Mt))return!0}return!1})(U,A)&&(j.$shared=!1,le=Sl(U,P=$e(P)?P():P,this.createResolver(x,P,ee)));for(const me of A)j[me]=le[me];return j}createResolver(x,A,P=[""],B){const{resolver:j}=Fu(this._resolverCache,x,P);return nt(A)?Sl(j,A,void 0,B):j}}function Fu(E,x,A){let P=E.get(x);P||(P=new Map,E.set(x,P));const B=A.join();let j=P.get(B);return j||(j={resolver:gc(x,A),subPrefixes:A.filter(U=>!U.toLowerCase().includes("hover"))},P.set(B,j)),j}const $a=E=>nt(E)&&Object.getOwnPropertyNames(E).some(x=>$e(E[x])),of=["top","bottom","left","right","chartArea"];function Bl(E,x){return"top"===E||"bottom"===E||-1===of.indexOf(E)&&"x"===x}function ll(E,x){return function(A,P){return A[E]===P[E]?A[x]-P[x]:A[E]-P[E]}}function cl(E){const x=E.chart,A=x.options.animation;x.notifyPlugins("afterRender"),we(A&&A.onComplete,[E],x)}function ul(E){const x=E.chart,A=x.options.animation;we(A&&A.onProgress,[E],x)}function os(E){return ae()&&"string"==typeof E?E=document.getElementById(E):E&&E.length&&(E=E[0]),E&&E.canvas&&(E=E.canvas),E}const Vu={},Jc=E=>{const x=os(E);return Object.values(Vu).filter(A=>A.canvas===x).pop()};function Eh(E,x,A){const P=Object.keys(E);for(const B of P){const j=+B;if(j>=x){const U=E[B];delete E[B],(A>0||j>x)&&(E[j+A]=U)}}}function eu(E,x,A){return E.options.clip?E[A]:x[A]}class bo{static defaults=W;static instances=Vu;static overrides=Se;static registry=ka;static version="4.4.2";static getChart=Jc;static register(...x){ka.add(...x),ma()}static unregister(...x){ka.remove(...x),ma()}constructor(x,A){const P=this.config=new _c(A),B=os(x),j=Jc(B);if(j)throw new Error("Canvas is already in use. Chart with ID '"+j.id+"' must be destroyed before the canvas with ID '"+j.canvas.id+"' can be reused.");const U=P.createResolver(P.chartOptionScopes(),this.getContext());this.platform=new(P.platform||Ou(B)),this.platform.updateConfig(P);const ee=this.platform.acquireContext(B,U.aspectRatio),le=ee&&ee.canvas,me=le&&le.height,Be=le&&le.width;this.id=Oe(),this.ctx=ee,this.canvas=le,this.width=Be,this.height=me,this._options=U,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Mh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ns(Pe=>this.update(Pe),U.resizeDelay||0),this._dataChanges=[],Vu[this.id]=this,ee&&le?(bt.listen(this,"complete",cl),bt.listen(this,"progress",ul),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:x,maintainAspectRatio:A},width:P,height:B,_aspectRatio:j}=this;return it(x)?A&&j?j:B?P/B:null:x}get data(){return this.config.data}set data(x){this.config.data=x}get options(){return this._options}set options(x){this.config.options=x}get registry(){return ka}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ei(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fo(this.canvas,this.ctx),this}stop(){return bt.stop(this),this}resize(x,A){bt.running(this)?this._resizeBeforeDraw={width:x,height:A}:this._resize(x,A)}_resize(x,A){const P=this.options,U=this.platform.getMaximumSize(this.canvas,x,A,P.maintainAspectRatio&&this.aspectRatio),ee=P.devicePixelRatio||this.platform.getDevicePixelRatio(),le=this.width?"resize":"attach";this.width=U.width,this.height=U.height,this._aspectRatio=this.aspectRatio,Ei(this,ee,!0)&&(this.notifyPlugins("resize",{size:U}),we(P.onResize,[this,U],this),this.attached&&this._doResize(le)&&this.render())}ensureScalesHaveIDs(){ve(this.options.scales||{},(x,A)=>{x.id=A})}buildOrUpdateScales(){const x=this.options,A=x.scales,P=this.scales,B=Object.keys(P).reduce((U,ee)=>(U[ee]=!1,U),{});let j=[];A&&(j=j.concat(Object.keys(A).map(U=>{const ee=A[U],le=fo(U,ee),me="r"===le,Be="x"===le;return{options:ee,dposition:me?"chartArea":Be?"bottom":"left",dtype:me?"radialLinear":Be?"category":"linear"}}))),ve(j,U=>{const ee=U.options,le=ee.id,me=fo(le,ee),Be=Ve(ee.type,U.dtype);void 0!==ee.position&&Bl(ee.position,me)===Bl(U.dposition)||(ee.position=U.dposition),B[le]=!0;let Pe=null;le in P&&P[le].type===Be?Pe=P[le]:(Pe=new(ka.getScale(Be))({id:le,type:Be,ctx:this.ctx,chart:this}),P[Pe.id]=Pe),Pe.init(ee,x)}),ve(B,(U,ee)=>{U||delete P[ee]}),ve(P,U=>{Qo.configure(this,U,U.options),Qo.addBox(this,U)})}_updateMetasets(){const x=this._metasets,A=this.data.datasets.length,P=x.length;if(x.sort((B,j)=>B.index-j.index),P>A){for(let B=A;B<P;++B)this._destroyDatasetMeta(B);x.splice(A,P-A)}this._sortedMetasets=x.slice(0).sort(ll("order","index"))}_removeUnreferencedMetasets(){const{_metasets:x,data:{datasets:A}}=this;x.length>A.length&&delete this._stacks,x.forEach((P,B)=>{0===A.filter(j=>j===P._dataset).length&&this._destroyDatasetMeta(B)})}buildOrUpdateControllers(){const x=[],A=this.data.datasets;let P,B;for(this._removeUnreferencedMetasets(),P=0,B=A.length;P<B;P++){const j=A[P];let U=this.getDatasetMeta(P);const ee=j.type||this.config.type;if(U.type&&U.type!==ee&&(this._destroyDatasetMeta(P),U=this.getDatasetMeta(P)),U.type=ee,U.indexAxis=j.indexAxis||Th(ee,this.options),U.order=j.order||0,U.index=P,U.label=""+j.label,U.visible=this.isDatasetVisible(P),U.controller)U.controller.updateIndex(P),U.controller.linkScales();else{const le=ka.getController(ee),{datasetElementType:me,dataElementType:Be}=W.datasets[ee];Object.assign(le,{dataElementType:ka.getElement(Be),datasetElementType:me&&ka.getElement(me)}),U.controller=new le(this,P),x.push(U.controller)}}return this._updateMetasets(),x}_resetElements(){ve(this.data.datasets,(x,A)=>{this.getDatasetMeta(A).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(x){const A=this.config;A.update();const P=this._options=A.createResolver(A.chartOptionScopes(),this.getContext()),B=this._animationsDisabled=!P.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:x,cancelable:!0}))return;const j=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let U=0;for(let me=0,Be=this.data.datasets.length;me<Be;me++){const{controller:Pe}=this.getDatasetMeta(me),Ge=!B&&-1===j.indexOf(Pe);Pe.buildOrUpdateElements(Ge),U=Math.max(+Pe.getMaxOverflow(),U)}U=this._minPadding=P.layout.autoPadding?U:0,this._updateLayout(U),B||ve(j,me=>{me.reset()}),this._updateDatasets(x),this.notifyPlugins("afterUpdate",{mode:x}),this._layers.sort(ll("z","_idx"));const{_active:ee,_lastEvent:le}=this;le?this._eventHandler(le,!0):ee.length&&this._updateHoverStyles(ee,ee,!0),this.render()}_updateScales(){ve(this.scales,x=>{Qo.removeBox(this,x)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const x=this.options,A=new Set(Object.keys(this._listeners)),P=new Set(x.events);Qe(A,P)&&!!this._responsiveListeners===x.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:x}=this,A=this._getUniformDataChanges()||[];for(const{method:P,start:B,count:j}of A)Eh(x,B,"_removeElements"===P?-j:j)}_getUniformDataChanges(){const x=this._dataChanges;if(!x||!x.length)return;this._dataChanges=[];const A=this.data.datasets.length,P=j=>new Set(x.filter(U=>U[0]===j).map((U,ee)=>ee+","+U.splice(1).join(","))),B=P(0);for(let j=1;j<A;j++)if(!Qe(B,P(j)))return;return Array.from(B).map(j=>j.split(",")).map(j=>({method:j[1],start:+j[2],count:+j[3]}))}_updateLayout(x){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Qo.update(this,this.width,this.height,x);const A=this.chartArea,P=A.width<=0||A.height<=0;this._layers=[],ve(this.boxes,B=>{P&&"chartArea"===B.position||(B.configure&&B.configure(),this._layers.push(...B._layers()))},this),this._layers.forEach((B,j)=>{B._idx=j}),this.notifyPlugins("afterLayout")}_updateDatasets(x){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:x,cancelable:!0})){for(let A=0,P=this.data.datasets.length;A<P;++A)this.getDatasetMeta(A).controller.configure();for(let A=0,P=this.data.datasets.length;A<P;++A)this._updateDataset(A,$e(x)?x({datasetIndex:A}):x);this.notifyPlugins("afterDatasetsUpdate",{mode:x})}}_updateDataset(x,A){const P=this.getDatasetMeta(x),B={meta:P,index:x,mode:A,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",B)&&(P.controller._update(A),B.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",B))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(bt.has(this)?this.attached&&!bt.running(this)&&bt.start(this):(this.draw(),cl({chart:this})))}draw(){let x;if(this._resizeBeforeDraw){const{width:P,height:B}=this._resizeBeforeDraw;this._resize(P,B),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const A=this._layers;for(x=0;x<A.length&&A[x].z<=0;++x)A[x].draw(this.chartArea);for(this._drawDatasets();x<A.length;++x)A[x].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(x){const A=this._sortedMetasets,P=[];let B,j;for(B=0,j=A.length;B<j;++B){const U=A[B];x&&!U.visible||P.push(U)}return P}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const x=this.getSortedVisibleDatasetMetas();for(let A=x.length-1;A>=0;--A)this._drawDataset(x[A]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(x){const A=this.ctx,P=x._clip,B=!P.disabled,j=function(ee,le){const{xScale:me,yScale:Be}=ee;return me&&Be?{left:eu(me,le,"left"),right:eu(me,le,"right"),top:eu(Be,le,"top"),bottom:eu(Be,le,"bottom")}:le}(x,this.chartArea),U={meta:x,index:x.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",U)&&(B&&Lo(A,{left:!1===P.left?0:j.left-P.left,right:!1===P.right?this.width:j.right+P.right,top:!1===P.top?0:j.top-P.top,bottom:!1===P.bottom?this.height:j.bottom+P.bottom}),x.controller.draw(),B&&Gr(A),U.cancelable=!1,this.notifyPlugins("afterDatasetDraw",U))}isPointInArea(x){return uo(x,this.chartArea,this._minPadding)}getElementsAtEventForMode(x,A,P,B){const j=Xc.modes[A];return"function"==typeof j?j(this,x,P,B):[]}getDatasetMeta(x){const A=this.data.datasets[x],P=this._metasets;let B=P.filter(j=>j&&j._dataset===A).pop();return B||(B={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:A&&A.order||0,index:x,_dataset:A,_parsed:[],_sorted:!1},P.push(B)),B}getContext(){return this.$context||(this.$context=ba(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(x){const A=this.data.datasets[x];if(!A)return!1;const P=this.getDatasetMeta(x);return"boolean"==typeof P.hidden?!P.hidden:!A.hidden}setDatasetVisibility(x,A){this.getDatasetMeta(x).hidden=!A}toggleDataVisibility(x){this._hiddenIndices[x]=!this._hiddenIndices[x]}getDataVisibility(x){return!this._hiddenIndices[x]}_updateVisibility(x,A,P){const B=P?"show":"hide",j=this.getDatasetMeta(x),U=j.controller._resolveAnimations(void 0,B);lt(A)?(j.data[A].hidden=!P,this.update()):(this.setDatasetVisibility(x,P),U.update(j,{visible:P}),this.update(ee=>ee.datasetIndex===x?B:void 0))}hide(x,A){this._updateVisibility(x,A,!1)}show(x,A){this._updateVisibility(x,A,!0)}_destroyDatasetMeta(x){const A=this._metasets[x];A&&A.controller&&A.controller._destroy(),delete this._metasets[x]}_stop(){let x,A;for(this.stop(),bt.remove(this),x=0,A=this.data.datasets.length;x<A;++x)this._destroyDatasetMeta(x)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:x,ctx:A}=this;this._stop(),this.config.clearCache(),x&&(this.unbindEvents(),Fo(x,A),this.platform.releaseContext(A),this.canvas=null,this.ctx=null),delete Vu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...x){return this.canvas.toDataURL(...x)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const x=this._listeners,A=this.platform,P=(j,U)=>{A.addEventListener(this,j,U),x[j]=U},B=(j,U,ee)=>{j.offsetX=U,j.offsetY=ee,this._eventHandler(j)};ve(this.options.events,j=>P(j,B))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const x=this._responsiveListeners,A=this.platform,P=(le,me)=>{A.addEventListener(this,le,me),x[le]=me},B=(le,me)=>{x[le]&&(A.removeEventListener(this,le,me),delete x[le])},j=(le,me)=>{this.canvas&&this.resize(le,me)};let U;const ee=()=>{B("attach",ee),this.attached=!0,this.resize(),P("resize",j),P("detach",U)};U=()=>{this.attached=!1,B("resize",j),this._stop(),this._resize(0,0),P("attach",ee)},A.isAttached(this.canvas)?ee():U()}unbindEvents(){ve(this._listeners,(x,A)=>{this.platform.removeEventListener(this,A,x)}),this._listeners={},ve(this._responsiveListeners,(x,A)=>{this.platform.removeEventListener(this,A,x)}),this._responsiveListeners=void 0}updateHoverStyle(x,A,P){const B=P?"set":"remove";let j,U,ee,le;for("dataset"===A&&(j=this.getDatasetMeta(x[0].datasetIndex),j.controller["_"+B+"DatasetHoverStyle"]()),ee=0,le=x.length;ee<le;++ee){U=x[ee];const me=U&&this.getDatasetMeta(U.datasetIndex).controller;me&&me[B+"HoverStyle"](U.element,U.datasetIndex,U.index)}}getActiveElements(){return this._active||[]}setActiveElements(x){const A=this._active||[],P=x.map(({datasetIndex:B,index:j})=>{const U=this.getDatasetMeta(B);if(!U)throw new Error("No dataset found at index "+B);return{datasetIndex:B,element:U.data[j],index:j}});!Ne(P,A)&&(this._active=P,this._lastEvent=null,this._updateHoverStyles(P,A))}notifyPlugins(x,A,P){return this._plugins.notify(this,x,A,P)}isPluginEnabled(x){return 1===this._plugins._cache.filter(A=>A.plugin.id===x).length}_updateHoverStyles(x,A,P){const B=this.options.hover,j=(le,me)=>le.filter(Be=>!me.some(Pe=>Be.datasetIndex===Pe.datasetIndex&&Be.index===Pe.index)),U=j(A,x),ee=P?x:j(x,A);U.length&&this.updateHoverStyle(U,B.mode,!1),ee.length&&B.mode&&this.updateHoverStyle(ee,B.mode,!0)}_eventHandler(x,A){const P={event:x,replay:A,cancelable:!0,inChartArea:this.isPointInArea(x)},B=U=>(U.options.events||this.options.events).includes(x.native.type);if(!1===this.notifyPlugins("beforeEvent",P,B))return;const j=this._handleEvent(x,A,P.inChartArea);return P.cancelable=!1,this.notifyPlugins("afterEvent",P,B),(j||P.changed)&&this.render(),this}_handleEvent(x,A,P){const{_active:B=[],options:j}=this,ee=this._getActiveElements(x,B,P,A),le=rt(x),me=(Pe=x,P&&"mouseout"!==Pe.type?le?this._lastEvent:Pe:null);var Pe;P&&(this._lastEvent=null,we(j.onHover,[x,ee,this],this),le&&we(j.onClick,[x,ee,this],this));const Be=!Ne(ee,B);return(Be||A)&&(this._active=ee,this._updateHoverStyles(ee,B,A)),this._lastEvent=me,Be}_getActiveElements(x,A,P,B){if("mouseout"===x.type)return[];if(!P)return A;const j=this.options.hover;return this.getElementsAtEventForMode(x,j.mode,j,B)}}function ma(){return ve(bo.instances,E=>E._plugins.invalidate())}function Zs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Oa{static override(x){Object.assign(Oa.prototype,x)}options;constructor(x){this.options=x||{}}init(){}formats(){return Zs()}parse(){return Zs()}format(){return Zs()}add(){return Zs()}diff(){return Zs()}startOf(){return Zs()}endOf(){return Zs()}}var op={_date:Oa};function Hu(E){const x=E.iScale,A=function(me,Be){if(!me._cache.$bar){const Pe=me.getMatchingVisibleMetas(Be);let Ge=[];for(let ct=0,Ct=Pe.length;ct<Ct;ct++)Ge=Ge.concat(Pe[ct].controller.getAllParsedValues(me));me._cache.$bar=ir(Ge.sort((ct,Ct)=>ct-Ct))}return me._cache.$bar}(x,E.type);let P,B,j,U,ee=x._length;const le=()=>{32767!==j&&-32768!==j&&(lt(U)&&(ee=Math.min(ee,Math.abs(j-U)||ee)),U=j)};for(P=0,B=A.length;P<B;++P)j=x.getPixelForValue(A[P]),le();for(U=void 0,P=0,B=x.ticks.length;P<B;++P)j=x.getPixelForTick(P),le();return ee}function Jl(E,x,A,P){return Nt(E)?function(B,j,U,ee){const le=U.parse(B[0],ee),me=U.parse(B[1],ee),Be=Math.min(le,me),Pe=Math.max(le,me);let Ge=Be,ct=Pe;Math.abs(Be)>Math.abs(Pe)&&(Ge=Pe,ct=Be),j[U.axis]=ct,j._custom={barStart:Ge,barEnd:ct,start:le,end:me,min:Be,max:Pe}}(E,x,A,P):x[A.axis]=A.parse(E,P),x}function Gi(E,x,A,P){const B=E.iScale,j=E.vScale,U=B.getLabels(),ee=B===j,le=[];let me,Be,Pe,Ge;for(me=A,Be=A+P;me<Be;++me)Ge=x[me],Pe={},Pe[B.axis]=ee||B.parse(U[me],me),le.push(Jl(Ge,Pe,j,me));return le}function ea(E){return E&&void 0!==E.barStart&&void 0!==E.barEnd}function wc(E,x,A,P){let B=x.borderSkipped;const j={};if(!B)return void(E.borderSkipped=j);if(!0===B)return void(E.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:U,end:ee,reverse:le,top:me,bottom:Be}=function(Pe){let Ge,ct,Ct,xt,Mt;return Pe.horizontal?(Ge=Pe.base>Pe.x,ct="left",Ct="right"):(Ge=Pe.base<Pe.y,ct="bottom",Ct="top"),Ge?(xt="end",Mt="start"):(xt="start",Mt="end"),{start:ct,end:Ct,reverse:Ge,top:xt,bottom:Mt}}(E);"middle"===B&&A&&(E.enableBorderRadius=!0,(A._top||0)===P?B=me:(A._bottom||0)===P?B=Be:(j[Ih(Be,U,ee,le)]=!0,B=me)),j[Ih(B,U,ee,le)]=!0,E.borderSkipped=j}function Ih(E,x,A,P){var B,j,U;return P?(U=A,E=Wu(E=(B=E)===(j=x)?U:B===U?j:B,A,x)):E=Wu(E,x,A),E}function Wu(E,x,A){return"start"===E?x:"end"===E?A:E}function ju(E,{inflateAmount:x},A){E.inflateAmount="auto"===x?1===A?.33:0:x}class Yu extends Rs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:x=>"spacing"!==x,_indexable:x=>"spacing"!==x&&!x.startsWith("borderDash")&&!x.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(x){const A=x.data;if(A.labels.length&&A.datasets.length){const{labels:{pointStyle:P,color:B}}=x.legend.options;return A.labels.map((j,U)=>{const ee=x.getDatasetMeta(0).controller.getStyle(U);return{text:j,fillStyle:ee.backgroundColor,strokeStyle:ee.borderColor,fontColor:B,lineWidth:ee.borderWidth,pointStyle:P,hidden:!x.getDataVisibility(U),index:U}})}return[]}},onClick(x,A,P){P.chart.toggleDataVisibility(A.index),P.chart.update()}}}};constructor(x,A){super(x,A),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(x,A){const P=this.getDataset().data,B=this._cachedMeta;if(!1===this._parsing)B._parsed=P;else{let j,U,ee=le=>+P[le];if(nt(P[x])){const{key:le="value"}=this._parsing;ee=me=>+Ot(P[me],le)}for(j=x,U=x+A;j<U;++j)B._parsed[j]=ee(j)}}_getRotation(){return Bt(this.options.rotation-90)}_getCircumference(){return Bt(this.options.circumference)}_getRotationExtents(){let x=_t,A=-_t;for(let P=0;P<this.chart.data.datasets.length;++P)if(this.chart.isDatasetVisible(P)&&this.chart.getDatasetMeta(P).type===this._type){const B=this.chart.getDatasetMeta(P).controller,j=B._getRotation(),U=B._getCircumference();x=Math.min(x,j),A=Math.max(A,j+U)}return{rotation:x,circumference:A-x}}update(x){const A=this.chart,{chartArea:P}=A,B=this._cachedMeta,j=B.data,U=this.getMaxBorderWidth()+this.getMaxOffset(j)+this.options.spacing,ee=Math.max((Math.min(P.width,P.height)-U)/2,0),le=Math.min(ye(this.options.cutout,ee),1),me=this._getRingWeight(this.index),{circumference:Be,rotation:Pe}=this._getRotationExtents(),{ratioX:Ge,ratioY:ct,offsetX:Ct,offsetY:xt}=function(Bn,Kn,Si){let wi=1,Ni=1,ji=0,Vi=0;if(Kn<_t){const qi=Bn,Ri=qi+Kn,_i=Math.cos(qi),ki=Math.sin(qi),Or=Math.cos(Ri),Ro=Math.sin(Ri),wo=(kc,As,ic)=>jr(kc,qi,Ri,!0)?1:Math.max(As,As*Si,ic,ic*Si),Ma=(kc,As,ic)=>jr(kc,qi,Ri,!0)?-1:Math.min(As,As*Si,ic,ic*Si),za=wo(0,_i,Or),dl=wo(pn,ki,Ro),ks=Ma(zt,_i,Or),hr=Ma(zt+pn,ki,Ro);wi=(za-ks)/2,Ni=(dl-hr)/2,ji=-(za+ks)/2,Vi=-(dl+hr)/2}return{ratioX:wi,ratioY:Ni,offsetX:ji,offsetY:Vi}}(Pe,Be,le),bn=Math.max(Math.min((P.width-U)/Ge,(P.height-U)/ct)/2,0),gn=ge(this.options.radius,bn),mn=(gn-Math.max(gn*le,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Ct*gn,this.offsetY=xt*gn,B.total=this.calculateTotal(),this.outerRadius=gn-mn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-mn*me,0),this.updateElements(j,0,j.length,x)}_circumference(x,A){const P=this.options,B=this._cachedMeta,j=this._getCircumference();return A&&P.animation.animateRotate||!this.chart.getDataVisibility(x)||null===B._parsed[x]||B.data[x].hidden?0:this.calculateCircumference(B._parsed[x]*j/_t)}updateElements(x,A,P,B){const j="reset"===B,U=this.chart,ee=U.chartArea,me=(ee.left+ee.right)/2,Be=(ee.top+ee.bottom)/2,Pe=j&&U.options.animation.animateScale,Ge=Pe?0:this.innerRadius,ct=Pe?0:this.outerRadius,{sharedOptions:Ct,includeOptions:xt}=this._getSharedOptions(A,B);let Mt,Ut=this._getRotation();for(Mt=0;Mt<A;++Mt)Ut+=this._circumference(Mt,j);for(Mt=A;Mt<A+P;++Mt){const bn=this._circumference(Mt,j),gn=x[Mt],mn={x:me+this.offsetX,y:Be+this.offsetY,startAngle:Ut,endAngle:Ut+bn,circumference:bn,outerRadius:ct,innerRadius:Ge};xt&&(mn.options=Ct||this.resolveDataElementOptions(Mt,gn.active?"active":B)),Ut+=bn,this.updateElement(gn,Mt,mn,B)}}calculateTotal(){const x=this._cachedMeta,A=x.data;let P,B=0;for(P=0;P<A.length;P++){const j=x._parsed[P];null===j||isNaN(j)||!this.chart.getDataVisibility(P)||A[P].hidden||(B+=Math.abs(j))}return B}calculateCircumference(x){const A=this._cachedMeta.total;return A>0&&!isNaN(x)?_t*(Math.abs(x)/A):0}getLabelAndValue(x){const P=this.chart,B=P.data.labels||[],j=J(this._cachedMeta._parsed[x],P.options.locale);return{label:B[x]||"",value:j}}getMaxBorderWidth(x){let A=0;const P=this.chart;let B,j,U,ee,le;if(!x)for(B=0,j=P.data.datasets.length;B<j;++B)if(P.isDatasetVisible(B)){U=P.getDatasetMeta(B),x=U.data,ee=U.controller;break}if(!x)return 0;for(B=0,j=x.length;B<j;++B)le=ee.resolveDataElementOptions(B),"inner"!==le.borderAlign&&(A=Math.max(A,le.borderWidth||0,le.hoverBorderWidth||0));return A}getMaxOffset(x){let A=0;for(let P=0,B=x.length;P<B;++P){const j=this.resolveDataElementOptions(P);A=Math.max(A,j.offset||0,j.hoverOffset||0)}return A}_getRingWeightOffset(x){let A=0;for(let P=0;P<x;++P)this.chart.isDatasetVisible(P)&&(A+=this._getRingWeight(P));return A}_getRingWeight(x){return Math.max(Ve(this.chart.data.datasets[x].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Oh extends Rs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(x){const A=x.data;if(A.labels.length&&A.datasets.length){const{labels:{pointStyle:P,color:B}}=x.legend.options;return A.labels.map((j,U)=>{const ee=x.getDatasetMeta(0).controller.getStyle(U);return{text:j,fillStyle:ee.backgroundColor,strokeStyle:ee.borderColor,fontColor:B,lineWidth:ee.borderWidth,pointStyle:P,hidden:!x.getDataVisibility(U),index:U}})}return[]}},onClick(x,A,P){P.chart.toggleDataVisibility(A.index),P.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(x,A){super(x,A),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(x){const P=this.chart,B=P.data.labels||[],j=J(this._cachedMeta._parsed[x].r,P.options.locale);return{label:B[x]||"",value:j}}parseObjectData(x,A,P,B){return qs.bind(this)(x,A,P,B)}update(x){const A=this._cachedMeta.data;this._updateRadius(),this.updateElements(A,0,A.length,x)}getMinMax(){const A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((P,B)=>{const j=this.getParsed(B).r;!isNaN(j)&&this.chart.getDataVisibility(B)&&(j<A.min&&(A.min=j),j>A.max&&(A.max=j))}),A}_updateRadius(){const x=this.chart,A=x.chartArea,P=x.options,B=Math.min(A.right-A.left,A.bottom-A.top),j=Math.max(B/2,0),U=(j-Math.max(P.cutoutPercentage?j/100*P.cutoutPercentage:1,0))/x.getVisibleDatasetCount();this.outerRadius=j-U*this.index,this.innerRadius=this.outerRadius-U}updateElements(x,A,P,B){const j="reset"===B,U=this.chart,ee=U.options.animation,le=this._cachedMeta.rScale,me=le.xCenter,Be=le.yCenter,Pe=le.getIndexAngle(0)-.5*zt;let Ge,ct=Pe;const Ct=360/this.countVisibleElements();for(Ge=0;Ge<A;++Ge)ct+=this._computeAngle(Ge,B,Ct);for(Ge=A;Ge<A+P;Ge++){const xt=x[Ge];let Mt=ct,Ut=ct+this._computeAngle(Ge,B,Ct),bn=U.getDataVisibility(Ge)?le.getDistanceFromCenterForValue(this.getParsed(Ge).r):0;ct=Ut,j&&(ee.animateScale&&(bn=0),ee.animateRotate&&(Mt=Ut=Pe));const gn={x:me,y:Be,innerRadius:0,outerRadius:bn,startAngle:Mt,endAngle:Ut,options:this.resolveDataElementOptions(Ge,xt.active?"active":B)};this.updateElement(xt,Ge,gn,B)}}countVisibleElements(){let A=0;return this._cachedMeta.data.forEach((P,B)=>{!isNaN(this.getParsed(B).r)&&this.chart.getDataVisibility(B)&&A++}),A}_computeAngle(x,A,P){return this.chart.getDataVisibility(x)?Bt(this.resolveDataElementOptions(x,A).angle||P):0}}var oo=Object.freeze({__proto__:null,BarController:class extends Rs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(E,x,A,P){return Gi(E,x,A,P)}parseArrayData(E,x,A,P){return Gi(E,x,A,P)}parseObjectData(E,x,A,P){const{iScale:B,vScale:j}=E,{xAxisKey:U="x",yAxisKey:ee="y"}=this._parsing,le="x"===B.axis?U:ee,me="x"===j.axis?U:ee,Be=[];let Pe,Ge,ct,Ct;for(Pe=A,Ge=A+P;Pe<Ge;++Pe)Ct=x[Pe],ct={},ct[B.axis]=B.parse(Ot(Ct,le),Pe),Be.push(Jl(Ot(Ct,me),ct,j,Pe));return Be}updateRangeFromParsed(E,x,A,P){super.updateRangeFromParsed(E,x,A,P);const B=A._custom;B&&x===this._cachedMeta.vScale&&(E.min=Math.min(E.min,B.min),E.max=Math.max(E.max,B.max))}getMaxOverflow(){return 0}getLabelAndValue(E){const x=this._cachedMeta,{iScale:A,vScale:P}=x,B=this.getParsed(E),j=B._custom,U=ea(j)?"["+j.start+", "+j.end+"]":""+P.getLabelForValue(B[P.axis]);return{label:""+A.getLabelForValue(B[A.axis]),value:U}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(E){const x=this._cachedMeta;this.updateElements(x.data,0,x.data.length,E)}updateElements(E,x,A,P){const B="reset"===P,{index:j,_cachedMeta:{vScale:U}}=this,ee=U.getBasePixel(),le=U.isHorizontal(),me=this._getRuler(),{sharedOptions:Be,includeOptions:Pe}=this._getSharedOptions(x,P);for(let Ge=x;Ge<x+A;Ge++){const ct=this.getParsed(Ge),Ct=B||it(ct[U.axis])?{base:ee,head:ee}:this._calculateBarValuePixels(Ge),xt=this._calculateBarIndexPixels(Ge,me),Mt=(ct._stacks||{})[U.axis],Ut={horizontal:le,base:Ct.base,enableBorderRadius:!Mt||ea(ct._custom)||j===Mt._top||j===Mt._bottom,x:le?Ct.head:xt.center,y:le?xt.center:Ct.head,height:le?xt.size:Math.abs(Ct.size),width:le?Math.abs(Ct.size):xt.size};Pe&&(Ut.options=Be||this.resolveDataElementOptions(Ge,E[Ge].active?"active":P));const bn=Ut.options||E[Ge].options;wc(Ut,bn,Mt,j),ju(Ut,bn,me.ratio),this.updateElement(E[Ge],Ge,Ut,P)}}_getStacks(E,x){const{iScale:A}=this._cachedMeta,P=A.getMatchingVisibleMetas(this._type).filter(ee=>ee.controller.options.grouped),B=A.options.stacked,j=[],U=ee=>{const le=ee.controller.getParsed(x),me=le&&le[ee.vScale.axis];if(it(me)||isNaN(me))return!0};for(const ee of P)if((void 0===x||!U(ee))&&((!1===B||-1===j.indexOf(ee.stack)||void 0===B&&void 0===ee.stack)&&j.push(ee.stack),ee.index===E))break;return j.length||j.push(void 0),j}_getStackCount(E){return this._getStacks(void 0,E).length}_getStackIndex(E,x,A){const P=this._getStacks(E,A),B=void 0!==x?P.indexOf(x):-1;return-1===B?P.length-1:B}_getRuler(){const E=this.options,x=this._cachedMeta,A=x.iScale,P=[];let B,j;for(B=0,j=x.data.length;B<j;++B)P.push(A.getPixelForValue(this.getParsed(B)[A.axis],B));const U=E.barThickness;return{min:U||Hu(x),pixels:P,start:A._startPixel,end:A._endPixel,stackCount:this._getStackCount(),scale:A,grouped:E.grouped,ratio:U?1:E.categoryPercentage*E.barPercentage}}_calculateBarValuePixels(E){const{_cachedMeta:{vScale:x,_stacked:A,index:P},options:{base:B,minBarLength:j}}=this,U=B||0,ee=this.getParsed(E),le=ee._custom,me=ea(le);let Be,Pe,Ge=ee[x.axis],ct=0,Ct=A?this.applyStack(x,ee,A):Ge;Ct!==Ge&&(ct=Ct-Ge,Ct=Ge),me&&(Ge=le.barStart,Ct=le.barEnd-le.barStart,0!==Ge&&ue(Ge)!==ue(le.barEnd)&&(ct=0),ct+=Ge);const xt=it(B)||me?ct:B;let Mt=x.getPixelForValue(xt);if(Be=this.chart.getDataVisibility(E)?x.getPixelForValue(ct+Ct):Mt,Pe=Be-Mt,Math.abs(Pe)<j){Kn=x,Si=U,Pe=(0!==(Bn=Pe)?ue(Bn):(Kn.isHorizontal()?1:-1)*(Kn.min>=Si?1:-1))*j,Ge===U&&(Mt-=Pe/2);const Ut=x.getPixelForDecimal(0),bn=x.getPixelForDecimal(1),gn=Math.min(Ut,bn),mn=Math.max(Ut,bn);Mt=Math.max(Math.min(Mt,mn),gn),Be=Mt+Pe,A&&!me&&(ee._stacks[x.axis]._visualValues[P]=x.getValueForPixel(Be)-x.getValueForPixel(Mt))}var Bn,Kn,Si;if(Mt===x.getPixelForValue(U)){const Ut=ue(Pe)*x.getLineWidthForValue(U)/2;Mt+=Ut,Pe-=Ut}return{size:Pe,base:Mt,head:Be,center:Be+Pe/2}}_calculateBarIndexPixels(E,x){const A=x.scale,P=this.options,B=P.skipNull,j=Ve(P.maxBarThickness,1/0);let U,ee;if(x.grouped){const le=B?this._getStackCount(E):x.stackCount,me="flex"===P.barThickness?function(Pe,Ge,ct,Ct){const xt=Ge.pixels,Mt=xt[Pe];let Ut=Pe>0?xt[Pe-1]:null,bn=Pe<xt.length-1?xt[Pe+1]:null;const gn=ct.categoryPercentage;null===Ut&&(Ut=Mt-(null===bn?Ge.end-Ge.start:bn-Mt)),null===bn&&(bn=Mt+Mt-Ut);const mn=Mt-(Mt-Math.min(Ut,bn))/2*gn;return{chunk:Math.abs(bn-Ut)/2*gn/Ct,ratio:ct.barPercentage,start:mn}}(E,x,P,le):function(Pe,Ge,ct,Ct){const xt=ct.barThickness;let Mt,Ut;return it(xt)?(Mt=Ge.min*ct.categoryPercentage,Ut=ct.barPercentage):(Mt=xt*Ct,Ut=1),{chunk:Mt/Ct,ratio:Ut,start:Ge.pixels[Pe]-Mt/2}}(E,x,P,le),Be=this._getStackIndex(this.index,this._cachedMeta.stack,B?E:void 0);U=me.start+me.chunk*Be+me.chunk/2,ee=Math.min(j,me.chunk*me.ratio)}else U=A.getPixelForValue(this.getParsed(E)[A.axis],E),ee=Math.min(j,x.min*x.ratio);return{base:U-ee/2,head:U+ee/2,center:U,size:ee}}draw(){const E=this._cachedMeta,x=E.vScale,A=E.data,P=A.length;let B=0;for(;B<P;++B)null!==this.getParsed(B)[x.axis]&&A[B].draw(this._ctx)}},BubbleController:class extends Rs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(E,x,A,P){const B=super.parsePrimitiveData(E,x,A,P);for(let j=0;j<B.length;j++)B[j]._custom=this.resolveDataElementOptions(j+A).radius;return B}parseArrayData(E,x,A,P){const B=super.parseArrayData(E,x,A,P);for(let j=0;j<B.length;j++)B[j]._custom=Ve(x[A+j][2],this.resolveDataElementOptions(j+A).radius);return B}parseObjectData(E,x,A,P){const B=super.parseObjectData(E,x,A,P);for(let j=0;j<B.length;j++){const U=x[A+j];B[j]._custom=Ve(U&&U.r&&+U.r,this.resolveDataElementOptions(j+A).radius)}return B}getMaxOverflow(){const E=this._cachedMeta.data;let x=0;for(let A=E.length-1;A>=0;--A)x=Math.max(x,E[A].size(this.resolveDataElementOptions(A))/2);return x>0&&x}getLabelAndValue(E){const x=this._cachedMeta,A=this.chart.data.labels||[],{xScale:P,yScale:B}=x,j=this.getParsed(E),U=P.getLabelForValue(j.x),ee=B.getLabelForValue(j.y),le=j._custom;return{label:A[E]||"",value:"("+U+", "+ee+(le?", "+le:"")+")"}}update(E){const x=this._cachedMeta.data;this.updateElements(x,0,x.length,E)}updateElements(E,x,A,P){const B="reset"===P,{iScale:j,vScale:U}=this._cachedMeta,{sharedOptions:ee,includeOptions:le}=this._getSharedOptions(x,P),me=j.axis,Be=U.axis;for(let Pe=x;Pe<x+A;Pe++){const Ge=E[Pe],ct=!B&&this.getParsed(Pe),Ct={},xt=Ct[me]=B?j.getPixelForDecimal(.5):j.getPixelForValue(ct[me]),Mt=Ct[Be]=B?U.getBasePixel():U.getPixelForValue(ct[Be]);Ct.skip=isNaN(xt)||isNaN(Mt),le&&(Ct.options=ee||this.resolveDataElementOptions(Pe,Ge.active?"active":P),B&&(Ct.options.radius=0)),this.updateElement(Ge,Pe,Ct,P)}}resolveDataElementOptions(E,x){const A=this.getParsed(E);let P=super.resolveDataElementOptions(E,x);P.$shared&&(P=Object.assign({},P,{$shared:!1}));const B=P.radius;return"active"!==x&&(P.radius=0),P.radius+=Ve(A&&A._custom,B),P}},DoughnutController:Yu,LineController:class extends Rs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(E){const x=this._cachedMeta,{dataset:A,data:P=[],_dataset:B}=x,j=this.chart._animationsDisabled;let{start:U,count:ee}=Te(x,P,j);this._drawStart=U,this._drawCount=ee,be(x)&&(U=0,ee=P.length),A._chart=this.chart,A._datasetIndex=this.index,A._decimated=!!B._decimated,A.points=P;const le=this.resolveDatasetElementOptions(E);this.options.showLine||(le.borderWidth=0),le.segment=this.options.segment,this.updateElement(A,void 0,{animated:!j,options:le},E),this.updateElements(P,U,ee,E)}updateElements(E,x,A,P){const B="reset"===P,{iScale:j,vScale:U,_stacked:ee,_dataset:le}=this._cachedMeta,{sharedOptions:me,includeOptions:Be}=this._getSharedOptions(x,P),Pe=j.axis,Ge=U.axis,{spanGaps:ct,segment:Ct}=this.options,xt=Zt(ct)?ct:Number.POSITIVE_INFINITY,Mt=this.chart._animationsDisabled||B||"none"===P,Ut=x+A,bn=E.length;let gn=x>0&&this.getParsed(x-1);for(let mn=0;mn<bn;++mn){const Bn=E[mn],Kn=Mt?Bn:{};if(mn<x||mn>=Ut){Kn.skip=!0;continue}const Si=this.getParsed(mn),wi=it(Si[Ge]),Ni=Kn[Pe]=j.getPixelForValue(Si[Pe],mn),ji=Kn[Ge]=B||wi?U.getBasePixel():U.getPixelForValue(ee?this.applyStack(U,Si,ee):Si[Ge],mn);Kn.skip=isNaN(Ni)||isNaN(ji)||wi,Kn.stop=mn>0&&Math.abs(Si[Pe]-gn[Pe])>xt,Ct&&(Kn.parsed=Si,Kn.raw=le.data[mn]),Be&&(Kn.options=me||this.resolveDataElementOptions(mn,Bn.active?"active":P)),Mt||this.updateElement(Bn,mn,Kn,P),gn=Si}}getMaxOverflow(){const E=this._cachedMeta,x=E.dataset,A=x.options&&x.options.borderWidth||0,P=E.data||[];if(!P.length)return A;const B=P[0].size(this.resolveDataElementOptions(0)),j=P[P.length-1].size(this.resolveDataElementOptions(P.length-1));return Math.max(A,B,j)/2}draw(){const E=this._cachedMeta;E.dataset.updateControlPoints(this.chart.chartArea,E.iScale.axis),super.draw()}},PieController:class extends Yu{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:Oh,RadarController:class extends Rs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(E){const x=this._cachedMeta.vScale,A=this.getParsed(E);return{label:x.getLabels()[E],value:""+x.getLabelForValue(A[x.axis])}}parseObjectData(E,x,A,P){return qs.bind(this)(E,x,A,P)}update(E){const x=this._cachedMeta,A=x.dataset,P=x.data||[],B=x.iScale.getLabels();if(A.points=P,"resize"!==E){const j=this.resolveDatasetElementOptions(E);this.options.showLine||(j.borderWidth=0),this.updateElement(A,void 0,{_loop:!0,_fullLoop:B.length===P.length,options:j},E)}this.updateElements(P,0,P.length,E)}updateElements(E,x,A,P){const B=this._cachedMeta.rScale,j="reset"===P;for(let U=x;U<x+A;U++){const ee=E[U],le=this.resolveDataElementOptions(U,ee.active?"active":P),me=B.getPointPositionForValue(U,this.getParsed(U).r),Be=j?B.xCenter:me.x,Pe=j?B.yCenter:me.y,Ge={x:Be,y:Pe,angle:me.angle,skip:isNaN(Be)||isNaN(Pe),options:le};this.updateElement(ee,U,Ge,P)}}},ScatterController:class extends Rs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(E){const x=this._cachedMeta,A=this.chart.data.labels||[],{xScale:P,yScale:B}=x,j=this.getParsed(E),U=P.getLabelForValue(j.x),ee=B.getLabelForValue(j.y);return{label:A[E]||"",value:"("+U+", "+ee+")"}}update(E){const x=this._cachedMeta,{data:A=[]}=x,P=this.chart._animationsDisabled;let{start:B,count:j}=Te(x,A,P);if(this._drawStart=B,this._drawCount=j,be(x)&&(B=0,j=A.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:U,_dataset:ee}=x;U._chart=this.chart,U._datasetIndex=this.index,U._decimated=!!ee._decimated,U.points=A;const le=this.resolveDatasetElementOptions(E);le.segment=this.options.segment,this.updateElement(U,void 0,{animated:!P,options:le},E)}else this.datasetElementType&&(delete x.dataset,this.datasetElementType=!1);this.updateElements(A,B,j,E)}addElements(){const{showLine:E}=this.options;!this.datasetElementType&&E&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(E,x,A,P){const B="reset"===P,{iScale:j,vScale:U,_stacked:ee,_dataset:le}=this._cachedMeta,me=this.resolveDataElementOptions(x,P),Be=this.getSharedOptions(me),Pe=this.includeOptions(P,Be),Ge=j.axis,ct=U.axis,{spanGaps:Ct,segment:xt}=this.options,Mt=Zt(Ct)?Ct:Number.POSITIVE_INFINITY,Ut=this.chart._animationsDisabled||B||"none"===P;let bn=x>0&&this.getParsed(x-1);for(let gn=x;gn<x+A;++gn){const mn=E[gn],Bn=this.getParsed(gn),Kn=Ut?mn:{},Si=it(Bn[ct]),wi=Kn[Ge]=j.getPixelForValue(Bn[Ge],gn),Ni=Kn[ct]=B||Si?U.getBasePixel():U.getPixelForValue(ee?this.applyStack(U,Bn,ee):Bn[ct],gn);Kn.skip=isNaN(wi)||isNaN(Ni)||Si,Kn.stop=gn>0&&Math.abs(Bn[Ge]-bn[Ge])>Mt,xt&&(Kn.parsed=Bn,Kn.raw=le.data[gn]),Pe&&(Kn.options=Be||this.resolveDataElementOptions(gn,mn.active?"active":P)),Ut||this.updateElement(mn,gn,Kn,P),bn=Bn}this.updateSharedOptions(Be,P,me)}getMaxOverflow(){const E=this._cachedMeta,x=E.data||[];if(!this.options.showLine){let U=0;for(let ee=x.length-1;ee>=0;--ee)U=Math.max(U,x[ee].size(this.resolveDataElementOptions(ee))/2);return U>0&&U}const A=E.dataset,P=A.options&&A.options.borderWidth||0;if(!x.length)return P;const B=x[0].size(this.resolveDataElementOptions(0)),j=x[x.length-1].size(this.resolveDataElementOptions(x.length-1));return Math.max(P,B,j)/2}}});function lo(E,x,A,P){return{x:A+E*Math.cos(x),y:P+E*Math.sin(x)}}function as(E,x,A,P,B,j){const{x:U,y:ee,startAngle:le,pixelMargin:me,innerRadius:Be}=x,Pe=Math.max(x.outerRadius+P+A-me,0),Ge=Be>0?Be+P+A+me:0;let ct=0;const Ct=B-le;if(P){const _i=((Be>0?Be-P:0)+(Pe>0?Pe-P:0))/2;ct=(Ct-(0!==_i?Ct*_i/(_i+P):Ct))/2}const xt=(Ct-Math.max(.001,Ct*Pe-A/zt)/Pe)/2,Mt=le+xt+ct,Ut=B-xt-ct,{outerStart:bn,outerEnd:gn,innerStart:mn,innerEnd:Bn}=function ri(E,x,A,P){const B=Vo(E.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),j=(A-x)/2,U=Math.min(j,P*x/2),ee=le=>{const me=(A-Math.min(j,le))*P/2;return _n(le,0,Math.min(j,me))};return{outerStart:ee(B.outerStart),outerEnd:ee(B.outerEnd),innerStart:_n(B.innerStart,0,U),innerEnd:_n(B.innerEnd,0,U)}}(x,Ge,Pe,Ut-Mt),Kn=Pe-bn,Si=Pe-gn,wi=Mt+bn/Kn,Ni=Ut-gn/Si,ji=Ge+mn,Vi=Ge+Bn,qi=Mt+mn/ji,Ri=Ut-Bn/Vi;if(E.beginPath(),j){const _i=(wi+Ni)/2;if(E.arc(U,ee,Pe,wi,_i),E.arc(U,ee,Pe,_i,Ni),gn>0){const wo=lo(Si,Ni,U,ee);E.arc(wo.x,wo.y,gn,Ni,Ut+pn)}const ki=lo(Vi,Ut,U,ee);if(E.lineTo(ki.x,ki.y),Bn>0){const wo=lo(Vi,Ri,U,ee);E.arc(wo.x,wo.y,Bn,Ut+pn,Ri+Math.PI)}const Or=(Ut-Bn/Ge+(Mt+mn/Ge))/2;if(E.arc(U,ee,Ge,Ut-Bn/Ge,Or,!0),E.arc(U,ee,Ge,Or,Mt+mn/Ge,!0),mn>0){const wo=lo(ji,qi,U,ee);E.arc(wo.x,wo.y,mn,qi+Math.PI,Mt-pn)}const Ro=lo(Kn,Mt,U,ee);if(E.lineTo(Ro.x,Ro.y),bn>0){const wo=lo(Kn,wi,U,ee);E.arc(wo.x,wo.y,bn,Mt-pn,wi)}}else{E.moveTo(U,ee);const _i=Math.cos(wi)*Pe+U,ki=Math.sin(wi)*Pe+ee;E.lineTo(_i,ki);const Or=Math.cos(Ni)*Pe+U,Ro=Math.sin(Ni)*Pe+ee;E.lineTo(Or,Ro)}E.closePath()}function af(E,x,A=x){E.lineCap=Ve(A.borderCapStyle,x.borderCapStyle),E.setLineDash(Ve(A.borderDash,x.borderDash)),E.lineDashOffset=Ve(A.borderDashOffset,x.borderDashOffset),E.lineJoin=Ve(A.borderJoinStyle,x.borderJoinStyle),E.lineWidth=Ve(A.borderWidth,x.borderWidth),E.strokeStyle=Ve(A.borderColor,x.borderColor)}function ap(E,x,A){E.lineTo(A.x,A.y)}function sf(E,x,A={}){const P=E.length,{start:B=0,end:j=P-1}=A,{start:U,end:ee}=x,le=Math.max(B,U),me=Math.min(j,ee);return{count:P,start:le,loop:x.loop,ilen:me<le&&!(B<U&&j<U||B>ee&&j>ee)?P+me-le:me-le}}function Nv(E,x,A,P){const{points:B,options:j}=x,{count:U,start:ee,loop:le,ilen:me}=sf(B,A,P),Be=(Mt=j).stepped?lr:Mt.tension||"monotone"===Mt.cubicInterpolationMode?Wc:ap;var Mt;let Pe,Ge,ct,{move:Ct=!0,reverse:xt}=P||{};for(Pe=0;Pe<=me;++Pe)Ge=B[(ee+(xt?me-Pe:Pe))%U],Ge.skip||(Ct?(E.moveTo(Ge.x,Ge.y),Ct=!1):Be(E,ct,Ge,xt,j.stepped),ct=Ge);return le&&(Ge=B[(ee+(xt?me:0))%U],Be(E,ct,Ge,xt,j.stepped)),!!le}function zs(E,x,A,P){const B=x.points,{count:j,start:U,ilen:ee}=sf(B,A,P),{move:le=!0,reverse:me}=P||{};let Be,Pe,Ge,ct,Ct,xt,Mt=0,Ut=0;const bn=mn=>(U+(me?ee-mn:mn))%j,gn=()=>{ct!==Ct&&(E.lineTo(Mt,Ct),E.lineTo(Mt,ct),E.lineTo(Mt,xt))};for(le&&(Pe=B[bn(0)],E.moveTo(Pe.x,Pe.y)),Be=0;Be<=ee;++Be){if(Pe=B[bn(Be)],Pe.skip)continue;const mn=Pe.x,Bn=Pe.y,Kn=0|mn;Kn===Ge?(Bn<ct?ct=Bn:Bn>Ct&&(Ct=Bn),Mt=(Ut*Mt+mn)/++Ut):(gn(),E.lineTo(mn,Bn),Ge=Kn,Ut=0,ct=Ct=Bn),xt=Bn}gn()}function Gu(E){const x=E.options;return E._decimated||E._loop||x.tension||"monotone"===x.cubicInterpolationMode||x.stepped||x.borderDash&&x.borderDash.length?Nv:zs}const Xu="function"==typeof Path2D;class Wo extends pi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:x=>"borderDash"!==x&&"fill"!==x};constructor(x){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,x&&Object.assign(this,x)}updateControlPoints(x,A){const P=this.options;!P.tension&&"monotone"!==P.cubicInterpolationMode||P.stepped||this._pointsUpdated||(_h(this._points,P,x,P.spanGaps?this._loop:this._fullLoop,A),this._pointsUpdated=!0)}set points(x){this._points=x,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Yc(this,this.options.segment))}first(){const x=this.segments;return x.length&&this.points[x[0].start]}last(){const x=this.segments,P=x.length;return P&&this.points[x[P-1].end]}interpolate(x,A){const P=this.options,B=x[A],j=this.points,U=Po(this,{property:A,start:B,end:B});if(!U.length)return;const ee=[],le=(Pe=P).stepped?is:Pe.tension||"monotone"===Pe.cubicInterpolationMode?ra:Pa;var Pe;let me,Be;for(me=0,Be=U.length;me<Be;++me){const{start:Pe,end:Ge}=U[me],ct=j[Pe],Ct=j[Ge];if(ct===Ct){ee.push(ct);continue}const xt=le(ct,Ct,Math.abs((B-ct[A])/(Ct[A]-ct[A])),P.stepped);xt[A]=x[A],ee.push(xt)}return 1===ee.length?ee[0]:ee}pathSegment(x,A,P){return Gu(this)(x,this,A,P)}path(x,A,P){const B=this.segments,j=Gu(this);let U=this._loop;A=A||0,P=P||this.points.length-A;for(const ee of B)U&=j(x,this,ee,{start:A,end:A+P-1});return!!U}draw(x,A,P,B){(this.points||[]).length&&(this.options||{}).borderWidth&&(x.save(),function sp(E,x,A,P){Xu&&!x.options.segment?function(B,j,U,ee){let le=j._path;le||(le=j._path=new Path2D,j.path(le,U,ee)&&le.closePath()),af(B,j.options),B.stroke(le)}(E,x,A,P):function(B,j,U,ee){const{segments:le,options:me}=j,Be=Gu(j);for(const Pe of le)af(B,me,Pe.style),B.beginPath(),Be(B,j,Pe,{start:U,end:U+ee-1})&&B.closePath(),B.stroke()}(E,x,A,P)}(x,this,P,B),x.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lf(E,x,A,P){const B=E.options,{[A]:j}=E.getProps([A],P);return Math.abs(x-j)<B.radius+B.hitRadius}function Dh(E,x){const{x:A,y:P,base:B,width:j,height:U}=E.getProps(["x","y","base","width","height"],x);let ee,le,me,Be,Pe;return E.horizontal?(Pe=U/2,ee=Math.min(A,B),le=Math.max(A,B),me=P-Pe,Be=P+Pe):(Pe=j/2,ee=A-Pe,le=A+Pe,me=Math.min(P,B),Be=Math.max(P,B)),{left:ee,top:me,right:le,bottom:Be}}function Cs(E,x,A,P){return E?0:_n(x,A,P)}function te(E,x,A,P){const B=null===x,j=null===A,U=E&&!(B&&j)&&Dh(E,P);return U&&(B||di(x,U.left,U.right))&&(j||di(A,U.top,U.bottom))}function ze(E,x){E.rect(x.x,x.y,x.w,x.h)}function Dt(E,x,A={}){const P=E.x!==A.x?-x:0,B=E.y!==A.y?-x:0;return{x:E.x+P,y:E.y+B,w:E.w+((E.x+E.w!==A.x+A.w?x:0)-P),h:E.h+((E.y+E.h!==A.y+A.h?x:0)-B),radius:E.radius}}var yn=Object.freeze({__proto__:null,ArcElement:class extends pi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:E=>"borderDash"!==E};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(E){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,E&&Object.assign(this,E)}inRange(E,x,A){const P=this.getProps(["x","y"],A),{angle:B,distance:j}=xr(P,{x:E,y:x}),{startAngle:U,endAngle:ee,innerRadius:le,outerRadius:me,circumference:Be}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],A),Pe=(this.options.spacing+this.options.borderWidth)/2,Ge=Ve(Be,ee-U)>=_t||jr(B,U,ee),ct=di(j,le+Pe,me+Pe);return Ge&&ct}getCenterPoint(E){const{x,y:A,startAngle:P,endAngle:B,innerRadius:j,outerRadius:U}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],E),{offset:ee,spacing:le}=this.options,me=(P+B)/2,Be=(j+U+le+ee)/2;return{x:x+Math.cos(me)*Be,y:A+Math.sin(me)*Be}}tooltipPosition(E){return this.getCenterPoint(E)}draw(E){const{options:x,circumference:A}=this,P=(x.offset||0)/4,B=(x.spacing||0)/2,j=x.circular;if(this.pixelMargin="inner"===x.borderAlign?.33:0,this.fullCircles=A>_t?Math.floor(A/_t):0,0===A||this.innerRadius<0||this.outerRadius<0)return;E.save();const U=(this.startAngle+this.endAngle)/2;E.translate(Math.cos(U)*P,Math.sin(U)*P);const ee=P*(1-Math.sin(Math.min(zt,A||0)));E.fillStyle=x.backgroundColor,E.strokeStyle=x.borderColor,function(le,me,Be,Pe,Ge){const{fullCircles:ct,startAngle:Ct,circumference:xt}=me;let Mt=me.endAngle;if(ct){as(le,me,Be,Pe,Mt,Ge);for(let Ut=0;Ut<ct;++Ut)le.fill();isNaN(xt)||(Mt=Ct+(xt%_t||_t))}as(le,me,Be,Pe,Mt,Ge),le.fill()}(E,this,ee,B,j),function zl(E,x,A,P,B){const{fullCircles:j,startAngle:U,circumference:ee,options:le}=x,{borderWidth:me,borderJoinStyle:Be,borderDash:Pe,borderDashOffset:Ge}=le,ct="inner"===le.borderAlign;if(!me)return;E.setLineDash(Pe||[]),E.lineDashOffset=Ge,ct?(E.lineWidth=2*me,E.lineJoin=Be||"round"):(E.lineWidth=me,E.lineJoin=Be||"bevel");let Ct=x.endAngle;if(j){as(E,x,A,P,Ct,B);for(let xt=0;xt<j;++xt)E.stroke();isNaN(ee)||(Ct=U+(ee%_t||_t))}ct&&function(xt,Mt,Ut){const{startAngle:bn,pixelMargin:gn,x:mn,y:Bn,outerRadius:Kn,innerRadius:Si}=Mt;let wi=gn/Kn;xt.beginPath(),xt.arc(mn,Bn,Kn,bn-wi,Ut+wi),Si>gn?(wi=gn/Si,xt.arc(mn,Bn,Si,Ut+wi,bn-wi,!0)):xt.arc(mn,Bn,gn,Ut+pn,bn-pn),xt.closePath(),xt.clip()}(E,x,Ct),j||(as(E,x,A,P,Ct,B),E.stroke())}(E,this,ee,B,j),E.restore()}},BarElement:class extends pi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(E){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,E&&Object.assign(this,E)}draw(E){const{inflateAmount:x,options:{borderColor:A,backgroundColor:P}}=this,{inner:B,outer:j}=function ht(E){const x=Dh(E),A=x.right-x.left,P=x.bottom-x.top,B=function(U,ee,le){const Be=U.borderSkipped,Pe=ku(U.options.borderWidth);return{t:Cs(Be.top,Pe.top,0,le),r:Cs(Be.right,Pe.right,0,ee),b:Cs(Be.bottom,Pe.bottom,0,le),l:Cs(Be.left,Pe.left,0,ee)}}(E,A/2,P/2),j=function(U,ee,le){const{enableBorderRadius:me}=U.getProps(["enableBorderRadius"]),Be=U.options.borderRadius,Pe=Br(Be),Ge=Math.min(ee,le),ct=U.borderSkipped,Ct=me||nt(Be);return{topLeft:Cs(!Ct||ct.top||ct.left,Pe.topLeft,0,Ge),topRight:Cs(!Ct||ct.top||ct.right,Pe.topRight,0,Ge),bottomLeft:Cs(!Ct||ct.bottom||ct.left,Pe.bottomLeft,0,Ge),bottomRight:Cs(!Ct||ct.bottom||ct.right,Pe.bottomRight,0,Ge)}}(E,A/2,P/2);return{outer:{x:x.left,y:x.top,w:A,h:P,radius:j},inner:{x:x.left+B.l,y:x.top+B.t,w:A-B.l-B.r,h:P-B.t-B.b,radius:{topLeft:Math.max(0,j.topLeft-Math.max(B.t,B.l)),topRight:Math.max(0,j.topRight-Math.max(B.t,B.r)),bottomLeft:Math.max(0,j.bottomLeft-Math.max(B.b,B.l)),bottomRight:Math.max(0,j.bottomRight-Math.max(B.b,B.r))}}}}(this),U=(ee=j.radius).topLeft||ee.topRight||ee.bottomLeft||ee.bottomRight?Cr:ze;var ee;E.save(),j.w===B.w&&j.h===B.h||(E.beginPath(),U(E,Dt(j,x,B)),E.clip(),U(E,Dt(B,-x,j)),E.fillStyle=A,E.fill("evenodd")),E.beginPath(),U(E,Dt(B,x)),E.fillStyle=P,E.fill(),E.restore()}inRange(E,x,A){return te(this,E,x,A)}inXRange(E,x){return te(this,E,null,x)}inYRange(E,x){return te(this,null,E,x)}getCenterPoint(E){const{x,y:A,base:P,horizontal:B}=this.getProps(["x","y","base","horizontal"],E);return{x:B?(x+P)/2:x,y:B?A:(A+P)/2}}getRange(E){return"x"===E?this.width/2:this.height/2}},LineElement:Wo,PointElement:class extends pi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(E){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,E&&Object.assign(this,E)}inRange(E,x,A){const P=this.options,{x:B,y:j}=this.getProps(["x","y"],A);return Math.pow(E-B,2)+Math.pow(x-j,2)<Math.pow(P.hitRadius+P.radius,2)}inXRange(E,x){return lf(this,E,"x",x)}inYRange(E,x){return lf(this,E,"y",x)}getCenterPoint(E){const{x,y:A}=this.getProps(["x","y"],E);return{x,y:A}}size(E){let x=(E=E||this.options||{}).radius||0;return x=Math.max(x,x&&E.hoverRadius||0),2*(x+(x&&E.borderWidth||0))}draw(E,x){const A=this.options;this.skip||A.radius<.1||!uo(this,x,this.size(A)/2)||(E.strokeStyle=A.borderColor,E.lineWidth=A.borderWidth,E.fillStyle=A.backgroundColor,So(E,A,this.x,this.y))}getRange(){const E=this.options||{};return E.radius+E.hitRadius}}});function Ln(E){const x=this.getLabels();return E>=0&&E<x.length?x[E]:E}function ii(E,x,{horizontal:A,minRotation:P}){const B=Bt(P),j=(A?Math.sin(B):Math.cos(B))||.001;return Math.min(x/j,.75*x*(""+E).length)}class qn extends Rn{constructor(x){super(x),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(x,A){return it(x)||("number"==typeof x||x instanceof Number)&&!isFinite(+x)?null:+x}handleTickRangeOptions(){const{beginAtZero:x}=this.options,{minDefined:A,maxDefined:P}=this.getUserBounds();let{min:B,max:j}=this;const U=le=>B=A?B:le,ee=le=>j=P?j:le;if(x){const le=ue(B),me=ue(j);le<0&&me<0?ee(0):le>0&&me>0&&U(0)}if(B===j){let le=0===j?1:Math.abs(.05*j);ee(j+le),x||U(B-le)}this.min=B,this.max=j}getTickLimit(){const x=this.options.ticks;let A,{maxTicksLimit:P,stepSize:B}=x;return B?(A=Math.ceil(this.max/B)-Math.floor(this.min/B)+1,A>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${B} would result generating up to ${A} ticks. Limiting to 1000.`),A=1e3)):(A=this.computeTickLimit(),P=P||11),P&&(A=Math.min(P,A)),A}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const x=this.options,A=x.ticks;let P=this.getTickLimit();P=Math.max(2,P);const B=function(j,U){const ee=[],{bounds:le,step:me,min:Be,max:Pe,precision:Ge,count:ct,maxTicks:Ct,maxDigits:xt,includeBounds:Mt}=j,Ut=me||1,bn=Ct-1,{min:gn,max:mn}=U,Bn=!it(Be),Kn=!it(Pe),Si=!it(ct),wi=(mn-gn)/(xt+1);let Ni,ji,Vi,qi,Ri=on((mn-gn)/bn/Ut)*Ut;if(Ri<1e-14&&!Bn&&!Kn)return[{value:gn},{value:mn}];qi=Math.ceil(mn/Ri)-Math.floor(gn/Ri),qi>bn&&(Ri=on(qi*Ri/bn/Ut)*Ut),it(Ge)||(Ni=Math.pow(10,Ge),Ri=Math.ceil(Ri*Ni)/Ni),"ticks"===le?(ji=Math.floor(gn/Ri)*Ri,Vi=Math.ceil(mn/Ri)*Ri):(ji=gn,Vi=mn),Bn&&Kn&&me&&Et((Pe-Be)/me,Ri/1e3)?(qi=Math.round(Math.min((Pe-Be)/Ri,Ct)),Ri=(Pe-Be)/qi,ji=Be,Vi=Pe):Si?(ji=Bn?Be:ji,Vi=Kn?Pe:Vi,qi=ct-1,Ri=(Vi-ji)/qi):(qi=(Vi-ji)/Ri,qi=ln(qi,Math.round(qi),Ri/1e3)?Math.round(qi):Math.ceil(qi));const _i=Math.max(On(Ri),On(ji));Ni=Math.pow(10,it(Ge)?_i:Ge),ji=Math.round(ji*Ni)/Ni,Vi=Math.round(Vi*Ni)/Ni;let ki=0;for(Bn&&(Mt&&ji!==Be?(ee.push({value:Be}),ji<Be&&ki++,ln(Math.round((ji+ki*Ri)*Ni)/Ni,Be,ii(Be,wi,j))&&ki++):ji<Be&&ki++);ki<qi;++ki){const Or=Math.round((ji+ki*Ri)*Ni)/Ni;if(Kn&&Or>Pe)break;ee.push({value:Or})}return Kn&&Mt&&Vi!==Pe?ee.length&&ln(ee[ee.length-1].value,Pe,ii(Pe,wi,j))?ee[ee.length-1].value=Pe:ee.push({value:Pe}):Kn&&Vi!==Pe||ee.push({value:Vi}),ee}({maxTicks:P,bounds:x.bounds,min:x.min,max:x.max,precision:A.precision,step:A.stepSize,count:A.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:A.minRotation||0,includeBounds:!1!==A.includeBounds},this._range||this);return"ticks"===x.bounds&&xn(B,this,"value"),x.reverse?(B.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),B}configure(){const x=this.ticks;let A=this.min,P=this.max;if(super.configure(),this.options.offset&&x.length){const B=(P-A)/Math.max(x.length-1,1)/2;A-=B,P+=B}this._startValue=A,this._endValue=P,this._valueRange=P-A}getLabelForValue(x){return J(x,this.chart.options.locale,this.options.ticks.format)}}const $i=E=>Math.floor(pe(E)),Pi=(E,x)=>Math.pow(10,$i(E)+x);function Xi(E){return E/Math.pow(10,$i(E))==1}function vr(E,x,A){const P=Math.pow(10,A),B=Math.floor(E/P);return Math.ceil(x/P)-B}function Pr(E){const x=E.ticks;if(x.display&&E.display){const A=$r(x.backdropPadding);return Ve(x.font&&x.font.size,W.font.size)+A.height}return 0}function Mo(E,x,A,P,B){return E===P||E===B?{start:x-A/2,end:x+A/2}:E<P||E>B?{start:x-A,end:x}:{start:x,end:x+A}}function Xr(E,x,A,P,B){const j=Math.abs(Math.sin(A)),U=Math.abs(Math.cos(A));let ee=0,le=0;P.start<x.l?(ee=(x.l-P.start)/j,E.l=Math.min(E.l,x.l-ee)):P.end>x.r&&(ee=(P.end-x.r)/j,E.r=Math.max(E.r,x.r+ee)),B.start<x.t?(le=(x.t-B.start)/U,E.t=Math.min(E.t,x.t-le)):B.end>x.b&&(le=(B.end-x.b)/U,E.b=Math.max(E.b,x.b+le))}function Ar(E,x,A){const P=E.drawingArea,{extra:B,additionalAngle:j,padding:U,size:ee}=A,le=E.getPointPosition(x,P+B+U,j),me=Math.round(Ht(pr(le.angle+pn))),Be=(ct=le.y,Ct=ee.h,90===(xt=me)||270===xt?ct-=Ct/2:(xt>270||xt<90)&&(ct-=Ct),ct),Pe=function(ct){return 0===ct||180===ct?"center":ct<180?"left":"right"}(me),Ge=function(ct,Ct,xt){return"right"===xt?ct-=Ct:"center"===xt&&(ct-=Ct/2),ct}(le.x,ee.w,Pe);var ct,Ct,xt;return{visible:!0,x:le.x,y:Be,textAlign:Pe,left:Ge,top:Be,right:Ge+ee.w,bottom:Be+ee.h}}function Nr(E,x){if(!x)return!0;const{left:A,top:P,right:B,bottom:j}=E;return!(uo({x:A,y:P},x)||uo({x:A,y:j},x)||uo({x:B,y:P},x)||uo({x:B,y:j},x))}function eo(E,x,A){const{left:P,top:B,right:j,bottom:U}=A,{backdropColor:ee}=x;if(!it(ee)){const le=Br(x.borderRadius),me=$r(x.backdropPadding);E.fillStyle=ee;const Be=P-me.left,Pe=B-me.top,Ge=j-P+me.width,ct=U-B+me.height;Object.values(le).some(Ct=>0!==Ct)?(E.beginPath(),Cr(E,{x:Be,y:Pe,w:Ge,h:ct,radius:le}),E.fill()):E.fillRect(Be,Pe,Ge,ct)}}function no(E,x,A,P){const{ctx:B}=E;if(A)B.arc(E.xCenter,E.yCenter,x,0,_t);else{let j=E.getPointPosition(0,x);B.moveTo(j.x,j.y);for(let U=1;U<P;U++)j=E.getPointPosition(U,x),B.lineTo(j.x,j.y)}}const xo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},to=Object.keys(xo);function Za(E,x){return E-x}function _o(E,x){if(it(x))return null;const A=E._adapter,{parser:P,round:B,isoWeekday:j}=E._parseOpts;let U=x;return"function"==typeof P&&(U=P(U)),gt(U)||(U="string"==typeof P?A.parse(U,P):A.parse(U)),null===U?null:(B&&(U="week"!==B||!Zt(j)&&!0!==j?A.startOf(U,B):A.startOf(U,"isoWeek",j)),+U)}function Ka(E,x,A,P){const B=to.length;for(let j=to.indexOf(E);j<B-1;++j){const U=xo[to[j]];if(U.common&&Math.ceil((A-x)/((U.steps?U.steps:Number.MAX_SAFE_INTEGER)*U.size))<=P)return to[j]}return to[B-1]}function Ra(E,x,A){if(A){if(A.length){const{lo:P,hi:B}=bi(A,x);E[A[P]>=x?A[P]:A[B]]=!0}}else E[x]=!0}function ss(E,x,A){const P=[],B={},j=x.length;let U,ee;for(U=0;U<j;++U)ee=x[U],B[ee]=U,P.push({value:ee,major:!1});return 0!==j&&A?function(le,me,Be,Pe){const Ge=le._adapter,ct=+Ge.startOf(me[0].value,Pe),Ct=me[me.length-1].value;let xt,Mt;for(xt=ct;xt<=Ct;xt=+Ge.add(xt,1,Pe))Mt=Be[xt],Mt>=0&&(me[Mt].major=!0);return me}(E,P,B,A):P}class jo extends Rn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(x){super(x),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(x,A={}){const P=x.time||(x.time={}),B=this._adapter=new op._date(x.adapters.date);B.init(A),Ae(P.displayFormats,B.formats()),this._parseOpts={parser:P.parser,round:P.round,isoWeekday:P.isoWeekday},super.init(x),this._normalized=A.normalized}parse(x,A){return void 0===x?null:_o(this,x)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const x=this.options,A=this._adapter,P=x.time.unit||"day";let{min:B,max:j,minDefined:U,maxDefined:ee}=this.getUserBounds();function le(me){U||isNaN(me.min)||(B=Math.min(B,me.min)),ee||isNaN(me.max)||(j=Math.max(j,me.max))}U&&ee||(le(this._getLabelBounds()),"ticks"===x.bounds&&"labels"===x.ticks.source||le(this.getMinMax(!1))),B=gt(B)&&!isNaN(B)?B:+A.startOf(Date.now(),P),j=gt(j)&&!isNaN(j)?j:+A.endOf(Date.now(),P)+1,this.min=Math.min(B,j-1),this.max=Math.max(B+1,j)}_getLabelBounds(){const x=this.getLabelTimestamps();let A=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY;return x.length&&(A=x[0],P=x[x.length-1]),{min:A,max:P}}buildTicks(){const x=this.options,A=x.time,P=x.ticks,B="labels"===P.source?this.getLabelTimestamps():this._generate();"ticks"===x.bounds&&B.length&&(this.min=this._userMin||B[0],this.max=this._userMax||B[B.length-1]);const j=this.min,U=yi(B,j,this.max);return this._unit=A.unit||(P.autoSkip?Ka(A.minUnit,this.min,this.max,this._getLabelCapacity(j)):function(ee,le,me,Be,Pe){for(let Ge=to.length-1;Ge>=to.indexOf(me);Ge--){const ct=to[Ge];if(xo[ct].common&&ee._adapter.diff(Pe,Be,ct)>=le-1)return ct}return to[me?to.indexOf(me):0]}(this,U.length,A.minUnit,this.min,this.max)),this._majorUnit=P.major.enabled&&"year"!==this._unit?function(ee){for(let le=to.indexOf(ee)+1,me=to.length;le<me;++le)if(xo[to[le]].common)return to[le]}(this._unit):void 0,this.initOffsets(B),x.reverse&&U.reverse(),ss(this,U,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(x=>+x.value))}initOffsets(x=[]){let A,P,B=0,j=0;this.options.offset&&x.length&&(A=this.getDecimalForValue(x[0]),B=1===x.length?1-A:(this.getDecimalForValue(x[1])-A)/2,P=this.getDecimalForValue(x[x.length-1]),j=1===x.length?P:(P-this.getDecimalForValue(x[x.length-2]))/2);const U=x.length<3?.5:.25;B=_n(B,0,U),j=_n(j,0,U),this._offsets={start:B,end:j,factor:1/(B+1+j)}}_generate(){const x=this._adapter,A=this.min,P=this.max,B=this.options,j=B.time,U=j.unit||Ka(j.minUnit,A,P,this._getLabelCapacity(A)),ee=Ve(B.ticks.stepSize,1),le="week"===U&&j.isoWeekday,me=Zt(le)||!0===le,Be={};let Pe,Ge,ct=A;if(me&&(ct=+x.startOf(ct,"isoWeek",le)),ct=+x.startOf(ct,me?"day":U),x.diff(P,A,U)>1e5*ee)throw new Error(A+" and "+P+" are too far apart with stepSize of "+ee+" "+U);const Ct="data"===B.ticks.source&&this.getDataTimestamps();for(Pe=ct,Ge=0;Pe<P;Pe=+x.add(Pe,ee,U),Ge++)Ra(Be,Pe,Ct);return Pe!==P&&"ticks"!==B.bounds&&1!==Ge||Ra(Be,Pe,Ct),Object.keys(Be).sort(Za).map(xt=>+xt)}getLabelForValue(x){const P=this.options.time;return this._adapter.format(x,P.tooltipFormat?P.tooltipFormat:P.displayFormats.datetime)}format(x,A){return this._adapter.format(x,A||this.options.time.displayFormats[this._unit])}_tickFormatFunction(x,A,P,B){const j=this.options,U=j.ticks.callback;if(U)return we(U,[x,A,P],this);const ee=j.time.displayFormats,le=this._unit,me=this._majorUnit,Pe=me&&ee[me],Ge=P[A];return this._adapter.format(x,B||(me&&Pe&&Ge&&Ge.major?Pe:le&&ee[le]))}generateTickLabels(x){let A,P,B;for(A=0,P=x.length;A<P;++A)B=x[A],B.label=this._tickFormatFunction(B.value,A,x)}getDecimalForValue(x){return null===x?NaN:(x-this.min)/(this.max-this.min)}getPixelForValue(x){const A=this._offsets,P=this.getDecimalForValue(x);return this.getPixelForDecimal((A.start+P)*A.factor)}getValueForPixel(x){const A=this._offsets,P=this.getDecimalForPixel(x)/A.factor-A.end;return this.min+P*(this.max-this.min)}_getLabelSize(x){const A=this.options.ticks,P=this.ctx.measureText(x).width,B=Bt(this.isHorizontal()?A.maxRotation:A.minRotation),j=Math.cos(B),U=Math.sin(B),ee=this._resolveTickFontOptions(0).size;return{w:P*j+ee*U,h:P*U+ee*j}}_getLabelCapacity(x){const A=this.options.time,P=A.displayFormats,B=P[A.unit]||P.millisecond,j=this._tickFormatFunction(x,0,ss(this,[x],this._majorUnit),B),U=this._getLabelSize(j),ee=Math.floor(this.isHorizontal()?this.width/U.w:this.height/U.h)-1;return ee>0?ee:1}getDataTimestamps(){let x,A,P=this._cache.data||[];if(P.length)return P;const B=this.getMatchingVisibleMetas();if(this._normalized&&B.length)return this._cache.data=B[0].controller.getAllParsedValues(this);for(x=0,A=B.length;x<A;++x)P=P.concat(B[x].controller.getAllParsedValues(this));return this._cache.data=this.normalize(P)}getLabelTimestamps(){const x=this._cache.labels||[];let A,P;if(x.length)return x;const B=this.getLabels();for(A=0,P=B.length;A<P;++A)x.push(_o(this,B[A]));return this._cache.labels=this._normalized?x:this.normalize(x)}normalize(x){return ir(x.sort(Za))}}function Qa(E,x,A){let P,B,j,U,ee=0,le=E.length-1;A?(x>=E[ee].pos&&x<=E[le].pos&&({lo:ee,hi:le}=ai(E,"pos",x)),({pos:P,time:j}=E[ee]),({pos:B,time:U}=E[le])):(x>=E[ee].time&&x<=E[le].time&&({lo:ee,hi:le}=ai(E,"time",x)),({time:P,pos:j}=E[ee]),({time:B,pos:U}=E[le]));const me=B-P;return me?j+(U-j)*(x-P)/me:j}var Aa=Object.freeze({__proto__:null,CategoryScale:class extends Rn{static id="category";static defaults={ticks:{callback:Ln}};constructor(E){super(E),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(E){const x=this._addedLabels;if(x.length){const A=this.getLabels();for(const{index:P,label:B}of x)A[P]===B&&A.splice(P,1);this._addedLabels=[]}super.init(E)}parse(E,x){if(it(E))return null;const A=this.getLabels();return P=x=isFinite(x)&&A[x]===E?x:function dn(E,x,A,P){const B=E.indexOf(x);return-1===B?(ee=A,le=P,"string"==typeof(U=x)?(ee=E.push(U)-1,le.unshift({index:ee,label:U})):isNaN(U)&&(ee=null),ee):B!==E.lastIndexOf(x)?A:B;var U,ee,le}(A,E,Ve(x,E),this._addedLabels),B=A.length-1,null===P?null:_n(Math.round(P),0,B);var P,B}determineDataLimits(){const{minDefined:E,maxDefined:x}=this.getUserBounds();let{min:A,max:P}=this.getMinMax(!0);"ticks"===this.options.bounds&&(E||(A=0),x||(P=this.getLabels().length-1)),this.min=A,this.max=P}buildTicks(){const E=this.min,x=this.max,A=this.options.offset,P=[];let B=this.getLabels();B=0===E&&x===B.length-1?B:B.slice(E,x+1),this._valueRange=Math.max(B.length-(A?0:1),1),this._startValue=this.min-(A?.5:0);for(let j=E;j<=x;j++)P.push({value:j});return P}getLabelForValue(E){return Ln.call(this,E)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(E){return"number"!=typeof E&&(E=this.parse(E)),null===E?NaN:this.getPixelForDecimal((E-this._startValue)/this._valueRange)}getPixelForTick(E){const x=this.ticks;return E<0||E>x.length-1?null:this.getPixelForValue(x[E].value)}getValueForPixel(E){return Math.round(this._startValue+this.getDecimalForPixel(E)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:class rr extends qn{static id="linear";static defaults={ticks:{callback:fe.formatters.numeric}};determineDataLimits(){const{min:x,max:A}=this.getMinMax(!0);this.min=gt(x)?x:0,this.max=gt(A)?A:1,this.handleTickRangeOptions()}computeTickLimit(){const x=this.isHorizontal(),A=x?this.width:this.height,P=Bt(this.options.ticks.minRotation),B=(x?Math.sin(P):Math.cos(P))||.001,j=this._resolveTickFontOptions(0);return Math.ceil(A/Math.min(40,j.lineHeight/B))}getPixelForValue(x){return null===x?NaN:this.getPixelForDecimal((x-this._startValue)/this._valueRange)}getValueForPixel(x){return this._startValue+this.getDecimalForPixel(x)*this._valueRange}},LogarithmicScale:class Tr extends Rn{static id="logarithmic";static defaults={ticks:{callback:fe.formatters.logarithmic,major:{enabled:!0}}};constructor(x){super(x),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(x,A){const P=qn.prototype.parse.apply(this,[x,A]);if(0!==P)return gt(P)&&P>0?P:null;this._zero=!0}determineDataLimits(){const{min:x,max:A}=this.getMinMax(!0);this.min=gt(x)?Math.max(0,x):null,this.max=gt(A)?Math.max(0,A):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!gt(this._userMin)&&(this.min=x===Pi(this.min,0)?Pi(this.min,-1):Pi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:x,maxDefined:A}=this.getUserBounds();let P=this.min,B=this.max;const j=ee=>P=x?P:ee,U=ee=>B=A?B:ee;P===B&&(P<=0?(j(1),U(10)):(j(Pi(P,-1)),U(Pi(B,1)))),P<=0&&j(Pi(B,-1)),B<=0&&U(Pi(P,1)),this.min=P,this.max=B}buildTicks(){const x=this.options,A=function Vr(E,{min:x,max:A}){x=et(E.min,x);const P=[],B=$i(x);let j=function(Ct,xt){let Mt=$i(xt-Ct);for(;vr(Ct,xt,Mt)>10;)Mt++;for(;vr(Ct,xt,Mt)<10;)Mt--;return Math.min(Mt,$i(Ct))}(x,A),U=j<0?Math.pow(10,Math.abs(j)):1;const ee=Math.pow(10,j),le=B>j?Math.pow(10,B):0,me=Math.round((x-le)*U)/U,Be=Math.floor((x-le)/ee/10)*ee*10;let Pe=Math.floor((me-Be)/Math.pow(10,j)),Ge=et(E.min,Math.round((le+Be+Pe*Math.pow(10,j))*U)/U);for(;Ge<A;)P.push({value:Ge,major:Xi(Ge),significand:Pe}),Pe>=10?Pe=Pe<15?15:20:Pe++,Pe>=20&&(j++,Pe=2,U=j>=0?1:U),Ge=Math.round((le+Be+Pe*Math.pow(10,j))*U)/U;const ct=et(E.max,Ge);return P.push({value:ct,major:Xi(ct),significand:Pe}),P}({min:this._userMin,max:this._userMax},this);return"ticks"===x.bounds&&xn(A,this,"value"),x.reverse?(A.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),A}getLabelForValue(x){return void 0===x?"0":J(x,this.chart.options.locale,this.options.ticks.format)}configure(){const x=this.min;super.configure(),this._startValue=pe(x),this._valueRange=pe(this.max)-pe(x)}getPixelForValue(x){return void 0!==x&&0!==x||(x=this.min),null===x||isNaN(x)?NaN:this.getPixelForDecimal(x===this.min?0:(pe(x)-this._startValue)/this._valueRange)}getValueForPixel(x){const A=this.getDecimalForPixel(x);return Math.pow(10,this._startValue+A*this._valueRange)}},RadialLinearScale:class nr extends qn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fe.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:x=>x,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(x){super(x),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const x=this._padding=$r(Pr(this.options)/2),A=this.width=this.maxWidth-x.width,P=this.height=this.maxHeight-x.height;this.xCenter=Math.floor(this.left+A/2+x.left),this.yCenter=Math.floor(this.top+P/2+x.top),this.drawingArea=Math.floor(Math.min(A,P)/2)}determineDataLimits(){const{min:x,max:A}=this.getMinMax(!1);this.min=gt(x)&&!isNaN(x)?x:0,this.max=gt(A)&&!isNaN(A)?A:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pr(this.options))}generateTickLabels(x){qn.prototype.generateTickLabels.call(this,x),this._pointLabels=this.getLabels().map((A,P)=>{const B=we(this.options.pointLabels.callback,[A,P],this);return B||0===B?B:""}).filter((A,P)=>this.chart.getDataVisibility(P))}fit(){const x=this.options;x.display&&x.pointLabels.display?function No(E){const x={l:E.left+E._padding.left,r:E.right-E._padding.right,t:E.top+E._padding.top,b:E.bottom-E._padding.bottom},A=Object.assign({},x),P=[],B=[],j=E._pointLabels.length,U=E.options.pointLabels,ee=U.centerPointLabels?zt/j:0;for(let Pe=0;Pe<j;Pe++){const Ge=U.setContext(E.getPointLabelContext(Pe));B[Pe]=Ge.padding;const ct=E.getPointPosition(Pe,E.drawingArea+B[Pe],ee),Ct=oa(Ge.font),xt=(le=E.ctx,me=Ct,Be=Nt(Be=E._pointLabels[Pe])?Be:[Be],{w:Mi(le,me.string,Be),h:Be.length*me.lineHeight});P[Pe]=xt;const Mt=pr(E.getIndexAngle(Pe)+ee),Ut=Math.round(Ht(Mt));Xr(A,x,Mt,Mo(Ut,ct.x,xt.w,0,180),Mo(Ut,ct.y,xt.h,90,270))}var le,me,Be;E.setCenterPoint(x.l-A.l,A.r-x.r,x.t-A.t,A.b-x.b),E._pointLabelItems=function(Pe,Ge,ct){const Ct=[],xt=Pe._pointLabels.length,Mt=Pe.options,{centerPointLabels:Ut,display:bn}=Mt.pointLabels,gn={extra:Pr(Mt)/2,additionalAngle:Ut?zt/xt:0};let mn;for(let Bn=0;Bn<xt;Bn++){gn.padding=ct[Bn],gn.size=Ge[Bn];const Kn=Ar(Pe,Bn,gn);Ct.push(Kn),"auto"===bn&&(Kn.visible=Nr(Kn,mn),Kn.visible&&(mn=Kn))}return Ct}(E,P,B)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(x,A,P,B){this.xCenter+=Math.floor((x-A)/2),this.yCenter+=Math.floor((P-B)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(x,A,P,B))}getIndexAngle(x){return pr(x*(_t/(this._pointLabels.length||1))+Bt(this.options.startAngle||0))}getDistanceFromCenterForValue(x){if(it(x))return NaN;const A=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-x)*A:(x-this.min)*A}getValueForDistanceFromCenter(x){if(it(x))return NaN;const A=x/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-A:this.min+A}getPointLabelContext(x){const A=this._pointLabels||[];if(x>=0&&x<A.length){const P=A[x];return ba(this.getContext(),{label:P,index:x,type:"pointLabel"})}}getPointPosition(x,A,P=0){const B=this.getIndexAngle(x)-pn+P;return{x:Math.cos(B)*A+this.xCenter,y:Math.sin(B)*A+this.yCenter,angle:B}}getPointPositionForValue(x,A){return this.getPointPosition(x,this.getDistanceFromCenterForValue(A))}getBasePosition(x){return this.getPointPositionForValue(x||0,this.getBaseValue())}getPointLabelPosition(x){const{left:A,top:P,right:B,bottom:j}=this._pointLabelItems[x];return{left:A,top:P,right:B,bottom:j}}drawBackground(){const{backgroundColor:x,grid:{circular:A}}=this.options;if(x){const P=this.ctx;P.save(),P.beginPath(),no(this,this.getDistanceFromCenterForValue(this._endValue),A,this._pointLabels.length),P.closePath(),P.fillStyle=x,P.fill(),P.restore()}}drawGrid(){const x=this.ctx,A=this.options,{angleLines:P,grid:B,border:j}=A,U=this._pointLabels.length;let ee,le,me;if(A.pointLabels.display&&function(Be,Pe){const{ctx:Ge,options:{pointLabels:ct}}=Be;for(let Ct=Pe-1;Ct>=0;Ct--){const xt=Be._pointLabelItems[Ct];if(!xt.visible)continue;const Mt=ct.setContext(Be.getPointLabelContext(Ct));eo(Ge,Mt,xt);const Ut=oa(Mt.font),{x:bn,y:gn,textAlign:mn}=xt;Ds(Ge,Be._pointLabels[Ct],bn,gn+Ut.lineHeight/2,Ut,{color:Mt.color,textAlign:mn,textBaseline:"middle"})}}(this,U),B.display&&this.ticks.forEach((Be,Pe)=>{if(0!==Pe||0===Pe&&this.min<0){le=this.getDistanceFromCenterForValue(Be.value);const Ge=this.getContext(Pe),ct=B.setContext(Ge),Ct=j.setContext(Ge);!function(xt,Mt,Ut,bn,gn){const mn=xt.ctx,Bn=Mt.circular,{color:Kn,lineWidth:Si}=Mt;!Bn&&!bn||!Kn||!Si||Ut<0||(mn.save(),mn.strokeStyle=Kn,mn.lineWidth=Si,mn.setLineDash(gn.dash),mn.lineDashOffset=gn.dashOffset,mn.beginPath(),no(xt,Ut,Bn,bn),mn.closePath(),mn.stroke(),mn.restore())}(this,ct,le,U,Ct)}}),P.display){for(x.save(),ee=U-1;ee>=0;ee--){const Be=P.setContext(this.getPointLabelContext(ee)),{color:Pe,lineWidth:Ge}=Be;Ge&&Pe&&(x.lineWidth=Ge,x.strokeStyle=Pe,x.setLineDash(Be.borderDash),x.lineDashOffset=Be.borderDashOffset,le=this.getDistanceFromCenterForValue(A.ticks.reverse?this.min:this.max),me=this.getPointPosition(ee,le),x.beginPath(),x.moveTo(this.xCenter,this.yCenter),x.lineTo(me.x,me.y),x.stroke())}x.restore()}}drawBorder(){}drawLabels(){const x=this.ctx,A=this.options,P=A.ticks;if(!P.display)return;const B=this.getIndexAngle(0);let j,U;x.save(),x.translate(this.xCenter,this.yCenter),x.rotate(B),x.textAlign="center",x.textBaseline="middle",this.ticks.forEach((ee,le)=>{if(0===le&&this.min>=0&&!A.reverse)return;const me=P.setContext(this.getContext(le)),Be=oa(me.font);if(j=this.getDistanceFromCenterForValue(this.ticks[le].value),me.showLabelBackdrop){x.font=Be.string,U=x.measureText(ee.label).width,x.fillStyle=me.backdropColor;const Pe=$r(me.backdropPadding);x.fillRect(-U/2-Pe.left,-j-Be.size/2-Pe.top,U+Pe.width,Be.size+Pe.height)}Ds(x,ee.label,0,-j,Be,{color:me.color,strokeColor:me.textStrokeColor,strokeWidth:me.textStrokeWidth})}),x.restore()}drawTitle(){}},TimeScale:jo,TimeSeriesScale:class extends jo{static id="timeseries";static defaults=jo.defaults;constructor(E){super(E),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const E=this._getTimestampsForTable(),x=this._table=this.buildLookupTable(E);this._minPos=Qa(x,this.min),this._tableRange=Qa(x,this.max)-this._minPos,super.initOffsets(E)}buildLookupTable(E){const{min:x,max:A}=this,P=[],B=[];let j,U,ee,le,me;for(j=0,U=E.length;j<U;++j)le=E[j],le>=x&&le<=A&&P.push(le);if(P.length<2)return[{time:x,pos:0},{time:A,pos:1}];for(j=0,U=P.length;j<U;++j)me=P[j+1],ee=P[j-1],le=P[j],Math.round((me+ee)/2)!==le&&B.push({time:le,pos:j/(U-1)});return B}_generate(){const E=this.min,x=this.max;let A=super.getDataTimestamps();return A.includes(E)&&A.length||A.splice(0,0,E),A.includes(x)&&1!==A.length||A.push(x),A.sort((P,B)=>P-B)}_getTimestampsForTable(){let E=this._cache.all||[];if(E.length)return E;const x=this.getDataTimestamps(),A=this.getLabelTimestamps();return E=x.length&&A.length?this.normalize(x.concat(A)):x.length?x:A,E=this._cache.all=E,E}getDecimalForValue(E){return(Qa(this._table,E)-this._minPos)/this._tableRange}getValueForPixel(E){const x=this._offsets,A=this.getDecimalForPixel(E)/x.factor-x.end;return Qa(this._table,A*this._tableRange+this._minPos,!0)}}});const Sc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],zo=Sc.map(E=>E.replace("rgb(","rgba(").replace(")",", 0.5)"));function To(E){return Sc[E%Sc.length]}function la(E){return zo[E%zo.length]}function ec(E){let x;for(x in E)if(E[x].borderColor||E[x].backgroundColor)return!0;return!1}var Lh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(E,x,A){if(!A.enabled)return;const{data:{datasets:P},options:B}=E.config,{elements:j}=B;if(!A.forceOverride&&(ec(P)||(U=B)&&(U.borderColor||U.backgroundColor)||j&&ec(j)))return;var U;const ee=function hl(E){let x=0;return(A,P)=>{const B=E.getDatasetMeta(P).controller;var j,U;B instanceof Yu?(U=x,(j=A).backgroundColor=j.data.map(()=>To(U++)),x=U):B instanceof Oh?x=function(j,U){return j.backgroundColor=j.data.map(()=>la(U++)),U}(A,x):B&&(x=function(j,U){return j.borderColor=To(U),j.backgroundColor=la(U),++U}(A,x))}}(E);P.forEach(ee)}};function qu(E){if(E._decimated){const x=E._data;delete E._decimated,delete E._data,Object.defineProperty(E,"data",{configurable:!0,enumerable:!0,writable:!0,value:x})}}function tc(E){E.data.datasets.forEach(x=>{qu(x)})}var Ph={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(E,x,A)=>{if(!A.enabled)return void tc(E);const P=E.width;E.data.datasets.forEach((B,j)=>{const{_data:U,indexAxis:ee}=B,le=E.getDatasetMeta(j),me=U||B.data;if("y"===_s([ee,E.options.indexAxis])||!le.controller.supportsDecimation)return;const Be=E.scales[le.xAxisID];if("linear"!==Be.type&&"time"!==Be.type||E.options.parsing)return;let ct,{start:Pe,count:Ge}=function(Ct,xt){const Mt=xt.length;let Ut,bn=0;const{iScale:gn}=Ct,{min:mn,max:Bn,minDefined:Kn,maxDefined:Si}=gn.getUserBounds();return Kn&&(bn=_n(ai(xt,gn.axis,mn).lo,0,Mt-1)),Ut=Si?_n(ai(xt,gn.axis,Bn).hi+1,bn,Mt)-bn:Mt-bn,{start:bn,count:Ut}}(le,me);if(Ge<=(A.threshold||4*P))qu(B);else{switch(it(U)&&(B._data=me,delete B.data,Object.defineProperty(B,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Ct){this._data=Ct}})),A.algorithm){case"lttb":ct=function(Ct,xt,Mt,Ut,bn){const gn=bn.samples||Ut;if(gn>=Mt)return Ct.slice(xt,xt+Mt);const mn=[],Bn=(Mt-2)/(gn-2);let Kn=0;const Si=xt+Mt-1;let wi,Ni,ji,Vi,qi,Ri=xt;for(mn[Kn++]=Ct[Ri],wi=0;wi<gn-2;wi++){let _i,ki=0,Or=0;const Ro=Math.floor((wi+1)*Bn)+1+xt,wo=Math.min(Math.floor((wi+2)*Bn)+1,Mt)+xt,Ma=wo-Ro;for(_i=Ro;_i<wo;_i++)ki+=Ct[_i].x,Or+=Ct[_i].y;ki/=Ma,Or/=Ma;const za=Math.floor(wi*Bn)+1+xt,dl=Math.min(Math.floor((wi+1)*Bn)+1,Mt)+xt,{x:ks,y:hr}=Ct[Ri];for(ji=Vi=-1,_i=za;_i<dl;_i++)Vi=.5*Math.abs((ks-ki)*(Ct[_i].y-hr)-(ks-Ct[_i].x)*(Or-hr)),Vi>ji&&(ji=Vi,Ni=Ct[_i],qi=_i);mn[Kn++]=Ni,Ri=qi}return mn[Kn++]=Ct[Si],mn}(me,Pe,Ge,P,A);break;case"min-max":ct=function(Ct,xt,Mt,Ut){let bn,gn,mn,Bn,Kn,Si,wi,Ni,ji,Vi,qi=0,Ri=0;const _i=[],Or=Ct[xt].x,Ro=Ct[xt+Mt-1].x-Or;for(bn=xt;bn<xt+Mt;++bn){gn=Ct[bn],mn=(gn.x-Or)/Ro*Ut,Bn=gn.y;const wo=0|mn;if(wo===Kn)Bn<ji?(ji=Bn,Si=bn):Bn>Vi&&(Vi=Bn,wi=bn),qi=(Ri*qi+gn.x)/++Ri;else{const Ma=bn-1;if(!it(Si)&&!it(wi)){const za=Math.min(Si,wi),dl=Math.max(Si,wi);za!==Ni&&za!==Ma&&_i.push({...Ct[za],x:qi}),dl!==Ni&&dl!==Ma&&_i.push({...Ct[dl],x:qi})}bn>0&&Ma!==Ni&&_i.push(Ct[Ma]),_i.push(gn),Kn=wo,Ri=0,ji=Vi=Bn,Si=wi=Ni=bn}}return _i}(me,Pe,Ge,P);break;default:throw new Error(`Unsupported decimation algorithm '${A.algorithm}'`)}B._decimated=ct}})},destroy(E){tc(E)}};function nc(E,x,A,P){if(P)return;let B=x[E],j=A[E];return"angle"===E&&(B=pr(B),j=pr(j)),{property:E,start:B,end:j}}function ca(E,x,A){for(;x>E;x--){const P=A[x];if(!isNaN(P.x)&&!isNaN(P.y))break}return x}function dd(E,x,A,P){return E&&x?P(E[A],x[A]):E?E[A]:x?x[A]:0}function Uu(E,x){let A=[],P=!1;return Nt(E)?(P=!0,A=E):A=function(B,j){const{x:U=null,y:ee=null}=B||{},le=j.points,me=[];return j.segments.forEach(({start:Be,end:Pe})=>{Pe=ca(Be,Pe,le);const Ge=le[Be],ct=le[Pe];null!==ee?(me.push({x:Ge.x,y:ee}),me.push({x:ct.x,y:ee})):null!==U&&(me.push({x:U,y:Ge.y}),me.push({x:U,y:ct.y}))}),me}(E,x),A.length?new Wo({points:A,options:{tension:0},_loop:P,_fullLoop:P}):null}function tu(E){return E&&!1!==E.fill}function Fs(E,x,A){let P=E[x].fill;const B=[x];let j;if(!A)return P;for(;!1!==P&&-1===B.indexOf(P);){if(!gt(P))return P;if(j=E[P],!j)return!1;if(j.visible)return P;B.push(P),P=j.fill}return!1}function Nh(E,x,A){const P=function(j){const U=j.options,ee=U.fill;let le=Ve(ee&&ee.target,ee);return void 0===le&&(le=!!U.backgroundColor),!1!==le&&null!==le&&(!0===le?"origin":le)}(E);if(nt(P))return!isNaN(P.value)&&P;let B=parseFloat(P);return gt(B)&&Math.floor(B)===B?(U=x,ee=B,"-"!==(j=P[0])&&"+"!==j||(ee=U+ee),!(ee===U||ee<0||ee>=A)&&ee):["origin","start","end","stack","shape"].indexOf(P)>=0&&P;var j,U,ee}function lp(E,x,A){const P=[];for(let B=0;B<A.length;B++){const j=A[B],{first:U,last:ee,point:le}=cf(j,x,"x");if(!(!le||U&&ee))if(U)P.unshift(le);else if(E.push(le),!ee)break}E.push(...P)}function cf(E,x,A){const P=E.interpolate(x,A);if(!P)return{};const B=P[A],j=E.segments,U=E.points;let ee=!1,le=!1;for(let me=0;me<j.length;me++){const Be=j[me],Pe=U[Be.start][A],Ge=U[Be.end][A];if(di(B,Pe,Ge)){ee=B===Pe,le=B===Ge;break}}return{first:ee,last:le,point:P}}class cp{constructor(x){this.x=x.x,this.y=x.y,this.radius=x.radius}pathSegment(x,A,P){const{x:B,y:j,radius:U}=this;return x.arc(B,j,U,(A=A||{start:0,end:_t}).end,A.start,!0),!P.bounds}interpolate(x){const{x:A,y:P,radius:B}=this,j=x.angle;return{x:A+Math.cos(j)*B,y:P+Math.sin(j)*B,angle:j}}}function Ks(E,x,A){const P=function Cc(E){const{chart:x,fill:A,line:P}=E;if(gt(A))return function(j,U){const ee=j.getDatasetMeta(U);return ee&&j.isDatasetVisible(U)?ee.dataset:null}(x,A);if("stack"===A)return function(j){const{scale:U,index:ee,line:le}=j,me=[],Be=le.segments,Pe=le.points,Ge=function(ct,Ct){const xt=[],Mt=ct.getMatchingVisibleMetas("line");for(let Ut=0;Ut<Mt.length;Ut++){const bn=Mt[Ut];if(bn.index===Ct)break;bn.hidden||xt.unshift(bn.dataset)}return xt}(U,ee);Ge.push(Uu({x:null,y:U.bottom},le));for(let ct=0;ct<Be.length;ct++){const Ct=Be[ct];for(let xt=Ct.start;xt<=Ct.end;xt++)lp(me,Pe[xt],Ge)}return new Wo({points:me,options:{}})}(E);if("shape"===A)return!0;const B=((j=E).scale||{}).getPointPositionForValue?function(ee){const{scale:le,fill:me}=ee,Be=le.options,Pe=le.getLabels().length,Ge=Be.reverse?le.max:le.min,ct=function(xt,Mt,Ut){let bn;return bn="start"===xt?Ut:"end"===xt?Mt.options.reverse?Mt.min:Mt.max:nt(xt)?xt.value:Mt.getBaseValue(),bn}(me,le,Ge),Ct=[];if(Be.grid.circular){const xt=le.getPointPositionForValue(0,Ge);return new cp({x:xt.x,y:xt.y,radius:le.getDistanceFromCenterForValue(ct)})}for(let xt=0;xt<Pe;++xt)Ct.push(le.getPointPositionForValue(xt,ct));return Ct}(j):function(ee){const{scale:le={},fill:me}=ee,Be=function(Pe,Ge){let ct=null;return"start"===Pe?ct=Ge.bottom:"end"===Pe?ct=Ge.top:nt(Pe)?ct=Ge.getPixelForValue(Pe.value):Ge.getBasePixel&&(ct=Ge.getBasePixel()),ct}(me,le);if(gt(Be)){const Pe=le.isHorizontal();return{x:Pe?Be:null,y:Pe?null:Be}}return null}(j);var j;return B instanceof cp?B:Uu(B,P)}(x),{line:B,scale:j,axis:U}=x,ee=B.options,le=ee.fill,me=ee.backgroundColor,{above:Be=me,below:Pe=me}=le||{};P&&B.points.length&&(Lo(E,A),function(Ge,ct){const{line:Ct,target:xt,above:Mt,below:Ut,area:bn,scale:gn}=ct,mn=Ct._loop?"angle":ct.axis;Ge.save(),"x"===mn&&Ut!==Mt&&(Rh(Ge,xt,bn.top),uf(Ge,{line:Ct,target:xt,color:Mt,scale:gn,property:mn}),Ge.restore(),Ge.save(),Rh(Ge,xt,bn.bottom)),uf(Ge,{line:Ct,target:xt,color:Ut,scale:gn,property:mn}),Ge.restore()}(E,{line:B,target:P,above:Be,below:Pe,area:A,scale:j,axis:U}),Gr(E))}function Rh(E,x,A){const{segments:P,points:B}=x;let j=!0,U=!1;E.beginPath();for(const ee of P){const{start:le,end:me}=ee,Be=B[le],Pe=B[ca(le,me,B)];j?(E.moveTo(Be.x,Be.y),j=!1):(E.lineTo(Be.x,A),E.lineTo(Be.x,Be.y)),U=!!x.pathSegment(E,ee,{move:U}),U?E.closePath():E.lineTo(Pe.x,A)}E.lineTo(x.first().x,A),E.closePath(),E.clip()}function uf(E,x){const{line:A,target:P,property:B,color:j,scale:U}=x,ee=function(le,me,Be){const Pe=le.segments,Ge=le.points,ct=me.points,Ct=[];for(const xt of Pe){let{start:Mt,end:Ut}=xt;Ut=ca(Mt,Ut,Ge);const bn=nc(Be,Ge[Mt],Ge[Ut],xt.loop);if(!me.segments){Ct.push({source:xt,target:bn,start:Ge[Mt],end:Ge[Ut]});continue}const gn=Po(me,bn);for(const mn of gn){const Bn=nc(Be,ct[mn.start],ct[mn.end],mn.loop),Kn=Qd(xt,Ge,Bn);for(const Si of Kn)Ct.push({source:Si,target:mn,start:{[Be]:dd(bn,Bn,"start",Math.max)},end:{[Be]:dd(bn,Bn,"end",Math.min)}})}}return Ct}(A,P,B);for(const{source:le,target:me,start:Be,end:Pe}of ee){const{style:{backgroundColor:Ge=j}={}}=le,ct=!0!==P;E.save(),E.fillStyle=Ge,pd(E,U,ct&&nc(B,Be,Pe)),E.beginPath();const Ct=!!A.pathSegment(E,le);let xt;if(ct){Ct?E.closePath():hf(E,P,Pe,B);const Mt=!!P.pathSegment(E,me,{move:Ct,reverse:!0});xt=Ct&&Mt,xt||hf(E,P,Be,B)}E.closePath(),E.fill(xt?"evenodd":"nonzero"),E.restore()}}function pd(E,x,A){const{top:P,bottom:B}=x.chart.chartArea,{property:j,start:U,end:ee}=A||{};"x"===j&&(E.beginPath(),E.rect(U,P,ee-U,B-P),E.clip())}function hf(E,x,A,P){const B=x.interpolate(A,P);B&&E.lineTo(B.x,B.y)}var df={id:"filler",afterDatasetsUpdate(E,x,A){const P=(E.data.datasets||[]).length,B=[];let j,U,ee,le;for(U=0;U<P;++U)j=E.getDatasetMeta(U),ee=j.dataset,le=null,ee&&ee.options&&ee instanceof Wo&&(le={visible:E.isDatasetVisible(U),index:U,fill:Nh(ee,U,P),chart:E,axis:j.controller.options.indexAxis,scale:j.vScale,line:ee}),j.$filler=le,B.push(le);for(U=0;U<P;++U)le=B[U],le&&!1!==le.fill&&(le.fill=Fs(B,U,A.propagate))},beforeDraw(E,x,A){const P="beforeDraw"===A.drawTime,B=E.getSortedVisibleDatasetMetas(),j=E.chartArea;for(let U=B.length-1;U>=0;--U){const ee=B[U].$filler;ee&&(ee.line.updateControlPoints(j,ee.axis),P&&ee.fill&&Ks(E.ctx,ee,j))}},beforeDatasetsDraw(E,x,A){if("beforeDatasetsDraw"!==A.drawTime)return;const P=E.getSortedVisibleDatasetMetas();for(let B=P.length-1;B>=0;--B){const j=P[B].$filler;tu(j)&&Ks(E.ctx,j,E.chartArea)}},beforeDatasetDraw(E,x,A){const P=x.meta.$filler;tu(P)&&"beforeDatasetDraw"===A.drawTime&&Ks(E.ctx,P,E.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fd=(E,x)=>{let{boxHeight:A=x,boxWidth:P=x}=E;return E.usePointStyle&&(A=Math.min(A,x),P=E.pointStyleWidth||Math.min(P,x)),{boxWidth:P,boxHeight:A,itemHeight:Math.max(x,A)}};class Bh extends pi{constructor(x){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=x.chart,this.options=x.options,this.ctx=x.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(x,A,P){this.maxWidth=x,this.maxHeight=A,this._margins=P,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const x=this.options.labels||{};let A=we(x.generateLabels,[this.chart],this)||[];x.filter&&(A=A.filter(P=>x.filter(P,this.chart.data))),x.sort&&(A=A.sort((P,B)=>x.sort(P,B,this.chart.data))),this.options.reverse&&A.reverse(),this.legendItems=A}fit(){const{options:x,ctx:A}=this;if(!x.display)return void(this.width=this.height=0);const P=x.labels,B=oa(P.font),j=B.size,U=this._computeTitleHeight(),{boxWidth:ee,itemHeight:le}=fd(P,j);let me,Be;A.font=B.string,this.isHorizontal()?(me=this.maxWidth,Be=this._fitRows(U,j,ee,le)+10):(Be=this.maxHeight,me=this._fitCols(U,B,ee,le)+10),this.width=Math.min(me,x.maxWidth||this.maxWidth),this.height=Math.min(Be,x.maxHeight||this.maxHeight)}_fitRows(x,A,P,B){const{ctx:j,maxWidth:U,options:{labels:{padding:ee}}}=this,le=this.legendHitBoxes=[],me=this.lineWidths=[0],Be=B+ee;let Pe=x;j.textAlign="left",j.textBaseline="middle";let Ge=-1,ct=-Be;return this.legendItems.forEach((Ct,xt)=>{const Mt=P+A/2+j.measureText(Ct.text).width;(0===xt||me[me.length-1]+Mt+2*ee>U)&&(Pe+=Be,me[me.length-(xt>0?0:1)]=0,ct+=Be,Ge++),le[xt]={left:0,top:ct,row:Ge,width:Mt,height:B},me[me.length-1]+=Mt+ee}),Pe}_fitCols(x,A,P,B){const{ctx:j,maxHeight:U,options:{labels:{padding:ee}}}=this,le=this.legendHitBoxes=[],me=this.columnSizes=[],Be=U-x;let Pe=ee,Ge=0,ct=0,Ct=0,xt=0;return this.legendItems.forEach((Mt,Ut)=>{const{itemWidth:bn,itemHeight:gn}=(wi=B,{itemWidth:function(Vi,qi,Ri,_i){let ki=Vi.text;return ki&&"string"!=typeof ki&&(ki=ki.reduce((Or,Ro)=>Or.length>Ro.length?Or:Ro)),qi+Ri.size/2+_i.measureText(ki).width}(Si=Mt,P,Bn=A,j),itemHeight:function(Vi,qi,Ri){let _i=Vi;return"string"!=typeof qi.text&&(_i=nu(qi,Ri)),_i}(wi,Si,Bn.lineHeight)});var Bn,Si,wi;Ut>0&&ct+gn+2*ee>Be&&(Pe+=Ge+ee,me.push({width:Ge,height:ct}),Ct+=Ge+ee,xt++,Ge=ct=0),le[Ut]={left:Ct,top:ct,col:xt,width:bn,height:gn},Ge=Math.max(Ge,bn),ct+=gn+ee}),Pe+=Ge,me.push({width:Ge,height:ct}),Pe}adjustHitBoxes(){if(!this.options.display)return;const x=this._computeTitleHeight(),{legendHitBoxes:A,options:{align:P,labels:{padding:B},rtl:j}}=this,U=Al(j,this.left,this.width);if(this.isHorizontal()){let ee=0,le=fa(P,this.left+B,this.right-this.lineWidths[ee]);for(const me of A)ee!==me.row&&(ee=me.row,le=fa(P,this.left+B,this.right-this.lineWidths[ee])),me.top+=this.top+x+B,me.left=U.leftForLtr(U.x(le),me.width),le+=me.width+B}else{let ee=0,le=fa(P,this.top+x+B,this.bottom-this.columnSizes[ee].height);for(const me of A)me.col!==ee&&(ee=me.col,le=fa(P,this.top+x+B,this.bottom-this.columnSizes[ee].height)),me.top=le,me.left+=this.left+B,me.left=U.leftForLtr(U.x(me.left),me.width),le+=me.height+B}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const x=this.ctx;Lo(x,this),this._draw(),Gr(x)}}_draw(){const{options:x,columnSizes:A,lineWidths:P,ctx:B}=this,{align:j,labels:U}=x,ee=W.color,le=Al(x.rtl,this.left,this.width),me=oa(U.font),{padding:Be}=U,Pe=me.size,Ge=Pe/2;let ct;this.drawTitle(),B.textAlign=le.textAlign("left"),B.textBaseline="middle",B.lineWidth=.5,B.font=me.string;const{boxWidth:Ct,boxHeight:xt,itemHeight:Mt}=fd(U,Pe),Ut=this.isHorizontal(),bn=this._computeTitleHeight();ct=Ut?{x:fa(j,this.left+Be,this.right-P[0]),y:this.top+Be+bn,line:0}:{x:this.left+Be,y:fa(j,this.top+bn+Be,this.bottom-A[0].height),line:0},sd(this.ctx,x.textDirection);const gn=Mt+Be;this.legendItems.forEach((mn,Bn)=>{B.strokeStyle=mn.fontColor,B.fillStyle=mn.fontColor;const Kn=B.measureText(mn.text).width,Si=le.textAlign(mn.textAlign||(mn.textAlign=U.textAlign)),wi=Ct+Ge+Kn;let Ni=ct.x,ji=ct.y;var Vi,Ri;le.setWidth(this.width),Ut?Bn>0&&Ni+wi+Be>this.right&&(ji=ct.y+=gn,ct.line++,Ni=ct.x=fa(j,this.left+Be,this.right-P[ct.line])):Bn>0&&ji+gn>this.bottom&&(Ni=ct.x=Ni+A[ct.line].width+Be,ct.line++,ji=ct.y=fa(j,this.top+bn+Be,this.bottom-A[ct.line].height)),function(Vi,qi,Ri){if(isNaN(Ct)||Ct<=0||isNaN(xt)||xt<0)return;B.save();const _i=Ve(Ri.lineWidth,1);if(B.fillStyle=Ve(Ri.fillStyle,ee),B.lineCap=Ve(Ri.lineCap,"butt"),B.lineDashOffset=Ve(Ri.lineDashOffset,0),B.lineJoin=Ve(Ri.lineJoin,"miter"),B.lineWidth=_i,B.strokeStyle=Ve(Ri.strokeStyle,ee),B.setLineDash(Ve(Ri.lineDash,[])),U.usePointStyle){const ki={radius:xt*Math.SQRT2/2,pointStyle:Ri.pointStyle,rotation:Ri.rotation,borderWidth:_i},Or=le.xPlus(Vi,Ct/2);Dn(B,ki,Or,qi+Ge,U.pointStyleWidth&&Ct)}else{const ki=qi+Math.max((Pe-xt)/2,0),Or=le.leftForLtr(Vi,Ct),Ro=Br(Ri.borderRadius);B.beginPath(),Object.values(Ro).some(wo=>0!==wo)?Cr(B,{x:Or,y:ki,w:Ct,h:xt,radius:Ro}):B.rect(Or,ki,Ct,xt),B.fill(),0!==_i&&B.stroke()}B.restore()}(le.x(Ni),ji,mn),Ni=Ye(Si,Ni+Ct+Ge,Ut?Ni+wi:this.right,x.rtl),Vi=le.x(Ni),Ds(B,(Ri=mn).text,Vi,ji+Mt/2,me,{strikethrough:Ri.hidden,textAlign:le.textAlign(Ri.textAlign)}),Ut?ct.x+=wi+Be:ct.y+="string"!=typeof mn.text?nu(mn,me.lineHeight)+Be:gn}),Ml(this.ctx,x.textDirection)}drawTitle(){const x=this.options,A=x.title,P=oa(A.font),B=$r(A.padding);if(!A.display)return;const j=Al(x.rtl,this.left,this.width),U=this.ctx,ee=A.position,me=B.top+P.size/2;let Be,Pe=this.left,Ge=this.width;if(this.isHorizontal())Ge=Math.max(...this.lineWidths),Be=this.top+me,Pe=fa(x.align,Pe,this.right-Ge);else{const Ct=this.columnSizes.reduce((xt,Mt)=>Math.max(xt,Mt.height),0);Be=me+fa(x.align,this.top,this.bottom-Ct-x.labels.padding-this._computeTitleHeight())}const ct=fa(ee,Pe,Pe+Ge);U.textAlign=j.textAlign(Do(ee)),U.textBaseline="middle",U.strokeStyle=A.color,U.fillStyle=A.color,U.font=P.string,Ds(U,A.text,ct,Be,P)}_computeTitleHeight(){const x=this.options.title,A=oa(x.font),P=$r(x.padding);return x.display?A.lineHeight+P.height:0}_getLegendItemAt(x,A){let P,B,j;if(di(x,this.left,this.right)&&di(A,this.top,this.bottom))for(j=this.legendHitBoxes,P=0;P<j.length;++P)if(B=j[P],di(x,B.left,B.left+B.width)&&di(A,B.top,B.top+B.height))return this.legendItems[P];return null}handleEvent(x){const A=this.options;if(ee=A,("mousemove"!==(U=x.type)&&"mouseout"!==U||!ee.onHover&&!ee.onLeave)&&(!ee.onClick||"click"!==U&&"mouseup"!==U))return;var U,ee;const P=this._getLegendItemAt(x.x,x.y);if("mousemove"===x.type||"mouseout"===x.type){const U=this._hoveredItem,ee=(j=P,null!==(B=U)&&null!==j&&B.datasetIndex===j.datasetIndex&&B.index===j.index);U&&!ee&&we(A.onLeave,[x,U,this],this),this._hoveredItem=P,P&&!ee&&we(A.onHover,[x,P,this],this)}else P&&we(A.onClick,[x,P,this],this);var B,j}}function nu(E,x){return x*(E.text?E.text.length:0)}var iu={id:"legend",_element:Bh,start(E,x,A){const P=E.legend=new Bh({ctx:E.ctx,options:A,chart:E});Qo.configure(E,P,A),Qo.addBox(E,P)},stop(E){Qo.removeBox(E,E.legend),delete E.legend},beforeUpdate(E,x,A){const P=E.legend;Qo.configure(E,P,A),P.options=A},afterUpdate(E){const x=E.legend;x.buildLabels(),x.adjustHitBoxes()},afterEvent(E,x){x.replay||E.legend.handleEvent(x.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(E,x,A){const P=x.datasetIndex,B=A.chart;B.isDatasetVisible(P)?(B.hide(P),x.hidden=!0):(B.show(P),x.hidden=!1)},onHover:null,onLeave:null,labels:{color:E=>E.chart.options.color,boxWidth:40,padding:10,generateLabels(E){const x=E.data.datasets,{labels:{usePointStyle:A,pointStyle:P,textAlign:B,color:j,useBorderRadius:U,borderRadius:ee}}=E.legend.options;return E._getSortedDatasetMetas().map(le=>{const me=le.controller.getStyle(A?0:void 0),Be=$r(me.borderWidth);return{text:x[le.index].label,fillStyle:me.backgroundColor,fontColor:j,hidden:!le.visible,lineCap:me.borderCapStyle,lineDash:me.borderDash,lineDashOffset:me.borderDashOffset,lineJoin:me.borderJoinStyle,lineWidth:(Be.width+Be.height)/4,strokeStyle:me.borderColor,pointStyle:P||me.pointStyle,rotation:me.rotation,textAlign:B||me.textAlign,borderRadius:U&&(ee||me.borderRadius),datasetIndex:le.index}},this)}},title:{color:E=>E.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:E=>!E.startsWith("on"),labels:{_scriptable:E=>!["generateLabels","filter","sort"].includes(E)}}};class ru extends pi{constructor(x){super(),this.chart=x.chart,this.options=x.options,this.ctx=x.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(x,A){const P=this.options;if(this.left=0,this.top=0,!P.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=x,this.height=this.bottom=A;const B=Nt(P.text)?P.text.length:1;this._padding=$r(P.padding);const j=B*oa(P.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=j:this.width=j}isHorizontal(){const x=this.options.position;return"top"===x||"bottom"===x}_drawArgs(x){const{top:A,left:P,bottom:B,right:j,options:U}=this,ee=U.align;let le,me,Be,Pe=0;return this.isHorizontal()?(me=fa(ee,P,j),Be=A+x,le=j-P):("left"===U.position?(me=P+x,Be=fa(ee,B,A),Pe=-.5*zt):(me=j-x,Be=fa(ee,A,B),Pe=.5*zt),le=B-A),{titleX:me,titleY:Be,maxWidth:le,rotation:Pe}}draw(){const x=this.ctx,A=this.options;if(!A.display)return;const P=oa(A.font),B=P.lineHeight/2+this._padding.top,{titleX:j,titleY:U,maxWidth:ee,rotation:le}=this._drawArgs(B);Ds(x,A.text,0,0,P,{color:A.color,maxWidth:ee,rotation:le,textAlign:Do(A.align),textBaseline:"middle",translation:[j,U]})}}var Og={id:"title",_element:ru,start(E,x,A){!function(P,B){const j=new ru({ctx:P.ctx,options:B,chart:P});Qo.configure(P,j,B),Qo.addBox(P,j),P.titleBlock=j}(E,A)},stop(E){Qo.removeBox(E,E.titleBlock),delete E.titleBlock},beforeUpdate(E,x,A){const P=E.titleBlock;Qo.configure(E,P,A),P.options=A},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vs=new WeakMap;var pf={id:"subtitle",start(E,x,A){const P=new ru({ctx:E.ctx,options:A,chart:E});Qo.configure(E,P,A),Qo.addBox(E,P),Vs.set(E,P)},stop(E){Qo.removeBox(E,Vs.get(E)),Vs.delete(E)},beforeUpdate(E,x,A){const P=Vs.get(E);Qo.configure(E,P,A),P.options=A},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gd={average(E){if(!E.length)return!1;let x,A,P=new Set,B=0,j=0;for(x=0,A=E.length;x<A;++x){const U=E[x].element;if(U&&U.hasValue()){const ee=U.tooltipPosition();P.add(ee.x),B+=ee.y,++j}}return{x:[...P].reduce((U,ee)=>U+ee)/P.size,y:B/j}},nearest(E,x){if(!E.length)return!1;let A,P,B,j=x.x,U=x.y,ee=Number.POSITIVE_INFINITY;for(A=0,P=E.length;A<P;++A){const le=E[A].element;if(le&&le.hasValue()){const me=En(x,le.getCenterPoint());me<ee&&(ee=me,B=le)}}if(B){const le=B.tooltipPosition();j=le.x,U=le.y}return{x:j,y:U}}};function ua(E,x){return x&&(Nt(x)?Array.prototype.push.apply(E,x):E.push(x)),E}function ha(E){return("string"==typeof E||E instanceof String)&&E.indexOf("\n")>-1?E.split("\n"):E}function md(E,x){const{element:A,datasetIndex:P,index:B}=x,j=E.getDatasetMeta(P).controller,{label:U,value:ee}=j.getLabelAndValue(B);return{chart:E,label:U,parsed:j.getParsed(B),raw:E.data.datasets[P].data[B],formattedValue:ee,dataset:j.getDataset(),dataIndex:B,datasetIndex:P,element:A}}function Dg(E,x){const A=E.chart.ctx,{body:P,footer:B,title:j}=E,{boxWidth:U,boxHeight:ee}=x,le=oa(x.bodyFont),me=oa(x.titleFont),Be=oa(x.footerFont),Pe=j.length,Ge=B.length,ct=P.length,Ct=$r(x.padding);let xt=Ct.height,Mt=0,Ut=P.reduce((mn,Bn)=>mn+Bn.before.length+Bn.lines.length+Bn.after.length,0);Ut+=E.beforeBody.length+E.afterBody.length,Pe&&(xt+=Pe*me.lineHeight+(Pe-1)*x.titleSpacing+x.titleMarginBottom),Ut&&(xt+=ct*(x.displayColors?Math.max(ee,le.lineHeight):le.lineHeight)+(Ut-ct)*le.lineHeight+(Ut-1)*x.bodySpacing),Ge&&(xt+=x.footerMarginTop+Ge*Be.lineHeight+(Ge-1)*x.footerSpacing);let bn=0;const gn=function(mn){Mt=Math.max(Mt,A.measureText(mn).width+bn)};return A.save(),A.font=me.string,ve(E.title,gn),A.font=le.string,ve(E.beforeBody.concat(E.afterBody),gn),bn=x.displayColors?U+2+x.boxPadding:0,ve(P,mn=>{ve(mn.before,gn),ve(mn.lines,gn),ve(mn.after,gn)}),bn=0,A.font=Be.string,ve(E.footer,gn),A.restore(),Mt+=Ct.width,{width:Mt,height:xt}}function Fl(E,x,A,P){const{x:B,width:j}=A,{width:U,chartArea:{left:ee,right:le}}=E;let me="center";return"center"===P?me=B<=(ee+le)/2?"left":"right":B<=j/2?me="left":B>=U-j/2&&(me="right"),function(Be,Pe,Ge,ct){const{x:Ct,width:xt}=ct,Mt=Ge.caretSize+Ge.caretPadding;return"left"===Be&&Ct+xt+Mt>Pe.width||"right"===Be&&Ct-xt-Mt<0||void 0}(me,E,x,A)&&(me="center"),me}function vd(E,x,A){const P=A.yAlign||x.yAlign||function(B,j){const{y:U,height:ee}=j;return U<ee/2?"top":U>B.height-ee/2?"bottom":"center"}(E,A);return{xAlign:A.xAlign||x.xAlign||Fl(E,x,A,P),yAlign:P}}function ff(E,x,A,P){const{caretSize:B,caretPadding:j,cornerRadius:U}=E,{xAlign:ee,yAlign:le}=A,me=B+j,{topLeft:Be,topRight:Pe,bottomLeft:Ge,bottomRight:ct}=Br(U);let Ct=function(Mt,Ut){let{x:bn,width:gn}=Mt;return"right"===Ut?bn-=gn:"center"===Ut&&(bn-=gn/2),bn}(x,ee);const xt=function(Mt,Ut,bn){let{y:gn,height:mn}=Mt;return"top"===Ut?gn+=bn:gn-="bottom"===Ut?mn+bn:mn/2,gn}(x,le,me);return"center"===le?"left"===ee?Ct+=me:"right"===ee&&(Ct-=me):"left"===ee?Ct-=Math.max(Be,Ge)+B:"right"===ee&&(Ct+=Math.max(Pe,ct)+B),{x:_n(Ct,0,P.width-x.width),y:_n(xt,0,P.height-x.height)}}function $u(E,x,A){const P=$r(A.padding);return"center"===x?E.x+E.width/2:"right"===x?E.x+E.width-P.right:E.x+P.left}function gf(E){return ua([],ha(E))}function yd(E,x){const A=x&&x.dataset&&x.dataset.tooltip&&x.dataset.tooltip.callbacks;return A?E.override(A):E}const Lg={beforeTitle:Ze,title(E){if(E.length>0){const x=E[0],A=x.chart.data.labels,P=A?A.length:0;if(this&&this.options&&"dataset"===this.options.mode)return x.dataset.label||"";if(x.label)return x.label;if(P>0&&x.dataIndex<P)return A[x.dataIndex]}return""},afterTitle:Ze,beforeBody:Ze,beforeLabel:Ze,label(E){if(this&&this.options&&"dataset"===this.options.mode)return E.label+": "+E.formattedValue||E.formattedValue;let x=E.dataset.label||"";x&&(x+=": ");const A=E.formattedValue;return it(A)||(x+=A),x},labelColor(E){const x=E.chart.getDatasetMeta(E.datasetIndex).controller.getStyle(E.dataIndex);return{borderColor:x.borderColor,backgroundColor:x.backgroundColor,borderWidth:x.borderWidth,borderDash:x.borderDash,borderDashOffset:x.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(E){const x=E.chart.getDatasetMeta(E.datasetIndex).controller.getStyle(E.dataIndex);return{pointStyle:x.pointStyle,rotation:x.rotation}},afterLabel:Ze,afterBody:Ze,beforeFooter:Ze,footer:Ze,afterFooter:Ze};function Ba(E,x,A,P){const B=E[x].call(A,P);return void 0===B?Lg[x].call(A,P):B}class Rv extends pi{static positioners=gd;constructor(x){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=x.chart,this.options=x.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(x){this.options=x,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const x=this._cachedAnimations;if(x)return x;const A=this.chart,P=this.options.setContext(this.getContext()),B=P.enabled&&A.options.animation&&P.animations,j=new Nl(this.chart,B);return B._cacheable&&(this._cachedAnimations=Object.freeze(j)),j}getContext(){return this.$context||(this.$context=ba(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(x,A){const{callbacks:P}=A,B=Ba(P,"beforeTitle",this,x),j=Ba(P,"title",this,x),U=Ba(P,"afterTitle",this,x);let ee=[];return ee=ua(ee,ha(B)),ee=ua(ee,ha(j)),ee=ua(ee,ha(U)),ee}getBeforeBody(x,A){return gf(Ba(A.callbacks,"beforeBody",this,x))}getBody(x,A){const{callbacks:P}=A,B=[];return ve(x,j=>{const U={before:[],lines:[],after:[]},ee=yd(P,j);ua(U.before,ha(Ba(ee,"beforeLabel",this,j))),ua(U.lines,Ba(ee,"label",this,j)),ua(U.after,ha(Ba(ee,"afterLabel",this,j))),B.push(U)}),B}getAfterBody(x,A){return gf(Ba(A.callbacks,"afterBody",this,x))}getFooter(x,A){const{callbacks:P}=A,B=Ba(P,"beforeFooter",this,x),j=Ba(P,"footer",this,x),U=Ba(P,"afterFooter",this,x);let ee=[];return ee=ua(ee,ha(B)),ee=ua(ee,ha(j)),ee=ua(ee,ha(U)),ee}_createItems(x){const A=this._active,P=this.chart.data,B=[],j=[],U=[];let ee,le,me=[];for(ee=0,le=A.length;ee<le;++ee)me.push(md(this.chart,A[ee]));return x.filter&&(me=me.filter((Be,Pe,Ge)=>x.filter(Be,Pe,Ge,P))),x.itemSort&&(me=me.sort((Be,Pe)=>x.itemSort(Be,Pe,P))),ve(me,Be=>{const Pe=yd(x.callbacks,Be);B.push(Ba(Pe,"labelColor",this,Be)),j.push(Ba(Pe,"labelPointStyle",this,Be)),U.push(Ba(Pe,"labelTextColor",this,Be))}),this.labelColors=B,this.labelPointStyles=j,this.labelTextColors=U,this.dataPoints=me,me}update(x,A){const P=this.options.setContext(this.getContext()),B=this._active;let j,U=[];if(B.length){const ee=gd[P.position].call(this,B,this._eventPosition);U=this._createItems(P),this.title=this.getTitle(U,P),this.beforeBody=this.getBeforeBody(U,P),this.body=this.getBody(U,P),this.afterBody=this.getAfterBody(U,P),this.footer=this.getFooter(U,P);const le=this._size=Dg(this,P),me=Object.assign({},ee,le),Be=vd(this.chart,P,me),Pe=ff(P,me,Be,this.chart);this.xAlign=Be.xAlign,this.yAlign=Be.yAlign,j={opacity:1,x:Pe.x,y:Pe.y,width:le.width,height:le.height,caretX:ee.x,caretY:ee.y}}else 0!==this.opacity&&(j={opacity:0});this._tooltipItems=U,this.$context=void 0,j&&this._resolveAnimations().update(this,j),x&&P.external&&P.external.call(this,{chart:this.chart,tooltip:this,replay:A})}drawCaret(x,A,P,B){const j=this.getCaretPosition(x,P,B);A.lineTo(j.x1,j.y1),A.lineTo(j.x2,j.y2),A.lineTo(j.x3,j.y3)}getCaretPosition(x,A,P){const{xAlign:B,yAlign:j}=this,{caretSize:U,cornerRadius:ee}=P,{topLeft:le,topRight:me,bottomLeft:Be,bottomRight:Pe}=Br(ee),{x:Ge,y:ct}=x,{width:Ct,height:xt}=A;let Mt,Ut,bn,gn,mn,Bn;return"center"===j?(mn=ct+xt/2,"left"===B?(Mt=Ge,Ut=Mt-U,gn=mn+U,Bn=mn-U):(Mt=Ge+Ct,Ut=Mt+U,gn=mn-U,Bn=mn+U),bn=Mt):(Ut="left"===B?Ge+Math.max(le,Be)+U:"right"===B?Ge+Ct-Math.max(me,Pe)-U:this.caretX,"top"===j?(gn=ct,mn=gn-U,Mt=Ut-U,bn=Ut+U):(gn=ct+xt,mn=gn+U,Mt=Ut+U,bn=Ut-U),Bn=gn),{x1:Mt,x2:Ut,x3:bn,y1:gn,y2:mn,y3:Bn}}drawTitle(x,A,P){const B=this.title,j=B.length;let U,ee,le;if(j){const me=Al(P.rtl,this.x,this.width);for(x.x=$u(this,P.titleAlign,P),A.textAlign=me.textAlign(P.titleAlign),A.textBaseline="middle",U=oa(P.titleFont),ee=P.titleSpacing,A.fillStyle=P.titleColor,A.font=U.string,le=0;le<j;++le)A.fillText(B[le],me.x(x.x),x.y+U.lineHeight/2),x.y+=U.lineHeight+ee,le+1===j&&(x.y+=P.titleMarginBottom-ee)}}_drawColorBox(x,A,P,B,j){const U=this.labelColors[P],ee=this.labelPointStyles[P],{boxHeight:le,boxWidth:me}=j,Be=oa(j.bodyFont),Pe=$u(this,"left",j),Ge=B.x(Pe),Ct=A.y+(le<Be.lineHeight?(Be.lineHeight-le)/2:0);if(j.usePointStyle){const xt={radius:Math.min(me,le)/2,pointStyle:ee.pointStyle,rotation:ee.rotation,borderWidth:1},Mt=B.leftForLtr(Ge,me)+me/2,Ut=Ct+le/2;x.strokeStyle=j.multiKeyBackground,x.fillStyle=j.multiKeyBackground,So(x,xt,Mt,Ut),x.strokeStyle=U.borderColor,x.fillStyle=U.backgroundColor,So(x,xt,Mt,Ut)}else{x.lineWidth=nt(U.borderWidth)?Math.max(...Object.values(U.borderWidth)):U.borderWidth||1,x.strokeStyle=U.borderColor,x.setLineDash(U.borderDash||[]),x.lineDashOffset=U.borderDashOffset||0;const xt=B.leftForLtr(Ge,me),Mt=B.leftForLtr(B.xPlus(Ge,1),me-2),Ut=Br(U.borderRadius);Object.values(Ut).some(bn=>0!==bn)?(x.beginPath(),x.fillStyle=j.multiKeyBackground,Cr(x,{x:xt,y:Ct,w:me,h:le,radius:Ut}),x.fill(),x.stroke(),x.fillStyle=U.backgroundColor,x.beginPath(),Cr(x,{x:Mt,y:Ct+1,w:me-2,h:le-2,radius:Ut}),x.fill()):(x.fillStyle=j.multiKeyBackground,x.fillRect(xt,Ct,me,le),x.strokeRect(xt,Ct,me,le),x.fillStyle=U.backgroundColor,x.fillRect(Mt,Ct+1,me-2,le-2))}x.fillStyle=this.labelTextColors[P]}drawBody(x,A,P){const{body:B}=this,{bodySpacing:j,bodyAlign:U,displayColors:ee,boxHeight:le,boxWidth:me,boxPadding:Be}=P,Pe=oa(P.bodyFont);let Ge=Pe.lineHeight,ct=0;const Ct=Al(P.rtl,this.x,this.width),xt=function(wi){A.fillText(wi,Ct.x(x.x+ct),x.y+Ge/2),x.y+=Ge+j},Mt=Ct.textAlign(U);let Ut,bn,gn,mn,Bn,Kn,Si;for(A.textAlign=U,A.textBaseline="middle",A.font=Pe.string,x.x=$u(this,Mt,P),A.fillStyle=P.bodyColor,ve(this.beforeBody,xt),ct=ee&&"right"!==Mt?"center"===U?me/2+Be:me+2+Be:0,mn=0,Kn=B.length;mn<Kn;++mn){for(Ut=B[mn],bn=this.labelTextColors[mn],A.fillStyle=bn,ve(Ut.before,xt),gn=Ut.lines,ee&&gn.length&&(this._drawColorBox(A,x,mn,Ct,P),Ge=Math.max(Pe.lineHeight,le)),Bn=0,Si=gn.length;Bn<Si;++Bn)xt(gn[Bn]),Ge=Pe.lineHeight;ve(Ut.after,xt)}ct=0,Ge=Pe.lineHeight,ve(this.afterBody,xt),x.y-=j}drawFooter(x,A,P){const B=this.footer,j=B.length;let U,ee;if(j){const le=Al(P.rtl,this.x,this.width);for(x.x=$u(this,P.footerAlign,P),x.y+=P.footerMarginTop,A.textAlign=le.textAlign(P.footerAlign),A.textBaseline="middle",U=oa(P.footerFont),A.fillStyle=P.footerColor,A.font=U.string,ee=0;ee<j;++ee)A.fillText(B[ee],le.x(x.x),x.y+U.lineHeight/2),x.y+=U.lineHeight+P.footerSpacing}}drawBackground(x,A,P,B){const{xAlign:j,yAlign:U}=this,{x:ee,y:le}=x,{width:me,height:Be}=P,{topLeft:Pe,topRight:Ge,bottomLeft:ct,bottomRight:Ct}=Br(B.cornerRadius);A.fillStyle=B.backgroundColor,A.strokeStyle=B.borderColor,A.lineWidth=B.borderWidth,A.beginPath(),A.moveTo(ee+Pe,le),"top"===U&&this.drawCaret(x,A,P,B),A.lineTo(ee+me-Ge,le),A.quadraticCurveTo(ee+me,le,ee+me,le+Ge),"center"===U&&"right"===j&&this.drawCaret(x,A,P,B),A.lineTo(ee+me,le+Be-Ct),A.quadraticCurveTo(ee+me,le+Be,ee+me-Ct,le+Be),"bottom"===U&&this.drawCaret(x,A,P,B),A.lineTo(ee+ct,le+Be),A.quadraticCurveTo(ee,le+Be,ee,le+Be-ct),"center"===U&&"left"===j&&this.drawCaret(x,A,P,B),A.lineTo(ee,le+Pe),A.quadraticCurveTo(ee,le,ee+Pe,le),A.closePath(),A.fill(),B.borderWidth>0&&A.stroke()}_updateAnimationTarget(x){const A=this.chart,P=this.$animations,B=P&&P.x,j=P&&P.y;if(B||j){const U=gd[x.position].call(this,this._active,this._eventPosition);if(!U)return;const ee=this._size=Dg(this,x),le=Object.assign({},U,this._size),me=vd(A,x,le),Be=ff(x,le,me,A);B._to===Be.x&&j._to===Be.y||(this.xAlign=me.xAlign,this.yAlign=me.yAlign,this.width=ee.width,this.height=ee.height,this.caretX=U.x,this.caretY=U.y,this._resolveAnimations().update(this,Be))}}_willRender(){return!!this.opacity}draw(x){const A=this.options.setContext(this.getContext());let P=this.opacity;if(!P)return;this._updateAnimationTarget(A);const B={width:this.width,height:this.height},j={x:this.x,y:this.y};P=Math.abs(P)<.001?0:P;const U=$r(A.padding);A.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(x.save(),x.globalAlpha=P,this.drawBackground(j,x,B,A),sd(x,A.textDirection),j.y+=U.top,this.drawTitle(j,x,A),this.drawBody(j,x,A),this.drawFooter(j,x,A),Ml(x,A.textDirection),x.restore())}getActiveElements(){return this._active||[]}setActiveElements(x,A){const P=this._active,B=x.map(({datasetIndex:ee,index:le})=>{const me=this.chart.getDatasetMeta(ee);if(!me)throw new Error("Cannot find a dataset at index "+ee);return{datasetIndex:ee,element:me.data[le],index:le}}),j=!Ne(P,B),U=this._positionChanged(B,A);(j||U)&&(this._active=B,this._eventPosition=A,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(x,A,P=!0){if(A&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const B=this.options,j=this._active||[],U=this._getActiveElements(x,j,A,P),ee=this._positionChanged(U,x),le=A||!Ne(U,j)||ee;return le&&(this._active=U,(B.enabled||B.external)&&(this._eventPosition={x:x.x,y:x.y},this.update(!0,A))),le}_getActiveElements(x,A,P,B){const j=this.options;if("mouseout"===x.type)return[];if(!B)return A.filter(ee=>this.chart.data.datasets[ee.datasetIndex]&&void 0!==this.chart.getDatasetMeta(ee.datasetIndex).controller.getParsed(ee.index));const U=this.chart.getElementsAtEventForMode(x,j.mode,j,P);return j.reverse&&U.reverse(),U}_positionChanged(x,A){const{caretX:P,caretY:B,options:j}=this,U=gd[j.position].call(this,x,A);return!1!==U&&(P!==U.x||B!==U.y)}}var J0={id:"tooltip",_element:Rv,positioners:gd,afterInit(E,x,A){A&&(E.tooltip=new Rv({chart:E,options:A}))},beforeUpdate(E,x,A){E.tooltip&&E.tooltip.initialize(A)},reset(E,x,A){E.tooltip&&E.tooltip.initialize(A)},afterDraw(E){const x=E.tooltip;if(x&&x._willRender()){const A={tooltip:x};if(!1===E.notifyPlugins("beforeTooltipDraw",{...A,cancelable:!0}))return;x.draw(E.ctx),E.notifyPlugins("afterTooltipDraw",A)}},afterEvent(E,x){E.tooltip&&E.tooltip.handleEvent(x.event,x.replay,x.inChartArea)&&(x.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(E,x)=>x.bodyFont.size,boxWidth:(E,x)=>x.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:E=>"filter"!==E&&"itemSort"!==E&&"external"!==E,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return bo.register(oo,Aa,yn,Kt),bo.helpers={...yc},bo._adapters=op,bo.Animation=Du,bo.Animations=Nl,bo.animator=bt,bo.controllers=ka.controllers.items,bo.DatasetController=Rs,bo.Element=pi,bo.elements=yn,bo.Interaction=Xc,bo.layouts=Qo,bo.platforms=Ll,bo.Scale=Rn,bo.Ticks=fe,Object.assign(bo,oo,Aa,yn,Kt,Ll),bo.Chart=bo,typeof window<"u"&&(window.Chart=bo),bo}),function(Kt,Ze){"object"==typeof exports&&typeof module<"u"?Ze(exports):"function"==typeof define&&define.amd?define(["exports"],Ze):Ze((Kt=typeof globalThis<"u"?globalThis:Kt||self).echarts={})}(this,function(Kt){"use strict";var Ze=function(n,t){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])})(n,t)};function Oe(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}Ze(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var it=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Nt=new function(){this.browser=new it,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Nt.wxa=!0,Nt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Nt.worker=!0:typeof navigator>"u"?(Nt.node=!0,Nt.svgSupported=!0):function(n,t){var e=t.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(e.firefox=!0,e.version=i[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var l=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,Nt);var et,Ve,nt="sans-serif",gt="12px "+nt,ye=function(n){var t={};if(typeof JSON>"u")return t;for(var e=0;e<n.length;e++){var i=String.fromCharCode(e+32),r=(n.charCodeAt(e)-20)/100;t[i]=r}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ge={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(n,t){if(!et){var e=ge.createCanvas();et=e&&e.getContext("2d")}if(et)return Ve!==t&&(Ve=et.font=t||gt),et.measureText(n);n=n||"";var i=/(\d+)px/.exec(t=t||gt),r=i&&+i[1]||12,o=0;if(t.indexOf("mono")>=0)o=r*n.length;else for(var a=0;a<n.length;a++){var l=ye[n[a]];o+=null==l?r:l*r}return{width:o}},loadImage:function(n,t,e){var i=new Image;return i.onload=t,i.onerror=e,i.src=n,i}};function we(n){for(var t in ge)n[t]&&(ge[t]=n[t])}var ve=ln(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,t){return n["[object "+t+"]"]=!0,n},{}),Ne=ln(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,t){return n["[object "+t+"Array]"]=!0,n},{}),Ie=Object.prototype.toString,Ce=Array.prototype,de=Ce.forEach,ot=Ce.filter,Ae=Ce.slice,je=Ce.map,Ke=function(){}.constructor,yt=Ke?Ke.prototype:null,Ot="__proto__",wt=2311;function lt(){return wt++}function $e(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];typeof console<"u"&&console.error.apply(console,n)}function Qe(n){if(null==n||"object"!=typeof n)return n;var t=n,e=Ie.call(n);if("[object Array]"===e){if(!Do(n)){t=[];for(var i=0,r=n.length;i<r;i++)t[i]=Qe(n[i])}}else if(Ne[e]){if(!Do(n)){var o=n.constructor;if(o.from)t=o.from(n);else for(t=new o(n.length),i=0,r=n.length;i<r;i++)t[i]=n[i]}}else if(!ve[e]&&!Do(n)&&!_n(n))for(var a in t={},n)n.hasOwnProperty(a)&&a!==Ot&&(t[a]=Qe(n[a]));return t}function rt(n,t,e){if(!hi(t)||!hi(n))return e?Qe(t):n;for(var i in t)if(t.hasOwnProperty(i)&&i!==Ot){var r=n[i],o=t[i];!hi(o)||!hi(r)||Bt(o)||Bt(r)||_n(o)||_n(r)||pr(o)||pr(r)||Do(o)||Do(r)?!e&&i in n||(n[i]=Qe(t[i])):rt(r,o,e)}return n}function zt(n,t){for(var e=n[0],i=1,r=n.length;i<r;i++)e=rt(e,n[i],t);return e}function _t(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==Ot&&(n[e]=t[e]);return n}function It(n,t,e){for(var i=Zt(t),r=0;r<i.length;r++){var o=i[r];(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}return n}var Hn=ge.createCanvas;function hn(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,i=n.length;e<i;e++)if(n[e]===t)return e}return-1}function pn(n,t){var e=n.prototype;function i(){}for(var r in i.prototype=t.prototype,n.prototype=new i,e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);n.prototype.constructor=n,n.superClass=t}function qe(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}else It(n,t,e)}function Vt(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function pe(n,t,e){if(n&&t)if(n.forEach&&n.forEach===de)n.forEach(t,e);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&t.call(e,n[o],o,n)}function ue(n,t,e){if(!n)return[];if(!t)return po(n);if(n.map&&n.map===je)return n.map(t,e);for(var i=[],r=0,o=n.length;r<o;r++)i.push(t.call(e,n[r],r,n));return i}function ln(n,t,e,i){if(n&&t){for(var r=0,o=n.length;r<o;r++)e=t.call(i,e,n[r],r,n);return e}}function on(n,t,e){if(!n)return[];if(!t)return po(n);if(n.filter&&n.filter===ot)return n.filter(t,e);for(var i=[],r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n)&&i.push(n[r]);return i}function jt(n,t,e){if(n&&t)for(var i=0,r=n.length;i<r;i++)if(t.call(e,n[i],i,n))return n[i]}function Zt(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}var Et=yt&&Ht(yt.bind)?yt.call.bind(yt.bind):function(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return function(){return n.apply(t,e.concat(Ae.call(arguments)))}};function xn(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(Ae.call(arguments)))}}function Bt(n){return Array.isArray?Array.isArray(n):"[object Array]"===Ie.call(n)}function Ht(n){return"function"==typeof n}function On(n){return"string"==typeof n}function xr(n){return"[object String]"===Ie.call(n)}function En(n){return"number"==typeof n}function hi(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function pr(n){return!!ve[Ie.call(n)]}function jr(n){return!!Ne[Ie.call(n)]}function _n(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function Gn(n){return null!=n.colorStops}function di(n){return null!=n.image}function bi(n){return"[object RegExp]"===Ie.call(n)}function ai(n){return n!=n}function Wi(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,i=n.length;e<i;e++)if(null!=n[e])return n[e]}function yi(n,t){return n??t}function fr(n,t,e){return n??t??e}function po(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return Ae.apply(n,t)}function Fr(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function ir(n,t){if(!n)throw new Error(t)}function Jr(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Zo="__ec_primitive__";function ns(n){n[Zo]=!0}function Do(n){return n[Zo]}var fa=function(){function n(){this.data={}}return n.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){return this.data[t]=e,this},n.prototype.keys=function(){return Zt(this.data)},n.prototype.forEach=function(t){var e=this.data;for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},n}(),Ye="function"==typeof Map,Te=function(){function n(t){var e=Bt(t);this.data=Ye?new Map:new fa;var i=this;function r(o,a){e?i.set(o,a):i.set(a,o)}t instanceof n?t.each(r):t&&pe(t,r)}return n.prototype.hasKey=function(t){return this.data.has(t)},n.prototype.get=function(t){return this.data.get(t)},n.prototype.set=function(t,e){return this.data.set(t,e),e},n.prototype.each=function(t,e){this.data.forEach(function(i,r){t.call(e,i,r)})},n.prototype.keys=function(){var t=this.data.keys();return Ye?Array.from(t):t},n.prototype.removeKey=function(t){this.data.delete(t)},n}();function be(n){return new Te(n)}function at(n,t){for(var e=new n.constructor(n.length+t.length),i=0;i<n.length;i++)e[i]=n[i];var r=n.length;for(i=0;i<t.length;i++)e[i+r]=t[i];return e}function bt(n,t){var e;if(Object.create)e=Object.create(n);else{var i=function(){};i.prototype=n,e=new i}return t&&_t(e,t),e}function Pt(n){var t=n.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function ft(n,t){return n.hasOwnProperty(t)}function At(){}var Ft=180/Math.PI,Gt=Object.freeze({__proto__:null,guid:lt,logError:$e,clone:Qe,merge:rt,mergeAll:zt,extend:_t,defaults:It,createCanvas:Hn,indexOf:hn,inherits:pn,mixin:qe,isArrayLike:Vt,each:pe,map:ue,reduce:ln,filter:on,find:jt,keys:Zt,bind:Et,curry:xn,isArray:Bt,isFunction:Ht,isString:On,isStringSafe:xr,isNumber:En,isObject:hi,isBuiltInObject:pr,isTypedArray:jr,isDom:_n,isGradientObject:Gn,isImagePatternObject:di,isRegExp:bi,eqNaN:ai,retrieve:Wi,retrieve2:yi,retrieve3:fr,slice:po,normalizeCssArray:Fr,assert:ir,trim:Jr,setAsPrimitive:ns,isPrimitive:Do,HashMap:Te,createHashMap:be,concatArray:at,createObject:bt,disableUserSelect:Pt,hasOwn:ft,noop:At,RADIAN_TO_DEGREE:Ft});function zn(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function Xn(n,t){return n[0]=t[0],n[1]=t[1],n}function ei(n){return[n[0],n[1]]}function Qn(n,t,e){return n[0]=t,n[1]=e,n}function ti(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function Qi(n,t,e,i){return n[0]=t[0]+e[0]*i,n[1]=t[1]+e[1]*i,n}function Ui(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function gr(n){return Math.sqrt(Li(n))}function Li(n){return n[0]*n[0]+n[1]*n[1]}function wr(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function tr(n,t){var e=gr(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function Rr(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var or=Rr;function ar(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var Yr=ar;function Sr(n,t,e,i){return n[0]=t[0]+i*(e[0]-t[0]),n[1]=t[1]+i*(e[1]-t[1]),n}function Fn(n,t,e){var i=t[0],r=t[1];return n[0]=e[0]*i+e[2]*r+e[4],n[1]=e[1]*i+e[3]*r+e[5],n}function ni(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function Jn(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var fi=Object.freeze({__proto__:null,create:zn,copy:Xn,clone:ei,set:Qn,add:ti,scaleAndAdd:Qi,sub:Ui,len:gr,length:gr,lenSquare:Li,lengthSquare:Li,mul:function(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n},div:function(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:wr,normalize:tr,distance:Rr,dist:or,distanceSquare:ar,distSquare:Yr,negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:Sr,applyTransform:Fn,min:ni,max:Jn}),xi=function(n,t){this.target=n,this.topTarget=t&&t.topTarget},We=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new xi(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,r=t.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new xi(e,t),"drag",t.event);var l=this.handler.findHover(i,r,e).target,u=this._dropTarget;this._dropTarget=l,e!==l&&(u&&l!==u&&this.handler.dispatchToElement(new xi(u,t),"dragleave",t.event),l&&l!==u&&this.handler.dispatchToElement(new xi(l,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new xi(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new xi(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}(),h=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof e&&(r=i,i=e,e=null),!i||!t)return this;var a=this._$eventProcessor;null!=e&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var l=0;l<o[t].length;l++)if(o[t][l].h===i)return this;var u={h:i,query:e,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},f=o[t].length-1,g=o[t][f];return g&&g.callAtLast?o[t].splice(f,0,u):o[t].push(u),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&r.push(i[t][o]);i[t]=r}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},n.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,l=r.length,u=0;u<l;u++){var f=r[u];if(!o||!o.filter||null==f.query||o.filter(t,f.query))switch(a){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,e[0]);break;case 2:f.h.call(f.ctx,e[0],e[1]);break;default:f.h.apply(f.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,l=e[a-1],u=r.length,f=0;f<u;f++){var g=r[f];if(!o||!o.filter||null==g.query||o.filter(t,g.query))switch(a){case 0:g.h.call(l);break;case 1:g.h.call(l,e[0]);break;case 2:g.h.call(l,e[0],e[1]);break;default:g.h.apply(l,e.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n}(),d=Math.log(2);function v(n,t,e,i,r,o){var a=i+"-"+r,l=n.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var u=Math.round(Math.log((1<<l)-1&~r)/d);return n[e][u]}for(var f=i|1<<e,g=e+1;i&1<<g;)g++;for(var y=0,w=0,C=0;w<l;w++){var M=1<<w;M&r||(y+=(C%2?-1:1)*n[e][w]*v(n,t-1,g,f,r|M,o),C++)}return o[a]=y,y}function S(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],i={},r=v(e,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var l=0;l<8;l++)null==o[l]&&(o[l]=0),o[l]+=((a+l)%2?-1:1)*v(e,7,0===a?1:0,1<<a,1<<l,i)/r*t[a];return function(u,f,g){var y=f*o[6]+g*o[7]+1;u[0]=(f*o[0]+g*o[1]+o[2])/y,u[1]=(f*o[3]+g*o[4]+o[5])/y}}}var T="___zrEVENTSAVED",I=[];function N(n,t,e,i,r){if(t.getBoundingClientRect&&Nt.domSupported&&!V(t)){var o=t[T]||(t[T]={}),l=function(u,f,g){for(var y=g?"invTrans":"trans",w=f[y],C=f.srcCoords,M=[],O=[],L=!0,R=0;R<4;R++){var F=u[R].getBoundingClientRect(),Y=2*R,q=F.left,Z=F.top;M.push(q,Z),L=L&&C&&q===C[Y]&&Z===C[Y+1],O.push(u[R].offsetLeft,u[R].offsetTop)}return L&&w?w:(f.srcCoords=M,f[y]=g?S(O,M):S(M,O))}(function(u,f){var g=f.markers;if(g)return g;g=f.markers=[];for(var y=["left","right"],w=["top","bottom"],C=0;C<4;C++){var M=document.createElement("div"),O=C%2,L=(C>>1)%2;M.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",y[O]+":0",w[L]+":0",y[1-O]+":auto",w[1-L]+":auto",""].join("!important;"),u.appendChild(M),g.push(M)}return g}(t,o),o,r);if(l)return l(n,e,i),!0}return!1}function V(n){return"CANVAS"===n.nodeName.toUpperCase()}var G=/([&<>"'])/g,K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function J(n){return null==n?"":(n+"").replace(G,function(t,e){return K[e]})}var ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fe=[],Se=Nt.browser.firefox&&+Nt.browser.version.split(".")[0]<39;function Le(n,t,e,i){return e=e||{},i?Fe(n,t,e):Se&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):Fe(n,t,e),e}function Fe(n,t,e){if(Nt.domSupported&&n.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(V(n)){var o=n.getBoundingClientRect();return e.zrX=i-o.left,void(e.zrY=r-o.top)}if(N(fe,n,i,r))return e.zrX=fe[0],void(e.zrY=fe[1])}e.zrX=e.zrY=0}function tt(n){return n||window.event}function vt(n,t,e){if(null!=(t=tt(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];r&&Le(n,r,t,e)}else{Le(n,t,t,e);var o=function(l){var u=l.wheelDelta;if(u)return u;var f=l.deltaX,g=l.deltaY;return null==f||null==g?u:3*Math.abs(0!==g?g:f)*(g>0?-1:g<0?1:f>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&ie.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function W(n,t,e,i){n.addEventListener(t,e,i)}var ae=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function De(n){return 2===n.which||3===n.which}var Ue=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,i){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,l=r.length;a<l;a++){var u=r[a],f=Le(i,u,{});o.points.push([f.zrX,f.zrY]),o.touches.push(u)}this._track.push(o)}},n.prototype._recognize=function(t){for(var e in kt)if(kt.hasOwnProperty(e)){var i=kt[e](this._track,t);if(i)return i}},n}();function dt(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var kt={pinch:function(n,t){var e=n.length;if(e){var i,r=(n[e-1]||{}).points,o=(n[e-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=dt(r)/dt(o);!isFinite(a)&&(a=1),t.pinchScale=a;var l=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:n[0].target,event:t}}}}};function qt(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Sn(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Mn(n,t,e){var r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=u,n}function Cn(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function gi(n,t,e){var i=t[0],r=t[2],o=t[4],a=t[1],l=t[3],u=t[5],f=Math.sin(e),g=Math.cos(e);return n[0]=i*g+a*f,n[1]=-i*f+a*g,n[2]=r*g+l*f,n[3]=-r*f+g*l,n[4]=g*o+f*u,n[5]=g*u-f*o,n}function Ei(n,t,e){var i=e[0],r=e[1];return n[0]=t[0]*i,n[1]=t[1]*r,n[2]=t[2]*i,n[3]=t[3]*r,n[4]=t[4]*i,n[5]=t[5]*r,n}function Bi(n,t){var e=t[0],i=t[2],r=t[4],o=t[1],a=t[3],l=t[5],u=e*a-o*i;return u?(n[0]=a*(u=1/u),n[1]=-o*u,n[2]=-i*u,n[3]=e*u,n[4]=(i*l-a*r)*u,n[5]=(o*r-e*l)*u,n):null}function sr(n){var t=[1,0,0,1,0,0];return Sn(t,n),t}var mr=Object.freeze({__proto__:null,create:function Xt(){return[1,0,0,1,0,0]},identity:qt,copy:Sn,mul:Mn,translate:Cn,rotate:gi,scale:Ei,invert:Bi,clone:sr}),si=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,i){t.x=e,t.y=i},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},n.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},n.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},n.scaleAndAdd=function(t,e,i,r){t.x=e.x+i.x*r,t.y=e.y+i.y*r},n.lerp=function(t,e,i,r){var o=1-r;t.x=o*e.x+r*i.x,t.y=o*e.y+r*i.y},n}(),Mi=Math.min,Ur=Math.max,Fo=new si,So=new si,Dn=new si,uo=new si,Lo=new si,Gr=new si,lr=function(){function n(t,e,i,r){i<0&&(t+=i,i=-i),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}return n.prototype.union=function(t){var e=Mi(t.x,this.x),i=Mi(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Ur(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?Ur(t.y+t.height,this.y+this.height)-i:t.height,this.x=e,this.y=i},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,r=t.height/e.height,o=[1,0,0,1,0,0];return Cn(o,o,[-e.x,-e.y]),Ei(o,o,[i,r]),Cn(o,o,[t.x,t.y]),o},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var i=this,r=i.x,o=i.x+i.width,a=i.y,l=i.y+i.height,u=t.x,f=t.x+t.width,g=t.y,y=t.y+t.height,w=!(o<u||f<r||l<g||y<a);if(e){var C=1/0,M=0,O=Math.abs(o-u),L=Math.abs(f-r),R=Math.abs(l-g),F=Math.abs(y-a),Y=Math.min(O,L),q=Math.min(R,F);o<u||f<r?Y>M&&(M=Y,si.set(Gr,O<L?-O:L,0)):Y<C&&(C=Y,si.set(Lo,O<L?O:-L,0)),l<g||y<a?q>M&&(M=q,si.set(Gr,0,R<F?-R:F)):Y<C&&(C=Y,si.set(Lo,0,R<F?R:-F))}return e&&si.copy(e,w?Lo:Gr),w},n.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],l=i[5];return t.x=e.x*r+i[4],t.y=e.y*o+l,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Fo.x=Dn.x=e.x,Fo.y=uo.y=e.y,So.x=uo.x=e.x+e.width,So.y=Dn.y=e.y+e.height,Fo.transform(i),uo.transform(i),So.transform(i),Dn.transform(i),t.x=Mi(Fo.x,So.x,Dn.x,uo.x),t.y=Mi(Fo.y,So.y,Dn.y,uo.y);var u=Ur(Fo.x,So.x,Dn.x,uo.x),f=Ur(Fo.y,So.y,Dn.y,uo.y);t.width=u-t.x,t.height=f-t.y}else t!==e&&n.copy(t,e)},n}(),Wc="silent";function Mg(){ae(this.event)}var Tg=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return Oe(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(h),Ds=function(n,t){this.x=n,this.y=t},Cr=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],gc=new lr(0,0,0,0),Sl=function(n){function t(e,i,r,o,a){var l=n.call(this)||this;return l._hovered=new Ds(0,0),l.storage=e,l.painter=i,l.painterRoot=o,l._pointerSize=a,r=r||new Tg,l.proxy=null,l.setHandlerProxy(r),l._draggingMgr=new We(l),l}return Oe(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(pe(Cr,function(i){e.on&&e.on(i,this[i],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var i=e.zrX,r=e.zrY,o=ja(this,i,r),a=this._hovered,l=a.target;l&&!l.__zr&&(l=(a=this.findHover(a.x,a.y)).target);var u=this._hovered=o?new Ds(i,r):this.findHover(i,r),f=u.target,g=this.proxy;g.setCursor&&g.setCursor(f?f.cursor:"default"),l&&f!==l&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(u,"mousemove",e),f&&f!==l&&this.dispatchToElement(u,"mouseover",e)},t.prototype.mouseout=function(e){var i=e.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Ds(0,0)},t.prototype.dispatch=function(e,i){var r=this[e];r&&r.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},t.prototype.dispatchToElement=function(e,i,r){var f,g,o=(e=e||{}).target;if(!o||!o.silent){for(var a="on"+i,l={type:i,event:g=r,target:(f=e).target,topTarget:f.topTarget,cancelBubble:!1,offsetX:g.zrX,offsetY:g.zrY,gestureEvent:g.gestureEvent,pinchX:g.pinchX,pinchY:g.pinchY,pinchScale:g.pinchScale,wheelDelta:g.zrDelta,zrByTouch:g.zrByTouch,which:g.which,stop:Mg};o&&(o[a]&&(l.cancelBubble=!!o[a].call(o,l)),o.trigger(i,l),o=o.__hostTarget?o.__hostTarget:o.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(i,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){"function"==typeof u[a]&&u[a].call(u,l),u.trigger&&u.trigger(i,l)}))}},t.prototype.findHover=function(e,i,r){var o=this.storage.getDisplayList(),a=new Ds(e,i);if(ys(o,a,e,i,r),this._pointerSize&&!a.target){for(var l=[],u=this._pointerSize,f=u/2,g=new lr(e-f,i-f,u,u),y=o.length-1;y>=0;y--){var w=o[y];w===r||w.ignore||w.ignoreCoarsePointer||w.parent&&w.parent.ignoreCoarsePointer||(gc.copy(w.getBoundingRect()),w.transform&&gc.applyTransform(w.transform),gc.intersect(g)&&l.push(w))}if(l.length)for(var C=Math.PI/12,M=2*Math.PI,O=0;O<f;O+=4)for(var L=0;L<M;L+=C)if(ys(l,a,e+O*Math.cos(L),i+O*Math.sin(L),r),a.target)return a}return a},t.prototype.processGesture=function(e,i){this._gestureMgr||(this._gestureMgr=new Ue);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var a=o.type;e.gestureEvent=a;var l=new Ds;l.target=o.target,this.dispatchToElement(l,a,o.event)}},t}(h);function mc(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(t,e))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||Wc}return!1}function ys(n,t,e,i,r){for(var o=n.length-1;o>=0;o--){var a=n[o],l=void 0;if(a!==r&&!a.ignore&&(l=mc(a,e,i))&&(!t.topTarget&&(t.topTarget=a),l!==Wc)){t.target=a;break}}}function ja(n,t,e){var i=n.painter;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}function rd(n,t,e,i){var r=t+1;if(r===e)return 1;if(i(n[r++],n[t])<0){for(;r<e&&i(n[r],n[r-1])<0;)r++;!function(o,a,l){for(l--;a<l;){var u=o[a];o[a++]=o[l],o[l--]=u}}(n,t,r)}else for(;r<e&&i(n[r],n[r-1])>=0;)r++;return r-t}function od(n,t,e,i,r){for(i===t&&i++;i<e;i++){for(var o,a=n[i],l=t,u=i;l<u;)r(a,n[o=l+u>>>1])<0?u=o:l=o+1;var f=i-l;switch(f){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;f>0;)n[l+f]=n[l+f-1],f--}n[l]=a}}function jc(n,t,e,i,r,o){var a=0,l=0,u=1;if(o(n,t[e+r])>0){for(l=i-r;u<l&&o(n,t[e+r+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),a+=r,u+=r}else{for(l=r+1;u<l&&o(n,t[e+r-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=a;a=r-u,u=r-f}for(a++;a<u;){var g=a+(u-a>>>1);o(n,t[e+g])>0?a=g+1:u=g}return u}function ad(n,t,e,i,r,o){var a=0,l=0,u=1;if(o(n,t[e+r])<0){for(l=r+1;u<l&&o(n,t[e+r-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=a;a=r-u,u=r-f}else{for(l=i-r;u<l&&o(n,t[e+r+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),a+=r,u+=r}for(a++;a<u;){var g=a+(u-a>>>1);o(n,t[e+g])<0?u=g:a=g+1}return u}function bs(n,t,e,i){e||(e=0),i||(i=n.length);var r=i-e;if(!(r<2)){var o=0;if(r<32)od(n,e,i,e+(o=rd(n,e,i,t)),t);else{var a=function Ho(n,t){var e,i,r=7,o=0,a=[];function l(u){var f=e[u],g=i[u],y=e[u+1],w=i[u+1];i[u]=g+w,u===o-3&&(e[u+1]=e[u+2],i[u+1]=i[u+2]),o--;var C=ad(n[y],n,f,g,0,t);f+=C,0!=(g-=C)&&0!==(w=jc(n[f+g-1],n,y,w,w-1,t))&&(g<=w?function(M,O,L,R){var F=0;for(F=0;F<O;F++)a[F]=n[M+F];var Y=0,q=L,Z=M;if(n[Z++]=n[q++],0!=--R)if(1!==O){for(var Q,ne,oe,_e=r;;){Q=0,ne=0,oe=!1;do{if(t(n[q],a[Y])<0){if(n[Z++]=n[q++],ne++,Q=0,0==--R){oe=!0;break}}else if(n[Z++]=a[Y++],Q++,ne=0,1==--O){oe=!0;break}}while((Q|ne)<_e);if(oe)break;do{if(0!==(Q=ad(n[q],a,Y,O,0,t))){for(F=0;F<Q;F++)n[Z+F]=a[Y+F];if(Z+=Q,Y+=Q,(O-=Q)<=1){oe=!0;break}}if(n[Z++]=n[q++],0==--R){oe=!0;break}if(0!==(ne=jc(a[Y],n,q,R,0,t))){for(F=0;F<ne;F++)n[Z+F]=n[q+F];if(Z+=ne,q+=ne,0==(R-=ne)){oe=!0;break}}if(n[Z++]=a[Y++],1==--O){oe=!0;break}_e--}while(Q>=7||ne>=7);if(oe)break;_e<0&&(_e=0),_e+=2}if((r=_e)<1&&(r=1),1===O){for(F=0;F<R;F++)n[Z+F]=n[q+F];n[Z+R]=a[Y]}else{if(0===O)throw new Error;for(F=0;F<O;F++)n[Z+F]=a[Y+F]}}else{for(F=0;F<R;F++)n[Z+F]=n[q+F];n[Z+R]=a[Y]}else for(F=0;F<O;F++)n[Z+F]=a[Y+F]}(f,g,y,w):function(M,O,L,R){var F=0;for(F=0;F<R;F++)a[F]=n[L+F];var Y=M+O-1,q=R-1,Z=L+R-1,Q=0,ne=0;if(n[Z--]=n[Y--],0!=--O)if(1!==R){for(var oe=r;;){var _e=0,ke=0,Ee=!1;do{if(t(a[q],n[Y])<0){if(n[Z--]=n[Y--],_e++,ke=0,0==--O){Ee=!0;break}}else if(n[Z--]=a[q--],ke++,_e=0,1==--R){Ee=!0;break}}while((_e|ke)<oe);if(Ee)break;do{if(0!=(_e=O-ad(a[q],n,M,O,O-1,t))){for(O-=_e,ne=1+(Z-=_e),Q=1+(Y-=_e),F=_e-1;F>=0;F--)n[ne+F]=n[Q+F];if(0===O){Ee=!0;break}}if(n[Z--]=a[q--],1==--R){Ee=!0;break}if(0!=(ke=R-jc(n[Y],a,0,R,R-1,t))){for(R-=ke,ne=1+(Z-=ke),Q=1+(q-=ke),F=0;F<ke;F++)n[ne+F]=a[Q+F];if(R<=1){Ee=!0;break}}if(n[Z--]=n[Y--],0==--O){Ee=!0;break}oe--}while(_e>=7||ke>=7);if(Ee)break;oe<0&&(oe=0),oe+=2}if((r=oe)<1&&(r=1),1===R){for(ne=1+(Z-=O),Q=1+(Y-=O),F=O-1;F>=0;F--)n[ne+F]=n[Q+F];n[Z]=a[q]}else{if(0===R)throw new Error;for(Q=Z-(R-1),F=0;F<R;F++)n[Q+F]=a[F]}}else{for(ne=1+(Z-=O),Q=1+(Y-=O),F=O-1;F>=0;F--)n[ne+F]=n[Q+F];n[Z]=a[q]}else for(Q=Z-(R-1),F=0;F<R;F++)n[Q+F]=a[F]}(f,g,y,w))}return e=[],i=[],{mergeRuns:function(){for(;o>1;){var u=o-2;if(u>=1&&i[u-1]<=i[u]+i[u+1]||u>=2&&i[u-2]<=i[u]+i[u-1])i[u-1]<i[u+1]&&u--;else if(i[u]>i[u+1])break;l(u)}},forceMergeRuns:function(){for(;o>1;){var u=o-2;u>0&&i[u-1]<i[u+1]&&u--,l(u)}},pushRun:function(u,f){e[o]=u,i[o]=f,o+=1}}}(n,t),l=function(f){for(var g=0;f>=32;)g|=1&f,f>>=1;return f+g}(r);do{if((o=rd(n,e,i,t))<l){var u=r;u>l&&(u=l),od(n,e,e+u,e+o,t),o=u}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(0!==r);a.forceMergeRuns()}}}pe(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){Sl.prototype[n]=function(t){var e,i,r=t.zrX,o=t.zrY,a=ja(this,r,o);if("mouseup"===n&&a||(i=(e=this.findHover(r,o)).target),"mousedown"===n)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||or(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,n,t)}});var Ya=!1;function Xs(){Ya||(Ya=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function qs(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var Sa=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=qs}return n.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,bs(i,qs)},n.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var l=t.childrenRef(),u=0;u<l.length;u++){var f=l[u];t.__dirty&&(f.__dirty|=1),this._updateAndAddDisplayable(f,e,i)}t.__dirty=0}else{var g=t;e&&e.length?g.__clipPaths=e:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(Xs(),g.z=0),isNaN(g.z2)&&(Xs(),g.z2=0),isNaN(g.zlevel)&&(Xs(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=t.getDecalElement&&t.getDecalElement();y&&this._updateAndAddDisplayable(y,e,i);var w=t.getTextGuideLine();w&&this._updateAndAddDisplayable(w,e,i);var C=t.getTextContent();C&&this._updateAndAddDisplayable(C,e,i)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var r=hn(this._roots,t);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Xl=Nt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},vc={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-vc.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*vc.bounceIn(2*n):.5*vc.bounceOut(2*n-1)+.5}},ql=Math.pow,Cl=Math.sqrt,Cu=1e-8,_h=1e-4,kl=Cl(3),wh=1/3,xs=zn(),Ca=zn(),Pa=zn();function is(n){return n>-1e-8&&n<Cu}function ra(n){return n>Cu||n<-1e-8}function Ko(n,t,e,i,r){var o=1-r;return o*o*(o*n+3*r*t)+r*r*(r*i+3*o*e)}function Yt(n,t,e,i,r){var o=1-r;return 3*(((t-n)*o+2*(e-t)*r)*o+(i-e)*r*r)}function Sh(n,t,e,i,r,o){var a=i+3*(t-e)-n,l=3*(e-2*t+n),u=3*(t-n),f=n-r,g=l*l-3*a*u,y=l*u-9*a*f,w=u*u-3*l*f,C=0;if(is(g)&&is(y))is(l)?o[0]=0:(oe=-u/l)>=0&&oe<=1&&(o[C++]=oe);else{var M=y*y-4*g*w;if(is(M)){var O=y/g,L=-O/2;(oe=-l/a+O)>=0&&oe<=1&&(o[C++]=oe),L>=0&&L<=1&&(o[C++]=L)}else if(M>0){var R=Cl(M),F=g*l+1.5*a*(-y+R),Y=g*l+1.5*a*(-y-R);(oe=(-l-((F=F<0?-ql(-F,wh):ql(F,wh))+(Y=Y<0?-ql(-Y,wh):ql(Y,wh))))/(3*a))>=0&&oe<=1&&(o[C++]=oe)}else{var q=(2*g*l-3*a*y)/(2*Cl(g*g*g)),Z=Math.acos(q)/3,Q=Cl(g),ne=Math.cos(Z),oe=(-l-2*Q*ne)/(3*a),_e=(L=(-l+Q*(ne+kl*Math.sin(Z)))/(3*a),(-l+Q*(ne-kl*Math.sin(Z)))/(3*a));oe>=0&&oe<=1&&(o[C++]=oe),L>=0&&L<=1&&(o[C++]=L),_e>=0&&_e<=1&&(o[C++]=_e)}}return C}function Kd(n,t,e,i,r){var o=6*e-12*t+6*n,a=9*t+3*i-3*n-9*e,l=3*t-3*n,u=0;if(is(a))ra(o)&&(g=-l/o)>=0&&g<=1&&(r[u++]=g);else{var f=o*o-4*a*l;if(is(f))r[0]=-o/(2*a);else if(f>0){var g,y=Cl(f),w=(-o-y)/(2*a);(g=(-o+y)/(2*a))>=0&&g<=1&&(r[u++]=g),w>=0&&w<=1&&(r[u++]=w)}}return u}function Vo(n,t,e,i,r,o){var a=(t-n)*r+n,l=(e-t)*r+t,u=(i-e)*r+e,f=(l-a)*r+a,g=(u-l)*r+l,y=(g-f)*r+f;o[0]=n,o[1]=a,o[2]=f,o[3]=y,o[4]=y,o[5]=g,o[6]=u,o[7]=i}function ku(n,t,e,i,r,o,a,l,u,f,g){var y,w,C,M,O,L=.005,R=1/0;xs[0]=u,xs[1]=f;for(var F=0;F<1;F+=.05)Ca[0]=Ko(n,e,r,a,F),Ca[1]=Ko(t,i,o,l,F),(M=Yr(xs,Ca))<R&&(y=F,R=M);R=1/0;for(var Y=0;Y<32&&!(L<_h);Y++)C=y+L,Ca[0]=Ko(n,e,r,a,w=y-L),Ca[1]=Ko(t,i,o,l,w),M=Yr(Ca,xs),w>=0&&M<R?(y=w,R=M):(Pa[0]=Ko(n,e,r,a,C),Pa[1]=Ko(t,i,o,l,C),O=Yr(Pa,xs),C<=1&&O<R?(y=C,R=O):L*=.5);return g&&(g[0]=Ko(n,e,r,a,y),g[1]=Ko(t,i,o,l,y)),Cl(R)}function Br(n,t,e,i,r,o,a,l,u){for(var f=n,g=t,y=0,w=1/u,C=1;C<=u;C++){var M=C*w,O=Ko(n,e,r,a,M),L=Ko(t,i,o,l,M),R=O-f,F=L-g;y+=Math.sqrt(R*R+F*F),f=O,g=L}return y}function $r(n,t,e,i){var r=1-i;return r*(r*n+2*i*t)+i*i*e}function oa(n,t,e,i){return 2*((1-i)*(t-n)+i*(e-t))}function _s(n,t,e){var i=n+e-2*t;return 0===i?.5:(n-t)/i}function Ul(n,t,e,i,r){var o=(t-n)*i+n,a=(e-t)*i+t,l=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=l,r[3]=l,r[4]=a,r[5]=e}function ba(n,t,e,i,r,o,a,l,u){var f,g=.005,y=1/0;xs[0]=a,xs[1]=l;for(var w=0;w<1;w+=.05)Ca[0]=$r(n,e,r,w),Ca[1]=$r(t,i,o,w),(L=Yr(xs,Ca))<y&&(f=w,y=L);y=1/0;for(var C=0;C<32&&!(g<_h);C++){var M=f-g,O=f+g;Ca[0]=$r(n,e,r,M),Ca[1]=$r(t,i,o,M);var L=Yr(Ca,xs);if(M>=0&&L<y)f=M,y=L;else{Pa[0]=$r(n,e,r,O),Pa[1]=$r(t,i,o,O);var R=Yr(Pa,xs);O<=1&&R<y?(f=O,y=R):g*=.5}}return u&&(u[0]=$r(n,e,r,f),u[1]=$r(t,i,o,f)),Cl(y)}function Al(n,t,e,i,r,o,a){for(var l=n,u=t,f=0,g=1/a,y=1;y<=a;y++){var w=y*g,C=$r(n,e,r,w),M=$r(t,i,o,w),O=C-l,L=M-u;f+=Math.sqrt(O*O+L*L),l=C,u=M}return f}var sd=/cubic-bezier\(([0-9,\.e ]+)\)/;function Ml(n){var t=n&&sd.exec(n);if(t){var e=t[1].split(","),i=+Jr(e[0]),r=+Jr(e[1]),o=+Jr(e[2]),a=+Jr(e[3]);if(isNaN(i+r+o+a))return;var l=[];return function(u){return u<=0?0:u>=1?1:Sh(0,i,o,1,u,l)&&Ko(0,r,a,1,l[0])}}}var Tl=function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||At,this.ondestroy=t.ondestroy||At,this.onrestart=t.onrestart||At,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var i=this._life,r=t-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,l=a?a(o):o;if(this.onframe(l),1===o){if(!this.loop)return!0;this._startTime=t-r%i,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Ht(t)?t:vc[t]||Ml(t)},n}(),$l=function(n){this.value=n},Qd=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new $l(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Po=function(){function n(t){this._list=new Qd,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var i=this._list,r=this._map,o=null;if(null==r[t]){var a=i.len(),l=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var u=i.head;i.remove(u),delete r[u.key],o=u.value,this._lastRemovedEntry=u}l?l.value=e:l=new $l(e),l.key=t,i.insertEntry(l),r[t]=l}return o},n.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),Yc={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ls(n){return(n=Math.round(n))<0?0:n>255?255:n}function Gc(n){return n<0?0:n>1?1:n}function ld(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Ls(parseFloat(t)/100*255):Ls(parseInt(t,10))}function yc(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Gc(parseFloat(t)/100):Gc(parseFloat(t))}function Jd(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function ol(n,t,e){return n+(t-n)*e}function xa(n,t,e,i,r){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function ws(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var cd=new Po(20),Au=null;function Xc(n,t){Au&&ws(Au,t),Au=cd.put(n,Au||t.slice())}function _a(n,t){if(n){t=t||[];var e=cd.get(n);if(e)return ws(t,e);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in Yc)return ws(t,Yc[i]),Xc(n,t),t;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(xa(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),Xc(n,t),t):void xa(t,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(xa(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),Xc(n,t),t):void xa(t,0,0,0,1):void 0;var a=i.indexOf("("),l=i.indexOf(")");if(-1!==a&&l+1===o){var u=i.substr(0,a),f=i.substr(a+1,l-(a+1)).split(","),g=1;switch(u){case"rgba":if(4!==f.length)return 3===f.length?xa(t,+f[0],+f[1],+f[2],1):xa(t,0,0,0,1);g=yc(f.pop());case"rgb":return f.length>=3?(xa(t,ld(f[0]),ld(f[1]),ld(f[2]),3===f.length?g:yc(f[3])),Xc(n,t),t):void xa(t,0,0,0,1);case"hsla":return 4!==f.length?void xa(t,0,0,0,1):(f[3]=yc(f[3]),qc(f,t),Xc(n,t),t);case"hsl":return 3!==f.length?void xa(t,0,0,0,1):(qc(f,t),Xc(n,t),t);default:return}}xa(t,0,0,0,1)}}function qc(n,t){var e=(parseFloat(n[0])%360+360)%360/360,i=yc(n[1]),r=yc(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return xa(t=t||[],Ls(255*Jd(a,o,e+1/3)),Ls(255*Jd(a,o,e)),Ls(255*Jd(a,o,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function Ps(n,t){var e=_a(n);if(e){for(var i=0;i<3;i++)e[i]=t<0?e[i]*(1-t)|0:(255-e[i])*t+e[i]|0,e[i]>255?e[i]=255:e[i]<0&&(e[i]=0);return rs(e,4===e.length?"rgba":"rgb")}}function Na(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],l=t[o],u=i-r;return e[0]=Ls(ol(a[0],l[0],u)),e[1]=Ls(ol(a[1],l[1],u)),e[2]=Ls(ol(a[2],l[2],u)),e[3]=Gc(ol(a[3],l[3],u)),e}}function Uc(n,t,e){if(t&&t.length&&n>=0&&n<=1){var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=_a(t[r]),l=_a(t[o]),u=i-r,f=rs([Ls(ol(a[0],l[0],u)),Ls(ol(a[1],l[1],u)),Ls(ol(a[2],l[2],u)),Gc(ol(a[3],l[3],u))],"rgba");return e?{color:f,leftIndex:r,rightIndex:o,value:i}:f}}function al(n,t,e,i){var o,r=_a(n);if(n)return r=function(o){if(o){var a,l,u=o[0]/255,f=o[1]/255,g=o[2]/255,y=Math.min(u,f,g),w=Math.max(u,f,g),C=w-y,M=(w+y)/2;if(0===C)a=0,l=0;else{l=M<.5?C/(w+y):C/(2-w-y);var O=((w-u)/6+C/2)/C,L=((w-f)/6+C/2)/C,R=((w-g)/6+C/2)/C;u===w?a=R-L:f===w?a=1/3+O-R:g===w&&(a=2/3+L-O),a<0&&(a+=1),a>1&&(a-=1)}var F=[360*a,l,M];return null!=o[3]&&F.push(o[3]),F}}(r),null!=t&&(r[0]=(o=t,(o=Math.round(o))<0?0:o>360?360:o)),null!=e&&(r[1]=yc(e)),null!=i&&(r[2]=yc(i)),rs(qc(r),"rgba")}function El(n,t){var e=_a(n);if(e&&null!=t)return e[3]=Gc(t),rs(e,"rgba")}function rs(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(e+=","+n[3]),t+"("+e+")"}}function Us(n,t){var e=_a(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var ep=Object.freeze({__proto__:null,parse:_a,lift:Ps,toHex:function(n){var t=_a(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},fastLerp:Na,fastMapToColor:Na,lerp:Uc,mapToColor:Uc,modifyHSL:al,modifyAlpha:El,stringify:rs,lum:Us,random:function(){return rs([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}),Qo=Math.round;function Il(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=_a(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:t??1}}var $s=1e-4;function aa(n){return n<$s&&n>-1e-4}function Tu(n){return Qo(1e3*n)/1e3}function Ch(n){return Qo(1e4*n)/1e4}var tp={left:"start",right:"end",center:"middle",middle:"middle"};function Ga(n){return n&&!!n.image}function Ns(n){return Ga(n)||(t=n)&&!!t.svgElement;var t}function np(n){return"linear"===n.type}function qo(n){return"radial"===n.type}function Eu(n){return n&&("linear"===n.type||"radial"===n.type)}function Ol(n){return"url(#"+n+")"}function $c(n){var t=n.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function yo(n){var t=n.x||0,e=n.y||0,i=(n.rotation||0)*Ft,r=yi(n.scaleX,1),o=yi(n.scaleY,1),a=n.skewX||0,l=n.skewY||0,u=[];return(t||e)&&u.push("translate("+t+"px,"+e+"px)"),i&&u.push("rotate("+i+")"),1===r&&1===o||u.push("scale("+r+","+o+")"),(a||l)&&u.push("skew("+Qo(a*Ft)+"deg, "+Qo(l*Ft)+"deg)"),u.join(" ")}var sl=Nt.hasGlobalWindow&&Ht(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},Iu=Array.prototype.slice;function Dl(n,t,e){return(t-n)*e+n}function Ou(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=Dl(t[o],e[o],i);return n}function Ll(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=t[o]+e[o]*i;return n}function Pl(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var l=0;l<o;l++)n[a][l]=t[a][l]+e[a][l]*i}return n}function nf(n,t){for(var e=n.length,i=t.length,r=e>i?t:n,o=Math.min(e,i),a=r[o-1]||{color:[0,0,0,0],offset:0},l=o;l<Math.max(e,i);l++)r.push({offset:a.offset,color:a.color.slice()})}function Du(n,t,e){var i=n,r=t;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var l=o;l<a;l++)i.push(1===e?r[l]:Iu.call(r[l]));var u=i[0]&&i[0].length;for(l=0;l<i.length;l++)if(1===e)isNaN(i[l])&&(i[l]=r[l]);else for(var f=0;f<u;f++)isNaN(i[l][f])&&(i[l][f]=r[l][f])}}function Nl(n){if(Vt(n)){var t=n.length;if(Vt(n[0])){for(var e=[],i=0;i<t;i++)e.push(Iu.call(n[i]));return e}return Iu.call(n)}return n}function Zc(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}function kh(n){return 4===n||5===n}function Lu(n){return 1===n||2===n}var Pu=[0,0,0,0],Ig=function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,i){this._needsSort=!0;var C,r=this.keyframes,o=r.length,a=!1,l=6,u=e;if(Vt(e)){var f=Vt((C=e)&&C[0])?2:1;l=f,(1===f&&!En(e[0])||2===f&&!En(e[0][0]))&&(a=!0)}else if(En(e)&&!ai(e))l=0;else if(On(e))if(isNaN(+e)){var g=_a(e);g&&(u=g,l=3)}else l=0;else if(Gn(e)){var y=_t({},u);y.colorStops=ue(e.colorStops,function(C){return{offset:C.offset,color:_a(C.color)}}),np(e)?l=4:qo(e)&&(l=5),u=y}0===o?this.valType=l:l===this.valType&&6!==l||(a=!0),this.discrete=this.discrete||a;var w={time:t,value:u,rawValue:e,percent:0};return i&&(w.easing=i,w.easingFunc=Ht(i)?i:vc[i]||Ml(i)),r.push(w),w},n.prototype.prepare=function(t,e){var i=this.keyframes;this._needsSort&&i.sort(function(O,L){return O.time-L.time});for(var r=this.valType,o=i.length,a=i[o-1],l=this.discrete,u=Lu(r),f=kh(r),g=0;g<o;g++){var y=i[g],w=y.value,C=a.value;y.percent=y.time/t,l||(u&&g!==o-1?Du(w,C,r):f&&nf(w.colorStops,C.colorStops))}if(!l&&5!==r&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;var M=i[0].value;for(g=0;g<o;g++)0===r?i[g].additiveValue=i[g].value-M:3===r?i[g].additiveValue=Ll([],i[g].value,M,-1):Lu(r)&&(i[g].additiveValue=1===r?Ll([],i[g].value,M,-1):Pl([],i[g].value,M,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r,o,a=null!=this._additiveTrack,l=a?"additiveValue":"value",u=this.valType,f=this.keyframes,g=f.length,y=this.propName,w=3===u,C=this._lastFr,M=Math.min;if(1===g)r=o=f[0];else{if(e<0)i=0;else if(e<this._lastFrP){for(i=M(C+1,g-1);i>=0&&!(f[i].percent<=e);i--);i=M(i,g-2)}else{for(i=C;i<g&&!(f[i].percent>e);i++);i=M(i-1,g-2)}o=f[i+1],r=f[i]}if(r&&o){this._lastFr=i,this._lastFrP=e;var O=o.percent-r.percent,L=0===O?1:M((e-r.percent)/O,1);o.easingFunc&&(L=o.easingFunc(L));var R=a?this._additiveValue:w?Pu:t[y];if(!Lu(u)&&!w||R||(R=this._additiveValue=[]),this.discrete)t[y]=L<1?r.rawValue:o.rawValue;else if(Lu(u))1===u?Ou(R,r[l],o[l],L):function(Q,ne,oe,_e){for(var ke=ne.length,Ee=ke&&ne[0].length,Re=0;Re<ke;Re++){Q[Re]||(Q[Re]=[]);for(var Je=0;Je<Ee;Je++)Q[Re][Je]=Dl(ne[Re][Je],oe[Re][Je],_e)}}(R,r[l],o[l],L);else if(kh(u)){var F=r[l],Y=o[l],q=4===u;t[y]={type:q?"linear":"radial",x:Dl(F.x,Y.x,L),y:Dl(F.y,Y.y,L),colorStops:ue(F.colorStops,function(Q,ne){var oe=Y.colorStops[ne];return{offset:Dl(Q.offset,oe.offset,L),color:Zc(Ou([],Q.color,oe.color,L))}}),global:Y.global},q?(t[y].x2=Dl(F.x2,Y.x2,L),t[y].y2=Dl(F.y2,Y.y2,L)):t[y].r=Dl(F.r,Y.r,L)}else if(w)Ou(R,r[l],o[l],L),a||(t[y]=Zc(R));else{var Z=Dl(r[l],o[l],L);a?this._additiveValue=Z:t[y]=Z}a&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,i=this.propName,r=this._additiveValue;0===e?t[i]=t[i]+r:3===e?(_a(t[i],Pu),Ll(Pu,Pu,r,1),t[i]=Zc(Pu)):1===e?Ll(t[i],t[i],r,1):2===e&&Pl(t[i],t[i],r,1)},n}(),ud=function(){function n(t,e,i,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?$e("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,i){return this.whenWithKeys(t,e,Zt(e),i)},n.prototype.whenWithKeys=function(t,e,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var l=i[a],u=o[l];if(!u){u=o[l]=new Ig(l);var f=void 0,g=this._getAdditiveTrack(l);if(g){var y=g.keyframes,w=y[y.length-1];f=w&&w.value,3===g.valType&&f&&(f=Zc(f))}else f=this._target[l];if(null==f)continue;t>0&&u.addKeyframe(0,Nl(f),r),this._trackKeys.push(l)}u.addKeyframe(t,Nl(e[l]),r)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(t);o&&(e=o)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],l=this._tracks[a],u=this._getAdditiveTrack(a),f=l.keyframes,g=f.length;if(l.prepare(r,u),l.needsAnimate())if(!this._allowDiscrete&&l.discrete){var y=f[g-1];y&&(e._target[l.propName]=y.rawValue),l.setFinished()}else i.push(l)}if(i.length||this._force){var w=new Tl({life:r,loop:this._loop,delay:this._delay||0,onframe:function(C){e._started=2;var M=e._additiveAnimators;if(M){for(var O=!1,L=0;L<M.length;L++)if(M[L]._clip){O=!0;break}O||(e._additiveAnimators=null)}for(L=0;L<i.length;L++)i[L].step(e._target,C);var R=e._onframeCbs;if(R)for(L=0;L<R.length;L++)R[L](e._target,C)},ondestroy:function(){e._doneCallback()}});this._clip=w,this.animation&&this.animation.addClip(w),t&&w.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return ue(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=i[t[o]];a&&!a.isFinished()&&(e?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var l=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},n.prototype.saveTo=function(t,e,i){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var o=e[r],a=this._tracks[o];if(a&&!a.isFinished()){var l=a.keyframes,u=l[i?0:l.length-1];u&&(t[o]=Nl(u.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||Zt(t);for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var l=a.pop();o.addKeyframe(l.time,t[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();function bc(){return(new Date).getTime()}var ga,Nu,Jo=function(n){function t(e){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(e=e||{}).stage||{},i}return Oe(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var i=e.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(e){if(e.animation){var i=e.prev,r=e.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var i=e.getClip();i&&this.removeClip(i),e.animation=null},t.prototype.update=function(e){for(var i=bc()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next;o.step(i,r)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,e||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,Xl(function i(){e._running&&(Xl(i),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=bc(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=bc(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=bc()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var i=e.next;e.prev=e.next=e.animation=null,e=i}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,i){i=i||{},this.start();var r=new ud(e,i.loop);return this.addAnimator(r),r},t}(h),Zl=Nt.domSupported,Rs=(Nu={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:ga=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:ue(ga,function(n){var t=n.replace("mouse","pointer");return Nu.hasOwnProperty(t)?t:n})}),pi=["mousemove","mouseup"],Xa=["pointermove","pointerup"],Kl=!1;function Bs(n){var t=n.pointerType;return"pen"===t||"touch"===t}function Ru(n){n&&(n.zrByTouch=!0)}function ip(n,t){for(var e=t,i=!1;e&&9!==e.nodeType&&!(i=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return i}var Bu=function(n,t){this.stopPropagation=At,this.stopImmediatePropagation=At,this.preventDefault=At,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},sa={mousedown:function(n){n=vt(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=vt(this.dom,n);var t=this.__mayPointerCapture;!t||n.zrX===t[0]&&n.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=vt(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){ip(this,(n=vt(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){Kl=!0,n=vt(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){Kl||(n=vt(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){Ru(n=vt(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),sa.mousemove.call(this,n),sa.mousedown.call(this,n)},touchmove:function(n){Ru(n=vt(this.dom,n)),this.handler.processGesture(n,"change"),sa.mousemove.call(this,n)},touchend:function(n){Ru(n=vt(this.dom,n)),this.handler.processGesture(n,"end"),sa.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&sa.click.call(this,n)},pointerdown:function(n){sa.mousedown.call(this,n)},pointermove:function(n){Bs(n)||sa.mousemove.call(this,n)},pointerup:function(n){sa.mouseup.call(this,n)},pointerout:function(n){Bs(n)||sa.mouseout.call(this,n)}};pe(["click","dblclick","contextmenu"],function(n){sa[n]=function(t){t=vt(this.dom,t),this.trigger(n,t)}});var hd={pointermove:function(n){Bs(n)||hd.mousemove.call(this,n)},pointerup:function(n){hd.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function xc(n,t,e,i){n.mounted[t]=e,n.listenerOpts[t]=i,W(n.domTarget,t,e,i)}function Ah(n){var o=n.mounted;for(var a in o)o.hasOwnProperty(a)&&n.domTarget.removeEventListener(a,o[a],n.listenerOpts[a]);n.mounted={}}var ka=function(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},Mh=function(n){function t(e,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=i,r._localHandlerScope=new ka(e,sa),Zl&&(r._globalHandlerScope=new ka(document,hd)),function rf(n,t){var e=t.domHandlers;Nt.pointerEventsSupported?pe(Rs.pointer,function(i){xc(t,i,function(r){e[i].call(n,r)})}):(Nt.touchEventsSupported&&pe(Rs.touch,function(i){xc(t,i,function(r){var o;e[i].call(n,r),(o=t).touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)})}),pe(Rs.mouse,function(i){xc(t,i,function(r){r=tt(r),t.touching||e[i].call(n,r)})}))}(r,r._localHandlerScope),r}return Oe(t,n),t.prototype.dispose=function(){Ah(this._localHandlerScope),Zl&&Ah(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,Zl&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var i=this._globalHandlerScope;e?function Rn(n,t){function e(i){xc(t,i,function(r){var o;r=tt(r),ip(n,r.target)||(r=vt((o=n).dom,new Bu(o,r),!0),t.domHandlers[i].call(n,r))},{capture:!0})}Nt.pointerEventsSupported?pe(Xa,e):Nt.touchEventsSupported||pe(pi,e)}(this,i):Ah(i)}},t}(h),Kc=1;Nt.hasGlobalWindow&&(Kc=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Co=Kc,Th="#333",Ss="#ccc",fo=qt,Rl=5e-5;function zu(n){return n>Rl||n<-5e-5}var qa=[],Ql=[],Qc=[1,0,0,1,0,0],rp=Math.abs,Ua=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return zu(this.rotation)||zu(this.x)||zu(this.y)||zu(this.scaleX-1)||zu(this.scaleY-1)||zu(this.skewX)||zu(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;e||t?(i=i||[1,0,0,1,0,0],e?this.getLocalTransform(i):fo(i),t&&(e?Mn(i,t,i):Sn(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&(fo(i),this.invTransform=null)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(qa);var i=qa[0]<0?-1:1,r=qa[1]<0?-1:1,o=((qa[0]-i)*e+i)/qa[0]||0,a=((qa[1]-r)*e+r)/qa[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],Bi(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Mn(Ql,t.invTransform,e),e=Ql);var i=this.originX,r=this.originY;(i||r)&&(Qc[4]=i,Qc[5]=r,Mn(Ql,e,Qc),Ql[4]-=i,Ql[5]-=r,e=Ql),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&Fn(i,i,r),i},n.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&Fn(i,i,r),i},n.prototype.getLineScale=function(){var t=this.transform;return t&&rp(t[0]-1)>1e-10&&rp(t[3]-1)>1e-10?Math.sqrt(rp(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){_c(this,t)},n.getLocalTransform=function(t,e){e=e||[];var i=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,l=t.anchorX,u=t.anchorY,f=t.rotation||0,g=t.x,y=t.y,w=t.skewX?Math.tan(t.skewX):0,C=t.skewY?Math.tan(-t.skewY):0;if(i||r||l||u){var M=i+l,O=r+u;e[4]=-M*o-w*O*a,e[5]=-O*a-C*M*o}else e[4]=e[5]=0;return e[0]=o,e[3]=a,e[1]=C*o,e[2]=w*a,f&&gi(e,e,f),e[4]+=i+g,e[5]+=r+y,e},n.initDefaultProps=((t=n.prototype).scaleX=t.scaleY=t.globalScaleRatio=1,void(t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0)),n;var t}(),go=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function _c(n,t){for(var e=0;e<go.length;e++){var i=go[e];n[i]=t[i]}}var Fu={};function $a(n,t){var e=Fu[t=t||gt];e||(e=Fu[t]=new Po(500));var i=e.get(n);return null==i&&(i=ge.measureText(n,t).width,e.put(n,i)),i}function of(n,t,e,i){var r=$a(n,t),o=ul(t),a=ll(0,r,e),l=cl(0,o,i);return new lr(a,l,r,o)}function Bl(n,t,e,i){var r=((n||"")+"").split("\n");if(1===r.length)return of(r[0],t,e,i);for(var o=new lr(0,0,0,0),a=0;a<r.length;a++){var l=of(r[a],t,e,i);0===a?o.copy(l):o.union(l)}return o}function ll(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function cl(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function ul(n){return $a("\u56fd",n)}function os(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function Vu(n,t,e){var i=t.position||"inside",r=null!=t.distance?t.distance:5,o=e.height,a=e.width,l=o/2,u=e.x,f=e.y,g="left",y="top";if(i instanceof Array)u+=os(i[0],e.width),f+=os(i[1],e.height),g=null,y=null;else switch(i){case"left":u-=r,f+=l,g="right",y="middle";break;case"right":u+=r+a,f+=l,y="middle";break;case"top":u+=a/2,f-=r,g="center",y="bottom";break;case"bottom":u+=a/2,f+=o+r,g="center";break;case"inside":u+=a/2,f+=l,g="center",y="middle";break;case"insideLeft":u+=r,f+=l,y="middle";break;case"insideRight":u+=a-r,f+=l,g="right",y="middle";break;case"insideTop":u+=a/2,f+=r,g="center";break;case"insideBottom":u+=a/2,f+=o-r,g="center",y="bottom";break;case"insideTopLeft":u+=r,f+=r;break;case"insideTopRight":u+=a-r,f+=r,g="right";break;case"insideBottomLeft":u+=r,f+=o-r,y="bottom";break;case"insideBottomRight":u+=a-r,f+=o-r,g="right",y="bottom"}return(n=n||{}).x=u,n.y=f,n.align=g,n.verticalAlign=y,n}var Jc="__zr_normal__",Eh=go.concat(["ignore"]),eu=ln(go,function(n,t){return n[t]=!0,n},{ignore:!1}),bo={},ma=new lr(0,0,0,0),Zs=function(){function n(t){this.id=lt(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=e.innerTransformable,a=void 0,l=void 0,u=!1;o.parent=r?this:null;var f=!1;if(o.copyTransform(e),null!=i.position){var g=ma;g.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(bo,i,g):Vu(bo,i,g),o.x=bo.x,o.y=bo.y,a=bo.align,l=bo.verticalAlign;var y=i.origin;if(y&&null!=i.rotation){var w=void 0,C=void 0;"center"===y?(w=.5*g.width,C=.5*g.height):(w=os(y[0],g.width),C=os(y[1],g.height)),f=!0,o.originX=-o.x+w+(r?0:g.x),o.originY=-o.y+C+(r?0:g.y)}}null!=i.rotation&&(o.rotation=i.rotation);var M=i.offset;M&&(o.x+=M[0],o.y+=M[1],f||(o.originX=-M[0],o.originY=-M[1]));var O=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,L=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),R=void 0,F=void 0,Y=void 0;O&&this.canBeInsideText()?(F=i.insideStroke,null!=(R=i.insideFill)&&"auto"!==R||(R=this.getInsideTextFill()),null!=F&&"auto"!==F||(F=this.getInsideTextStroke(R),Y=!0)):(F=i.outsideStroke,null!=(R=i.outsideFill)&&"auto"!==R||(R=this.getOutsideFill()),null!=F&&"auto"!==F||(F=this.getOutsideStroke(R),Y=!0)),(R=R||"#000")===L.fill&&F===L.stroke&&Y===L.autoStroke&&a===L.align&&l===L.verticalAlign||(u=!0,L.fill=R,L.stroke=F,L.autoStroke=Y,L.align=a,L.verticalAlign=l,e.setDefaultTextStyle(L)),e.__dirty|=1,u&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Ss:Th},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof e&&_a(e);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,rs(i,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},_t(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(hi(t))for(var i=Zt(t),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,t[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==Jc)){var a=r.targetName;r.saveTo(a?e[a]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Eh)},n.prototype._savePrimaryToNormal=function(t,e,i){for(var r=0;r<i.length;r++){var o=i[r];null==t[o]||o in e||(e[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(Jc,!1,t)},n.prototype.useState=function(t,e,i,r){var o=t===Jc;if(this.hasState()||!o){var a=this.currentStates,l=this.stateTransition;if(!(hn(a,t)>=0)||!e&&1!==a.length){var u;if(this.stateProxy&&!o&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),u||o){o||this.saveCurrentToNormalState(u);var f=!!(u&&u.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,e,!i&&!this.__inHover&&l&&l.duration>0,l);var g=this._textContent,y=this._textGuide;return g&&g.useState(t,e,i,f),y&&y.useState(t,e,i,f),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}$e("State "+t+" not exists.")}}},n.prototype.useStates=function(t,e,i){if(t.length){var r=[],o=this.currentStates,a=t.length,l=a===o.length;if(l)for(var u=0;u<a;u++)if(t[u]!==o[u]){l=!1;break}if(l)return;for(u=0;u<a;u++){var f=t[u],g=void 0;this.stateProxy&&(g=this.stateProxy(f,t)),g||(g=this.states[f]),g&&r.push(g)}var y=r[a-1],w=!!(y&&y.hoverLayer||i);w&&this._toggleHoverLayerFlag(!0);var C=this._mergeStates(r),M=this.stateTransition;this.saveCurrentToNormalState(C),this._applyStateObj(t.join(","),C,this._normalState,!1,!e&&!this.__inHover&&M&&M.duration>0,M);var O=this._textContent,L=this._textGuide;O&&O.useStates(t,e,w),L&&L.useStates(t,e,w),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!w&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=hn(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},n.prototype.replaceState=function(t,e,i){var r=this.currentStates.slice(),o=hn(r,t),a=hn(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:i&&!a&&r.push(e),this.useStates(r)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e,i={},r=0;r<t.length;r++){var o=t[r];_t(i,o),o.textConfig&&_t(e=e||{},o.textConfig)}return e&&(i.textConfig=e),i},n.prototype._applyStateObj=function(t,e,i,r,o,a){var l=!(e&&r);e&&e.textConfig?(this.textConfig=_t({},r?this.textConfig:i.textConfig),_t(this.textConfig,e.textConfig)):l&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},f=!1,g=0;g<Eh.length;g++){var y=Eh[g],w=o&&eu[y];e&&null!=e[y]?w?(f=!0,u[y]=e[y]):this[y]=e[y]:l&&null!=i[y]&&(w?(f=!0,u[y]=i[y]):this[y]=i[y])}if(!o)for(g=0;g<this.animators.length;g++){var C=this.animators[g],M=C.targetName;C.getLoop()||C.__changeFinalValue(M?(e||i)[M]:e||i)}f&&this._transitionState(t,u,a)},n.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new Ua,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),_t(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,i){var o=new ud(t?this[t]:this,e,i);return t&&(o.targetName=t),this.addAnimator(o,t),o},n.prototype.addAnimator=function(t,e){var i=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=hn(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var l=i[a];t&&t!==l.scope?o.push(l):l.stop(e)}return this.animators=o,this},n.prototype.animateTo=function(t,e,i){Oa(this,t,e,i)},n.prototype.animateFrom=function(t,e,i){Oa(this,t,e,i,!0)},n.prototype._transitionState=function(t,e,i,r){for(var o=Oa(this,e,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;function e(i,r,o,a){function l(u,f){Object.defineProperty(f,0,{get:function(){return u[o]},set:function(g){u[o]=g}}),Object.defineProperty(f,1,{get:function(){return u[a]},set:function(g){u[a]=g}})}Object.defineProperty(t,i,{get:function(){return this[r]||l(this,this[r]=[]),this[r]},set:function(u){this[o]=u[0],this[a]=u[1],this[r]=u,l(this,u)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),n}();function Oa(n,t,e,i,r){var o=[];Jl(n,"",n,t,e=e||{},i,o,r);var a=o.length,l=!1,u=e.done,f=e.aborted,g=function(){l=!0,--a<=0&&(l?u&&u():f&&f())},y=function(){--a<=0&&(l?u&&u():f&&f())};a||u&&u(),o.length>0&&e.during&&o[0].during(function(M,O){e.during(O)});for(var w=0;w<o.length;w++){var C=o[w];g&&C.done(g),y&&C.aborted(y),e.force&&C.duration(e.duration),C.start(e.easing)}return o}function op(n,t,e){for(var i=0;i<e;i++)n[i]=t[i]}function Hu(n,t,e){if(Vt(t[e]))if(Vt(n[e])||(n[e]=[]),jr(t[e])){var i=t[e].length;n[e].length!==i&&(n[e]=new t[e].constructor(i),op(n[e],t[e],i))}else{var r=t[e],o=n[e],a=r.length;if(Vt(r[0]))for(var l=r[0].length,u=0;u<a;u++)o[u]?op(o[u],r[u],l):o[u]=Array.prototype.slice.call(r[u]);else op(o,r,a);o.length=r.length}else n[e]=t[e]}function Jl(n,t,e,i,r,o,a,l){for(var u=Zt(i),f=r.duration,g=r.delay,y=r.additive,w=r.setToFinal,C=!hi(o),M=n.animators,O=[],L=0;L<u.length;L++){var R=u[L],F=i[R];if(null!=F&&null!=e[R]&&(C||o[R]))if(!hi(F)||Vt(F)||Gn(F))O.push(R);else{if(t){l||(e[R]=F,n.updateDuringAnimation(t));continue}Jl(n,R,e[R],F,r,o&&o[R],a,l)}else l||(e[R]=F,n.updateDuringAnimation(t),O.push(R))}var Y=O.length;if(!y&&Y)for(var q=0;q<M.length;q++)if((Q=M[q]).targetName===t&&Q.stopTracks(O)){var Z=hn(M,Q);M.splice(Z,1)}if(r.force||(Y=(O=on(O,function(ke){return!((Ee=i[ke])===(Re=e[ke])||Vt(Ee)&&Vt(Re)&&function(Je,st){var mt=Je.length;if(mt!==st.length)return!1;for(var St=0;St<mt;St++)if(Je[St]!==st[St])return!1;return!0}(Ee,Re));var Ee,Re})).length),Y>0||r.force&&!a.length){var Q,ne=void 0,oe=void 0,_e=void 0;if(l)for(oe={},w&&(ne={}),q=0;q<Y;q++)oe[R=O[q]]=e[R],w?ne[R]=i[R]:e[R]=i[R];else if(w)for(_e={},q=0;q<Y;q++)_e[R=O[q]]=Nl(e[R]),Hu(e,i,R);(Q=new ud(e,!1,!1,y?on(M,function(ke){return ke.targetName===t}):null)).targetName=t,r.scope&&(Q.scope=r.scope),w&&ne&&Q.whenWithKeys(0,ne,O),_e&&Q.whenWithKeys(0,_e,O),Q.whenWithKeys(f??500,l?oe:i,O).delay(g||0),n.addAnimator(Q,t),a.push(Q)}}qe(Zs,h),qe(Zs,Ua);var Gi=function(n){function t(e){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return Oe(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===e)return i[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,i){if(e&&e!==this&&e.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,i){var r=hn(this._children,e);return r>=0&&this.replaceAt(i,r),this},t.prototype.replaceAt=function(e,i){var r=this._children,o=r[i];if(e&&e!==this&&e.parent!==this&&e!==o){r[i]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var i=this.__zr;i&&i!==e.__zr&&e.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(e){var i=this.__zr,r=this._children,o=hn(r,e);return o<0||(r.splice(o,1),e.parent=null,i&&e.removeSelfFromZr(i),i&&i.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,i=this.__zr,r=0;r<e.length;r++){var o=e[r];i&&o.removeSelfFromZr(i),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,i){for(var r=this._children,o=0;o<r.length;o++)e.call(i,r[o],o);return this},t.prototype.traverse=function(e,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(i,o);o.isGroup&&!a&&o.traverse(e,i)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var i=new lr(0,0,0,0),r=e||this._children,o=[],a=null,l=0;l<r.length;l++){var u=r[l];if(!u.ignore&&!u.invisible){var f=u.getBoundingRect(),g=u.getLocalTransform(o);g?(lr.applyTransform(i,f,g),(a=a||i.clone()).union(i)):(a=a||f.clone()).union(f)}}return a||i},t}(Zs);Gi.prototype.type="group";var ea={},wc={},Ih=function(){function n(t,e,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var o=new Sa,a=i.renderer||"canvas";ea[a]||(a=Zt(ea)[0]),i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var l=new ea[a](e,o,i,t),u=i.ssr||l.ssrOnly;this.storage=o,this.painter=l;var f,g=Nt.node||Nt.worker||u?null:new Mh(l.getViewportRoot(),l.root),y=i.useCoarsePointer;(null==y||"auto"===y?Nt.touchEventsSupported:y)&&(f=yi(i.pointerSize,44)),this.handler=new Sl(o,l,g,l.root,f),this.animation=new Jo({stage:{update:u?null:function(){return r._flush(!0)}}}),u||this.animation.start()}return n.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return Us(e,1)<.4;if(e.colorStops){for(var i=e.colorStops,r=0,o=i.length,a=0;a<o;a++)r+=Us(i[a].color,1);return(r/=o)<.4}return!1}(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,i=bc();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=bc();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Gi&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete wc[this.id]},n}();function Wu(n,t){var e=new Ih(lt(),n,t);return wc[e.id]=e,e}function ju(n,t){ea[n]=t}var Yu=Object.freeze({__proto__:null,init:Wu,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in wc)wc.hasOwnProperty(n)&&wc[n].dispose();wc={}},getInstance:function(n){return wc[n]},registerPainter:ju,version:"5.4.4"}),Oh=1e-4;function oo(n,t,e,i){var r=t[0],o=t[1],a=e[0],l=e[1],u=o-r,f=l-a;if(0===u)return 0===f?a:(a+l)/2;if(i)if(u>0){if(n<=r)return a;if(n>=o)return l}else{if(n>=r)return a;if(n<=o)return l}else{if(n===r)return a;if(n===o)return l}return(n-r)/u*f+a}function ri(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return On(n)?(e=n,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n;var e}function lo(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),e?n:+n}function as(n){return n.sort(function(t,e){return t-e}),n}function zl(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return af(n)}function af(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),i=e>0?+t.slice(e+1):0,r=e>0?e:t.length,o=t.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}function ap(n,t){var e=Math.log,i=Math.LN10,r=Math.floor(e(n[1]-n[0])/i),o=Math.round(e(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function sf(n,t){var e=ln(n,function(C,M){return C+(isNaN(M)?0:M)},0);if(0===e)return[];for(var i=Math.pow(10,t),r=ue(n,function(C){return(isNaN(C)?0:C)/e*i*100}),o=100*i,a=ue(r,function(C){return Math.floor(C)}),l=ln(a,function(C,M){return C+M},0),u=ue(r,function(C,M){return C-a[M]});l<o;){for(var f=Number.NEGATIVE_INFINITY,g=null,y=0,w=u.length;y<w;++y)u[y]>f&&(f=u[y],g=y);++a[g],u[g]=0,++l}return ue(a,function(C){return C/i})}function Nv(n,t){var e=Math.max(zl(n),zl(t)),i=n+t;return e>20?i:lo(i,e)}var zs=9007199254740991;function Gu(n){var t=2*Math.PI;return(n%t+t)%t}function Xu(n){return n>-1e-4&&n<Oh}var sp=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Wo(n){if(n instanceof Date)return n;if(On(n)){var t=sp.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function lf(n){return Math.pow(10,Dh(n))}function Dh(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function Cs(n,t){var e=Dh(n),i=Math.pow(10,e),r=n/i;return n=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,e>=-20?+n.toFixed(e<0?-e:0):n}function ht(n,t){var e=(n.length-1)*t+1,i=Math.floor(e),r=+n[i-1],o=e-i;return o?r+o*(n[i]-r):r}function te(n){n.sort(function(u,f){return l(u,f,0)?-1:1});for(var t=-1/0,e=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function l(u,f,g){return u.interval[g]<f.interval[g]||u.interval[g]===f.interval[g]&&(u.close[g]-f.close[g]==(g?-1:1)||!g&&l(u,f,1))}}function ze(n){var t=parseFloat(n);return t==n&&(0!==t||!On(n)||n.indexOf("x")<=0)?t:NaN}function Dt(n){return!isNaN(ze(n))}function yn(){return Math.round(9*Math.random())}function dn(n,t){return 0===t?n:dn(t,n%t)}function Ln(n,t){return null==n?t:null==t?n:n*t/dn(n,t)}function qn(n){throw new Error(n)}function rr(n,t,e){return(t-n)*e+n}var $i="series\0",Pi="\0_ec_\0";function Xi(n){return n instanceof Array?n:null==n?[]:[n]}function vr(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var i=0,r=e.length;i<r;i++){var o=e[i];!n.emphasis[t].hasOwnProperty(o)&&n[t].hasOwnProperty(o)&&(n.emphasis[t][o]=n[t][o])}}}var Vr=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Tr(n){return!hi(n)||Bt(n)||n instanceof Date?n:n.value}function Pr(n){return hi(n)&&!(n instanceof Array)}function Mo(n,t,e){var i="normalMerge"===e,r="replaceMerge"===e,o="replaceAll"===e;n=n||[],t=(t||[]).slice();var a=be();pe(t,function(g,y){hi(g)||(t[y]=null)});var l,u,g,y,w,C,f=function(g,y,w){var C=[];if("replaceAll"===w)return C;for(var M=0;M<g.length;M++){var O=g[M];O&&null!=O.id&&y.set(O.id,M),C.push({existing:"replaceMerge"===w||eo(O)?null:O,newOption:null,keyInfo:null,brandNew:null})}return C}(n,a,e);return(i||r)&&(g=f,y=n,w=a,pe(C=t,function(M,O){if(M&&null!=M.id){var L=Xr(M.id),R=w.get(L);if(null!=R){var F=g[R];ir(!F.newOption,'Duplicated option on id "'+L+'".'),F.newOption=M,F.existing=y[R],C[O]=null}}})),i&&function(g,y){pe(y,function(w,C){if(w&&null!=w.name)for(var M=0;M<g.length;M++){var O=g[M].existing;if(!g[M].newOption&&O&&(null==O.id||null==w.id)&&!eo(w)&&!eo(O)&&No("name",O,w))return g[M].newOption=w,void(y[C]=null)}})}(f,t),i||r?function(g,y,w){pe(y,function(C){if(C){for(var M,O=0;(M=g[O])&&(M.newOption||eo(M.existing)||M.existing&&null!=C.id&&!No("id",C,M.existing));)O++;M?(M.newOption=C,M.brandNew=w):g.push({newOption:C,brandNew:w,existing:null,keyInfo:null}),O++}})}(f,t,r):o&&function(g,y){pe(y,function(w){g.push({newOption:w,brandNew:!0,existing:null,keyInfo:null})})}(f,t),l=f,u=be(),pe(l,function(g){var y=g.existing;y&&u.set(y.id,g)}),pe(l,function(g){var y=g.newOption;ir(!y||null==y.id||!u.get(y.id)||u.get(y.id)===g,"id duplicates: "+(y&&y.id)),y&&null!=y.id&&u.set(y.id,g),!g.keyInfo&&(g.keyInfo={})}),pe(l,function(g,y){var w=g.existing,C=g.newOption,M=g.keyInfo;if(hi(C)){if(M.name=null!=C.name?Xr(C.name):w?w.name:$i+y,w)M.id=Xr(w.id);else if(null!=C.id)M.id=Xr(C.id);else{var O=0;do{M.id="\0"+M.name+"\0"+O++}while(u.get(M.id))}u.set(M.id,g)}}),f}function No(n,t,e){var i=Ar(t[n],null),r=Ar(e[n],null);return null!=i&&null!=r&&i===r}function Xr(n){return Ar(n,"")}function Ar(n,t){return null==n?t:On(n)?n:En(n)||xr(n)?n+"":t}function Nr(n){var t=n.name;return!(!t||!t.indexOf($i))}function eo(n){return n&&null!=n.id&&0===Xr(n.id).indexOf(Pi)}function no(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?Bt(t.dataIndex)?ue(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?Bt(t.name)?ue(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function nr(){var n="__ec_inner_"+xo++;return function(t){return t[n]||(t[n]={})}}var xo=yn();function to(n,t,e){var i=Za(t,e),o=i.queryOptionMap,a=i.others,l=e?e.defaultMainType:null;return!i.mainTypeSpecified&&l&&o.set(l,{}),o.each(function(u,f){var g=Ra(n,f,u,{useDefault:l===f,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});a[f+"Models"]=g.models,a[f+"Model"]=g.models[0]}),a}function Za(n,t){var e;if(On(n)){var i={};i[n+"Index"]=0,e=i}else e=n;var r=be(),o={},a=!1;return pe(e,function(l,u){if("dataIndex"!==u&&"dataIndexInside"!==u){var f=u.match(/^(\w+)(Index|Id|Name)$/)||[],g=f[1],y=(f[2]||"").toLowerCase();g&&y&&!(t&&t.includeMainTypes&&hn(t.includeMainTypes,g)<0)&&(a=a||!!g,(r.get(g)||r.set(g,{}))[y]=l)}else o[u]=l}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var _o={useDefault:!0,enableAll:!1,enableNone:!1},Ka={useDefault:!1,enableAll:!0,enableNone:!0};function Ra(n,t,e,i){i=i||_o;var r=e.index,o=e.id,a=e.name,l={models:null,specified:null!=r||null!=o||null!=a};if(!l.specified){var u=void 0;return l.models=i.useDefault&&(u=n.getComponent(t))?[u]:[],l}return"none"===r||!1===r?(ir(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):("all"===r&&(ir(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),l.models=n.queryComponents({mainType:t,index:r,id:o,name:a}),l)}function ss(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function jo(n,t){var e=be(),i=[];return pe(n,function(r){var o=t(r);(e.get(o)||(i.push(o),e.set(o,[]))).push(r)}),{keys:i,buckets:e}}function Qa(n,t,e,i,r){var o=null==t||"auto"===t;if(null==i)return i;if(En(i))return lo(M=rr(e||0,i,r),o?Math.max(zl(e||0),zl(i)):t);if(On(i))return r<1?e:i;for(var a=[],l=e,u=i,f=Math.max(l?l.length:0,u.length),g=0;g<f;++g){var y=n.getDimensionInfo(g);if(y&&"ordinal"===y.type)a[g]=(r<1&&l?l:u)[g];else{var w=l&&l[g]?l[g]:0,C=u[g],M=rr(w,C,r);a[g]=lo(M,o?Math.max(zl(w),zl(C)):t)}}return a}var Aa="___EC__COMPONENT__CONTAINER___",Sc="___EC__EXTENDED_CLASS___";function zo(n){var t={main:"",sub:""};if(n){var e=n.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function To(n,t){n.$constructor=n,n.extend=function(e){var i,r,o=this;return Ht(r=o)&&/^class\s/.test(Function.prototype.toString.call(r))?i=function(a){function l(){return a.apply(this,arguments)||this}return Oe(l,a),l}(o):(i=function(){(e.$constructor||o).apply(this,arguments)},pn(i,this)),_t(i.prototype,e),i[Sc]=!0,i.extend=this.extend,i.superCall=ec,i.superApply=Lh,i.superClass=o,i}}function la(n,t){n.extend=t.extend}var hl=Math.round(10*Math.random());function ec(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return this.superClass.prototype[t].apply(n,e)}function Lh(n,t,e){return this.superClass.prototype[t].apply(n,e)}function qu(n){var t={};n.registerClass=function(e){var i,l,u,r=e.type||e.prototype.type;if(r){ir(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),e.prototype.type=r;var o=zo(r);o.sub?o.sub!==Aa&&(((u=t[(l=o).main])&&u[Aa]||((u=t[l.main]={})[Aa]=!0),u)[o.sub]=e):t[o.main]=e}return e},n.getClass=function(e,i,r){var o=t[e];if(o&&o[Aa]&&(o=i?o[i]:null),r&&!o)throw new Error(i?"Component "+e+"."+(i||"")+" is used but not imported.":e+".type should be specified.");return o},n.getClassesByMainType=function(e){var i=zo(e),r=[],o=t[i.main];return o&&o[Aa]?pe(o,function(a,l){l!==Aa&&r.push(a)}):r.push(o),r},n.hasClass=function(e){var i=zo(e);return!!t[i.main]},n.getAllClassMainTypes=function(){var e=[];return pe(t,function(i,r){e.push(r)}),e},n.hasSubTypes=function(e){var i=zo(e),r=t[i.main];return r&&r[Aa]}}function tc(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(i,r,o){for(var a={},l=0;l<n.length;l++){var u=n[l][1];if(!(r&&hn(r,u)>=0||o&&hn(o,u)<0)){var f=i.getShallow(u,t);null!=f&&(a[n[l][0]]=f)}}return a}}var Ph=tc([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),nc=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return Ph(this,t,e)},n}(),ca=new Po(50);function dd(n){if("string"==typeof n){var t=ca.get(n);return t&&t.image}return n}function Uu(n,t,e,i,r){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var o=ca.get(n),a={hostEl:e,cb:i,cbPayload:r};return o?!Fs(t=o.image)&&o.pending.push(a):((t=ge.loadImage(n,tu,tu)).__zrImageSrc=n,ca.put(n,t.__cachedImgObj={image:t,pending:[a]})),t}return n}return t}function tu(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],i=e.cb;i&&i(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Fs(n){return n&&n.width&&n.height}var Nh=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function lp(n,t,e,i,r){if(!t)return"";var o=(n+"").split("\n");r=cf(t,e,i,r);for(var a=0,l=o.length;a<l;a++)o[a]=cp(o[a],r);return o.join("\n")}function cf(n,t,e,i){var r=_t({},i=i||{});r.font=t,e=yi(e,"..."),r.maxIterations=yi(i.maxIterations,2);var o=r.minChar=yi(i.minChar,0);r.cnCharWidth=$a("\u56fd",t);var a=r.ascCharWidth=$a("a",t);r.placeholder=yi(i.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<o&&l>=a;u++)l-=a;var f=$a(e,t);return f>l&&(e="",f=0),l=n-f,r.ellipsis=e,r.ellipsisWidth=f,r.contentWidth=l,r.containerWidth=n,r}function cp(n,t){var e=t.containerWidth,i=t.font,r=t.contentWidth;if(!e)return"";var o=$a(n,i);if(o<=e)return n;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){n+=t.ellipsis;break}var l=0===a?Cc(n,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=$a(n=n.substr(0,l),i)}return""===n&&(n=t.placeholder),n}function Cc(n,t,e,i){for(var r=0,o=0,a=n.length;o<a&&r<t;o++){var l=n.charCodeAt(o);r+=0<=l&&l<=127?e:i}return o}var Ks=function(){},Rh=function(n){this.tokens=[],n&&(this.tokens=n)},uf=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function pd(n,t,e,i,r){var o,a,l=""===t,u=r&&e.rich[r]||{},f=n.lines,g=u.font||e.font,y=!1;if(i){var w=u.padding,C=w?w[1]+w[3]:0;if(null!=u.width&&"auto"!==u.width){var M=os(u.width,i.width)+C;f.length>0&&M+i.accumWidth>i.width&&(o=t.split("\n"),y=!0),i.accumWidth=M}else{var O=fd(t,g,i.width,i.breakAll,i.accumWidth);i.accumWidth=O.accumWidth+C,a=O.linesWidths,o=O.lines}}else o=t.split("\n");for(var L=0;L<o.length;L++){var R=o[L],F=new Ks;if(F.styleName=r,F.text=R,F.isLineHolder=!R&&!l,F.width="number"==typeof u.width?u.width:a?a[L]:$a(R,g),L||y)f.push(new Rh([F]));else{var Y=(f[f.length-1]||(f[0]=new Rh)).tokens,q=Y.length;1===q&&Y[0].isLineHolder?Y[0]=F:(R||!q||l)&&Y.push(F)}}}var hf=ln(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function df(n){return!(((e=n.charCodeAt(0))>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303)&&!hf[n]);var e}function fd(n,t,e,i,r){for(var o=[],a=[],l="",u="",f=0,g=0,y=0;y<n.length;y++){var w=n.charAt(y);if("\n"!==w){var C=$a(w,t),M=!i&&!df(w);(o.length?g+C>e:r+g+C>e)?g?(l||u)&&(M?(l||(l=u,u="",g=f=0),o.push(l),a.push(g-f),u+=w,l="",g=f+=C):(u&&(l+=u,u="",f=0),o.push(l),a.push(g),l=w,g=C)):M?(o.push(u),a.push(f),u=w,f=C):(o.push(w),a.push(C)):(g+=C,M?(u+=w,f+=C):(u&&(l+=u,u="",f=0),l+=w))}else u&&(l+=u,g+=f),o.push(l),a.push(g),l="",u="",f=0,g=0}return o.length||l||(l=n,u="",f=0),u&&(l+=u),l&&(o.push(l),a.push(g)),1===o.length&&(g+=r),{accumWidth:g,lines:o,linesWidths:a}}var Bh="__zr_style_"+Math.round(10*Math.random()),nu={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},iu={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};nu[Bh]=!0;var ru=["z","z2","invisible"],Og=["invisible"],Vs=function(n){function t(i){return n.call(this,i)||this}var e;return Oe(t,n),t.prototype._init=function(i){for(var r=Zt(i),o=0;o<r.length;o++){var a=r[o];"style"===a?this.useStyle(i[a]):n.prototype.attrKV.call(this,a,i[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(i,r,o,a){var g,y,w,l=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(y=i,w=r,pf.copy((g=this).getBoundingRect()),g.transform&&pf.applyTransform(g.transform),gd.width=y,gd.height=w,!pf.intersect(gd))||l&&!l[0]&&!l[3])return!1;if(o&&this.__clipPaths)for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1;if(a&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},t.prototype.contain=function(i,r){return this.rectContain(i,r)},t.prototype.traverse=function(i,r){i.call(r,this)},t.prototype.rectContain=function(i,r){var o=this.transformCoordToLocal(i,r);return this.getBoundingRect().contain(o[0],o[1])},t.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,l=a.shadowBlur||0,u=a.shadowOffsetX||0,f=a.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new lr(0,0,0,0)),r?lr.applyTransform(i,o,r):i.copy(o),(l||u||f)&&(i.width+=2*l+Math.abs(u),i.height+=2*l+Math.abs(f),i.x=Math.min(i.x,i.x+u-l),i.y=Math.min(i.y,i.y+f-l));var g=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-g),i.y=Math.floor(i.y-g),i.width=Math.ceil(i.width+1+2*g),i.height=Math.ceil(i.height+1+2*g))}return i},t.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new lr(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(i){return this.animate("style",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(i,r){"style"!==i?n.prototype.attrKV.call(this,i,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(i,r){return"string"==typeof i?this.style[i]=r:_t(this.style,i),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(i){return bt(nu,i)},t.prototype.useStyle=function(i){i[Bh]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},t.prototype.isStyleObject=function(i){return i[Bh]},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,r,ru)},t.prototype._applyStateObj=function(i,r,o,a,l,u){n.prototype._applyStateObj.call(this,i,r,o,a,l,u);var f,g=!(r&&a);if(r&&r.style?l?a?f=r.style:(f=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(f,r.style)):(f=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(f,r.style)):g&&(f=o.style),f)if(l){var y=this.style;if(this.style=this.createStyle(g?{}:y),g)for(var w=Zt(y),C=0;C<w.length;C++)(O=w[C])in f&&(f[O]=f[O],this.style[O]=y[O]);var M=Zt(f);for(C=0;C<M.length;C++){var O=M[C];this.style[O]=this.style[O]}this._transitionState(i,{style:f},u,this.getAnimationStyleProps())}else this.useStyle(f);var L=this.__inHover?Og:ru;for(C=0;C<L.length;C++)O=L[C],r&&null!=r[O]?this[O]=r[O]:g&&null!=o[O]&&(this[O]=o[O])},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var l=i[a];l.style&&this._mergeStyle(r=r||{},l.style)}return r&&(o.style=r),o},t.prototype._mergeStyle=function(i,r){return _t(i,r),i},t.prototype.getAnimationStyleProps=function(){return iu},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t}(Zs),pf=new lr(0,0,0,0),gd=new lr(0,0,0,0),ua=Math.min,ha=Math.max,md=Math.sin,Dg=Math.cos,Fl=2*Math.PI,vd=zn(),ff=zn(),$u=zn();function gf(n,t,e){if(0!==n.length){for(var i=n[0],r=i[0],o=i[0],a=i[1],l=i[1],u=1;u<n.length;u++)r=ua(r,(i=n[u])[0]),o=ha(o,i[0]),a=ua(a,i[1]),l=ha(l,i[1]);t[0]=r,t[1]=a,e[0]=o,e[1]=l}}function yd(n,t,e,i,r,o){r[0]=ua(n,e),r[1]=ua(t,i),o[0]=ha(n,e),o[1]=ha(t,i)}var Lg=[],Ba=[];function Rv(n,t,e,i,r,o,a,l,u,f){var g=Kd,y=Ko,w=g(n,e,r,a,Lg);u[0]=1/0,u[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var C=0;C<w;C++){var M=y(n,e,r,a,Lg[C]);u[0]=ua(M,u[0]),f[0]=ha(M,f[0])}for(w=g(t,i,o,l,Ba),C=0;C<w;C++){var O=y(t,i,o,l,Ba[C]);u[1]=ua(O,u[1]),f[1]=ha(O,f[1])}u[0]=ua(n,u[0]),f[0]=ha(n,f[0]),u[0]=ua(a,u[0]),f[0]=ha(a,f[0]),u[1]=ua(t,u[1]),f[1]=ha(t,f[1]),u[1]=ua(l,u[1]),f[1]=ha(l,f[1])}function J0(n,t,e,i,r,o,a,l){var u=_s,f=$r,g=ha(ua(u(n,e,r),1),0),y=ha(ua(u(t,i,o),1),0),w=f(n,e,r,g),C=f(t,i,o,y);a[0]=ua(n,r,w),a[1]=ua(t,o,C),l[0]=ha(n,r,w),l[1]=ha(t,o,C)}function E(n,t,e,i,r,o,a,l,u){var f=ni,g=Jn,y=Math.abs(r-o);if(y%Fl<1e-4&&y>1e-4)return l[0]=n-e,l[1]=t-i,u[0]=n+e,void(u[1]=t+i);if(vd[0]=Dg(r)*e+n,vd[1]=md(r)*i+t,ff[0]=Dg(o)*e+n,ff[1]=md(o)*i+t,f(l,vd,ff),g(u,vd,ff),(r%=Fl)<0&&(r+=Fl),(o%=Fl)<0&&(o+=Fl),r>o&&!a?o+=Fl:r<o&&a&&(r+=Fl),a){var w=o;o=r,r=w}for(var C=0;C<o;C+=Math.PI/2)C>r&&($u[0]=Dg(C)*e+n,$u[1]=md(C)*i+t,f(l,$u,l),g(u,$u,u))}var x={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},A=[],P=[],B=[],j=[],U=[],ee=[],le=Math.min,me=Math.max,Be=Math.cos,Pe=Math.sin,Ge=Math.abs,ct=Math.PI,Ct=2*ct,xt=typeof Float32Array<"u",Mt=[];function Ut(n){return Math.round(n/ct*1e8)/1e8%2*ct}function bn(n,t){var e=Ut(n[0]);e<0&&(e+=Ct);var r=n[1];r+=e-n[0],!t&&r-e>=Ct?r=e+Ct:t&&e-r>=Ct?r=e-Ct:!t&&e>r?r=e+(Ct-Ut(e-r)):t&&e<r&&(r=e-(Ct-Ut(r-e))),n[0]=e,n[1]=r}var gn=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,i){(i=i||0)>0&&(this._ux=Ge(i/Co/t)||0,this._uy=Ge(i/Co/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(x.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var i=Ge(t-this._xi),r=Ge(e-this._yi),o=i>this._ux||r>this._uy;if(this.addData(x.L,t,e),this._ctx&&o&&this._ctx.lineTo(t,e),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){return this._drawPendingPt(),this.addData(x.C,t,e,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(t,e,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(t,e,i,r){return this._drawPendingPt(),this.addData(x.Q,t,e,i,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(t,e,i,r,o,a){this._drawPendingPt(),Mt[0]=r,Mt[1]=o,bn(Mt,a);var l=(o=Mt[1])-(r=Mt[0]);return this.addData(x.A,t,e,i,i,r,l,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,r,o,a),this._xi=Be(o)*i+t,this._yi=Pe(o)*i+e,this},n.prototype.arcTo=function(t,e,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,r,o),this},n.prototype.rect=function(t,e,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,r),this.addData(x.R,t,e,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(x.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&t.closePath(),this._xi=e,this._yi=i,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!xt||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,o=0;o<e;o++)i+=t[o].len();for(xt&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<e;o++)for(var a=t[o].data,l=0;l<a.length;l++)this.data[r++]=a[l];this._len=r},n.prototype.addData=function(t,e,i,r,o,a,l,u,f){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,xt&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){B[0]=B[1]=U[0]=U[1]=Number.MAX_VALUE,j[0]=j[1]=ee[0]=ee[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,r=0,o=0,a=0;for(t=0;t<this._len;){var l=e[t++],u=1===t;switch(u&&(o=i=e[t],a=r=e[t+1]),l){case x.M:i=o=e[t++],r=a=e[t++],U[0]=o,U[1]=a,ee[0]=o,ee[1]=a;break;case x.L:yd(i,r,e[t],e[t+1],U,ee),i=e[t++],r=e[t++];break;case x.C:Rv(i,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],U,ee),i=e[t++],r=e[t++];break;case x.Q:J0(i,r,e[t++],e[t++],e[t],e[t+1],U,ee),i=e[t++],r=e[t++];break;case x.A:var f=e[t++],g=e[t++],y=e[t++],w=e[t++],C=e[t++],M=e[t++]+C;t+=1;var O=!e[t++];u&&(o=Be(C)*y+f,a=Pe(C)*w+g),E(f,g,y,w,C,M,O,U,ee),i=Be(M)*y+f,r=Pe(M)*w+g;break;case x.R:yd(o=i=e[t++],a=r=e[t++],o+e[t++],a+e[t++],U,ee);break;case x.Z:i=o,r=a}ni(B,B,U),Jn(j,j,ee)}return 0===t&&(B[0]=B[1]=j[0]=j[1]=0),new lr(B[0],B[1],j[0]-B[0],j[1]-B[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,r=this._uy,o=0,a=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,g=0,y=0,w=0;w<e;){var C=t[w++],M=1===w;M&&(l=o=t[w],u=a=t[w+1]);var O=-1;switch(C){case x.M:o=l=t[w++],a=u=t[w++];break;case x.L:var L=t[w++],R=(q=t[w++])-a;(Ge(st=L-o)>i||Ge(R)>r||w===e-1)&&(O=Math.sqrt(st*st+R*R),o=L,a=q);break;case x.C:var F=t[w++],Y=t[w++],q=(L=t[w++],t[w++]),Z=t[w++],Q=t[w++];O=Br(o,a,F,Y,L,q,Z,Q,10),o=Z,a=Q;break;case x.Q:O=Al(o,a,F=t[w++],Y=t[w++],L=t[w++],q=t[w++],10),o=L,a=q;break;case x.A:var ne=t[w++],oe=t[w++],_e=t[w++],ke=t[w++],Ee=t[w++],Re=t[w++],Je=Re+Ee;w+=1,w++,M&&(l=Be(Ee)*_e+ne,u=Pe(Ee)*ke+oe),O=me(_e,ke)*le(Ct,Math.abs(Re)),o=Be(Je)*_e+ne,a=Pe(Je)*ke+oe;break;case x.R:l=o=t[w++],u=a=t[w++],O=2*t[w++]+2*t[w++];break;case x.Z:var st=l-o;R=u-a,O=Math.sqrt(st*st+R*R),o=l,a=u}O>=0&&(f[y++]=O,g+=O)}return this._pathLen=g,g},n.prototype.rebuildPath=function(t,e){var i,r,o,a,l,u,f,g,y,w,C=this.data,M=this._ux,O=this._uy,L=this._len,R=e<1,F=0,Y=0,q=0;if(!R||(this._pathSegLen||this._calculateLength(),f=this._pathSegLen,g=e*this._pathLen))e:for(var Z=0;Z<L;){var Q=C[Z++],ne=1===Z;switch(ne&&(i=o=C[Z],r=a=C[Z+1]),Q!==x.L&&q>0&&(t.lineTo(y,w),q=0),Q){case x.M:i=o=C[Z++],r=a=C[Z++],t.moveTo(o,a);break;case x.L:l=C[Z++],u=C[Z++];var oe=Ge(l-o),_e=Ge(u-a);if(oe>M||_e>O){if(R){if(F+(yr=f[Y++])>g){var ke=(g-F)/yr;t.lineTo(o*(1-ke)+l*ke,a*(1-ke)+u*ke);break e}F+=yr}t.lineTo(l,u),o=l,a=u,q=0}else{var Ee=oe*oe+_e*_e;Ee>q&&(y=l,w=u,q=Ee)}break;case x.C:var Re=C[Z++],Je=C[Z++],st=C[Z++],mt=C[Z++],St=C[Z++],Tt=C[Z++];if(R){if(F+(yr=f[Y++])>g){Vo(o,Re,st,St,ke=(g-F)/yr,A),Vo(a,Je,mt,Tt,ke,P),t.bezierCurveTo(A[1],P[1],A[2],P[2],A[3],P[3]);break e}F+=yr}t.bezierCurveTo(Re,Je,st,mt,St,Tt),o=St,a=Tt;break;case x.Q:if(Re=C[Z++],Je=C[Z++],st=C[Z++],mt=C[Z++],R){if(F+(yr=f[Y++])>g){Ul(o,Re,st,ke=(g-F)/yr,A),Ul(a,Je,mt,ke,P),t.quadraticCurveTo(A[1],P[1],A[2],P[2]);break e}F+=yr}t.quadraticCurveTo(Re,Je,st,mt),o=st,a=mt;break;case x.A:var Lt=C[Z++],$t=C[Z++],nn=C[Z++],an=C[Z++],kn=C[Z++],jn=C[Z++],cn=C[Z++],Pn=!C[Z++],Yn=nn>an?nn:an,Zn=Ge(nn-an)>.001,Wn=kn+jn,oi=!1;if(R&&(F+(yr=f[Y++])>g&&(Wn=kn+jn*(g-F)/yr,oi=!0),F+=yr),Zn&&t.ellipse?t.ellipse(Lt,$t,nn,an,cn,kn,Wn,Pn):t.arc(Lt,$t,Yn,kn,Wn,Pn),oi)break e;ne&&(i=Be(kn)*nn+Lt,r=Pe(kn)*an+$t),o=Be(Wn)*nn+Lt,a=Pe(Wn)*an+$t;break;case x.R:i=o=C[Z],r=a=C[Z+1],l=C[Z++],u=C[Z++];var Un=C[Z++],ui=C[Z++];if(R){if(F+(yr=f[Y++])>g){var Ti=g-F;t.moveTo(l,u),t.lineTo(l+le(Ti,Un),u),(Ti-=Un)>0&&t.lineTo(l+Un,u+le(Ti,ui)),(Ti-=ui)>0&&t.lineTo(l+me(Un-Ti,0),u+ui),(Ti-=Un)>0&&t.lineTo(l,u+me(ui-Ti,0));break e}F+=yr}t.rect(l,u,Un,ui);break;case x.Z:if(R){var yr;if(F+(yr=f[Y++])>g){t.lineTo(o*(1-(ke=(g-F)/yr))+i*ke,a*(1-ke)+r*ke);break e}F+=yr}t.closePath(),o=i,a=r}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=x,n.initDefaultProps=((t=n.prototype)._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),n;var t}();function mn(n,t,e,i,r,o,a){if(0===r)return!1;var u,l=r;if(a>t+l&&a>i+l||a<t-l&&a<i-l||o>n+l&&o>e+l||o<n-l&&o<e-l)return!1;if(n===e)return Math.abs(o-n)<=l/2;var f=(u=(t-i)/(n-e))*o-a+(n*i-e*t)/(n-e);return f*f/(u*u+1)<=l/2*l/2}function Bn(n,t,e,i,r,o,a,l,u,f,g){if(0===u)return!1;var y=u;return!(g>t+y&&g>i+y&&g>o+y&&g>l+y||g<t-y&&g<i-y&&g<o-y&&g<l-y||f>n+y&&f>e+y&&f>r+y&&f>a+y||f<n-y&&f<e-y&&f<r-y&&f<a-y)&&ku(n,t,e,i,r,o,a,l,f,g,null)<=y/2}function Kn(n,t,e,i,r,o,a,l,u){if(0===a)return!1;var f=a;return!(u>t+f&&u>i+f&&u>o+f||u<t-f&&u<i-f&&u<o-f||l>n+f&&l>e+f&&l>r+f||l<n-f&&l<e-f&&l<r-f)&&ba(n,t,e,i,r,o,l,u,null)<=f/2}var Si=2*Math.PI;function wi(n){return(n%=Si)<0&&(n+=Si),n}var Ni=2*Math.PI;function ji(n,t,e,i,r,o,a,l,u){if(0===a)return!1;var f=a;l-=n,u-=t;var g=Math.sqrt(l*l+u*u);if(g-f>e||g+f<e)return!1;if(Math.abs(i-r)%Ni<1e-4)return!0;if(o){var y=i;i=wi(r),r=wi(y)}else i=wi(i),r=wi(r);i>r&&(r+=Ni);var w=Math.atan2(u,l);return w<0&&(w+=Ni),w>=i&&w<=r||w+Ni>=i&&w+Ni<=r}function Vi(n,t,e,i,r,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var a=(o-t)/(i-t),l=i<t?1:-1;1!==a&&0!==a||(l=i<t?.5:-.5);var u=a*(e-n)+n;return u===r?1/0:u>r?l:0}var qi=gn.CMD,Ri=2*Math.PI,_i=[-1,-1,-1],ki=[-1,-1];function Or(n,t,e,i,r,o,a,l,u,f){if(f>t&&f>i&&f>o&&f>l||f<t&&f<i&&f<o&&f<l)return 0;var g,y=Sh(t,i,o,l,f,_i);if(0===y)return 0;for(var w=0,C=-1,M=void 0,O=void 0,L=0;L<y;L++){var R=_i[L],F=0===R||1===R?.5:1;Ko(n,e,r,a,R)<u||(C<0&&(C=Kd(t,i,o,l,ki),ki[1]<ki[0]&&C>1&&(g=ki[0],ki[0]=ki[1],ki[1]=g),M=Ko(t,i,o,l,ki[0]),C>1&&(O=Ko(t,i,o,l,ki[1]))),w+=2===C?R<ki[0]?M<t?F:-F:R<ki[1]?O<M?F:-F:l<O?F:-F:R<ki[0]?M<t?F:-F:l<M?F:-F)}return w}function Ro(n,t,e,i,r,o,a,l){if(l>t&&l>i&&l>o||l<t&&l<i&&l<o)return 0;var u=function(M,O,L,R,F){var Y=M-2*O+L,q=2*(O-M),Z=M-R,Q=0;if(is(Y))ra(q)&&(oe=-Z/q)>=0&&oe<=1&&(F[Q++]=oe);else{var ne=q*q-4*Y*Z;if(is(ne))(oe=-q/(2*Y))>=0&&oe<=1&&(F[Q++]=oe);else if(ne>0){var oe,_e=Cl(ne),ke=(-q-_e)/(2*Y);(oe=(-q+_e)/(2*Y))>=0&&oe<=1&&(F[Q++]=oe),ke>=0&&ke<=1&&(F[Q++]=ke)}}return Q}(t,i,o,l,_i);if(0===u)return 0;var f=_s(t,i,o);if(f>=0&&f<=1){for(var g=0,y=$r(t,i,o,f),w=0;w<u;w++){var C=0===_i[w]||1===_i[w]?.5:1;$r(n,e,r,_i[w])<a||(g+=_i[w]<f?y<t?C:-C:o<y?C:-C)}return g}return C=0===_i[0]||1===_i[0]?.5:1,$r(n,e,r,_i[0])<a?0:o<t?C:-C}function wo(n,t,e,i,r,o,a,l){if((l-=t)>e||l<-e)return 0;var u=Math.sqrt(e*e-l*l);_i[0]=-u,_i[1]=u;var f=Math.abs(i-r);if(f<1e-4)return 0;if(f>=Ri-1e-4){i=0,r=Ri;var g=o?1:-1;return a>=_i[0]+n&&a<=_i[1]+n?g:0}if(i>r){var y=i;i=r,r=y}i<0&&(i+=Ri,r+=Ri);for(var w=0,C=0;C<2;C++){var M=_i[C];if(M+n>a){var O=Math.atan2(l,M);g=o?1:-1,O<0&&(O=Ri+O),(O>=i&&O<=r||O+Ri>=i&&O+Ri<=r)&&(O>Math.PI/2&&O<1.5*Math.PI&&(g=-g),w+=g)}}return w}function Ma(n,t,e,i,r){for(var o,a,f=n.data,g=n.len(),y=0,w=0,C=0,M=0,O=0,L=0;L<g;){var R=f[L++],F=1===L;switch(R===qi.M&&L>1&&(e||(y+=Vi(w,C,M,O,i,r))),F&&(M=w=f[L],O=C=f[L+1]),R){case qi.M:w=M=f[L++],C=O=f[L++];break;case qi.L:if(e){if(mn(w,C,f[L],f[L+1],t,i,r))return!0}else y+=Vi(w,C,f[L],f[L+1],i,r)||0;w=f[L++],C=f[L++];break;case qi.C:if(e){if(Bn(w,C,f[L++],f[L++],f[L++],f[L++],f[L],f[L+1],t,i,r))return!0}else y+=Or(w,C,f[L++],f[L++],f[L++],f[L++],f[L],f[L+1],i,r)||0;w=f[L++],C=f[L++];break;case qi.Q:if(e){if(Kn(w,C,f[L++],f[L++],f[L],f[L+1],t,i,r))return!0}else y+=Ro(w,C,f[L++],f[L++],f[L],f[L+1],i,r)||0;w=f[L++],C=f[L++];break;case qi.A:var Y=f[L++],q=f[L++],Z=f[L++],Q=f[L++],ne=f[L++],oe=f[L++];L+=1;var _e=!!(1-f[L++]);o=Math.cos(ne)*Z+Y,a=Math.sin(ne)*Q+q,F?(M=o,O=a):y+=Vi(w,C,o,a,i,r);var ke=(i-Y)*Q/Z+Y;if(e){if(ji(Y,q,Q,ne,ne+oe,_e,t,ke,r))return!0}else y+=wo(Y,q,Q,ne,ne+oe,_e,ke,r);w=Math.cos(ne+oe)*Z+Y,C=Math.sin(ne+oe)*Q+q;break;case qi.R:if(M=w=f[L++],O=C=f[L++],o=M+f[L++],a=O+f[L++],e){if(mn(M,O,o,O,t,i,r)||mn(o,O,o,a,t,i,r)||mn(o,a,M,a,t,i,r)||mn(M,a,M,O,t,i,r))return!0}else y+=Vi(o,O,o,a,i,r),y+=Vi(M,a,M,O,i,r);break;case qi.Z:if(e){if(mn(w,C,M,O,t,i,r))return!0}else y+=Vi(w,C,M,O,i,r);w=M,C=O}}return e||Math.abs(C-O)<1e-4||(y+=Vi(w,C,M,O,i,r)||0),0!==y}var za=It({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},nu),dl={style:It({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},iu.style)},ks=go.concat(["invisible","culling","z","z2","zlevel","parent"]),hr=function(n){function t(i){return n.call(this,i)||this}var e;return Oe(t,n),t.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(f){i.buildPath(f,i.shape)}),o.silent=!0;var a=o.style;for(var l in r)a[l]!==r[l]&&(a[l]=r[l]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var u=0;u<ks.length;++u)o[ks[u]]=this[ks[u]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(i){var r=Zt(i);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var l=r[a],u=i[l];"style"===l?this.style?_t(this.style,u):this.useStyle(u):"shape"===l?_t(this.shape,u):n.prototype.attrKV.call(this,l,u)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var i=this.style.fill;if("none"!==i){if(On(i)){var r=Us(i,0);return r>.5?Th:r>.2?"#eee":Ss}if(i)return Ss}return Th},t.prototype.getInsideTextStroke=function(i){var r=this.style.fill;if(On(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==Us(i,0)<.4)return r}},t.prototype.buildPath=function(i,r,o){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},t.prototype.createPathProxy=function(){this.path=new gn(!1)},t.prototype.hasStroke=function(){var i=this.style,r=i.stroke;return!(null==r||"none"===r||!(i.lineWidth>0))},t.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},t.prototype.getBoundingRect=function(){var i=this._rect,r=this.style,o=!i;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var l=this.path;(a||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),i=l.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectStroke||(this._rectStroke=i.clone());if(this.__dirty||o){u.copy(i);var f=r.strokeNoScale?this.getLineScale():1,g=r.lineWidth;this.hasFill()||(g=Math.max(g,this.strokeContainThreshold??4)),f>1e-10&&(u.width+=g/f,u.height+=g/f,u.x-=g/f/2,u.y-=g/f/2)}return u}return i},t.prototype.contain=function(i,r){var o=this.transformCoordToLocal(i,r),a=this.getBoundingRect(),l=this.style;if(a.contain(i=o[0],r=o[1])){var u=this.path;if(this.hasStroke()){var f=l.lineWidth,g=l.strokeNoScale?this.getLineScale():1;if(g>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),Ma(u,f/g,!0,i,r)))return!0}if(this.hasFill())return Ma(u,0,!1,i,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(i){return this.animate("shape",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():"shape"===i?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(i,r){"shape"===i?this.setShape(r):n.prototype.attrKV.call(this,i,r)},t.prototype.setShape=function(i,r){var o=this.shape;return o||(o=this.shape={}),"string"==typeof i?o[i]=r:_t(o,i),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(i){return bt(za,i)},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.shape&&!r.shape&&(r.shape=_t({},this.shape))},t.prototype._applyStateObj=function(i,r,o,a,l,u){n.prototype._applyStateObj.call(this,i,r,o,a,l,u);var f,g=!(r&&a);if(r&&r.shape?l?a?f=r.shape:(f=_t({},o.shape),_t(f,r.shape)):(f=_t({},a?this.shape:o.shape),_t(f,r.shape)):g&&(f=o.shape),f)if(l){this.shape=_t({},this.shape);for(var y={},w=Zt(f),C=0;C<w.length;C++){var M=w[C];"object"==typeof f[M]?this.shape[M]=f[M]:y[M]=f[M]}this._transitionState(i,{shape:y},u)}else this.shape=f,this.dirtyShape()},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var l=i[a];l.shape&&this._mergeStyle(r=r||{},l.shape)}return r&&(o.shape=r),o},t.prototype.getAnimationStyleProps=function(){return dl},t.prototype.isZeroArea=function(){return!1},t.extend=function(i){var r=function(a){function l(u){var f=a.call(this,u)||this;return i.init&&i.init.call(f,u),f}return Oe(l,a),l.prototype.getDefaultStyle=function(){return Qe(i.style)},l.prototype.getDefaultShape=function(){return Qe(i.shape)},l}(t);for(var o in i)"function"==typeof i[o]&&(r.prototype[o]=i[o]);return r},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t}(Vs),kc=It({strokeFirst:!0,font:gt,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},za),As=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return null!=i&&"none"!==i&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return bt(kc,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var i=e.text;null!=i?i+="":i="";var r=Bl(i,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(Vs);As.prototype.type="tspan";var ic=It({x:0,y:0},nu),VO={style:It({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},iu.style)},ls=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.createStyle=function(e){return bt(ic,e)},t.prototype._getSize=function(e){var i=this.style,r=i[e];if(null!=r)return r;var o,a=(o=i.image)&&"string"!=typeof o&&o.width&&o.height?i.image:this.__image;if(!a)return 0;var l="width"===e?"height":"width",u=i[l];return null==u?a[e]:a[e]/a[l]*u},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return VO},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new lr(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Vs);ls.prototype.type="image";var Pg=Math.round;function Ng(n,t,e){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var l=e&&e.lineWidth;return l&&(Pg(2*i)===Pg(2*r)&&(n.x1=n.x2=Zu(i,l,!0)),Pg(2*o)===Pg(2*a)&&(n.y1=n.y2=Zu(o,l,!0))),n}}function vM(n,t,e){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;n.x=i,n.y=r,n.width=o,n.height=a;var l=e&&e.lineWidth;return l&&(n.x=Zu(i,l,!0),n.y=Zu(r,l,!0),n.width=Math.max(Zu(i+o,l,!1)-n.x,0===o?0:1),n.height=Math.max(Zu(r+a,l,!1)-n.y,0===a?0:1)),n}}function Zu(n,t,e){if(!t)return n;var i=Pg(2*n);return(i+Pg(t))%2==0?i/2:(i+(e?1:-1))/2}var tw=function(){this.x=0,this.y=0,this.width=0,this.height=0},yM={},Zr=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultShape=function(){return new tw},t.prototype.buildPath=function(e,i){var r,o,a,l,f,g,y,w,C,M,O,L,R,F,Y,q;if(this.subPixelOptimize){var u=vM(yM,i,this.style);r=u.x,o=u.y,a=u.width,l=u.height,u.r=i.r,i=u}else r=i.x,o=i.y,a=i.width,l=i.height;i.r?(f=e,L=(g=i).x,R=g.y,(F=g.width)<0&&(L+=F,F=-F),(Y=g.height)<0&&(R+=Y,Y=-Y),"number"==typeof(q=g.r)?y=w=C=M=q:q instanceof Array?1===q.length?y=w=C=M=q[0]:2===q.length?(y=C=q[0],w=M=q[1]):3===q.length?(y=q[0],w=M=q[1],C=q[2]):(y=q[0],w=q[1],C=q[2],M=q[3]):y=w=C=M=0,y+w>F&&(y*=F/(O=y+w),w*=F/O),C+M>F&&(C*=F/(O=C+M),M*=F/O),w+C>Y&&(w*=Y/(O=w+C),C*=Y/O),y+M>Y&&(y*=Y/(O=y+M),M*=Y/O),f.moveTo(L+y,R),f.lineTo(L+F-w,R),0!==w&&f.arc(L+F-w,R+w,w,-Math.PI/2,0),f.lineTo(L+F,R+Y-C),0!==C&&f.arc(L+F-C,R+Y-C,C,0,Math.PI/2),f.lineTo(L+M,R+Y),0!==M&&f.arc(L+M,R+Y-M,M,Math.PI/2,Math.PI),f.lineTo(L,R+y),0!==y&&f.arc(L+y,R+y,y,Math.PI,1.5*Math.PI)):e.rect(r,o,a,l)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(hr);Zr.prototype.type="rect";var eb={fill:"#000"},nw={style:It({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},iu.style)},Qr=function(n){function t(e){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=eb,i.attr(e),i}return Oe(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,tb(e=this.style),pe(e.rich,tb),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new lr(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var l=i[a],u=l.getBoundingRect(),f=l.getLocalTransform(r);f?(e.copy(u),e.applyTransform(f),(o=o||e.clone()).union(e)):(o=o||u.clone()).union(u)}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||eb},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,i){if(!i)return e;var r=i.rich,o=e.rich||r&&{};return _t(e,i),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,i){for(var r=Zt(i),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},_t(e[a],i[a])}},t.prototype.getAnimationStyleProps=function(){return nw},t.prototype._getOrCreateChild=function(e){var i=this._children[this._childCursor];return i&&i instanceof e||(i=new e),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var e=this.style,i=e.font||gt,r=e.padding,o=function(St,Tt){null!=St&&(St+="");var Lt,$t=Tt.overflow,nn=Tt.padding,an=Tt.font,kn="truncate"===$t,jn=ul(an),cn=yi(Tt.lineHeight,jn),Pn=!!Tt.backgroundColor,Yn="truncate"===Tt.lineOverflow,Zn=Tt.width,Wn=(Lt=null==Zn||"break"!==$t&&"breakAll"!==$t?St?St.split("\n"):[]:St?fd(St,Tt.font,Zn,"breakAll"===$t,0).lines:[]).length*cn,oi=yi(Tt.height,Wn);if(Wn>oi&&Yn){var Un=Math.floor(oi/cn);Lt=Lt.slice(0,Un)}if(St&&kn&&null!=Zn)for(var ui=cf(Zn,an,Tt.ellipsis,{minChar:Tt.truncateMinChar,placeholder:Tt.placeholder}),Ti=0;Ti<Lt.length;Ti++)Lt[Ti]=cp(Lt[Ti],ui);var yr=oi,Er=0;for(Ti=0;Ti<Lt.length;Ti++)Er=Math.max($a(Lt[Ti],an),Er);null==Zn&&(Zn=Er);var Ao=Er;return nn&&(yr+=nn[0]+nn[2],Ao+=nn[1]+nn[3],Zn+=nn[1]+nn[3]),Pn&&(Ao=Zn),{lines:Lt,height:oi,outerWidth:Ao,outerHeight:yr,lineHeight:cn,calculatedLineHeight:jn,contentWidth:Er,contentHeight:Wn,width:Zn}}(aw(e),e),a=zv(e),l=!!e.backgroundColor,u=o.outerHeight,f=o.outerWidth,g=o.contentWidth,y=o.lines,w=o.lineHeight,C=this._defaultStyle,M=e.x||0,O=e.y||0,L=e.align||C.align||"left",R=e.verticalAlign||C.verticalAlign||"top",F=M,Y=cl(O,o.contentHeight,R);if(a||r){var q=ll(M,f,L),Z=cl(O,u,R);a&&this._renderBackground(e,e,q,Z,f,u)}Y+=w/2,r&&(F=ow(M,L,r),"top"===R?Y+=r[0]:"bottom"===R&&(Y-=r[2]));for(var Q=0,ne=!1,oe=(rw("fill"in e?e.fill:(ne=!0,C.fill))),_e=(ou("stroke"in e?e.stroke:l||C.autoStroke&&!ne?null:(Q=2,C.stroke))),ke=e.textShadowBlur>0,Ee=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),Re=o.calculatedLineHeight,Je=0;Je<y.length;Je++){var st=this._getOrCreateChild(As),mt=st.createStyle();st.useStyle(mt),mt.text=y[Je],mt.x=F,mt.y=Y,L&&(mt.textAlign=L),mt.textBaseline="middle",mt.opacity=e.opacity,mt.strokeFirst=!0,ke&&(mt.shadowBlur=e.textShadowBlur||0,mt.shadowColor=e.textShadowColor||"transparent",mt.shadowOffsetX=e.textShadowOffsetX||0,mt.shadowOffsetY=e.textShadowOffsetY||0),mt.stroke=_e,mt.fill=oe,_e&&(mt.lineWidth=e.lineWidth||Q,mt.lineDash=e.lineDash,mt.lineDashOffset=e.lineDashOffset||0),mt.font=i,wn(mt,e),Y+=w,Ee&&st.setBoundingRect(new lr(ll(mt.x,e.width,mt.textAlign),cl(mt.y,Re,mt.textBaseline),g,Re))}},t.prototype._updateRichTexts=function(){var e=this.style,i=function(st,mt){var St=new uf;if(null!=st&&(st+=""),!st)return St;for(var Tt,Lt=mt.width,$t=mt.height,nn=mt.overflow,an="break"!==nn&&"breakAll"!==nn||null==Lt?null:{width:Lt,accumWidth:0,breakAll:"breakAll"===nn},kn=Nh.lastIndex=0;null!=(Tt=Nh.exec(st));){var jn=Tt.index;jn>kn&&pd(St,st.substring(kn,jn),mt,an),pd(St,Tt[2],mt,an,Tt[1]),kn=Nh.lastIndex}kn<st.length&&pd(St,st.substring(kn,st.length),mt,an);var cn=[],Pn=0,Yn=0,Zn=mt.padding,Wn="truncate"===nn,oi="truncate"===mt.lineOverflow;function Un(Ia,gs,ms){Ia.width=gs,Ia.lineHeight=ms,Pn+=ms,Yn=Math.max(Yn,gs)}e:for(var ui=0;ui<St.lines.length;ui++){for(var Ti=St.lines[ui],yr=0,Er=0,Ao=0;Ao<Ti.tokens.length;Ao++){var Wr=(br=Ti.tokens[Ao]).styleName&&mt.rich[br.styleName]||{},ro=br.textPadding=Wr.padding,mo=ro?ro[1]+ro[3]:0,na=br.font=Wr.font||mt.font;br.contentHeight=ul(na);var pa=yi(Wr.height,br.contentHeight);if(br.innerHeight=pa,ro&&(pa+=ro[0]+ro[2]),br.height=pa,br.lineHeight=fr(Wr.lineHeight,mt.lineHeight,pa),br.align=Wr&&Wr.align||mt.align,br.verticalAlign=Wr&&Wr.verticalAlign||"middle",oi&&null!=$t&&Pn+br.lineHeight>$t){Ao>0?(Ti.tokens=Ti.tokens.slice(0,Ao),Un(Ti,Er,yr),St.lines=St.lines.slice(0,ui+1)):St.lines=St.lines.slice(0,ui);break e}var Os=Wr.width,Su=null==Os||"auto"===Os;if("string"==typeof Os&&"%"===Os.charAt(Os.length-1))br.percentWidth=Os,cn.push(br),br.contentWidth=$a(br.text,na);else{if(Su){var tf=Wr.backgroundColor,vo=tf&&tf.image;vo&&Fs(vo=dd(vo))&&(br.width=Math.max(br.width,vo.width*pa/vo.height))}var Hr=Wn&&null!=Lt?Lt-Er:null;null!=Hr&&Hr<br.width?!Su||Hr<mo?(br.text="",br.width=br.contentWidth=0):(br.text=lp(br.text,Hr-mo,na,mt.ellipsis,{minChar:mt.truncateMinChar}),br.width=br.contentWidth=$a(br.text,na)):br.contentWidth=$a(br.text,na)}br.width+=mo,Er+=br.width,Wr&&(yr=Math.max(yr,br.lineHeight))}Un(Ti,Er,yr)}for(St.outerWidth=St.width=yi(Lt,Yn),St.outerHeight=St.height=yi($t,Pn),St.contentHeight=Pn,St.contentWidth=Yn,Zn&&(St.outerWidth+=Zn[1]+Zn[3],St.outerHeight+=Zn[0]+Zn[2]),ui=0;ui<cn.length;ui++){var br,ia=(br=cn[ui]).percentWidth;br.width=parseInt(ia,10)/100*St.width}return St}(aw(e),e),r=i.width,o=i.outerWidth,a=i.outerHeight,l=e.padding,f=e.y||0,g=this._defaultStyle,w=e.verticalAlign||g.verticalAlign,C=ll(e.x||0,o,e.align||g.align),M=cl(f,a,w),O=C,L=M;l&&(O+=l[3],L+=l[0]);var R=O+r;zv(e)&&this._renderBackground(e,e,C,M,o,a);for(var F=!!e.backgroundColor,Y=0;Y<i.lines.length;Y++){for(var q=i.lines[Y],Z=q.tokens,Q=Z.length,ne=q.lineHeight,oe=q.width,_e=0,ke=O,Ee=R,Re=Q-1,Je=void 0;_e<Q&&(!(Je=Z[_e]).align||"left"===Je.align);)this._placeToken(Je,e,ne,L,ke,"left",F),oe-=Je.width,ke+=Je.width,_e++;for(;Re>=0&&"right"===(Je=Z[Re]).align;)this._placeToken(Je,e,ne,L,Ee,"right",F),oe-=Je.width,Ee-=Je.width,Re--;for(ke+=(r-(ke-O)-(R-Ee)-oe)/2;_e<=Re;)this._placeToken(Je=Z[_e],e,ne,L,ke+Je.width/2,"center",F),ke+=Je.width,_e++;L+=ne}},t.prototype._placeToken=function(e,i,r,o,a,l,u){var f=i.rich[e.styleName]||{};f.text=e.text;var g=e.verticalAlign,y=o+r/2;"top"===g?y=o+e.height/2:"bottom"===g&&(y=o+r-e.height/2),!e.isLineHolder&&zv(f)&&this._renderBackground(f,i,"right"===l?a-e.width:"center"===l?a-e.width/2:a,y-e.height/2,e.width,e.height);var w=!!f.backgroundColor,C=e.textPadding;C&&(a=ow(a,l,C),y-=e.height/2-C[0]-e.innerHeight/2);var M=this._getOrCreateChild(As),O=M.createStyle();M.useStyle(O);var L=this._defaultStyle,R=!1,F=0,Y=rw("fill"in f?f.fill:"fill"in i?i.fill:(R=!0,L.fill)),q=ou("stroke"in f?f.stroke:"stroke"in i?i.stroke:w||u||L.autoStroke&&!R?null:(F=2,L.stroke)),Z=f.textShadowBlur>0||i.textShadowBlur>0;O.text=e.text,O.x=a,O.y=y,Z&&(O.shadowBlur=f.textShadowBlur||i.textShadowBlur||0,O.shadowColor=f.textShadowColor||i.textShadowColor||"transparent",O.shadowOffsetX=f.textShadowOffsetX||i.textShadowOffsetX||0,O.shadowOffsetY=f.textShadowOffsetY||i.textShadowOffsetY||0),O.textAlign=l,O.textBaseline="middle",O.font=e.font||gt,O.opacity=fr(f.opacity,i.opacity,1),wn(O,f),q&&(O.lineWidth=fr(f.lineWidth,i.lineWidth,F),O.lineDash=yi(f.lineDash,i.lineDash),O.lineDashOffset=i.lineDashOffset||0,O.stroke=q),Y&&(O.fill=Y);var Q=e.contentWidth,ne=e.contentHeight;M.setBoundingRect(new lr(ll(O.x,Q,O.textAlign),cl(O.y,ne,O.textBaseline),Q,ne))},t.prototype._renderBackground=function(e,i,r,o,a,l){var u,f,g,y=e.backgroundColor,w=e.borderWidth,C=e.borderColor,M=y&&y.image,O=y&&!M,L=e.borderRadius,R=this;if(O||e.lineHeight||w&&C){(u=this._getOrCreateChild(Zr)).useStyle(u.createStyle()),u.style.fill=null;var F=u.shape;F.x=r,F.y=o,F.width=a,F.height=l,F.r=L,u.dirtyShape()}if(O)(g=u.style).fill=y||null,g.fillOpacity=yi(e.fillOpacity,1);else if(M){(f=this._getOrCreateChild(ls)).onload=function(){R.dirtyStyle()};var Y=f.style;Y.image=y.image,Y.x=r,Y.y=o,Y.width=a,Y.height=l}w&&C&&((g=u.style).lineWidth=w,g.stroke=C,g.strokeOpacity=yi(e.strokeOpacity,1),g.lineDash=e.borderDash,g.lineDashOffset=e.borderDashOffset||0,u.strokeContainThreshold=0,u.hasFill()&&u.hasStroke()&&(g.strokeFirst=!0,g.lineWidth*=2));var q=(u||f).style;q.shadowBlur=e.shadowBlur||0,q.shadowColor=e.shadowColor||"transparent",q.shadowOffsetX=e.shadowOffsetX||0,q.shadowOffsetY=e.shadowOffsetY||0,q.opacity=fr(e.opacity,i.opacity,1)},t.makeFont=function(e){var i="";return Bv(e)&&(i=[e.fontStyle,e.fontWeight,up(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),i&&Jr(i)||e.textFont||e.font},t}(Vs),iw={left:!0,right:1,center:1},bM={top:1,bottom:1,middle:1},bd=["fontStyle","fontWeight","fontSize","fontFamily"];function up(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?"12px":n+"px":n}function wn(n,t){for(var e=0;e<bd.length;e++){var i=bd[e],r=t[i];null!=r&&(n[i]=r)}}function Bv(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function tb(n){if(n){n.font=Qr.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||iw[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||bM[e]?e:"top",n.padding&&(n.padding=Fr(n.padding))}}function ou(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function rw(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function ow(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function aw(n){var t=n.text;return null!=t&&(t+=""),t}function zv(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var _r=nr(),nb=function(n,t,e,i){if(i){var r=_r(i);r.dataIndex=e,r.dataType=t,r.seriesIndex=n,"group"===i.type&&i.traverse(function(o){var a=_r(o);a.seriesIndex=n,a.dataIndex=e,a.dataType=t})}},sw=1,lw={},Fv=nr(),ib=nr(),Qs=["emphasis","blur","select"],Rg=["normal","emphasis","blur","select"],xM=10,hp="highlight",Vv="downplay",Bg="select",Hv="unselect",mf="toggleSelect";function vf(n){return null!=n&&"none"!==n}var cw=new Po(100);function Js(n){if(On(n)){var t=cw.get(n);return t||(t=Ps(n,-.1),cw.put(n,t)),t}if(Gn(n)){var e=_t({},n);return e.colorStops=ue(n.colorStops,function(i){return{offset:i.offset,color:Ps(i.color,-.1)}}),e}return n}function Ac(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function _M(n){Ac(n,"emphasis",2)}function wM(n){2===n.hoverState&&Ac(n,"normal",0)}function uw(n){Ac(n,"blur",1)}function hw(n){1===n.hoverState&&Ac(n,"normal",0)}function SM(n){n.selected=!0}function CM(n){n.selected=!1}function rb(n,t,e){t(n,e)}function xd(n,t,e){rb(n,t,e),n.isGroup&&n.traverse(function(i){rb(i,t,e)})}function ob(n,t){switch(t){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function ab(n,t){var r,o,a,l,u,f,e=this.states[n];if(this.style){if("emphasis"===n)return function(i,r,o,a){var l=o&&hn(o,"select")>=0,u=!1;if(i instanceof hr){var f=Fv(i),g=l&&f.selectFill||f.normalFill,y=l&&f.selectStroke||f.normalStroke;if(vf(g)||vf(y)){var w=(a=a||{}).style||{};"inherit"===w.fill?(u=!0,a=_t({},a),(w=_t({},w)).fill=g):!vf(w.fill)&&vf(g)?(u=!0,a=_t({},a),(w=_t({},w)).fill=Js(g)):!vf(w.stroke)&&vf(y)&&(u||(a=_t({},a),w=_t({},w)),w.stroke=Js(y)),a.style=w}}return a&&null==a.z2&&(u||(a=_t({},a)),a.z2=i.z2+(i.z2EmphasisLift??xM)),a}(this,0,t,e);if("blur"===n)return o=e,a=hn(this.currentStates,r=n)>=0,l=this.style.opacity,u=a?null:function(g,y,w,C){for(var M=g.style,O={},L=0;L<y.length;L++){var R=y[L];O[R]=M[R]??(C&&C[R])}for(L=0;L<g.animators.length;L++){var Y=g.animators[L];Y.__fromStateTransition&&Y.__fromStateTransition.indexOf(w)<0&&"style"===Y.targetName&&Y.saveTo(O,y)}return O}(this,["opacity"],r,{opacity:1}),null==(f=(o=o||{}).style||{}).opacity&&(o=_t({},o),f=_t({opacity:a?l:.1*u.opacity},f),o.style=f),o;if("select"===n)return function(i,r,o){return o&&null==o.z2&&((o=_t({},o)).z2=i.z2+(i.z2SelectLift??9)),o}(this,0,e)}return e}function ci(n){n.stateProxy=ab;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=ab),e&&(e.stateProxy=ab)}function sb(n,t){!AM(n,t)&&!n.__highByOuter&&xd(n,_M)}function dw(n,t){!AM(n,t)&&!n.__highByOuter&&xd(n,wM)}function _d(n,t){n.__highByOuter|=1<<(t||0),xd(n,_M)}function wd(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&xd(n,wM)}function pw(n){xd(n,uw)}function fw(n){xd(n,hw)}function kM(n){xd(n,SM)}function gw(n){xd(n,CM)}function AM(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function Ms(n){var t=n.getModel(),e=[],i=[];t.eachComponent(function(r,o){var a=ib(o),l="series"===r,u=l?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!l&&i.push(u),a.isBlured&&(u.group.traverse(function(f){hw(f)}),l&&e.push(o)),a.isBlured=!1}),pe(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(e,!1,t)})}function yf(n,t,e,i){var r=i.getModel();function o(f,g){for(var y=0;y<g.length;y++){var w=f.getItemGraphicEl(g[y]);w&&fw(w)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var a=r.getSeriesByIndex(n),l=a.coordinateSystem;l&&l.master&&(l=l.master);var u=[];r.eachSeries(function(f){var g=a===f,y=f.coordinateSystem;if(y&&y.master&&(y=y.master),!("series"===e&&!g||"coordinateSystem"===e&&!(y&&l?y===l:g)||"series"===t&&g)){if(i.getViewOfSeriesModel(f).group.traverse(function(M){M.__highByOuter&&g&&"self"===t||uw(M)}),Vt(t))o(f.getData(),t);else if(hi(t))for(var w=Zt(t),C=0;C<w.length;C++)o(f.getData(w[C]),t[w[C]]);u.push(f),ib(f).isBlured=!0}}),r.eachComponent(function(f,g){if("series"!==f){var y=i.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(u,!0,r)}})}}function mw(n,t,e){if(null!=n&&null!=t){var i=e.getModel().getComponent(n,t);if(i){ib(i).isBlured=!0;var r=e.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(o){uw(o)})}}}function vw(n,t,e,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return r;var o=i.getModel().getComponent(n,t);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var l,u=a.findHighDownDispatchers(e),f=0;f<u.length;f++)if("self"===_r(u[f]).focus){l=!0;break}return{focusSelf:l,dispatchers:u}}function MM(n){pe(n.getAllData(),function(t){var i=t.type;t.data.eachItemGraphicEl(function(r,o){n.isSelected(o,i)?kM(r):gw(r)})})}function HO(n){var t=[];return n.eachSeries(function(e){pe(e.getAllData(),function(i){var r=i.type,o=e.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:e.seriesIndex};null!=r&&(a.dataType=r),t.push(a)}})}),t}function dp(n,t,e){bf(n,!0),xd(n,ci),lb(n,t,e)}function wa(n,t,e,i){i?bf(n,!1):dp(n,t,e)}function lb(n,t,e){var i=_r(n);null!=t?(i.focus=t,i.blurScope=e):i.focus&&(i.focus=null)}var TM=["emphasis","blur","select"],EM={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function el(n,t,e,i){e=e||"itemStyle";for(var r=0;r<TM.length;r++){var o=TM[r],a=t.getModel([o,e]);n.ensureState(o).style=i?i(a):a[EM[e]]()}}function bf(n,t){var e=!1===t,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),e&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!e)}function Wv(n){return!(!n||!n.__highDownDispatcher)}function yw(n){var t=n.type;return t===Bg||t===Hv||t===mf}function IM(n){var t=n.type;return t===hp||t===Vv}var zg=gn.CMD,bw=[[],[],[]],xw=Math.sqrt,WO=Math.atan2;function _w(n,t){if(t){var e,i,r,o,a,l,u=n.data,f=n.len(),g=zg.M,y=zg.C,w=zg.L,C=zg.R,M=zg.A,O=zg.Q;for(r=0,o=0;r<f;){switch(e=u[r++],o=r,i=0,e){case g:case w:i=1;break;case y:i=3;break;case O:i=2;break;case M:var L=t[4],R=t[5],F=xw(t[0]*t[0]+t[1]*t[1]),Y=xw(t[2]*t[2]+t[3]*t[3]),q=WO(-t[1]/Y,t[0]/F);u[r]*=F,u[r++]+=L,u[r]*=Y,u[r++]+=R,u[r++]*=F,u[r++]*=Y,u[r++]+=q,u[r++]+=q,o=r+=2;break;case C:l[0]=u[r++],l[1]=u[r++],Fn(l,l,t),u[o++]=l[0],u[o++]=l[1],l[0]+=u[r++],l[1]+=u[r++],Fn(l,l,t),u[o++]=l[0],u[o++]=l[1]}for(a=0;a<i;a++){var Z=bw[a];Z[0]=u[r++],Z[1]=u[r++],Fn(Z,Z,t),u[o++]=Z[0],u[o++]=Z[1]}}n.increaseVersion()}}var ww=Math.sqrt,cb=Math.sin,ub=Math.cos,Fg=Math.PI;function OM(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Sw(n,t){return(n[0]*t[0]+n[1]*t[1])/(OM(n)*OM(t))}function Cw(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(Sw(n,t))}function DM(n,t,e,i,r,o,a,l,u,f,g){var y=u*(Fg/180),w=ub(y)*(n-e)/2+cb(y)*(t-i)/2,C=-1*cb(y)*(n-e)/2+ub(y)*(t-i)/2,M=w*w/(a*a)+C*C/(l*l);M>1&&(a*=ww(M),l*=ww(M));var O=(r===o?-1:1)*ww((a*a*(l*l)-a*a*(C*C)-l*l*(w*w))/(a*a*(C*C)+l*l*(w*w)))||0,L=O*a*C/l,R=O*-l*w/a,F=(n+e)/2+ub(y)*L-cb(y)*R,Y=(t+i)/2+cb(y)*L+ub(y)*R,q=Cw([1,0],[(w-L)/a,(C-R)/l]),Z=[(w-L)/a,(C-R)/l],Q=[(-1*w-L)/a,(-1*C-R)/l],ne=Cw(Z,Q);if(Sw(Z,Q)<=-1&&(ne=Fg),Sw(Z,Q)>=1&&(ne=0),ne<0){var oe=Math.round(ne/Fg*1e6)/1e6;ne=2*Fg+oe%2*Fg}g.addData(f,F,Y,a,l,q,ne,y,o)}var jO=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,LM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,PM=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.applyTransform=function(e){},t}(hr);function xf(n){return null!=n.setData}function NM(n,t){var e=function(r){var o=new gn;if(!r)return o;var a,l=0,u=0,f=l,g=u,y=gn.CMD,w=r.match(jO);if(!w)return o;for(var C=0;C<w.length;C++){for(var M=w[C],O=M.charAt(0),L=void 0,R=M.match(LM)||[],F=R.length,Y=0;Y<F;Y++)R[Y]=parseFloat(R[Y]);for(var q=0;q<F;){var Z=void 0,Q=void 0,ne=void 0,oe=void 0,_e=void 0,ke=void 0,Ee=void 0,Re=l,Je=u,st=void 0,mt=void 0;switch(O){case"l":l+=R[q++],u+=R[q++],o.addData(L=y.L,l,u);break;case"L":l=R[q++],u=R[q++],o.addData(L=y.L,l,u);break;case"m":l+=R[q++],u+=R[q++],o.addData(L=y.M,l,u),f=l,g=u,O="l";break;case"M":l=R[q++],u=R[q++],o.addData(L=y.M,l,u),f=l,g=u,O="L";break;case"h":l+=R[q++],o.addData(L=y.L,l,u);break;case"H":l=R[q++],o.addData(L=y.L,l,u);break;case"v":u+=R[q++],o.addData(L=y.L,l,u);break;case"V":u=R[q++],o.addData(L=y.L,l,u);break;case"C":o.addData(L=y.C,R[q++],R[q++],R[q++],R[q++],R[q++],R[q++]),l=R[q-2],u=R[q-1];break;case"c":o.addData(L=y.C,R[q++]+l,R[q++]+u,R[q++]+l,R[q++]+u,R[q++]+l,R[q++]+u),l+=R[q-2],u+=R[q-1];break;case"S":Z=l,Q=u,st=o.len(),mt=o.data,a===y.C&&(Z+=l-mt[st-4],Q+=u-mt[st-3]),Re=R[q++],Je=R[q++],l=R[q++],u=R[q++],o.addData(L=y.C,Z,Q,Re,Je,l,u);break;case"s":Z=l,Q=u,st=o.len(),mt=o.data,a===y.C&&(Z+=l-mt[st-4],Q+=u-mt[st-3]),Re=l+R[q++],Je=u+R[q++],l+=R[q++],u+=R[q++],o.addData(L=y.C,Z,Q,Re,Je,l,u);break;case"Q":Re=R[q++],Je=R[q++],l=R[q++],u=R[q++],o.addData(L=y.Q,Re,Je,l,u);break;case"q":Re=R[q++]+l,Je=R[q++]+u,l+=R[q++],u+=R[q++],o.addData(L=y.Q,Re,Je,l,u);break;case"T":Z=l,Q=u,st=o.len(),mt=o.data,a===y.Q&&(Z+=l-mt[st-4],Q+=u-mt[st-3]),l=R[q++],u=R[q++],o.addData(L=y.Q,Z,Q,l,u);break;case"t":Z=l,Q=u,st=o.len(),mt=o.data,a===y.Q&&(Z+=l-mt[st-4],Q+=u-mt[st-3]),l+=R[q++],u+=R[q++],o.addData(L=y.Q,Z,Q,l,u);break;case"A":ne=R[q++],oe=R[q++],_e=R[q++],ke=R[q++],Ee=R[q++],DM(Re=l,Je=u,l=R[q++],u=R[q++],ke,Ee,ne,oe,_e,L=y.A,o);break;case"a":ne=R[q++],oe=R[q++],_e=R[q++],ke=R[q++],Ee=R[q++],DM(Re=l,Je=u,l+=R[q++],u+=R[q++],ke,Ee,ne,oe,_e,L=y.A,o)}}"z"!==O&&"Z"!==O||(o.addData(L=y.Z),l=f,u=g),a=L}return o.toStatic(),o}(n),i=_t({},t);return i.buildPath=function(r){if(xf(r))r.setData(e.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;e.rebuildPath(o,1)}},i.applyTransform=function(r){_w(e,r),this.dirtyShape()},i}function hb(n,t){return new PM(NM(n,t))}function kw(n,t){t=t||{};var e=new hr;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?_w(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var jv=function(){this.cx=0,this.cy=0,this.r=0},au=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultShape=function(){return new jv},t.prototype.buildPath=function(e,i){e.moveTo(i.cx+i.r,i.cy),e.arc(i.cx,i.cy,i.r,0,2*Math.PI)},t}(hr);au.prototype.type="circle";var YO=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Yv=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultShape=function(){return new YO},t.prototype.buildPath=function(e,i){var r=.5522848,o=i.cx,a=i.cy,l=i.rx,u=i.ry,f=l*r,g=u*r;e.moveTo(o-l,a),e.bezierCurveTo(o-l,a-g,o-f,a-u,o,a-u),e.bezierCurveTo(o+f,a-u,o+l,a-g,o+l,a),e.bezierCurveTo(o+l,a+g,o+f,a+u,o,a+u),e.bezierCurveTo(o-f,a+u,o-l,a+g,o-l,a),e.closePath()},t}(hr);Yv.prototype.type="ellipse";var RM=Math.PI,Aw=2*RM,Sd=Math.sin,Vg=Math.cos,GO=Math.acos,pl=Math.atan2,BM=Math.abs,Gv=Math.sqrt,Xv=Math.max,Ku=Math.min,Qu=1e-4;function qv(n,t,e,i,r,o,a){var l=n-e,u=t-i,f=(a?o:-o)/Gv(l*l+u*u),g=f*u,y=-f*l,w=n+g,C=t+y,M=e+g,O=i+y,L=(w+M)/2,R=(C+O)/2,F=M-w,Y=O-C,q=F*F+Y*Y,Z=r-o,Q=w*O-M*C,ne=(Y<0?-1:1)*Gv(Xv(0,Z*Z*q-Q*Q)),oe=(Q*Y-F*ne)/q,_e=(-Q*F-Y*ne)/q,ke=(Q*Y+F*ne)/q,Ee=(-Q*F+Y*ne)/q,Re=oe-L,Je=_e-R,st=ke-L,mt=Ee-R;return Re*Re+Je*Je>st*st+mt*mt&&(oe=ke,_e=Ee),{cx:oe,cy:_e,x0:-g,y0:-y,x1:oe*(r/Z-1),y1:_e*(r/Z-1)}}var XO=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},fl=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultShape=function(){return new XO},t.prototype.buildPath=function(e,i){!function db(n,t){var e,i=Xv(t.r,0),r=Xv(t.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var l=t.startAngle,u=t.endAngle;if(!isNaN(l)&&!isNaN(u)){var f=t.cx,g=t.cy,y=!!t.clockwise,w=BM(u-l),C=w>Aw&&w%Aw;if(C>Qu&&(w=C),i>Qu)if(w>Aw-Qu)n.moveTo(f+i*Vg(l),g+i*Sd(l)),n.arc(f,g,i,l,u,!y),r>Qu&&(n.moveTo(f+r*Vg(u),g+r*Sd(u)),n.arc(f,g,r,u,l,y));else{var M=void 0,O=void 0,L=void 0,R=void 0,F=void 0,Y=void 0,q=void 0,Z=void 0,Q=void 0,ne=void 0,oe=void 0,_e=void 0,ke=void 0,Ee=void 0,Re=void 0,Je=void 0,st=i*Vg(l),mt=i*Sd(l),St=r*Vg(u),Tt=r*Sd(u),Lt=w>Qu;if(Lt){var $t=t.cornerRadius;$t&&(M=(e=function(Ti){var yr;if(Bt(Ti)){var Er=Ti.length;if(!Er)return Ti;yr=1===Er?[Ti[0],Ti[0],0,0]:2===Er?[Ti[0],Ti[0],Ti[1],Ti[1]]:3===Er?Ti.concat(Ti[2]):Ti}else yr=[Ti,Ti,Ti,Ti];return yr}($t))[0],O=e[1],L=e[2],R=e[3]);var nn=BM(i-r)/2;if(F=Ku(nn,L),Y=Ku(nn,R),q=Ku(nn,M),Z=Ku(nn,O),oe=Q=Xv(F,Y),_e=ne=Xv(q,Z),(Q>Qu||ne>Qu)&&(ke=i*Vg(u),Ee=i*Sd(u),Re=r*Vg(l),Je=r*Sd(l),w<RM)){var an=function(Ti,yr,Er,Ao,Wr,ro,mo,na){var pa=Er-Ti,Os=Ao-yr,Su=mo-Wr,tf=na-ro,vo=tf*pa-Su*Os;if(!(vo*vo<Qu))return[Ti+(vo=(Su*(yr-ro)-tf*(Ti-Wr))/vo)*pa,yr+vo*Os]}(st,mt,Re,Je,ke,Ee,St,Tt);if(an){var kn=st-an[0],jn=mt-an[1],cn=ke-an[0],Pn=Ee-an[1],Yn=1/Sd(GO((kn*cn+jn*Pn)/(Gv(kn*kn+jn*jn)*Gv(cn*cn+Pn*Pn)))/2),Zn=Gv(an[0]*an[0]+an[1]*an[1]);oe=Ku(Q,(i-Zn)/(Yn+1)),_e=Ku(ne,(r-Zn)/(Yn-1))}}}if(Lt)if(oe>Qu){var Wn=Ku(L,oe),oi=Ku(R,oe),Un=qv(Re,Je,st,mt,i,Wn,y),ui=qv(ke,Ee,St,Tt,i,oi,y);n.moveTo(f+Un.cx+Un.x0,g+Un.cy+Un.y0),oe<Q&&Wn===oi?n.arc(f+Un.cx,g+Un.cy,oe,pl(Un.y0,Un.x0),pl(ui.y0,ui.x0),!y):(Wn>0&&n.arc(f+Un.cx,g+Un.cy,Wn,pl(Un.y0,Un.x0),pl(Un.y1,Un.x1),!y),n.arc(f,g,i,pl(Un.cy+Un.y1,Un.cx+Un.x1),pl(ui.cy+ui.y1,ui.cx+ui.x1),!y),oi>0&&n.arc(f+ui.cx,g+ui.cy,oi,pl(ui.y1,ui.x1),pl(ui.y0,ui.x0),!y))}else n.moveTo(f+st,g+mt),n.arc(f,g,i,l,u,!y);else n.moveTo(f+st,g+mt);r>Qu&&Lt?_e>Qu?(Wn=Ku(M,_e),Un=qv(St,Tt,ke,Ee,r,-(oi=Ku(O,_e)),y),ui=qv(st,mt,Re,Je,r,-Wn,y),n.lineTo(f+Un.cx+Un.x0,g+Un.cy+Un.y0),_e<ne&&Wn===oi?n.arc(f+Un.cx,g+Un.cy,_e,pl(Un.y0,Un.x0),pl(ui.y0,ui.x0),!y):(oi>0&&n.arc(f+Un.cx,g+Un.cy,oi,pl(Un.y0,Un.x0),pl(Un.y1,Un.x1),!y),n.arc(f,g,r,pl(Un.cy+Un.y1,Un.cx+Un.x1),pl(ui.cy+ui.y1,ui.cx+ui.x1),y),Wn>0&&n.arc(f+ui.cx,g+ui.cy,Wn,pl(ui.y1,ui.x1),pl(ui.y0,ui.x0),!y))):(n.lineTo(f+St,g+Tt),n.arc(f,g,r,u,l,y)):n.lineTo(f+St,g+Tt)}else n.moveTo(f,g);n.closePath()}}}(e,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(hr);fl.prototype.type="sector";var qO=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Hg=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultShape=function(){return new qO},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=2*Math.PI;e.moveTo(r+i.r,o),e.arc(r,o,i.r,0,a,!1),e.moveTo(r+i.r0,o),e.arc(r,o,i.r0,0,a,!0)},t}(hr);function Mw(n,t,e){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i){var o=function(w,C,M,O){var L,R,F,Y,q=[],Z=[],Q=[],ne=[];if(O){F=[1/0,1/0],Y=[-1/0,-1/0];for(var oe=0,_e=w.length;oe<_e;oe++)ni(F,F,w[oe]),Jn(Y,Y,w[oe]);ni(F,F,O[0]),Jn(Y,Y,O[1])}for(oe=0,_e=w.length;oe<_e;oe++){var ke=w[oe];if(M)L=w[oe?oe-1:_e-1],R=w[(oe+1)%_e];else{if(0===oe||oe===_e-1){q.push(ei(w[oe]));continue}L=w[oe-1],R=w[oe+1]}Ui(Z,R,L),wr(Z,Z,C);var Ee=Rr(ke,L),Re=Rr(ke,R),Je=Ee+Re;0!==Je&&(Ee/=Je,Re/=Je),wr(Q,Z,-Ee),wr(ne,Z,Re);var st=ti([],ke,Q),mt=ti([],ke,ne);O&&(Jn(st,st,F),ni(st,st,Y),Jn(mt,mt,F),ni(mt,mt,Y)),q.push(st),q.push(mt)}return M&&q.push(q.shift()),q}(r,i,e,t.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,l=0;l<(e?a:a-1);l++){var u=o[2*l],f=o[2*l+1],g=r[(l+1)%a];n.bezierCurveTo(u[0],u[1],f[0],f[1],g[0],g[1])}}else{n.moveTo(r[0][0],r[0][1]),l=1;for(var y=r.length;l<y;l++)n.lineTo(r[l][0],r[l][1])}e&&n.closePath()}}Hg.prototype.type="ring";var UO=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},gl=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultShape=function(){return new UO},t.prototype.buildPath=function(e,i){Mw(e,i,!0)},t}(hr);gl.prototype.type="polygon";var $O=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},ml=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $O},t.prototype.buildPath=function(e,i){Mw(e,i,!1)},t}(hr);ml.prototype.type="polyline";var ZO={},KO=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},cs=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new KO},t.prototype.buildPath=function(e,i){var r,o,a,l;if(this.subPixelOptimize){var u=Ng(ZO,i,this.style);r=u.x1,o=u.y1,a=u.x2,l=u.y2}else r=i.x1,o=i.y1,a=i.x2,l=i.y2;var f=i.percent;0!==f&&(e.moveTo(r,o),f<1&&(a=r*(1-f)+a*f,l=o*(1-f)+l*f),e.lineTo(a,l))},t.prototype.pointAt=function(e){var i=this.shape;return[i.x1*(1-e)+i.x2*e,i.y1*(1-e)+i.y2*e]},t}(hr);cs.prototype.type="line";var rc=[],pb=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function zM(n,t,e){return null!=n.cpx2||null!=n.cpy2?[(e?Yt:Ko)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Yt:Ko)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?oa:$r)(n.x1,n.cpx1,n.x2,t),(e?oa:$r)(n.y1,n.cpy1,n.y2,t)]}var Wg=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new pb},t.prototype.buildPath=function(e,i){var r=i.x1,o=i.y1,a=i.x2,l=i.y2,u=i.cpx1,f=i.cpy1,g=i.cpx2,y=i.cpy2,w=i.percent;0!==w&&(e.moveTo(r,o),null==g||null==y?(w<1&&(Ul(r,u,a,w,rc),u=rc[1],a=rc[2],Ul(o,f,l,w,rc),f=rc[1],l=rc[2]),e.quadraticCurveTo(u,f,a,l)):(w<1&&(Vo(r,u,g,a,w,rc),u=rc[1],g=rc[2],a=rc[3],Vo(o,f,y,l,w,rc),f=rc[1],y=rc[2],l=rc[3]),e.bezierCurveTo(u,f,g,y,a,l)))},t.prototype.pointAt=function(e){return zM(this.shape,e,!1)},t.prototype.tangentAt=function(e){var i=zM(this.shape,e,!0);return tr(i,i)},t}(hr);Wg.prototype.type="bezier-curve";var QO=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Uv=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new QO},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),l=i.startAngle,u=i.endAngle,f=i.clockwise,g=Math.cos(l),y=Math.sin(l);e.moveTo(g*a+r,y*a+o),e.arc(r,o,a,l,u,!f)},t}(hr);Uv.prototype.type="arc";var fb=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return Oe(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,i=this.shapeChanged(),r=0;r<e.length;r++)i=i||e[r].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(i[0],i[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],i=0;i<e.length;i++)e[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),hr.prototype.getBoundingRect.call(this)},t}(hr),FM=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}(),jg=function(n){function t(e,i,r,o,a,l){var u=n.call(this,a)||this;return u.x=e??0,u.y=i??0,u.x2=r??1,u.y2=o??0,u.type="linear",u.global=l||!1,u}return Oe(t,n),t}(FM),Tw=function(n){function t(e,i,r,o,a){var l=n.call(this,o)||this;return l.x=e??.5,l.y=i??.5,l.r=r??.5,l.type="radial",l.global=a||!1,l}return Oe(t,n),t}(FM),_f=[0,0],wf=[0,0],gb=new si,mb=new si,$v=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new si;for(i=0;i<2;i++)this._axes[i]=new si;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var i=this._corners,r=this._axes,o=t.x,a=t.y,l=o+t.width,u=a+t.height;if(i[0].set(o,a),i[1].set(l,a),i[2].set(l,u),i[3].set(o,u),e)for(var f=0;f<4;f++)i[f].transform(e);for(si.sub(r[0],i[1],i[0]),si.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),f=0;f<2;f++)this._origin[f]=r[f].dot(i[0])},n.prototype.intersect=function(t,e){var i=!0,r=!e;return gb.set(1/0,1/0),mb.set(0,0),!this._intersectCheckOneSide(this,t,gb,mb,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(t,this,gb,mb,r,-1)&&(i=!1,r)||r||si.copy(e,i?gb:mb),i},n.prototype._intersectCheckOneSide=function(t,e,i,r,o,a){for(var l=!0,u=0;u<2;u++){var f=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,_f),this._getProjMinMaxOnAxis(u,e._corners,wf),_f[1]<wf[0]||_f[0]>wf[1]){if(l=!1,o)return l;var g=Math.abs(wf[0]-_f[1]),y=Math.abs(_f[0]-wf[1]);Math.min(g,y)>r.len()&&si.scale(r,f,g<y?-g*a:y*a)}else i&&(g=Math.abs(wf[0]-_f[1]),y=Math.abs(_f[0]-wf[1]),Math.min(g,y)<i.len()&&si.scale(i,f,g<y?g*a:-y*a))}return l},n.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],l=a,u=a,f=1;f<e.length;f++){var g=e[f].dot(r)+o[t];l=Math.min(g,l),u=Math.max(g,u)}i[0]=l,i[1]=u},n}(),JO=[],VM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Oe(t,n),t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,i){i?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,i){i=i||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var i=this._cursor;i<this._displayables.length;i++)e&&e(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)e&&e(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(i=this._displayables[e]).parent=this,i.update(),i.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var i;(i=this._temporaryDisplayables[e]).parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new lr(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(JO)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(e,i))return!0;return!1},t}(Vs),HM=nr();function Yg(n,t,e,i,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var l="update"===n;if(t&&t.isAnimationEnabled()){var u=void 0,f=void 0,g=void 0;return i?(u=yi(i.duration,200),f=yi(i.easing,"cubicOut"),g=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),f=t.getShallow(l?"animationEasingUpdate":"animationEasing"),g=t.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(u=o.duration),null!=o.easing&&(f=o.easing),null!=o.delay&&(g=o.delay)),Ht(g)&&(g=g(e,r)),Ht(u)&&(u=u(e)),{duration:u||0,delay:g,easing:f}}return null}function Zv(n,t,e,i,r,o,a){var l,u=!1;Ht(r)?(a=o,o=r,r=null):hi(r)&&(o=r.cb,a=r.during,u=r.isFrom,l=r.removeOpt,r=r.dataIndex);var f="leave"===n;f||t.stopAnimation("leave");var g=Yg(n,i,r,f?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(g&&g.duration>0){var y={duration:g.duration,delay:g.delay||0,easing:g.easing,done:o,force:!!o||!!a,setToFinal:!f,scope:n,during:a};u?t.animateFrom(e,y):t.animateTo(e,y)}else t.stopAnimation(),!u&&t.attr(e),a&&a(1),o&&o()}function co(n,t,e,i,r,o){Zv("update",n,t,e,i,r,o)}function Uo(n,t,e,i,r,o){Zv("enter",n,t,e,i,r,o)}function Gg(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("leave"===n.animators[t].scope)return!0;return!1}function pp(n,t,e,i,r,o){Gg(n)||Zv("leave",n,t,e,i,r,o)}function WM(n,t,e,i){n.removeTextContent(),n.removeTextGuideLine(),pp(n,{style:{opacity:0}},t,e,i)}function Kv(n,t,e){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||WM(r,t,e,i)}):WM(n,t,e,i)}function Mc(n){HM(n).oldStyle=n.style}var vb=Math.max,Qv=Math.min,yb={};function Ew(n){return hr.extend(n)}var jM=function(n,t){var e=NM(n,t);return function(i){function r(o){var a=i.call(this,o)||this;return a.applyTransform=e.applyTransform,a.buildPath=e.buildPath,a}return Oe(r,i),r}(PM)};function Iw(n,t){return jM(n,t)}function su(n,t){yb[n]=t}function zh(n){if(yb.hasOwnProperty(n))return yb[n]}function Jv(n,t,e,i){var r=hb(n,t);return e&&("center"===i&&(e=YM(e,r.getBoundingRect())),Dw(r,e)),r}function Ow(n,t,e){var i=new ls({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){"center"===e&&i.setStyle(YM(t,{width:r.width,height:r.height}))}});return i}function YM(n,t){var e,i=t.width/t.height,r=n.height*i;return e=r<=n.width?n.height:(r=n.width)/i,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-e/2,width:r,height:e}}var oc=function(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push(n[r].getUpdatedPathProxy(!0));var a=new hr(t);return a.createPathProxy(),a.buildPath=function(l){if(xf(l)){l.appendPath(e);var u=l.getContext();u&&l.rebuildPath(u,1)}},a};function Dw(n,t){if(n.applyTransform){var e=n.getBoundingRect().calculateTransform(t);n.applyTransform(e)}}function Sf(n,t){return Ng(n,n,{lineWidth:t}),n}var fp=Zu;function lu(n,t){for(var e=qt([]);n&&n!==t;)Mn(e,n.getLocalTransform(),e),n=n.parent;return e}function Ju(n,t,e){return t&&!Vt(t)&&(t=Ua.getLocalTransform(t)),e&&(t=Bi([],t)),Fn([],n,t)}function Xg(n,t,e){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return o=Ju(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function GM(n){return!n.isGroup}function qg(n,t,e){if(n&&t){var i,r=(i={},n.traverse(function(a){GM(a)&&a.anid&&(i[a.anid]=a)}),i);t.traverse(function(a){if(GM(a)&&a.anid){var l=r[a.anid];if(l){var u=o(a);a.attr(o(l)),co(a,u,e,_r(a).dataIndex)}}})}function o(a){var l={x:a.x,y:a.y,rotation:a.rotation};return null!=a.shape&&(l.shape=_t({},a.shape)),l}}function bb(n,t){return ue(n,function(e){var i=e[0];i=vb(i,t.x),i=Qv(i,t.x+t.width);var r=e[1];return r=vb(r,t.y),[i,r=Qv(r,t.y+t.height)]})}function Lw(n,t){var e=vb(n.x,t.x),i=Qv(n.x+n.width,t.x+t.width),r=vb(n.y,t.y),o=Qv(n.y+n.height,t.y+t.height);if(i>=e&&o>=r)return{x:e,y:r,width:i-e,height:o-r}}function Ug(n,t,e){var i=_t({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),It(r,e),new ls(i)):Jv(n.replace("path://",""),i,e,"center")}function ey(n,t,e,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var l=r[o];if(XM(n,t,e,i,l[0],l[1],a[0],a[1]))return!0;a=l}}function XM(n,t,e,i,r,o,a,l){var u,f=e-n,g=i-t,y=a-r,w=l-o,C=gp(y,w,f,g);if((u=C)<=1e-6&&u>=-1e-6)return!1;var M=n-r,O=t-o,L=gp(M,O,f,g)/C;if(L<0||L>1)return!1;var R=gp(M,O,y,w)/C;return!(R<0||R>1)}function gp(n,t,e,i){return n*i-e*t}function cu(n){var t=n.itemTooltipOption,e=n.componentModel,i=n.itemName,r=On(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,l={componentType:o,name:i,$vars:["name"]};l[o+"Index"]=a;var u=n.formatterParamsExtra;u&&pe(Zt(u),function(g){ft(l,g)||(l[g]=u[g],l.$vars.push(g))});var f=_r(n.el);f.componentMainType=o,f.componentIndex=a,f.tooltipConfig={name:i,option:It({content:i,formatterParams:l},r)}}function ty(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function uu(n,t){if(n)if(Bt(n))for(var e=0;e<n.length;e++)ty(n[e],t);else ty(n,t)}su("circle",au),su("ellipse",Yv),su("sector",fl),su("ring",Hg),su("polygon",gl),su("polyline",ml),su("rect",Zr),su("line",cs),su("bezierCurve",Wg),su("arc",Uv);var hu=Object.freeze({__proto__:null,updateProps:co,initProps:Uo,removeElement:pp,removeElementWithFadeOut:Kv,isElementRemoved:Gg,extendShape:Ew,extendPath:Iw,registerShape:su,getShapeClass:zh,makePath:Jv,makeImage:Ow,mergePath:oc,resizePath:Dw,subPixelOptimizeLine:Sf,subPixelOptimizeRect:function(n){return vM(n.shape,n.shape,n.style),n},subPixelOptimize:fp,getTransform:lu,applyTransform:Ju,transformDirection:Xg,groupTransition:qg,clipPointsByRect:bb,clipRectByRect:Lw,createIcon:Ug,linePolygonIntersect:ey,lineLineIntersect:XM,setTooltipConfig:cu,traverseElements:uu,Group:Gi,Image:ls,Text:Qr,Circle:au,Ellipse:Yv,Sector:fl,Ring:Hg,Polygon:gl,Polyline:ml,Rect:Zr,Line:cs,BezierCurve:Wg,Arc:Uv,IncrementalDisplayable:VM,CompoundPath:fb,LinearGradient:jg,RadialGradient:Tw,BoundingRect:lr,OrientedBoundingRect:$v,Point:si,Path:hr}),Tc={};function xb(n,t){for(var e=0;e<Qs.length;e++){var i=Qs[e],r=t[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(a,!0)}function _b(n,t,e){var i,r=n.labelFetcher,o=n.labelDataIndex,a=n.labelDimIndex,l=t.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,l&&l.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==i&&(i=Ht(n.defaultText)?n.defaultText(o,n,e):n.defaultText);for(var u={normal:i},f=0;f<Qs.length;f++){var g=Qs[f],y=t[g];u[g]=yi(r?r.getFormattedLabel(o,g,null,a,y&&y.get("formatter")):null,i)}return u}function tl(n,t,e,i){e=e||Tc;for(var r=n instanceof Qr,o=!1,a=0;a<Rg.length;a++)if((w=t[Rg[a]])&&w.getShallow("show")){o=!0;break}var l=r?n:n.getTextContent();if(o){r||(l||(l=new Qr,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=_b(e,t),f=t.normal,g=!!f.getShallow("show"),y=Eo(f,i&&i.normal,e,!1,!r);for(y.text=u.normal,r||n.setTextConfig(mp(f,e,!1)),a=0;a<Qs.length;a++){var w,C=Qs[a];if(w=t[C]){var M=l.ensureState(C),O=!!yi(w.getShallow("show"),g);O!==g&&(M.ignore=!O),M.style=Eo(w,i&&i[C],e,!0,!r),M.style.text=u[C],!r&&(n.ensureState(C).textConfig=mp(w,e,!0))}}l.silent=!!f.getShallow("silent"),null!=l.style.x&&(y.x=l.style.x),null!=l.style.y&&(y.y=l.style.y),l.ignore=!g,l.useStyle(y),l.dirty(),e.enableTextSetter&&(Cd(l).setLabelText=function(L){var R=_b(e,t,L);xb(l,R)})}else l&&(l.ignore=!0);n.dirty()}function us(n,t){for(var e={normal:n.getModel(t=t||"label")},i=0;i<Qs.length;i++){var r=Qs[i];e[r]=n.getModel([r,t])}return e}function Eo(n,t,e,i,r){var o={};return function(a,l,u,f,g){u=u||Tc;var y,w=l.ecModel,C=w&&w.option.textStyle,M=function(Y){for(var q;Y&&Y!==Y.ecModel;){var Z=(Y.option||Tc).rich;if(Z){q=q||{};for(var Q=Zt(Z),ne=0;ne<Q.length;ne++)q[Q[ne]]=1}Y=Y.parentModel}return q}(l);if(M)for(var O in y={},M)if(M.hasOwnProperty(O)){var L=l.getModel(["rich",O]);ny(y[O]={},L,C,u,f,g,!1,!0)}y&&(a.rich=y);var R=l.get("overflow");R&&(a.overflow=R);var F=l.get("minMargin");null!=F&&(a.margin=F),ny(a,l,C,u,f,g,!0,!1)}(o,n,e,i,r),t&&_t(o,t),o}function mp(n,t,e){t=t||{};var i,r={},o=n.getShallow("rotate"),a=yi(n.getShallow("distance"),e?null:5),l=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(e?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=l&&(r.offset=l),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",r}var wb=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Pw=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],$g=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function ny(n,t,e,i,r,o,a,l){e=!r&&e||Tc;var u=i&&i.inheritColor,f=t.getShallow("color"),g=t.getShallow("textBorderColor"),y=yi(t.getShallow("opacity"),e.opacity);"inherit"!==f&&"auto"!==f||(f=u||null),"inherit"!==g&&"auto"!==g||(g=u||null),o||(f=f||e.color,g=g||e.textBorderColor),null!=f&&(n.fill=f),null!=g&&(n.stroke=g);var w=yi(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=w&&(n.lineWidth=w);var C=yi(t.getShallow("textBorderType"),e.textBorderType);null!=C&&(n.lineDash=C);var M=yi(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=M&&(n.lineDashOffset=M),r||null!=y||l||(y=i&&i.defaultOpacity),null!=y&&(n.opacity=y),r||o||null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var O=0;O<wb.length;O++){var L=wb[O];null!=(F=yi(t.getShallow(L),e[L]))&&(n[L]=F)}for(O=0;O<Pw.length;O++)null!=(F=t.getShallow(L=Pw[O]))&&(n[L]=F);if(null==n.verticalAlign){var R=t.getShallow("baseline");null!=R&&(n.verticalAlign=R)}if(!a||!i.disableBox){for(O=0;O<$g.length;O++){var F;null!=(F=t.getShallow(L=$g[O]))&&(n[L]=F)}var Y=t.getShallow("borderType");null!=Y&&(n.borderDash=Y),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!u||(n.backgroundColor=u),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!u||(n.borderColor=u)}}function Sb(n,t){var e=t&&t.getModel("textStyle");return Jr([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Cd=nr();function Fa(n,t,e,i){if(n){var r=Cd(n);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}function qM(n,t,e,i,r){var o=Cd(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,l=yi(o.interpolatedValue,o.prevValue),u=o.value;n.percent=0,(null==o.prevValue?Uo:co)(n,{percent:1},i,t,null,function(f){var g=Qa(e,o.precision,l,u,f);o.interpolatedValue=1===f?null:g;var y=_b({labelDataIndex:t,labelFetcher:r,defaultText:a?a(g):g+""},o.statesModels,g);xb(n,y)})}}var du,Cb,Nw=["textStyle","color"],vp=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],kb=new Qr,Ab=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Nw):null)},n.prototype.getFont=function(){return Sb({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<vp.length;i++)e[vp[i]]=this.getShallow(vp[i]);return kb.useStyle(e),kb.update(),kb.getBoundingRect()},n}(),Rw=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],UM=tc(Rw),Bw=function(){function n(){}return n.prototype.getLineStyle=function(t){return UM(this,t)},n}(),eh=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],$M=tc(eh),ZM=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return $M(this,t,e)},n}(),ho=function(){function n(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return n.prototype.init=function(t,e,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(t,e){rt(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var i=this.option,r=null==i?i:i[t];if(null==r&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},n.prototype.getModel=function(t,e){var i=null!=t,r=i?this.parsePath(t):null;return new n(i?this._doGet(r):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Qe(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!Nt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var r=0;r<t.length&&(!t[r]||null!=(i=i&&"object"==typeof i?i[t[r]]:null));r++);return null==i&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},n}();To(ho),du=ho,Cb=["__\0is_clz",hl++].join("_"),du.prototype[Cb]=!0,du.isInstance=function(n){return!(!n||!n[Cb])},qe(ho,Bw),qe(ho,ZM),qe(ho,nc),qe(ho,Ab);var Ec=Math.round(10*Math.random());function th(n){return[n||"",Ec++].join("_")}function kd(n,t){return rt(rt({},n,!0),t,!0)}var Ad="ZH",Hs="EN",Ws=Hs,Ja={},ac={},Mb=Nt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(Ad)>-1?Ad:Ws;function Vl(n,t){n=n.toUpperCase(),ac[n]=new ho(t),Ja[n]=t}function Md(n){return ac[n]}Vl(Hs,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Vl(Ad,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var zw=1e3,Fw=6e4,iy=36e5,Zg=864e5,KM=31536e6,Kg={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},ry="{yyyy}-{MM}-{dd}",Tb={year:"{yyyy}",month:"{yyyy}-{MM}",day:ry,hour:ry+" "+Kg.hour,minute:ry+" "+Kg.minute,second:ry+" "+Kg.second,millisecond:Kg.none},Eb=["year","month","day","hour","minute","second","millisecond"],QM=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Hl(n,t){return"0000".substr(0,t-(n+="").length)+n}function js(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function Ib(n){return n===js(n)}function Qg(n,t,e,i){var r=Wo(n),o=r[oy(e)](),a=r[kf(e)]()+1,l=Math.floor((a-1)/3)+1,u=r[Td(e)](),f=r["get"+(e?"UTC":"")+"Day"](),g=r[Ed(e)](),y=(g-1)%12+1,w=r[ay(e)](),C=r[Jg(e)](),M=r[em(e)](),O=(i instanceof ho?i:Md(i||Mb)||ac[Ws]).getModel("time"),L=O.get("month"),R=O.get("monthAbbr"),F=O.get("dayOfWeek"),Y=O.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Hl(o%100+"",2)).replace(/{Q}/g,l+"").replace(/{MMMM}/g,L[a-1]).replace(/{MMM}/g,R[a-1]).replace(/{MM}/g,Hl(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Hl(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,F[f]).replace(/{ee}/g,Y[f]).replace(/{e}/g,f+"").replace(/{HH}/g,Hl(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,Hl(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,Hl(w,2)).replace(/{m}/g,w+"").replace(/{ss}/g,Hl(C,2)).replace(/{s}/g,C+"").replace(/{SSS}/g,Hl(M,3)).replace(/{S}/g,M+"")}function Cf(n,t){var e=Wo(n),i=e[kf(t)]()+1,r=e[Td(t)](),o=e[Ed(t)](),a=e[ay(t)](),l=e[Jg(t)](),u=0===e[em(t)](),f=u&&0===l,g=f&&0===a,y=g&&0===o,w=y&&1===r;return w&&1===i?"year":w?"month":y?"day":g?"hour":f?"minute":u?"second":"millisecond"}function Ob(n,t,e){var i=En(n)?Wo(n):n;switch(t=t||Cf(n,e)){case"year":return i[oy(e)]();case"half-year":return i[kf(e)]()>=6?1:0;case"quarter":return Math.floor((i[kf(e)]()+1)/4);case"month":return i[kf(e)]();case"day":return i[Td(e)]();case"half-day":return i[Ed(e)]()/24;case"hour":return i[Ed(e)]();case"minute":return i[ay(e)]();case"second":return i[Jg(e)]();case"millisecond":return i[em(e)]()}}function oy(n){return n?"getUTCFullYear":"getFullYear"}function kf(n){return n?"getUTCMonth":"getMonth"}function Td(n){return n?"getUTCDate":"getDate"}function Ed(n){return n?"getUTCHours":"getHours"}function ay(n){return n?"getUTCMinutes":"getMinutes"}function Jg(n){return n?"getUTCSeconds":"getSeconds"}function em(n){return n?"getUTCMilliseconds":"getMilliseconds"}function Vw(n){return n?"setUTCFullYear":"setFullYear"}function sy(n){return n?"setUTCMonth":"setMonth"}function Db(n){return n?"setUTCDate":"setDate"}function Hw(n){return n?"setUTCHours":"setHours"}function tm(n){return n?"setUTCMinutes":"setMinutes"}function Lb(n){return n?"setUTCSeconds":"setSeconds"}function Ww(n){return n?"setUTCMilliseconds":"setMilliseconds"}function jw(n){if(!Dt(n))return On(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Pb(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,i){return i.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Id=Fr;function yp(n,t,e){function i(f){return f&&Jr(f)?f:"-"}function r(f){return!(null==f||isNaN(f)||!isFinite(f))}var o="time"===t,a=n instanceof Date;if(o||a){var l=o?Wo(n):n;if(!isNaN(+l))return Qg(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(a)return"-"}if("ordinal"===t)return xr(n)?i(n):En(n)&&r(n)?n+"":"-";var u=ze(n);return r(u)?jw(u):xr(n)?i(n):"boolean"==typeof n?n+"":"-"}var Nb=["a","b","c","d","e","f","g"],Rb=function(n,t){return"{"+n+(t??"")+"}"};function Fh(n,t,e){Bt(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=Nb[o];n=n.replace(Rb(a),Rb(a,0))}for(var l=0;l<i;l++)for(var u=0;u<r.length;u++){var f=t[l][r[u]];n=n.replace(Rb(Nb[u],l),e?J(f):f)}return n}function Bb(n,t){var e=On(n)?{color:n,extraCssText:t}:n||{},i=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+J(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+J(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function Od(n,t){return t=t||"transparent",On(n)?n:hi(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function Af(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var ly=pe,cy=["left","right","top","bottom","width","height"],Dd=[["width","left","right"],["height","top","bottom"]];function pu(n,t,e,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var l=0;t.eachChild(function(u,f){var g,y,w=u.getBoundingRect(),C=t.childAt(f+1),M=C&&C.getBoundingRect();if("horizontal"===n){var O=w.width+(M?-M.x+w.x:0);(g=o+O)>i||u.newline?(o=0,g=O,a+=l+e,l=w.height):l=Math.max(l,w.height)}else{var L=w.height+(M?-M.y+w.y:0);(y=a+L)>r||u.newline?(o+=l+e,a=0,y=L,l=w.width):l=Math.max(l,w.width)}u.newline||(u.x=o,u.y=a,u.markRedraw(),"horizontal"===n?o=g+e:a=y+e)})}var Ts=pu;function io(n,t,e){e=Id(e||0);var i=t.width,r=t.height,o=ri(n.left,i),a=ri(n.top,r),l=ri(n.right,i),u=ri(n.bottom,r),f=ri(n.width,i),g=ri(n.height,r),y=e[2]+e[0],w=e[1]+e[3],C=n.aspect;switch(isNaN(f)&&(f=i-l-w-o),isNaN(g)&&(g=r-u-y-a),null!=C&&(isNaN(f)&&isNaN(g)&&(C>i/r?f=.8*i:g=.8*r),isNaN(f)&&(f=C*g),isNaN(g)&&(g=f/C)),isNaN(o)&&(o=i-l-f-w),isNaN(a)&&(a=r-u-g-y),n.left||n.right){case"center":o=i/2-f/2-e[3];break;case"right":o=i-f-w}switch(n.top||n.bottom){case"middle":case"center":a=r/2-g/2-e[0];break;case"bottom":a=r-g-y}o=o||0,a=a||0,isNaN(f)&&(f=i-w-o-(l||0)),isNaN(g)&&(g=r-y-a-(u||0));var M=new lr(o+e[3],a+e[0],f,g);return M.margin=e,M}function nm(n,t,e,i,r,o){var a,l=!r||!r.hv||r.hv[0],u=!r||!r.hv||r.hv[1],f=r&&r.boundingMode||"all";if((o=o||n).x=n.x,o.y=n.y,!l&&!u)return!1;if("raw"===f)a="group"===n.type?new lr(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(a=n.getBoundingRect(),n.needLocalTransform()){var g=n.getLocalTransform();(a=a.clone()).applyTransform(g)}var y=io(It({width:a.width,height:a.height},t),e,i),w=l?y.x-a.x:0,C=u?y.y-a.y:0;return"raw"===f?(o.x=w,o.y=C):(o.x+=w,o.y+=C),o===n&&n.markRedraw(),!0}function im(n){var t=n.layoutMode||n.constructor.layoutMode;return hi(t)?t:t?{type:t}:null}function Vh(n,t,e){var i=e&&e.ignoreSize;!Bt(i)&&(i=[i,i]);var r=a(Dd[0],0),o=a(Dd[1],1);function a(g,y){var w={},C=0,M={},O=0;if(ly(g,function(F){M[F]=n[F]}),ly(g,function(F){l(t,F)&&(w[F]=M[F]=t[F]),u(w,F)&&C++,u(M,F)&&O++}),i[y])return u(t,g[1])?M[g[2]]=null:u(t,g[2])&&(M[g[1]]=null),M;if(2!==O&&C){if(C>=2)return w;for(var L=0;L<g.length;L++){var R=g[L];if(!l(w,R)&&l(n,R)){w[R]=n[R];break}}return w}return M}function l(g,y){return g.hasOwnProperty(y)}function u(g,y){return null!=g[y]&&"auto"!==g[y]}function f(g,y,w){ly(g,function(C){y[C]=w[C]})}f(Dd[0],n,r),f(Dd[1],n,o)}function nh(n){return Yw({},n)}function Yw(n,t){return t&&n&&ly(cy,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}xn(pu,"vertical"),xn(pu,"horizontal");var n,t,JM=nr(),qr=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.uid=th("ec_cpt_model"),o}return Oe(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=im(this),o=r?nh(e):{};rt(e,i.getTheme().get(this.mainType)),rt(e,this.getDefaultOption()),r&&Vh(e,o,r)},t.prototype.mergeOption=function(e,i){rt(this.option,e,!0);var r=im(this);r&&Vh(this.option,e,r)},t.prototype.optionUpdated=function(e,i){},t.prototype.getDefaultOption=function(){var f,e=this.constructor;if(!(f=e)||!f[Sc])return e.defaultOption;var i=JM(this);if(!i.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var l={},u=r.length-1;u>=0;u--)l=rt(l,r[u],!0);i.defaultOption=l}return i.defaultOption},t.prototype.getReferringComponents=function(e,i){var o=e+"Id";return Ra(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(ho);la(qr,ho),qu(qr),t={},(n=qr).registerSubTypeDefaulter=function(e,i){var r=zo(e);t[r.main]=i},n.determineSubType=function(e,i){var r=i.type;if(!r){var o=zo(e).main;n.hasSubTypes(e)&&t[o]&&(r=t[o](i))}return r},function(n,t){function e(i,r){return i[r]||(i[r]={predecessor:[],successor:[]}),i[r]}n.topologicalTravel=function(i,r,o,a){if(i.length){var l=(R={},F=[],pe(L=r,function(Y){var Q,ne,oe,q=e(R,Y),Z=(Q=q.originalDeps=function(n){var t=[];return pe(qr.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=ue(t,function(e){return zo(e).main}),"dataset"!==n&&hn(t,"dataset")<=0&&t.unshift("dataset"),t}(Y),ne=L,oe=[],pe(Q,function(_e){hn(ne,_e)>=0&&oe.push(_e)}),oe);q.entryCount=Z.length,0===q.entryCount&&F.push(Y),pe(Z,function(Q){hn(q.predecessor,Q)<0&&q.predecessor.push(Q);var ne=e(R,Q);hn(ne.successor,Q)<0&&ne.successor.push(Y)})}),{graph:R,noEntryList:F}),u=l.graph,f=l.noEntryList,g={};for(pe(i,function(L){g[L]=!0});f.length;){var y=f.pop(),w=u[y],C=!!g[y];C&&(o.call(a,y,w.originalDeps.slice()),delete g[y]),pe(w.successor,C?O:M)}pe(g,function(){throw new Error("")})}var L,R,F;function M(L){u[L].entryCount--,0===u[L].entryCount&&f.push(L)}function O(L){g[L]=!0,M(L)}}}(qr);var Gw="";typeof navigator<"u"&&(Gw=navigator.platform||"");var Mf="rgba(0, 0, 0, 0.2)",eD={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Mf,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Mf,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Mf,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Mf,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Mf,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Mf,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Gw.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},eT=be(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Ic="original",nl="arrayRows",Oc="objectRows",ih="keyedColumns",rh="typedArray",Xw="unknown",vl="column",Hh="row",zb=1,qw=2,fu=3,tT=nr();function Uw(n,t,e){var i={},r=Fb(t);if(!r||!n)return i;var o,a,l=[],u=[],g=tT(t.ecModel).datasetMap,y=r.uid+"_"+e.seriesLayoutBy;pe(n=n.slice(),function(O,L){var R=hi(O)?O:n[L]={name:O};"ordinal"===R.type&&null==o&&(o=L,a=M(R)),i[R.name]=[]});var w=g.get(y)||g.set(y,{categoryWayDim:a,valueWayDim:0});function C(O,L,R){for(var F=0;F<R;F++)O.push(L+F)}function M(O){var L=O.dimsDef;return L?L.length:1}return pe(n,function(O,L){var R=O.name,F=M(O);if(null==o){var Y=w.valueWayDim;C(i[R],Y,F),C(u,Y,F),w.valueWayDim+=F}else o===L?(C(i[R],0,F),C(l,0,F)):(C(i[R],Y=w.categoryWayDim,F),C(u,Y,F),w.categoryWayDim+=F)}),l.length&&(i.itemName=l),u.length&&(i.seriesName=u),i}function Tf(n,t,e){var i={};if(!Fb(n))return i;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==Oc&&o!==ih||pe(a,function(f,g){"name"===(hi(f)?f.name:f)&&(r=g)});var l=function(){for(var f={},g={},y=[],w=0,C=Math.min(5,e);w<C;w++){var M=Zw(t.data,o,t.seriesLayoutBy,a,t.startIndex,w);y.push(M);var O=M===fu;if(O&&null==f.v&&w!==r&&(f.v=w),(null==f.n||f.n===f.v||!O&&y[f.n]===fu)&&(f.n=w),L(f)&&y[f.n]!==fu)return f;O||(M===qw&&null==g.v&&w!==r&&(g.v=w),null!=g.n&&g.n!==g.v||(g.n=w))}function L(R){return null!=R.v&&null!=R.n}return L(f)?f:L(g)?g:null}();if(l){i.value=[l.v];var u=r??l.n;i.itemName=[u],i.seriesName=[u]}return i}function Fb(n){if(!n.get("data",!0))return Ra(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},_o).models[0]}function $w(n,t){return Zw(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function Zw(n,t,e,i,r,o){var a,l,u;if(jr(n))return fu;if(i){var f=i[o];hi(f)?(l=f.name,u=f.type):On(f)&&(l=f)}if(null!=u)return"ordinal"===u?zb:fu;if(t===nl){var g=n;if(e===Hh){for(var y=g[o],w=0;w<(y||[]).length&&w<5;w++)if(null!=(a=F(y[r+w])))return a}else for(w=0;w<g.length&&w<5;w++){var C=g[r+w];if(C&&null!=(a=F(C[o])))return a}}else if(t===Oc){var M=n;if(!l)return fu;for(w=0;w<M.length&&w<5;w++)if((L=M[w])&&null!=(a=F(L[l])))return a}else if(t===ih){if(!l||!(y=n[l])||jr(y))return fu;for(w=0;w<y.length&&w<5;w++)if(null!=(a=F(y[w])))return a}else if(t===Ic){var O=n;for(w=0;w<O.length&&w<5;w++){var L,R=Tr(L=O[w]);if(!Bt(R))return fu;if(null!=(a=F(R[o])))return a}}function F(Y){var q=On(Y);return null!=Y&&isFinite(Y)&&""!==Y?q?qw:fu:q&&"-"!==Y?zb:void 0}return fu}var uy,rm,Kw,Vb=be(),vi=nr(),Ef=nr(),Hb=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,i){var r=Xi(this.get("color",!0)),o=this.get("colorLayer",!0);return Wb(this,vi,r,o,t,e,i)},n.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,vi)},n}();function om(n,t,e,i){var r=Xi(n.get(["aria","decal","decals"]));return Wb(n,Ef,r,null,t,e,i)}function Wb(n,t,e,i,r,o,a){var l=t(o=o||n),u=l.paletteIdx||0,f=l.paletteNameMap=l.paletteNameMap||{};if(f.hasOwnProperty(r))return f[r];var g=null!=a&&i?function(w,C){for(var M=w.length,O=0;O<M;O++)if(w[O].length>C)return w[O];return w[M-1]}(i,a):e;if((g=g||e)&&g.length){var y=g[u];return r&&(f[r]=y),l.paletteIdx=(u+1)%g.length,y}}var Qw="\0_ec_inner",jb=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.init=function(e,i,r,o,a,l){o=o||{},this.option=null,this._theme=new ho(o),this._locale=new ho(a),this._optionManager=l},t.prototype.setOption=function(e,i,r){var o=Jw(i);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,i){return this._resetOption(e,Jw(i))},t.prototype._resetOption=function(e,i){var r=!1,o=this._optionManager;if(!e||"recreate"===e){var a=o.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(a,i)):Kw(this,a),r=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var l=o.getTimelineOption(this);l&&(r=!0,this._mergeOption(l,i))}if(!e||"recreate"===e||"media"===e){var u=o.getMediaOption(this);u.length&&pe(u,function(f){r=!0,this._mergeOption(f,i)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,l=[],u=be(),f=i&&i.replaceMergeMainTypeMap;tT(this).datasetMap=be(),pe(e,function(g,y){null!=g&&(qr.hasClass(y)?y&&(l.push(y),u.set(y,!0)):r[y]=null==r[y]?Qe(g):rt(r[y],g,!0))}),f&&f.each(function(g,y){qr.hasClass(y)&&!u.get(y)&&(l.push(y),u.set(y,!0))}),qr.topologicalTravel(l,qr.getAllClassMainTypes(),function(g){var q,Z,y=function(Y,q,Z){var Q=Vb.get(q);if(!Q)return Z;var ne=Q(Y);return ne?Z.concat(ne):Z}(this,g,Xi(e[g])),w=o.get(g),M=Mo(w,y,w?f&&f.get(g)?"replaceMerge":"normalMerge":"replaceAll");q=g,Z=qr,pe(M,function(Q){var _e,ke,ne=Q.newOption;hi(ne)&&(Q.keyInfo.mainType=q,Q.keyInfo.subType=(ke=Q.existing,(_e=ne).type?_e.type:ke?ke.subType:Z.determineSubType(q,_e)))}),r[g]=null,o.set(g,null),a.set(g,0);var O,L=[],R=[],F=0;pe(M,function(Y,q){var Z=Y.existing,Q=Y.newOption;if(Q){var oe=qr.getClass(g,Y.keyInfo.subType,!("series"===g));if(!oe)return;if("tooltip"===g){if(O)return;O=!0}if(Z&&Z.constructor===oe)Z.name=Y.keyInfo.name,Z.mergeOption(Q,this),Z.optionUpdated(Q,!1);else{var _e=_t({componentIndex:q},Y.keyInfo);_t(Z=new oe(Q,this,this,_e),_e),Y.brandNew&&(Z.__requireNewView=!0),Z.init(Q,this,this),Z.optionUpdated(null,!0)}}else Z&&(Z.mergeOption({},this),Z.optionUpdated({},!1));Z?(L.push(Z.option),R.push(Z),F++):(L.push(void 0),R.push(void 0))},this),r[g]=L,o.set(g,R),a.set(g,F),"series"===g&&uy(this)},this),this._seriesIndices||uy(this)},t.prototype.getOption=function(){var e=Qe(this.option);return pe(e,function(i,r){if(qr.hasClass(r)){for(var o=Xi(i),a=o.length,l=!1,u=a-1;u>=0;u--)o[u]&&!eo(o[u])?l=!0:(o[u]=null,!l&&a--);o.length=a,e[r]=o}}),delete e[Qw],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,i){var r=this._componentsMap.get(e);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var a=0;a<r.length;a++)if(r[a])return r[a]}},t.prototype.queryComponents=function(e){var i=e.mainType;if(!i)return[];var r,o=e.index,a=e.id,l=e.name,u=this._componentsMap.get(i);return u&&u.length?(null!=o?(r=[],pe(Xi(o),function(f){u[f]&&r.push(u[f])})):r=null!=a?Yb("id",a,u):null!=l?Yb("name",l,u):on(u,function(f){return!!f}),am(r,e)):[]},t.prototype.findComponents=function(e){var i,r,o,a,l,f=e.mainType,g=(r=f+"Index",o=f+"Id",a=f+"Name",!(i=e.query)||null==i[r]&&null==i[o]&&null==i[a]?null:{mainType:f,index:i[r],id:i[o],name:i[a]});return l=am(g?this.queryComponents(g):on(this._componentsMap.get(f),function(w){return!!w}),e),e.filter?on(l,e.filter):l},t.prototype.eachComponent=function(e,i,r){var o=this._componentsMap;if(Ht(e)){var a=i,l=e;o.each(function(y,w){for(var C=0;y&&C<y.length;C++){var M=y[C];M&&l.call(a,w,M,M.componentIndex)}})}else for(var u=On(e)?o.get(e):hi(e)?this.findComponents(e):null,f=0;u&&f<u.length;f++){var g=u[f];g&&i.call(r,g,g.componentIndex)}},t.prototype.getSeriesByName=function(e){var i=Ar(e,null);return on(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return on(this._componentsMap.get("series"),function(i){return!!i&&i.subType===e})},t.prototype.getSeries=function(){return on(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,i){rm(this),pe(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(i,o,r)},this)},t.prototype.eachRawSeries=function(e,i){pe(this._componentsMap.get("series"),function(r){r&&e.call(i,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,i,r){rm(this),pe(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&i.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,i,r){return pe(this.getSeriesByType(e),i,r)},t.prototype.isSeriesFiltered=function(e){return rm(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,i){rm(this);var r=[];pe(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=be(r)},t.prototype.restoreData=function(e){uy(this);var i=this._componentsMap,r=[];i.each(function(o,a){qr.hasClass(a)&&r.push(a)}),qr.topologicalTravel(r,qr.getAllClassMainTypes(),function(o){pe(i.get(o),function(a){!a||"series"===o&&function(l,u){if(u){var f=u.seriesIndex,g=u.seriesId,y=u.seriesName;return null!=f&&l.componentIndex!==f||null!=g&&l.id!==g||null!=y&&l.name!==y}}(a,e)||a.restoreData()})})},t.internalField=(uy=function(e){var i=e._seriesIndices=[];pe(e._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),e._seriesIndicesMap=be(i)},rm=function(e){},void(Kw=function(e,i){e.option={},e.option[Qw]=1,e._componentsMap=be({series:[]}),e._componentsCount=be();var o,l,r=i.aria;hi(r)&&null==r.enabled&&(r.enabled=!0),l=(o=i).color&&!o.colorLayer,pe(e._theme.option,function(u,f){"colorLayer"===f&&l||qr.hasClass(f)||("object"==typeof u?o[f]=o[f]?rt(o[f],u,!1):Qe(u):null==o[f]&&(o[f]=u))}),rt(i,eD,!1),e._mergeOption(i,null)})),t}(ho);function Yb(n,t,e){if(Bt(t)){var i=be();return pe(t,function(o){null!=o&&null!=Ar(o,null)&&i.set(o,!0)}),on(e,function(o){return o&&i.get(o[n])})}var r=Ar(t,null);return on(e,function(o){return o&&null!=r&&o[n]===r})}function am(n,t){return t.hasOwnProperty("subType")?on(n,function(e){return e&&e.subType===t.subType}):n}function Jw(n){var t=be();return n&&pe(Xi(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}qe(jb,Hb);var nT=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],iT=function(n){pe(nT,function(t){this[t]=Et(n[t],n)},this)},hy={},sc=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var i=[];pe(hy,function(r,o){var a=r.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(t,e){pe(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){hy[t]=e},n.get=function(t){return hy[t]},n}(),Gb=/^(min|max)?(.+)$/,sm=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,i){t&&(pe(Xi(t.series),function(a){a&&a.data&&jr(a.data)&&ns(a.data)}),pe(Xi(t.dataset),function(a){a&&a.source&&jr(a.source)&&ns(a.source)})),t=Qe(t);var r=this._optionBackup,o=function(a,l,u){var f,g,y=[],w=a.baseOption,C=a.timeline,M=a.options,O=a.media,L=!!a.media,R=!!(M||C||w&&w.timeline);function F(Y){pe(l,function(q){q(Y,u)})}return w?(g=w).timeline||(g.timeline=C):((R||L)&&(a.options=a.media=null),g=a),L&&Bt(O)&&pe(O,function(Y){Y&&Y.option&&(Y.query?y.push(Y):f||(f=Y))}),F(g),pe(M,function(Y){return F(Y)}),pe(y,function(Y){return F(Y.option)}),{baseOption:g,timelineOptions:M||[],mediaDefault:f,mediaList:y}}(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Qe(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var r=t.getComponent("timeline");r&&(e=Qe(i[r.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var i,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,l=this._mediaDefault,u=[],f=[];if(!a.length&&!l)return f;for(var g=0,y=a.length;g<y;g++)Xb(a[g].query,r,o)&&u.push(g);return!u.length&&l&&(u=[-1]),u.length&&(i=this._currentMediaIndices,u.join(",")!==i.join(","))&&(f=ue(u,function(w){return Qe(-1===w?l.option:a[w].option)})),this._currentMediaIndices=u,f},n}();function Xb(n,t,e){var i={width:t,height:e,aspectratio:t/e},r=!0;return pe(n,function(o,a){var g,y,w,l=a.match(Gb);if(l&&l[1]&&l[2]){var u=l[1],f=l[2].toLowerCase();g=i[f],y=o,("min"===(w=u)?g>=y:"max"===w?g<=y:g===y)||(r=!1)}}),r}var oh=pe,lm=hi,qb=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function eS(n){var t=n&&n.itemStyle;if(t)for(var e=0,i=qb.length;e<i;e++){var r=qb[e],o=t.normal,a=t.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?rt(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?rt(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function il(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var i=n[t].normal,r=n[t].emphasis;i&&(e?(n[t].normal=n[t].emphasis=null,It(n[t],i)):n[t]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[t]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function If(n){il(n,"itemStyle"),il(n,"lineStyle"),il(n,"areaStyle"),il(n,"label"),il(n,"labelLine"),il(n,"upperLabel"),il(n,"edgeLabel")}function Va(n,t){var e=lm(n)&&n[t],i=lm(e)&&e.textStyle;if(i)for(var r=0,o=Vr.length;r<o;r++){var a=Vr[r];i.hasOwnProperty(a)&&(e[a]=i[a])}}function gu(n){n&&(If(n),Va(n,"label"),n.emphasis&&Va(n.emphasis,"label"))}function Ld(n){return Bt(n)?n:n?[n]:[]}function tS(n){return(Bt(n)?n[0]:n)||{}}function iS(n){n&&pe(Ub,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var Ub=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],$b=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],cm=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ah(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<cm.length;e++){var i=cm[e][1];null!=t[i]&&(t[cm[e][0]]=t[i])}}function rT(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function rS(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function oS(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&oS(n[e].children,t)}function oT(n,t){(function nS(n,t){oh(Ld(n.series),function(i){lm(i)&&function(r){if(lm(r)){eS(r),If(r),Va(r,"label"),Va(r,"upperLabel"),Va(r,"edgeLabel"),r.emphasis&&(Va(r.emphasis,"label"),Va(r.emphasis,"upperLabel"),Va(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(eS(o),gu(o));var a=r.markLine;a&&(eS(a),gu(a));var l=r.markArea;l&&gu(l);var u=r.data;if("graph"===r.type){u=u||r.nodes;var f=r.links||r.edges;if(f&&!jr(f))for(var g=0;g<f.length;g++)gu(f[g]);pe(r.categories,function(C){If(C)})}if(u&&!jr(u))for(g=0;g<u.length;g++)gu(u[g]);if((o=r.markPoint)&&o.data){var y=o.data;for(g=0;g<y.length;g++)gu(y[g])}if((a=r.markLine)&&a.data){var w=a.data;for(g=0;g<w.length;g++)Bt(w[g])?(gu(w[g][0]),gu(w[g][1])):gu(w[g])}"gauge"===r.type?(Va(r,"axisLabel"),Va(r,"title"),Va(r,"detail")):"treemap"===r.type?(il(r.breadcrumb,"itemStyle"),pe(r.levels,function(C){If(C)})):"tree"===r.type&&If(r.leaves)}}(i)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),oh(e,function(i){oh(Ld(n[i]),function(r){r&&(Va(r,"axisLabel"),Va(r.axisPointer,"label"))})}),oh(Ld(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Va(r,"axisLabel"),Va(r&&r.axisPointer,"label")}),oh(Ld(n.calendar),function(i){il(i,"itemStyle"),Va(i,"dayLabel"),Va(i,"monthLabel"),Va(i,"yearLabel")}),oh(Ld(n.radar),function(i){Va(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),oh(Ld(n.geo),function(i){lm(i)&&(gu(i),oh(Ld(i.regions),function(r){gu(r)}))}),oh(Ld(n.timeline),function(i){gu(i),il(i,"label"),il(i,"itemStyle"),il(i,"controlStyle",!0);var r=i.data;Bt(r)&&pe(r,function(o){hi(o)&&(il(o,"label"),il(o,"itemStyle"))})}),oh(Ld(n.toolbox),function(i){il(i,"iconStyle"),oh(i.feature,function(r){il(r,"iconStyle")})}),Va(tS(n.axisPointer),"label"),Va(tS(n.tooltip).axisPointer,"label")})(n,t),n.series=Xi(n.series),pe(n.series,function(e){if(hi(e)){var i=e.type;if("line"===i)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=e.clockWise&&(e.clockwise=e.clockWise),rT(e.label),(a=e.data)&&!jr(a))for(var r=0;r<a.length;r++)rT(a[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===i){var o=function(u,f){for(var g="pointer.color".split(","),y=u,w=0;w<g.length&&null!=(y=y&&y[g[w]]);w++);return y}(e);null!=o&&function(u,f,g,y){for(var w,C="itemStyle.color".split(","),M=u,O=0;O<C.length-1;O++)null==M[w=C[O]]&&(M[w]={}),M=M[w];null==M[C[O]]&&(M[C[O]]=g)}(e,0,o)}else if("bar"===i){var a;if(ah(e),ah(e.backgroundStyle),ah(e.emphasis),(a=e.data)&&!jr(a))for(r=0;r<a.length;r++)"object"==typeof a[r]&&(ah(a[r]),ah(a[r]&&a[r].emphasis))}else if("sunburst"===i){var l=e.highlightPolicy;l&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=l)),rS(e),oS(e.data,rS)}else"graph"===i||"sankey"===i?(u=e)&&null!=u.focusNodeAdjacency&&(u.emphasis=u.emphasis||{},null==u.emphasis.focus&&(u.emphasis.focus="adjacency")):"map"===i&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&It(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),iS(e)}var u}),n.dataRange&&(n.visualMap=n.dataRange),pe($b,function(e){var i=n[e];i&&(Bt(i)||(i=[i]),pe(i,function(r){iS(r)}))})}function aS(n){pe(n,function(t,e){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,l=t.isStackedByIndex,u=t.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(f,g,y){var w,C,M=a.get(t.stackedDimension,y);if(isNaN(M))return r;l?C=a.getRawIndex(y):w=a.get(t.stackedByDimension,y);for(var O=NaN,L=e-1;L>=0;L--){var R=n[L];if(l||(C=R.data.rawIndexOf(R.stackedByDimension,w)),C>=0){var F=R.data.getByRawIndex(R.stackResultDimension,C);if("all"===u||"positive"===u&&F>0||"negative"===u&&F<0||"samesign"===u&&M>=0&&F>0||"samesign"===u&&M<=0&&F<0){M=Nv(M,F),O=F;break}}}return i[0]=M,i[1]=O,i})})}var Of,Df,Lf,aT,sS,Zb=function(n){this.data=n.data||(n.sourceFormat===ih?{}:[]),this.sourceFormat=n.sourceFormat||Xw,this.seriesLayoutBy=n.seriesLayoutBy||vl,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var e=0;e<t.length;e++){var i=t[e];null==i.type&&$w(this,e)===zb&&(i.type="ordinal")}};function dy(n){return n instanceof Zb}function Kb(n,t,e){e=e||lS(n);var i=t.seriesLayoutBy,r=function(o,a,l,u,f){var g,y;if(!o)return{dimensionsDefine:sT(f),startIndex:y,dimensionsDetectedCount:g};if(a===nl){var w=o;"auto"===u||null==u?lT(function(M){null!=M&&"-"!==M&&(On(M)?null==y&&(y=1):y=0)},l,w,10):y=En(u)?u:u?1:0,f||1!==y||(f=[],lT(function(M,O){f[O]=null!=M?M+"":""},l,w,1/0)),g=f?f.length:l===Hh?w.length:w[0]?w[0].length:null}else if(a===Oc)f||(f=function(M){for(var O,L=0;L<M.length&&!(O=M[L++]););if(O)return Zt(O)}(o));else if(a===ih)f||(f=[],pe(o,function(M,O){f.push(O)}));else if(a===Ic){var C=Tr(o[0]);g=Bt(C)&&C.length||1}return{startIndex:y,dimensionsDefine:sT(f),dimensionsDetectedCount:g}}(n,e,i,t.sourceHeader,t.dimensions);return new Zb({data:n,sourceFormat:e,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Qe(t)})}function Qb(n){return new Zb({data:n,sourceFormat:jr(n)?rh:Ic})}function lS(n){var t=Xw;if(jr(n))t=rh;else if(Bt(n)){0===n.length&&(t=nl);for(var e=0,i=n.length;e<i;e++){var r=n[e];if(null!=r){if(Bt(r)){t=nl;break}if(hi(r)){t=Oc;break}}}}else if(hi(n))for(var o in n)if(ft(n,o)&&Vt(n[o])){t=ih;break}return t}function sT(n){if(n){var t=be();return ue(n,function(e,i){var r={name:(e=hi(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function lT(n,t,e,i){if(t===Hh)for(var r=0;r<e.length&&r<i;r++)n(e[r]?e[r][0]:null,r);else{var o=e[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function cT(n){var t=n.sourceFormat;return t===Oc||t===ih}var uT=function(){function n(t,e){var i=dy(t)?t:Qb(t);this._source=i;var r=this._data=i.data;i.sourceFormat===rh&&(this._offset=0,this._dimSize=e,this._data=r),sS(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;sS=function(a,l,u){var f=u.sourceFormat,g=u.seriesLayoutBy,y=u.startIndex,w=u.dimensionsDefine;if(_t(a,aT[uS(f,g)]),f===rh)a.getItem=e,a.count=r,a.fillStorage=i;else{var M=cS(f,g);a.getItem=Et(M,null,l,y,w);var O=pT(f,g);a.count=Et(O,null,l,y,w)}};var e=function(a,l){l=l||[];for(var u=this._data,f=this._dimSize,g=f*(a-=this._offset),y=0;y<f;y++)l[y]=u[g+y];return l},i=function(a,l,u,f){for(var g=this._data,y=this._dimSize,w=0;w<y;w++){for(var C=f[w],M=null==C[0]?1/0:C[0],O=null==C[1]?-1/0:C[1],L=l-a,R=u[w],F=0;F<L;F++){var Y=g[F*y+w];R[a+F]=Y,Y<M&&(M=Y),Y>O&&(O=Y)}C[0]=M,C[1]=O}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var l=0;l<a.length;l++)this._data.push(a[l])}(t={})[nl+"_"+vl]={pure:!0,appendData:o},t[nl+"_"+Hh]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Oc]={pure:!0,appendData:o},t[ih]={pure:!0,appendData:function(a){var l=this._data;pe(a,function(u,f){for(var g=l[f]||(l[f]=[]),y=0;y<(u||[]).length;y++)g.push(u[y])})}},t[Ic]={appendData:o},t[rh]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},aT=t}(),n}(),um=function(n,t,e,i){return n[i]},hT=((Of={})[nl+"_"+vl]=function(n,t,e,i){return n[i+t]},Of[nl+"_"+Hh]=function(n,t,e,i,r){i+=t;for(var o=r||[],a=n,l=0;l<a.length;l++){var u=a[l];o[l]=u?u[i]:null}return o},Of[Oc]=um,Of[ih]=function(n,t,e,i,r){for(var o=r||[],a=0;a<e.length;a++){var u=n[e[a].name];o[a]=u?u[i]:null}return o},Of[Ic]=um,Of);function cS(n,t){return hT[uS(n,t)]}var Jb=function(n,t,e){return n.length},dT=((Df={})[nl+"_"+vl]=function(n,t,e){return Math.max(0,n.length-t)},Df[nl+"_"+Hh]=function(n,t,e){var i=n[0];return i?Math.max(0,i.length-t):0},Df[Oc]=Jb,Df[ih]=function(n,t,e){var r=n[e[0].name];return r?r.length:0},Df[Ic]=Jb,Df);function pT(n,t){return dT[uS(n,t)]}var ex=function(n,t,e){return n[t]},fT=((Lf={})[nl]=ex,Lf[Oc]=function(n,t,e){return n[e]},Lf[ih]=ex,Lf[Ic]=function(n,t,e){var i=Tr(n);return i instanceof Array?i[t]:i},Lf[rh]=ex,Lf);function gT(n){return fT[n]}function uS(n,t){return n===nl?n+"_"+t:n}function bp(n,t,e){if(n){var i=n.getRawDataItem(t);if(null!=i){var r=n.getStore(),o=r.getSource().sourceFormat;if(null!=e){var a=n.getDimensionIndex(e),l=r.getDimensionProperty(a);return gT(o)(i,a,l)}var u=i;return o===Ic&&(u=Tr(i)),u}}}var hS=/\{@(.+?)\}/g,tx=function(){function n(){}return n.prototype.getDataParams=function(t,e){var i=this.getData(e),r=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),l=i.getRawDataItem(t),u=i.getItemVisual(t,"style"),f=u&&u[i.getItemVisual(t,"drawType")||"fill"],g=u&&u.stroke,y=this.mainType,w="series"===y,C=i.userOutput&&i.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:w?this.subType:null,seriesIndex:this.seriesIndex,seriesId:w?this.id:null,seriesName:w?this.name:null,name:a,dataIndex:o,data:l,dataType:e,value:r,color:f,borderColor:g,dimensionNames:C?C.fullDimensions:null,encode:C?C.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,i,r,o,a){e=e||"normal";var l=this.getData(i),u=this.getDataParams(t,i);return a&&(u.value=a.interpolatedValue),null!=r&&Bt(u.value)&&(u.value=u.value[r]),o||(o=l.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),Ht(o)?(u.status=e,u.dimensionIndex=r,o(u)):On(o)?Fh(o,u).replace(hS,function(f,g){var y=g.length,w=g;"["===w.charAt(0)&&"]"===w.charAt(y-1)&&(w=+w.slice(1,y-1));var C=bp(l,t,w);if(a&&Bt(a.interpolatedValue)){var M=l.getDimensionIndex(w);M>=0&&(C=a.interpolatedValue[M])}return null!=C?C+"":""}):void 0},n.prototype.getRawValue=function(t,e){return bp(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,i){},n}();function lc(n){var t,e;return hi(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function Wh(n){return new dS(n)}var dS=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e,i=this._upstream,r=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var a,l=y(this._modBy),u=this._modDataCount||0,f=y(t&&t.modBy),g=t&&t.modDataCount||0;function y(F){return!(F>=1)&&(F=1),F}l===f&&u===g||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(r)),this._modBy=f,this._modDataCount=g;var w=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var C=this._dueIndex,M=Math.min(null!=w?this._dueIndex+w:1/0,this._dueEnd);if(!r&&(a||C<M)){var O=this._progress;if(Bt(O))for(var L=0;L<O.length;L++)this._doProgress(O[L],C,M,f,g);else this._doProgress(O,C,M,f,g)}this._dueIndex=M,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:M}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,i,r,o){nx.reset(e,i,r,o),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:nx.next},this.context)},n.prototype._doReset=function(t){var e,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(i=e.forceFirstProgress,e=e.progress),Bt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),nx=function(){var n,t,e,i,r,o={reset:function(u,f,g,y){t=u,n=f,e=g,i=y,r=Math.ceil(i/e),o.next=e>1&&i>0?l:a}};return o;function a(){return t<n?t++:null}function l(){var u=t%r*e+Math.ceil(t/r),f=t>=n?null:u<i?u:t;return t++,f}}();function sh(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"!==e||En(n)||null==n||"-"===n||(n=+Wo(n)),null==n||""===n?NaN:+n)}var pS=be({number:function(n){return parseFloat(n)},time:function(n){return+Wo(n)},trim:function(n){return On(n)?Jr(n):n}});function mT(n){return pS.get(n)}var vT={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},yT=function(){function n(t,e){En(e)||qn(""),this._opFn=vT[t],this._rvalFloat=ze(e)}return n.prototype.evaluate=function(t){return En(t)?this._opFn(t,this._rvalFloat):this._opFn(ze(t),this._rvalFloat)},n}(),ix=function(){function n(t,e){var i="desc"===t;this._resultLT=i?1:-1,null==e&&(e=i?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var i=En(t)?t:ze(t),r=En(e)?e:ze(e),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var l=On(t),u=On(e);l&&(i=u?t:0),u&&(r=l?e:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),Pf=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=ze(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(e=ze(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function bT(n,t){return"eq"===n||"ne"===n?new Pf("eq"===n,t):ft(vT,n)?new yT(n,t):null}var fS=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return sh(t,e)},n}();function xT(n){return vS(n.sourceFormat)||qn(""),n.data}function _T(n){var t=n.sourceFormat,e=n.data;if(vS(t)||qn(""),t===nl){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}if(t===Oc){for(r=[],o=0,a=e.length;o<a;o++)r.push(_t({},e[o]));return r}}function wT(n,t,e){if(null!=e)return En(e)||!isNaN(e)&&!ft(t,e)?n[e]:ft(t,e)?t[e]:void 0}function ST(n){return Qe(n)}var gS=be();function mS(n,t,e,i){t.length||qn(""),hi(n)||qn("");var a=gS.get(n.type);a||qn("");var l=ue(t,function(f){return function(g,y){var w=new fS,C=g.data,M=w.sourceFormat=g.sourceFormat,O=g.startIndex;g.seriesLayoutBy!==vl&&qn("");var R=[],F={},Y=g.dimensionsDefine;if(Y)pe(Y,function(_e,ke){var Ee=_e.name,Re={index:ke,name:Ee,displayName:_e.displayName};R.push(Re),null!=Ee&&(ft(F,Ee)&&qn(""),F[Ee]=Re)});else for(var q=0;q<g.dimensionsDetectedCount;q++)R.push({index:q});var Z=cS(M,vl);y.__isBuiltIn&&(w.getRawDataItem=function(_e){return Z(C,O,R,_e)},w.getRawData=Et(xT,null,g)),w.cloneRawData=Et(_T,null,g);var Q=pT(M,vl);w.count=Et(Q,null,C,O,R);var ne=gT(M);w.retrieveValue=function(_e,ke){var Ee=Z(C,O,R,_e);return oe(Ee,ke)};var oe=w.retrieveValueFromItem=function(_e,ke){if(null!=_e){var Ee=R[ke];return Ee?ne(_e,ke,Ee.name):void 0}};return w.getDimensionInfo=Et(wT,null,R,F),w.cloneAllDimensionInfo=Et(ST,null,R),w}(f,a)});return ue(Xi(a.transform({upstream:l[0],upstreamList:l,config:Qe(n.config)})),function(f,g){var y;hi(f)||qn(""),f.data||qn(""),vS(lS(f.data))||qn("");var C=t[0];if(C&&0===g&&!f.dimensions){var M=C.startIndex;M&&(f.data=C.data.slice(0,M).concat(f.data)),y={seriesLayoutBy:vl,sourceHeader:M,dimensions:C.metaRawOption.dimensions}}else y={seriesLayoutBy:vl,sourceHeader:0,dimensions:f.dimensions};return Kb(f.data,y,null)})}function vS(n){return n===nl||n===Oc}var rx,py="undefined",tD=typeof Uint32Array===py?Array:Uint32Array,CT=typeof Uint16Array===py?Array:Uint16Array,kT=typeof Int32Array===py?Array:Int32Array,fy=typeof Float64Array===py?Array:Float64Array,AT={float:fy,int:kT,ordinal:Array,number:Array,time:fy};function hm(n){return n>65535?tD:CT}function Ys(n,t,e,i,r){var o=AT[e||"float"];if(r){var a=n[t],l=a&&a.length;if(l!==i){for(var u=new o(i),f=0;f<l;f++)u[f]=a[f];n[t]=u}}else n[t]=new o(i)}var yS=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=be()}return n.prototype.initData=function(t,e,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),o=this.defaultDimValueGetter=rx[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],cT(r),this._dimensions=ue(e,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(t);if(null!=o){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},i.set(t,o),this._chunks[o]=new AT[e||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(t,e){var i=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,a=r.ordinalOffset||0,l=i.length;0===a&&(o[t]=[1/0,-1/0]);for(var u=o[t],f=a;f<l;f++){var g=i[f]=e.parseAndCollect(i[f]);isNaN(g)||(u[0]=Math.min(g,u[0]),u[1]=Math.max(g,u[1]))}r.ordinalMeta=e,r.ordinalOffset=l,r.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,i=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(t,e){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,l=this.count(),u=l+Math.max(t.length,e||0),f=0;f<o;f++)Ys(i,f,(M=r[f]).type,u,!0);for(var g=[],y=l;y<u;y++)for(var w=y-l,C=0;C<o;C++){var M=r[C],O=rx.arrayRows.call(this,t[w]||g,M.property,w,C);i[C][y]=O;var L=a[C];O<L[0]&&(L[0]=O),O>L[1]&&(L[1]=O)}return this._rawCount=this._count=u,{start:l,end:u}},n.prototype._initDataFromProvider=function(t,e,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,l=a.length,u=this._rawExtent,f=ue(a,function(F){return F.property}),g=0;g<l;g++){var y=a[g];u[g]||(u[g]=[1/0,-1/0]),Ys(o,g,y.type,e,i)}if(r.fillStorage)r.fillStorage(t,e,o,u);else for(var w=[],C=t;C<e;C++){w=r.getItem(C,w);for(var M=0;M<l;M++){var O=o[M],L=this._dimValueGetter(w,f[M],C,M);O[C]=L;var R=u[M];L<R[0]&&(R[0]=L),L>R[1]&&(R[1]=L)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var i=[],r=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],e));return i},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._chunks[t];return i?i[e]:NaN},n.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var i=0,r=this.count();i<r;i++){var o=this.get(t,i);isNaN(o)||(e+=o)}return e},n.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var i=e.sort(function(o,a){return o-a}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(t,e,i){var r=this._chunks[t],o=[];if(!r)return o;null==i&&(i=1/0);for(var a=1/0,l=-1,u=0,f=0,g=this.count();f<g;f++){var y=e-r[this.getRawIndex(f)],w=Math.abs(y);w<=i&&((w<a||w===a&&y>=0&&l<0)&&(a=w,l=y,u=0),y===l&&(o[u++]=f))}return o.length=u,o},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,r=this._count;if(i===Array){t=new i(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new i(e.buffer,0,r)}else for(t=new(i=hm(this._rawCount))(this.count()),o=0;o<t.length;o++)t[o]=o;return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new(hm(i._rawCount))(r),a=[],l=t.length,u=0,f=t[0],g=i._chunks,y=0;y<r;y++){var w=void 0,C=i.getRawIndex(y);if(0===l)w=e(y);else if(1===l)w=e(g[f][C],y);else{for(var M=0;M<l;M++)a[M]=g[t[M]][C];a[M]=y,w=e.apply(null,a)}w&&(o[u++]=C)}return u<r&&(i._indices=o),i._count=u,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(t){var e=this.clone(),i=e._count;if(!i)return this;var r=Zt(t),o=r.length;if(!o)return this;var a=e.count(),l=new(hm(e._rawCount))(a),u=0,f=r[0],g=t[f][0],y=t[f][1],w=e._chunks,C=!1;if(!e._indices){var M=0;if(1===o){for(var O=w[r[0]],L=0;L<i;L++)((q=O[L])>=g&&q<=y||isNaN(q))&&(l[u++]=M),M++;C=!0}else if(2===o){O=w[r[0]];var R=w[r[1]],F=t[r[1]][0],Y=t[r[1]][1];for(L=0;L<i;L++){var q=O[L],Z=R[L];(q>=g&&q<=y||isNaN(q))&&(Z>=F&&Z<=Y||isNaN(Z))&&(l[u++]=M),M++}C=!0}}if(!C)if(1===o)for(L=0;L<a;L++){var Q=e.getRawIndex(L);((q=w[r[0]][Q])>=g&&q<=y||isNaN(q))&&(l[u++]=Q)}else for(L=0;L<a;L++){for(var ne=!0,oe=(Q=e.getRawIndex(L),0);oe<o;oe++){var _e=r[oe];((q=w[_e][Q])<t[_e][0]||q>t[_e][1])&&(ne=!1)}ne&&(l[u++]=e.getRawIndex(L))}return u<a&&(e._indices=l),e._count=u,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var i=this.clone(t);return this._updateDims(i,t,e),i},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,i){for(var r=t._chunks,o=[],a=e.length,l=t.count(),u=[],f=t._rawExtent,g=0;g<e.length;g++)f[e[g]]=[1/0,-1/0];for(var y=0;y<l;y++){for(var w=t.getRawIndex(y),C=0;C<a;C++)u[C]=r[e[C]][w];u[a]=y;var M=i&&i.apply(null,u);if(null!=M)for("object"!=typeof M&&(o[0]=M,M=o),g=0;g<M.length;g++){var O=e[g],L=M[g],R=f[O],F=r[O];F&&(F[w]=L),L<R[0]&&(R[0]=L),L>R[1]&&(R[1]=L)}}},n.prototype.lttbDownSample=function(t,e){var i,r,o,a=this.clone([t],!0),l=a._chunks[t],u=this.count(),f=0,g=Math.floor(1/e),y=this.getRawIndex(0),w=new(hm(this._rawCount))(Math.min(2*(Math.ceil(u/g)+2),u));w[f++]=y;for(var C=1;C<u-1;C+=g){for(var M=Math.min(C+g,u-1),O=Math.min(C+2*g,u),L=(O+M)/2,R=0,F=M;F<O;F++){var Y=l[ke=this.getRawIndex(F)];isNaN(Y)||(R+=Y)}R/=O-M;var q=C,Z=Math.min(C+g,u),Q=C-1,ne=l[y];i=-1,o=q;var oe=-1,_e=0;for(F=q;F<Z;F++){var ke;Y=l[ke=this.getRawIndex(F)],isNaN(Y)?(_e++,oe<0&&(oe=ke)):(r=Math.abs((Q-L)*(Y-ne)-(Q-F)*(R-ne)))>i&&(i=r,o=ke)}_e>0&&_e<Z-q&&(w[f++]=Math.min(oe,o),o=Math.max(oe,o)),w[f++]=o,y=o}return w[f++]=this.getRawIndex(u-1),a._count=f,a._indices=w,a.getRawIndex=this._getRawIdx,a},n.prototype.downSample=function(t,e,i,r){for(var o=this.clone([t],!0),a=o._chunks,l=[],u=Math.floor(1/e),f=a[t],g=this.count(),y=o._rawExtent[t]=[1/0,-1/0],w=new(hm(this._rawCount))(Math.ceil(g/u)),C=0,M=0;M<g;M+=u){u>g-M&&(l.length=u=g-M);for(var O=0;O<u;O++){var L=this.getRawIndex(M+O);l[O]=f[L]}var R=i(l),F=this.getRawIndex(Math.min(M+r(l,R)||0,g-1));f[F]=R,R<y[0]&&(y[0]=R),R>y[1]&&(y[1]=R),w[C++]=F}return o._count=C,o._indices=w,o._updateGetRawIdx(),o},n.prototype.each=function(t,e){if(this._count)for(var i=t.length,r=this._chunks,o=0,a=this.count();o<a;o++){var l=this.getRawIndex(o);switch(i){case 0:e(o);break;case 1:e(r[t[0]][l],o);break;case 2:e(r[t[0]][l],r[t[1]][l],o);break;default:for(var u=0,f=[];u<i;u++)f[u]=r[t[u]][l];f[u]=o,e.apply(null,f)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],i=[1/0,-1/0];if(!e)return i;var r,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var a=(r=i)[0],l=r[1],u=0;u<o;u++){var f=e[this.getRawIndex(u)];f<a&&(a=f),f>l&&(l=f)}return this._extent[t]=r=[a,l],r},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][e]);return i},n.prototype.clone=function(t,e){var i,r,o=new n,a=this._chunks,l=t&&ln(t,function(f,g){return f[g]=!0,f},{});if(l)for(var u=0;u<a.length;u++)o._chunks[u]=l[u]?(r=void 0,(r=(i=a[u]).constructor)===Array?i.slice():new r(i)):a[u];else o._chunks=a;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Qe(this._extent),t._rawExtent=Qe(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var i=this._indices.length;e=new t(i);for(var r=0;r<i;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,i,r,o){return sh(e[o],this._dimensions[o])}rx={arrayRows:t,objectRows:function(e,i,r,o){return sh(e[i],this._dimensions[o])},keyedColumns:t,original:function(e,i,r,o){var a=e&&(null==e.value?e:e.value);return sh(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(e,i,r,o){return e[o]}}}(),n}(),bS=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,i=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(gy(i)){var a=i,l=void 0,u=void 0,f=void 0;if(o){var g=r[0];g.prepareSource(),l=(f=g.getSource()).data,u=f.sourceFormat,e=[g._getVersionSign()]}else u=jr(l=a.get("data",!0))?rh:Ic,e=[];var y=this._getSourceMetaRawOption()||{},w=f&&f.metaRawOption||{},C=yi(y.seriesLayoutBy,w.seriesLayoutBy)||null,M=yi(y.sourceHeader,w.sourceHeader),O=yi(y.dimensions,w.dimensions);t=C!==w.seriesLayoutBy||!!M!=!!w.sourceHeader||O?[Kb(l,{seriesLayoutBy:C,sourceHeader:M,dimensions:O},u)]:[]}else{var L=i;if(o){var R=this._applyTransform(r);t=R.sourceList,e=R.upstreamSignList}else t=[Kb(L.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(t,e)},n.prototype._applyTransform=function(t){var e,i=this._sourceHost,r=i.get("transform",!0),o=i.get("fromTransformResult",!0);null!=o&&1!==t.length&&_S("");var l,u=[],f=[];return pe(t,function(g){g.prepareSource();var y=g.getSource(o||0);null==o||y||_S(""),u.push(y),f.push(g._getVersionSign())}),r?e=function(g,y,w){var C=Xi(g),M=C.length;M||qn("");for(var L=0,R=M;L<R;L++)y=mS(C[L],y),L!==R-1&&(y.length=Math.max(y.length,1));return y}(r,u):null!=o&&(e=[(l=u[0],new Zb({data:l.data,sourceFormat:l.sourceFormat,seriesLayoutBy:l.seriesLayoutBy,dimensionsDefine:Qe(l.dimensionsDefine),startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:f}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,i){var r=this._storeList,o=r[0];o||(o=r[0]={});var a=o[i];if(!a){var l=this._getUpstreamSourceManagers()[0];gy(this._sourceHost)&&l?a=l._innerGetDataStore(t,e,i):(a=new yS).initData(new uT(e,t.length),t),o[i]=a}return a},n.prototype._getUpstreamSourceManagers=function(){var i,t=this._sourceHost;if(gy(t)){var e=Fb(t);return e?[e.getSourceManager()]:[]}return ue((i=t).get("transform",!0)||i.get("fromTransformResult",!0)?Ra(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},_o).models:[],function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,e,i,r=this._sourceHost;if(gy(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:i}},n}();function xS(n){n.option.transform&&ns(n.option.transform)}function gy(n){return"series"===n.mainType}function _S(n){throw new Error(n)}var MT="line-height:1";function TT(n,t){var e=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,l=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+J(i+"")+"px;color:"+J(e)+";font-weight:"+J(r+""),valueStyle:"font-size:"+J(a+"")+"px;color:"+J(o)+";font-weight:"+J(l+"")}:{nameStyle:{fontSize:i,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:l}}}var nD=[0,10,20,30],iD=["","\n","\n\n","\n\n\n"];function hs(n,t){return t.type=n,t}function wS(n){return"section"===n.type}function ET(n){return wS(n)?IT:OT}function SS(n){if(wS(n)){var t=0,e=n.blocks.length,i=e>1||e>0&&!n.noHeader;return pe(n.blocks,function(r){var o=SS(r);o>=t&&(t=o+ +(i&&(!o||wS(r)&&!r.noHeader)))}),t}return 0}function IT(n,t,e,i){var r,o=t.noHeader,a=(r=SS(t),{html:nD[r],richText:iD[r]}),l=[],u=t.blocks||[];ir(!u||Bt(u)),u=u||[];var f=n.orderMode;if(t.sortBlocks&&f){u=u.slice();var g={valueAsc:"asc",valueDesc:"desc"};if(ft(g,f)){var y=new ix(g[f],null);u.sort(function(O,L){return y.evaluate(O.sortParam,L.sortParam)})}else"seriesDesc"===f&&u.reverse()}pe(u,function(O,L){var R=t.valueFormatter,F=ET(O)(R?_t(_t({},n),{valueFormatter:R}):n,O,L>0?a.html:0,i);null!=F&&l.push(F)});var w="richText"===n.renderMode?l.join(a.richText):ox(l.join(""),o?e:a.html);if(o)return w;var C=yp(t.header,"ordinal",n.useUTC),M=TT(i,n.renderMode).nameStyle;return"richText"===n.renderMode?CS(n,C,M)+a.richText+w:ox('<div style="'+M+";"+MT+';">'+J(C)+"</div>"+w,e)}function OT(n,t,e,i){var q,Z,_e,r=n.renderMode,o=t.noName,a=t.noValue,l=!t.markerType,u=t.name,f=n.useUTC,g=t.valueFormatter||n.valueFormatter||function(q){return ue(q=Bt(q)?q:[q],function(Z,Q){return yp(Z,Bt(C)?C[Q]:C,f)})};if(!o||!a){var y=l?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),w=o?"":yp(u,"ordinal",f),C=t.valueType,M=a?[]:g(t.value),O=!l||!o,L=!l&&o,R=TT(i,r),F=R.nameStyle,Y=R.valueStyle;return"richText"===r?(l?"":y)+(o?"":CS(n,w,F))+(a?"":(q=n,Z=M,_e=[Y],O&&_e.push({padding:[0,0,0,L?10:20],align:"right"}),q.markupStyleCreator.wrapRichTextStyle(Bt(Z)?Z.join("  "):Z,_e))):ox((l?"":y)+(o?"":function(q,Z,Q){return'<span style="'+Q+";"+(Z?"margin-left:2px":"")+'">'+J(q)+"</span>"}(w,!l,F))+(a?"":function(q,Z,Q,ne){return'<span style="'+(Z?"float:right;margin-left:"+(Q?"10px":"20px"):"")+";"+ne+'">'+ue(q=Bt(q)?q:[q],function(ke){return J(ke)}).join("&nbsp;&nbsp;")+"</span>"}(M,O,L,Y)),e)}}function DT(n,t,e,i,r,o){if(n)return ET(n)({useUTC:r,renderMode:e,orderMode:i,markupStyleCreator:t,valueFormatter:n.valueFormatter},n,0,o)}function ox(n,t){return'<div style="margin: '+t+"px 0 0;"+MT+';">'+n+'<div style="clear:both"></div></div>'}function CS(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function Pd(n,t){return Od(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function kS(n,t){return n.get("padding")??("richText"===t?[8,10]:10)}var ax=function(){function n(){this.richTextStyles={},this._nextStyleNameId=yn()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,i){var r="richText"===i?this._generateStyleName():null,o=Bb({color:e,type:t,renderMode:i,markerId:r});return On(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(t,e){var i={};Bt(e)?pe(e,function(o){return _t(i,o)}):_t(i,e);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+t+"}"},n}();function sx(n){var t,e,i,r,o=n.series,a=n.dataIndex,l=n.multipleSeries,u=o.getData(),f=u.mapDimensionsAll("defaultedTooltip"),g=f.length,y=o.getRawValue(a),w=Bt(y),C=Pd(o,a);if(g>1||w&&!g){var M=function(q,Z,Q,ne,oe){var _e=Z.getData(),ke=ln(q,function(mt,St,Tt){var Lt=_e.getDimensionInfo(Tt);return mt||Lt&&!1!==Lt.tooltip&&null!=Lt.displayName},!1),Ee=[],Re=[],Je=[];function st(mt,St){var Tt=_e.getDimensionInfo(St);Tt&&!1!==Tt.otherDims.tooltip&&(ke?Je.push(hs("nameValue",{markerType:"subItem",markerColor:oe,name:Tt.displayName,value:mt,valueType:Tt.type})):(Ee.push(mt),Re.push(Tt.type)))}return ne.length?pe(ne,function(mt){st(bp(_e,Q,mt),mt)}):pe(q,st),{inlineValues:Ee,inlineValueTypes:Re,blocks:Je}}(y,o,a,f,C);t=M.inlineValues,e=M.inlineValueTypes,i=M.blocks,r=M.inlineValues[0]}else if(g){var O=u.getDimensionInfo(f[0]);r=t=bp(u,a,f[0]),e=O.type}else r=t=w?y[0]:y;var L=Nr(o),R=L&&o.name||"",F=u.getName(a),Y=l?R:F;return hs("section",{header:R,noHeader:l||!L,sortParam:r,blocks:[hs("nameValue",{markerType:"item",markerColor:C,name:Y,noName:!Jr(Y),value:t,valueType:e})].concat(i||[])})}var xp=nr();function my(n,t){return n.getName(t)||n.getId(t)}var dm="__universalTransitionEnabled",Io=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Oe(t,n),t.prototype.init=function(e,i,r){this.seriesIndex=this.componentIndex,this.dataTask=Wh({count:_p,reset:PT}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),(xp(this).sourceManager=new bS(this)).prepareSource();var o=this.getInitialData(e,r);RT(o,this),this.dataTask.context.data=o,xp(this).dataBeforeProcessed=o,LT(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=im(this),o=r?nh(e):{},a=this.subType;qr.hasClass(a)&&(a+="Series"),rt(e,i.getTheme().get(this.subType)),rt(e,this.getDefaultOption()),vr(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Vh(e,o,r)},t.prototype.mergeOption=function(e,i){e=rt(this.option,e,!0),this.fillDataTextStyle(e.data);var r=im(this);r&&Vh(this.option,e,r);var o=xp(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,i);RT(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,xp(this).dataBeforeProcessed=a,LT(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!jr(e))for(var i=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&vr(e[r],"label",i)},t.prototype.getInitialData=function(e,i){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var i=Nf(this);if(i){var r=i.context.data;return null==e?r:r.getLinkedData(e)}return xp(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var i=Nf(this);if(i){var r=i.context;r.outputData=e,i!==this.dataTask&&(r.data=e)}xp(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return be(e)},t.prototype.getSourceManager=function(){return xp(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return xp(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,i,r){return sx({series:this,dataIndex:e,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Nt.node&&(!e||!e.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,i,r){var o=this.ecModel,a=Hb.prototype.getColorFromPalette.call(this,e,i,r);return a||(a=o.getColorFromPalette(e,i,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,i){this._innerSelect(this.getData(i),e)},t.prototype.unselect=function(e,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if("series"===o||"all"===r)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var l=0;l<e.length;l++){var u=my(a,e[l]);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(e,i){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],i)?this.unselect(r,i):this.select(r,i)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,i=Zt(e),r=[],o=0;o<i.length;o++){var a=e[i[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return("all"===r||r[my(o,e)])&&!o.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[dm])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,i){var r,o,a=this.option,l=a.selectedMode,u=i.length;if(l&&u)if("series"===l)a.selectedMap="all";else if("multiple"===l){hi(a.selectedMap)||(a.selectedMap={});for(var f=a.selectedMap,g=0;g<u;g++){var y=i[g];f[C=my(e,y)]=!0,this._selectedDataIndicesMap[C]=e.getRawIndex(y)}}else if("single"===l||!0===l){var w=i[u-1],C=my(e,w);a.selectedMap=((r={})[C]=!0,r),this._selectedDataIndicesMap=((o={})[C]=e.getRawIndex(w),o)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var i=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(e,i)}},t.registerClass=function(e){return qr.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(qr);function LT(n){var i,r,o,t=n.name;Nr(n)||(n.name=(r=(i=n.getRawData()).mapDimensionsAll("seriesName"),o=[],pe(r,function(a){var l=i.getDimensionInfo(a);l.displayName&&o.push(l.displayName)}),o.join(" ")||t))}function _p(n){return n.model.getRawData().count()}function PT(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),NT}function NT(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function RT(n,t){pe(at(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,xn(rD,t))})}function rD(n,t){var e=Nf(n);return e&&e.setOutputEnd((t||this).count()),t}function Nf(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var i=e.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}qe(Io,tx),qe(Io,Hb),la(Io,qr);var Bo=function(){function n(){this.group=new Gi,this.uid=th("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){},n.prototype.updateLayout=function(t,e,i,r){},n.prototype.updateVisual=function(t,e,i,r){},n.prototype.toggleBlurSeries=function(t,e,i){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n}();function Rf(){var n=nr();return function(t){var e=n(t),i=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!(!i||!i.large),l=e.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===l)&&"reset"}}To(Bo),qu(Bo);var AS=nr(),wp=Rf(),ao=function(){function n(){this.group=new Gi,this.uid=th("viewChart"),this.renderTask=Wh({plan:TS,reset:BT}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.highlight=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&jh(o,r,"emphasis")},n.prototype.downplay=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&jh(o,r,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateLayout=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateVisual=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.eachRendered=function(t){uu(this.group,t)},n.markUpdateMethod=function(t,e){AS(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function MS(n,t,e){n&&Wv(n)&&("emphasis"===t?_d:wd)(n,e)}function jh(n,t,e){var o,a,i=no(n,t),r=t&&null!=t.highlightKey?(null==(a=lw[o=t.highlightKey])&&sw<=32&&(a=lw[o]=sw++),a):null;null!=i?pe(Xi(i),function(o){MS(n.getItemGraphicEl(o),e,r)}):n.eachItemGraphicEl(function(o){MS(o,e,r)})}function TS(n){return wp(n.model)}function BT(n){var t=n.model,e=n.ecModel,i=n.api,r=n.payload,o=t.pipelineContext.progressiveRender,a=n.view,l=r&&AS(r).updateMethod,u=o?"incrementalPrepareRender":l&&a[l]?l:"render";return"render"!==u&&a[u](t,e,i,r),zT[u]}To(ao),qu(ao);var zT={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},vy="\0__throttleOriginMethod",lx="\0__throttleRate",ES="\0__throttleType";function cx(n,t,e){var i,r,o,a,l,u=0,f=0,g=null;function y(){f=(new Date).getTime(),g=null,n.apply(o,a||[])}t=t||0;var w=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];i=(new Date).getTime(),o=this,a=C;var O=l||t,L=l||e;l=null,r=i-(L?u:f)-O,clearTimeout(g),L?g=setTimeout(y,O):r>=0?y():g=setTimeout(y,-r),u=i};return w.clear=function(){g&&(clearTimeout(g),g=null)},w.debounceNextCall=function(C){l=C},w}function pm(n,t,e,i){var r=n[t];if(r){var o=r[vy]||r;if(r[lx]!==e||r[ES]!==i){if(null==e||!i)return n[t]=o;(r=n[t]=cx(o,e,"debounce"===i))[vy]=o,r[ES]=i,r[lx]=e}return r}}function yy(n,t){var e=n[t];e&&e[vy]&&(e.clear&&e.clear(),n[t]=e[vy])}var by=nr(),ux={itemStyle:tc(eh,!0),lineStyle:tc(Rw,!0)},IS={lineStyle:"stroke",itemStyle:"fill"};function FT(n,t){return n.visualStyleMapper||ux[t]||(console.warn("Unknown style type '"+t+"'."),ux.itemStyle)}function VT(n,t){return n.visualDrawType||IS[t]||(console.warn("Unknown style type '"+t+"'."),"fill")}var HT={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=FT(n,i)(r),a=r.getShallow("decal");a&&(e.setVisual("decal",a),a.dirty=!0);var l=VT(n,i),u=o[l],f=Ht(u)?u:null;if(!o[l]||f||"auto"===o.fill||"auto"===o.stroke){var y=n.getColorFromPalette(n.name,null,t.getSeriesCount());o[l]||(o[l]=y,e.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||Ht(o.fill)?y:o.fill,o.stroke="auto"===o.stroke||Ht(o.stroke)?y:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",l),!t.isSeriesFiltered(n)&&f)return e.setVisual("colorFromPalette",!1),{dataEach:function(w,C){var M=n.getDataParams(C),O=_t({},o);O[l]=f(M),w.setItemVisual(C,"style",O)}}}},fm=new ho,WT={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=FT(n,i),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(a,l){var u=a.getRawDataItem(l);if(u&&u[i]){fm.option=u[i];var f=r(fm);_t(a.ensureUniqueItemVisual(l,"style"),f),fm.option.decal&&(a.setItemVisual(l,"decal",fm.option.decal),fm.option.decal.dirty=!0),o in f&&a.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},jT={performRawSeries:!0,overallReset:function(n){var t=be();n.eachSeries(function(e){var i=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+i,o=t.get(r);o||t.set(r,o={}),by(e).scope=o}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var i=e.getRawData(),r={},o=e.getData(),a=by(e).scope,u=VT(e,e.visualStyleAccessPath||"itemStyle");o.each(function(f){var g=o.getRawIndex(f);r[g]=f}),i.each(function(f){var g=r[f];if(o.getItemVisual(g,"colorFromPalette")){var y=o.ensureUniqueItemVisual(g,"style"),w=i.getName(f)||f+"",C=i.count();y[u]=e.getColorFromPalette(w,a,C)}})}})}},gm=Math.PI,OS=function(){function n(t,e,i,r){this._stageTaskMap=be(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),r=i.context,o=!e&&i.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,a=r&&r.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),r=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&r>=i.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),l="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:l,large:a}},n.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=be();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;pe(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{});ir(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,e,i),r.overallReset&&this._createOverallStageTask(r,o,e,i)},this)},n.prototype.prepareView=function(t,e,i,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},n.prototype._performStageTasks=function(t,e,i,r){r=r||{};var o=!1,a=this;function l(u,f){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(f.__pipeline.id))}pe(t,function(u,f){if(!r.visualType||r.visualType===u.visualType){var g=a._stageTaskMap.get(u.uid),y=g.seriesTaskMap,w=g.overallTask;if(w){var C,M=w.agentStubMap;M.each(function(L){l(r,L)&&(L.dirty(),C=!0)}),C&&w.dirty(),a.updatePayload(w,i);var O=a.getPerformArgs(w,r.block);M.each(function(L){L.perform(O)}),w.perform(O)&&(o=!0)}else y&&y.each(function(L,R){l(r,L)&&L.dirty();var F=a.getPerformArgs(L,r.block);F.skip=!u.performRawSeries&&e.isSeriesFiltered(L.context.model),a.updatePayload(L,i),L.perform(F)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(i){e=i.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,i,r){var o=this,a=e.seriesTaskMap,l=e.seriesTaskMap=be(),u=t.seriesType,f=t.getTargetSeries;function g(y){var w=y.uid,C=l.set(w,a&&a.get(w)||Wh({plan:GT,reset:XT,count:oD}));C.context={model:y,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(y,C)}t.createOnAllSeries?i.eachRawSeries(g):u?i.eachRawSeriesByType(u,g):f&&f(i,r).each(g)},n.prototype._createOverallStageTask=function(t,e,i,r){var o=this,a=e.overallTask=e.overallTask||Wh({reset:YT});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:o};var l=a.agentStubMap,u=a.agentStubMap=be(),f=t.seriesType,g=t.getTargetSeries,y=!0,w=!1;function M(O){var L=O.uid,R=u.set(L,l&&l.get(L)||(w=!0,Wh({reset:xy,onDirty:DS})));R.context={model:O,overallProgress:y},R.agent=a,R.__block=y,o._pipe(O,R)}ir(!t.createOnAllSeries,""),f?i.eachRawSeriesByType(f,M):g?g(i,r).each(M):(y=!1,pe(i.getSeries(),M)),w&&a.dirty()},n.prototype._pipe=function(t,e){var r=this._pipelineMap.get(t.uid);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},n.wrapStageHandler=function(t,e){return Ht(t)&&(t={overallReset:t,seriesType:UT(t)}),t.uid=th("stageHandler"),e&&(t.visualType=e),t},n}();function YT(n){n.overallReset(n.ecModel,n.api,n.payload)}function xy(n){return n.overallProgress&&_y}function _y(){this.agent.dirty(),this.getDownstream().dirty()}function DS(){this.agent&&this.agent.dirty()}function GT(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function XT(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=Xi(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?ue(t,function(e,i){return LS(i)}):qT}var qT=LS(0);function LS(n){return function(t,e){var i=e.data,r=e.resetDefines[n];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function oD(n){return n.data.count()}function UT(n){Bf=null;try{n(zf,hx)}catch{}return Bf}var Bf,zf={},hx={};function $T(n,t){for(var e in t.prototype)n[e]=At}$T(zf,jb),$T(hx,iT),zf.eachSeriesByType=zf.eachRawSeriesByType=function(n){Bf=n},zf.eachComponent=function(n){"series"===n.mainType&&n.subType&&(Bf=n.subType)};var PS=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],ZT={color:PS,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],PS]},Wl="#B9B8CE",NS="#100C2A",dx=function(){return{axisLine:{lineStyle:{color:Wl}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Sp=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],KT={darkMode:!0,color:Sp,backgroundColor:NS,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Wl}},textStyle:{color:Wl},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Wl}},dataZoom:{borderColor:"#71708A",textStyle:{color:Wl},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Wl}},timeline:{lineStyle:{color:Wl},label:{color:Wl},controlStyle:{color:Wl,borderColor:Wl}},calendar:{itemStyle:{color:NS},dayLabel:{color:Wl},monthLabel:{color:Wl},yearLabel:{color:Wl}},timeAxis:dx(),logAxis:dx(),valueAxis:dx(),categoryAxis:dx(),line:{symbol:"circle"},graph:{color:Sp},gauge:{title:{color:Wl},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Wl},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};KT.categoryAxis.splitLine.show=!1;var Ff=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},i={},r={};if(On(t)){var o=zo(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};pe(t,function(u,f){for(var g=!1,y=0;y<a.length;y++){var w=a[y],C=f.lastIndexOf(w);if(C>0&&C===f.length-w.length){var M=f.slice(0,C);"data"!==M&&(e.mainType=M,e[w.toLowerCase()]=u,g=!0)}}l.hasOwnProperty(f)&&(i[f]=u,g=!0),g||(r[f]=u)})}return{cptQuery:e,dataQuery:i,otherQuery:r}},n.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,l=i.view;if(!a||!l)return!0;var u=e.cptQuery,f=e.dataQuery;return g(u,a,"mainType")&&g(u,a,"subType")&&g(u,a,"index","componentIndex")&&g(u,a,"name")&&g(u,a,"id")&&g(f,o,"name")&&g(f,o,"dataIndex")&&g(f,o,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,e.otherQuery,r,o));function g(y,w,C,M){return null==y[C]||w[M||C]===y[C]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),px=["symbol","symbolSize","symbolRotate","symbolOffset"],Nd=px.concat(["symbolKeepAspect"]),Dc={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<px.length;a++){var l=px[a],u=n.get(l);Ht(u)?(o=!0,r[l]=u):i[l]=u}if(i.symbol=i.symbol||n.defaultSymbol,e.setVisual(_t({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!t.isSeriesFiltered(n)){var f=Zt(r);return{dataEach:o?function(g,y){for(var w=n.getRawValue(y),C=n.getDataParams(y),M=0;M<f.length;M++){var O=f[M];g.setItemVisual(y,O,r[O](w,C))}}:null}}}}},QT={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(e,i){for(var r=e.getItemModel(i),o=0;o<Nd.length;o++){var a=Nd[o],l=r.getShallow(a,!0);null!=l&&e.setItemVisual(i,a,l)}}:null}}};function fx(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function mm(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function gx(n,t,e,i){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=i,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,i)}}function JT(n,t){function e(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}pe([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){t(i[0],function(r,o,a){r=_t({},r),a.dispatchAction(_t(r,{type:i[1],seriesIndex:e(o,r)}))})})}function Rd(n,t,e,i,r){var o=n+t;e.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var l=a.seriesIndex,u=a.option.selectedMap,f=r.selected,g=0;g<f.length;g++)if(f[g].seriesIndex===l){var y=a.getData(),w=no(y,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:Bt(w)?y.getName(w[0]):y.getName(w),selected:On(u)?u:_t({},u)})}})}function Bd(n,t,e){for(var i;n&&(!t(n)||(i=n,!e));)n=n.__hostTarget||n.parent;return i}var e2=Math.round(9*Math.random()),t2="function"==typeof Object.defineProperty,n2=function(){function n(){this._id="__ec_inner_"+e2++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var i=this._guard(t);return t2?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),aD=hr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i+o),n.lineTo(e-r,i+o),n.closePath()}}),i2=hr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i),n.lineTo(e,i+o),n.lineTo(e-r,i),n.closePath()}}),RS=hr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,l=a*a/(o-a),u=i-o+a+l,f=Math.asin(l/a),g=Math.cos(f)*a,y=Math.sin(f),w=Math.cos(f),C=.6*a,M=.7*a;n.moveTo(e-g,u+l),n.arc(e,u,a,Math.PI-f,2*Math.PI+f),n.bezierCurveTo(e+g-y*C,u+l+w*C,e,i-M,e,i),n.bezierCurveTo(e,i-M,e-g+y*C,u+l+w*C,e-g,u+l),n.closePath()}}),r2=hr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,r=t.x,o=t.y,a=t.width/3*2;n.moveTo(r,o),n.lineTo(r+a,o+e),n.lineTo(r,o+e/4*3),n.lineTo(r-a,o+e),n.lineTo(r,o),n.closePath()}}),BS={line:function(n,t,e,i,r){r.x1=n,r.y1=t+i/2,r.x2=n+e,r.y2=t+i/2},rect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i},roundRect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i,r.r=Math.min(e,i)/4},square:function(n,t,e,i,r){var o=Math.min(e,i);r.x=n,r.y=t,r.width=o,r.height=o},circle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.r=Math.min(e,i)/2},diamond:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i},pin:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},arrow:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},triangle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i}},Cp={};pe({line:cs,rect:Zr,roundRect:Zr,square:Zr,circle:au,diamond:i2,pin:RS,arrow:r2,triangle:aD},function(n,t){Cp[t]=new n});var mx=hr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var i=Vu(n,t,e),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.position&&(i.y=e.y+.4*e.height),i},buildPath:function(n,t,e){var i=t.symbolType;if("none"!==i){var r=Cp[i];r||(r=Cp[i="rect"]),BS[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,e)}}});function o2(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function Da(n,t,e,i,r,o,a){var l,u=0===n.indexOf("empty");return u&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?Ow(n.slice(8),new lr(t,e,i,r),a?"center":"cover"):0===n.indexOf("path://")?Jv(n.slice(7),{},new lr(t,e,i,r),a?"center":"cover"):new mx({shape:{symbolType:n,x:t,y:e,width:i,height:r}})).__isEmptyBrush=u,l.setColor=o2,o&&l.setColor(o),l}function kp(n){return Bt(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Ap(n,t){if(null!=n)return Bt(n)||(n=[n,n]),[ri(n[0],t[0])||0,ri(yi(n[1],n[0]),t[1])||0]}function Mp(n){return isFinite(n)}function wy(n,t,e){for(var i="radial"===t.type?(a=n,l=t,void 0,void 0,void 0,w=void 0,C=void 0,M=void 0,f=(u=e).width,g=u.height,y=Math.min(f,g),w=null==l.x?.5:l.x,C=null==l.y?.5:l.y,M=null==l.r?.5:l.r,l.global||(w=w*f+u.x,C=C*g+u.y,M*=y),w=Mp(w)?w:.5,C=Mp(C)?C:.5,M=M>=0&&Mp(M)?M:.5,a.createRadialGradient(w,C,0,w,C,M)):function(a,l,u){var f=null==l.x?0:l.x,g=null==l.x2?1:l.x2,y=null==l.y?0:l.y,w=null==l.y2?0:l.y2;return l.global||(f=f*u.width+u.x,g=g*u.width+u.x,y=y*u.height+u.y,w=w*u.height+u.y),f=Mp(f)?f:0,g=Mp(g)?g:1,y=Mp(y)?y:0,w=Mp(w)?w:0,a.createLinearGradient(f,y,g,w)}(n,t,e),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);var a,l,u,f,g,y,w,C,M;return i}function Sy(n){return parseInt(n,10)}function vm(n,t,e){var i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var l=document.defaultView.getComputedStyle(n);return(n[r]||Sy(l[i])||Sy(n.style[i]))-(Sy(l[o])||0)-(Sy(l[a])||0)|0}function vx(n){var t,e,i=n.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineWidth,(t=i.lineDash)&&"solid"!==t&&e>0?"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:En(t)?[t]:Bt(t)?t:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&n.getLineScale?n.getLineScale():1;a&&1!==a&&(r=ue(r,function(l){return l/a}),o/=a)}return[r,o]}var zS=new gn(!0);function Cy(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function FS(n){return"string"==typeof n&&"none"!==n}function yx(n){var t=n.fill;return null!=t&&"none"!==t}function bx(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function a2(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function xx(n,t,e){var i=Uu(t.image,t.__image,e);if(Fs(i)){var r=n.createPattern(i,t.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*Ft),o.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(o)}return r}}var _x=["shadowBlur","shadowOffsetX","shadowOffsetY"],ky=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function VS(n,t,e,i,r){var o=!1;if(!i&&t===(e=e||{}))return!1;if(i||t.opacity!==e.opacity){ds(n,r),o=!0;var a=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(a)?nu.opacity:a}(i||t.blend!==e.blend)&&(o||(ds(n,r),o=!0),n.globalCompositeOperation=t.blend||nu.blend);for(var l=0;l<_x.length;l++){var u=_x[l];(i||t[u]!==e[u])&&(o||(ds(n,r),o=!0),n[u]=n.dpr*(t[u]||0))}return(i||t.shadowColor!==e.shadowColor)&&(o||(ds(n,r),o=!0),n.shadowColor=t.shadowColor||nu.shadowColor),o}function s2(n,t,e,i,r){var o=Ay(t,r.inHover),a=i?null:e&&Ay(e,r.inHover)||{};if(o===a)return!1;var l=VS(n,o,a,i,r);if((i||o.fill!==a.fill)&&(l||(ds(n,r),l=!0),FS(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(l||(ds(n,r),l=!0),FS(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(l||(ds(n,r),l=!0),n.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var u=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==u&&(l||(ds(n,r),l=!0),n.lineWidth=u)}for(var f=0;f<ky.length;f++){var g=ky[f],y=g[0];(i||o[y]!==a[y])&&(l||(ds(n,r),l=!0),n[y]=o[y]||g[1])}return l}function Sx(n,t){var e=t.transform,i=n.dpr||1;e?n.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):n.setTransform(i,0,0,i,0,0)}function ds(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function Ay(n,t){return t&&n.__hoverStyle||n.style}function HS(n,t){zd(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function zd(n,t,e,i){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var M,O,L,o=t.__clipPaths,a=e.prevElClipPaths,l=!1,u=!1;if(a&&!function(M,O){if(M===O||!M&&!O)return!1;if(!M||!O||M.length!==O.length)return!0;for(var L=0;L<M.length;L++)if(M[L]!==O[L])return!0;return!1}(o,a)||(a&&a.length&&(ds(n,e),n.restore(),u=l=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(ds(n,e),n.save(),function(M,O,L){for(var R=!1,F=0;F<M.length;F++){var Y=M[F];R=R||Y.isZeroArea(),Sx(O,Y),O.beginPath(),Y.buildPath(O,Y.shape),O.clip()}L.allClipped=R}(o,n,e),l=!0),e.prevElClipPaths=o),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var f=e.prevEl;f||(u=l=!0);var g,y,w=t instanceof hr&&t.autoBatch&&(O=yx(M=t.style),L=Cy(M),!(M.lineDash||!(+O^+L)||O&&"string"!=typeof M.fill||L&&"string"!=typeof M.stroke||M.strokePercent<1||M.strokeOpacity<1||M.fillOpacity<1));l||(y=f.transform,(g=r)&&y?g[0]!==y[0]||g[1]!==y[1]||g[2]!==y[2]||g[3]!==y[3]||g[4]!==y[4]||g[5]!==y[5]:g||y)?(ds(n,e),Sx(n,t)):w||ds(n,e);var C=Ay(t,e.inHover);t instanceof hr?(1!==e.lastDrawType&&(u=!0,e.lastDrawType=1),s2(n,t,f,u,e),w&&(e.batchFill||e.batchStroke)||n.beginPath(),function(M,O,L,R){var F,Y=Cy(L),q=yx(L),Z=L.strokePercent,Q=Z<1,ne=!O.path;O.silent&&!Q||!ne||O.createPathProxy();var oe=O.path||zS,_e=O.__dirty;if(!R){var ke=L.fill,Ee=L.stroke,Re=q&&!!ke.colorStops,Je=Y&&!!Ee.colorStops,st=q&&!!ke.image,mt=Y&&!!Ee.image,St=void 0,Tt=void 0,Lt=void 0,$t=void 0,nn=void 0;(Re||Je)&&(nn=O.getBoundingRect()),Re&&(St=_e?wy(M,ke,nn):O.__canvasFillGradient,O.__canvasFillGradient=St),Je&&(Tt=_e?wy(M,Ee,nn):O.__canvasStrokeGradient,O.__canvasStrokeGradient=Tt),st&&(Lt=_e||!O.__canvasFillPattern?xx(M,ke,O):O.__canvasFillPattern,O.__canvasFillPattern=Lt),mt&&($t=_e||!O.__canvasStrokePattern?xx(M,Ee,O):O.__canvasStrokePattern,O.__canvasStrokePattern=Lt),Re?M.fillStyle=St:st&&(Lt?M.fillStyle=Lt:q=!1),Je?M.strokeStyle=Tt:mt&&($t?M.strokeStyle=$t:Y=!1)}var an,kn,jn=O.getGlobalScale();oe.setScale(jn[0],jn[1],O.segmentIgnoreThreshold),M.setLineDash&&L.lineDash&&(an=(F=vx(O))[0],kn=F[1]);var cn=!0;(ne||4&_e)&&(oe.setDPR(M.dpr),Q?oe.setContext(null):(oe.setContext(M),cn=!1),oe.reset(),O.buildPath(oe,O.shape,R),oe.toStatic(),O.pathUpdated()),cn&&oe.rebuildPath(M,Q?Z:1),an&&(M.setLineDash(an),M.lineDashOffset=kn),R||(L.strokeFirst?(Y&&a2(M,L),q&&bx(M,L)):(q&&bx(M,L),Y&&a2(M,L))),an&&M.setLineDash([])}(n,t,C,w),w&&(e.batchFill=C.fill||"",e.batchStroke=C.stroke||"")):t instanceof As?(3!==e.lastDrawType&&(u=!0,e.lastDrawType=3),s2(n,t,f,u,e),function(M,O,L){var R,F=L.text;if(null!=F&&(F+=""),F){M.font=L.font||gt,M.textAlign=L.textAlign,M.textBaseline=L.textBaseline;var Y=void 0,q=void 0;M.setLineDash&&L.lineDash&&(Y=(R=vx(O))[0],q=R[1]),Y&&(M.setLineDash(Y),M.lineDashOffset=q),L.strokeFirst?(Cy(L)&&M.strokeText(F,L.x,L.y),yx(L)&&M.fillText(F,L.x,L.y)):(yx(L)&&M.fillText(F,L.x,L.y),Cy(L)&&M.strokeText(F,L.x,L.y)),Y&&M.setLineDash([])}}(n,t,C)):t instanceof ls?(2!==e.lastDrawType&&(u=!0,e.lastDrawType=2),function(M,O,L,R,F){VS(M,Ay(O,F.inHover),L&&Ay(L,F.inHover),R,F)}(n,t,f,u,e),function(M,O,L){var R=O.__image=Uu(L.image,O.__image,O,O.onload);if(R&&Fs(R)){var F=L.x||0,Y=L.y||0,q=O.getWidth(),Z=O.getHeight(),Q=R.width/R.height;if(null==q&&null!=Z?q=Z*Q:null==Z&&null!=q?Z=q/Q:null==q&&null==Z&&(q=R.width,Z=R.height),L.sWidth&&L.sHeight){var ne=L.sx||0,oe=L.sy||0;M.drawImage(R,ne,oe,L.sWidth,L.sHeight,F,Y,q,Z)}else if(L.sx&&L.sy){var _e=q-(ne=L.sx),ke=Z-(oe=L.sy);M.drawImage(R,ne,oe,_e,ke,F,Y,q,Z)}else M.drawImage(R,F,Y,q,Z)}}(n,t,C)):t.getTemporalDisplayables&&(4!==e.lastDrawType&&(u=!0,e.lastDrawType=4),function(M,O,L){var R=O.getDisplayables(),F=O.getTemporalDisplayables();M.save();var Y,q,Z={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:L.viewWidth,viewHeight:L.viewHeight,inHover:L.inHover};for(Y=O.getCursor(),q=R.length;Y<q;Y++)(oe=R[Y]).beforeBrush&&oe.beforeBrush(),oe.innerBeforeBrush(),zd(M,oe,Z,Y===q-1),oe.innerAfterBrush(),oe.afterBrush&&oe.afterBrush(),Z.prevEl=oe;for(var Q=0,ne=F.length;Q<ne;Q++){var oe;(oe=F[Q]).beforeBrush&&oe.beforeBrush(),oe.innerBeforeBrush(),zd(M,oe,Z,Q===ne-1),oe.innerAfterBrush(),oe.afterBrush&&oe.afterBrush(),Z.prevEl=oe}O.clearTemporalDisplayables(),O.notClear=!0,M.restore()}(n,t,e)),w&&i&&ds(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var Cx=new n2,WS=new Po(100),jS=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Vf(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),i=t.getZr(),r="svg"===i.painter.type;n.dirty&&Cx.delete(n);var o=Cx.get(n);if(o)return o;var a=It(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var l={repeat:"repeat"};return function(u){for(var f,g=[e],y=!0,w=0;w<jS.length;++w){var C=a[jS[w]];if(null!=C&&!Bt(C)&&!On(C)&&!En(C)&&"boolean"!=typeof C){y=!1;break}g.push(C)}if(y){f=g.join(",")+(r?"-svg":"");var M=WS.get(f);M&&(r?u.svgElement=M:u.image=M)}var O,L=YS(a.dashArrayX),R=function(_e){if(!_e||"object"==typeof _e&&0===_e.length)return[0,0];if(En(_e)){var ke=Math.ceil(_e);return[ke,ke]}var Ee=ue(_e,function(Re){return Math.ceil(Re)});return _e.length%2?Ee.concat(Ee):Ee}(a.dashArrayY),F=kx(a.symbol),Y=ue(L,function(_e){return ym(_e)}),q=ym(R),Z=!r&&ge.createCanvas(),Q=r&&{tag:"g",attrs:{},key:"dcl",children:[]},ne=function(){for(var _e=1,ke=0,Ee=Y.length;ke<Ee;++ke)_e=Ln(_e,Y[ke]);var Re=1;for(ke=0,Ee=F.length;ke<Ee;++ke)Re=Ln(Re,F[ke].length);_e*=Re;var Je=q*Y.length*F.length;return{width:Math.max(1,Math.min(_e,a.maxTileWidth)),height:Math.max(1,Math.min(Je,a.maxTileHeight))}}();Z&&(Z.width=ne.width*e,Z.height=ne.height*e,O=Z.getContext("2d")),function(){O&&(O.clearRect(0,0,Z.width,Z.height),a.backgroundColor&&(O.fillStyle=a.backgroundColor,O.fillRect(0,0,Z.width,Z.height)));for(var _e=0,ke=0;ke<R.length;++ke)_e+=R[ke];if(!(_e<=0))for(var Ee=-q,Re=0,Je=0,st=0;Ee<ne.height;){if(Re%2==0){for(var mt=Je/2%F.length,St=0,Tt=0,Lt=0;St<2*ne.width;){var $t=0;for(ke=0;ke<L[st].length;++ke)$t+=L[st][ke];if($t<=0)break;if(Tt%2==0){var nn=.5*(1-a.symbolSize);Yn(St+L[st][Tt]*nn,Ee+R[Re]*nn,L[st][Tt]*a.symbolSize,R[Re]*a.symbolSize,F[mt][Lt/2%F[mt].length])}St+=L[st][Tt],++Lt,++Tt===L[st].length&&(Tt=0)}++st===L.length&&(st=0)}Ee+=R[Re],++Je,++Re===R.length&&(Re=0)}function Yn(Zn,Wn,oi,Un,ui){var Ti=r?1:e,yr=Da(ui,Zn*Ti,Wn*Ti,oi*Ti,Un*Ti,a.color,a.symbolKeepAspect);if(r){var Er=i.painter.renderOneToVNode(yr);Er&&Q.children.push(Er)}else HS(O,yr)}}(),y&&WS.put(f,Z||Q),u.image=Z,u.svgElement=Q,u.svgWidth=ne.width,u.svgHeight=ne.height}(l),l.rotation=a.rotation,l.scaleX=l.scaleY=r?1:1/e,Cx.set(n,l),n.dirty=!1,l}function kx(n){if(!n||0===n.length)return[["rect"]];if(On(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!On(n[e])){t=!1;break}if(t)return kx([n]);var i=[];for(e=0;e<n.length;++e)On(n[e])?i.push([n[e]]):i.push(n[e]);return i}function YS(n){if(!n||0===n.length)return[[0,0]];if(En(n))return[[r=Math.ceil(n),r]];for(var t=!0,e=0;e<n.length;++e)if(!En(n[e])){t=!1;break}if(t)return YS([n]);var i=[];for(e=0;e<n.length;++e)if(En(n[e])){var r=Math.ceil(n[e]);i.push([r,r])}else(r=ue(n[e],function(o){return Math.ceil(o)})).length%2==1?i.push(r.concat(r)):i.push(r);return i}function ym(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}var lh=new h,Ax={};function Mx(n){return Ax[n]}var l2={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},yl="__flagInMainProcess",bl="__pendingUpdate",Tx="__needsUpdateStatus",c2=/^[a-zA-Z0-9_]+$/,GS="__connectUpdateStatus";function Ex(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return Ty(this,n,t)}}function u2(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ty(this,n,t)}}function Ty(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),h.prototype[t].apply(n,e)}var Tp,Ix,xm,Yh,Ox,Ey,_m,wm,cc,Dx,Sm,Lx,Px,Cm,Nx,XS,Lc,h2,qS=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t}(h),US=qS.prototype;US.on=u2("on"),US.off=u2("off");var Iy=function(n){function t(e,i,r){var o=n.call(this,new Ff)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},On(i)&&(i=zx[i]),o._dom=e;var f=o._zr=Wu(e,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:yi(r.useDirtyRect,!1),useCoarsePointer:yi(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=cx(Et(f.flush,f),17),(i=Qe(i))&&oT(i,!0),o._theme=i,o._locale=function(w){if(On(w)){var C=Ja[w.toUpperCase()]||{};return w===Ad||w===Hs?Qe(C):rt(Qe(C),Qe(Ja[Ws]),!1)}return rt(Qe(w),Qe(Ja[Ws]),!1)}(r.locale||Mb),o._coordSysMgr=new sc;var g=o._api=Nx(o);function y(w,C){return w.__prio-C.__prio}return bs(Dy,y),bs(Rx,y),o._scheduler=new OS(o,g,Rx,Dy),o._messageCenter=new qS,o._initEvents(),o.resize=Et(o.resize,o),f.animation.on("frame",o._onframe,o),Dx(f,o),Sm(f,o),ns(o),o}return Oe(t,n),t.prototype._onframe=function(){if(!this._disposed){h2(this);var e=this._scheduler;if(this[bl]){var i=this[bl].silent;this[yl]=!0;try{Tp(this),Yh.update.call(this,null,this[bl].updateParams)}catch(u){throw this[yl]=!1,this[bl]=null,u}this._zr.flush(),this[yl]=!1,this[bl]=null,wm.call(this,i),cc.call(this,i)}else if(e.unfinished){var r=1,o=this._model,a=this._api;e.unfinished=!1;do{var l=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),Ey(this,o),e.performVisualTasks(o),Cm(this,this._model,a,"remain",{}),r-=+new Date-l}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,i,r){if(!this[yl])if(this._disposed);else{var o,a,l;if(hi(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,l=i.transition,i=i.notMerge),this[yl]=!0,!this._model||i){var u=new sm(this._api),f=this._theme,g=this._model=new jb;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,f,this._locale,u)}this._model.setOption(e,{replaceMerge:a},Bx);var y={seriesTransition:l,optionChanged:!0};if(r)this[bl]={silent:o,updateParams:y},this[yl]=!1,this.getZr().wakeUp();else{try{Tp(this),Yh.update.call(this,null,y)}catch(w){throw this[bl]=null,this[yl]=!1,w}this._ssr||this._zr.flush(),this[bl]=null,this[yl]=!1,wm.call(this,o),cc.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Nt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if(Nt.svgSupported){var e=this._zr;return pe(e.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var i=(e=e||{}).excludeComponents,r=this._model,o=[],a=this;pe(i,function(u){r.eachComponent({mainType:u},function(f){var g=a._componentsMap[f.__viewId];g.group.ignore||(o.push(g),g.group.ignore=!0)})});var l="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return pe(o,function(u){u.group.ignore=!1}),l}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var i="svg"===e.type,r=this.group,o=Math.min,a=Math.max,l=1/0;if(Py[r]){var u=l,f=l,g=-1/0,y=-1/0,w=[],C=e&&e.pixelRatio||this.getDevicePixelRatio();pe(Ep,function(Y,q){if(Y.group===r){var Z=i?Y.getZr().painter.getSvgDom().innerHTML:Y.renderToCanvas(Qe(e)),Q=Y.getDom().getBoundingClientRect();u=o(Q.left,u),f=o(Q.top,f),g=a(Q.right,g),y=a(Q.bottom,y),w.push({dom:Z,left:Q.left,top:Q.top})}});var M=(g*=C)-(u*=C),O=(y*=C)-(f*=C),L=ge.createCanvas(),R=Wu(L,{renderer:i?"svg":"canvas"});if(R.resize({width:M,height:O}),i){var F="";return pe(w,function(Y){F+='<g transform="translate('+(Y.left-u)+","+(Y.top-f)+')">'+Y.dom+"</g>"}),R.painter.getSvgRoot().innerHTML=F,e.connectedBackgroundColor&&R.painter.setBackgroundColor(e.connectedBackgroundColor),R.refreshImmediately(),R.painter.toDataURL()}return e.connectedBackgroundColor&&R.add(new Zr({shape:{x:0,y:0,width:M,height:O},style:{fill:e.connectedBackgroundColor}})),pe(w,function(Y){var q=new ls({style:{x:Y.left*C-u,y:Y.top*C-f,image:Y.dom}});R.add(q)}),R.refreshImmediately(),L.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,i){return Ox(this,"convertToPixel",e,i)},t.prototype.convertFromPixel=function(e,i){return Ox(this,"convertFromPixel",e,i)},t.prototype.containPixel=function(e,i){var r;if(!this._disposed)return pe(to(this._model,e),function(o,a){a.indexOf("Models")>=0&&pe(o,function(l){var u=l.coordinateSystem;if(u&&u.containPoint)r=r||!!u.containPoint(i);else if("seriesModels"===a){var f=this._chartsMap[l.__viewId];f&&f.containPoint&&(r=r||f.containPoint(i,l))}},this)},this),!!r},t.prototype.getVisual=function(e,i){var r=to(this._model,e,{defaultMainType:"series"}),a=r.seriesModel.getData(),l=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return null!=l?fx(a,l,i):mm(a,i)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var i,r,o=this;pe(d2,function(a){var l=function(u){var f,g=o.getModel(),y=u.target;if("globalout"===a?f={}:y&&Bd(y,function(R){var F=_r(R);if(F&&null!=F.dataIndex){var Y=F.dataModel||g.getSeriesByIndex(F.seriesIndex);return f=Y&&Y.getDataParams(F.dataIndex,F.dataType,y)||{},!0}if(F.eventData)return f=_t({},F.eventData),!0},!0),f){var C=f.componentType,M=f.componentIndex;"markLine"!==C&&"markPoint"!==C&&"markArea"!==C||(C="series",M=f.seriesIndex);var O=C&&null!=M&&g.getComponent(C,M),L=O&&o["series"===O.mainType?"_chartsMap":"_componentsMap"][O.__viewId];f.event=u,f.type=a,o._$eventProcessor.eventInfo={targetEl:y,packedEvent:f,model:O,view:L},o.trigger(a,f)}};l.zrEventfulCallAtLast=!0,o._zr.on(a,l,o)}),pe(km,function(a,l){o._messageCenter.on(l,function(u){this.trigger(l,u)},o)}),pe(["selectchanged"],function(a){o._messageCenter.on(a,function(l){this.trigger(a,l)},o)}),i=this,r=this._api,this._messageCenter.on("selectchanged",function(a){var l=r.getModel();a.isFromClick?(Rd("map","selectchanged",i,l,a),Rd("pie","selectchanged",i,l,a)):"select"===a.fromAction?(Rd("map","selected",i,l,a),Rd("pie","selected",i,l,a)):"unselect"===a.fromAction&&(Rd("map","unselected",i,l,a),Rd("pie","unselected",i,l,a))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,this.getDom()&&ss(this.getDom(),Fx,"");var e=this,i=e._api,r=e._model;pe(e._componentsViews,function(o){o.dispose(r,i)}),pe(e._chartsViews,function(o){o.dispose(r,i)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Ep[e.id]}},t.prototype.resize=function(e){if(!this[yl])if(this._disposed);else{this._zr.resize(e);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=e&&e.silent;this[bl]&&(null==o&&(o=this[bl].silent),r=!0,this[bl]=null),this[yl]=!0;try{r&&Tp(this),Yh.update.call(this,{type:"resize",animation:_t({duration:0},e&&e.animation)})}catch(a){throw this[yl]=!1,a}this[yl]=!1,wm.call(this,o),cc.call(this,o)}}},t.prototype.showLoading=function(e,i){if(this._disposed);else if(hi(e)&&(i=e,e=""),e=e||"default",this.hideLoading(),Ly[e]){var r=Ly[e](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var i=_t({},e);return i.type=km[e.type],i},t.prototype.dispatchAction=function(e,i){if(this._disposed);else if(hi(i)||(i={silent:!!i}),Oy[e.type]&&this._model)if(this[yl])this._pendingActions.push(e);else{var r=i.silent;_m.call(this,e,r);var o=i.flush;o?this._zr.flush():!1!==o&&Nt.browser.weChat&&this._throttledZrFlush(),wm.call(this,r),cc.call(this,r)}},t.prototype.updateLabelLayout=function(){lh.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed);else{var i=e.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(u){u.clearColorPalette(),u.eachSeries(function(f){f.clearColorPalette()})}function i(u){for(var f=[],g=u.currentStates,y=0;y<g.length;y++){var w=g[y];"emphasis"!==w&&"blur"!==w&&"select"!==w&&f.push(w)}u.selected&&u.states.select&&f.push("select"),2===u.hoverState&&u.states.emphasis?f.push("emphasis"):1===u.hoverState&&u.states.blur&&f.push("blur"),u.useStates(f)}function r(u,f){if(!u.preventAutoZ){var g=u.get("z")||0,y=u.get("zlevel")||0;f.eachRendered(function(w){return o(w,g,y,-1/0),!0})}}function o(u,f,g,y){var w=u.getTextContent(),C=u.getTextGuideLine();if(u.isGroup)for(var M=u.childrenRef(),O=0;O<M.length;O++)y=Math.max(o(M[O],f,g,y),y);else u.z=f,u.zlevel=g,y=Math.max(u.z2,y);if(w&&(w.z=f,w.zlevel=g,isFinite(y)&&(w.z2=y+2)),C){var L=u.textGuideLineConfig;C.z=f,C.zlevel=g,isFinite(y)&&(C.z2=y+(L&&L.showAbove?1:-1))}return y}function a(u,f){f.eachRendered(function(g){if(!Gg(g)){var y=g.getTextContent(),w=g.getTextGuideLine();g.stateTransition&&(g.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),w&&w.stateTransition&&(w.stateTransition=null),g.hasState()?(g.prevStates=g.currentStates,g.clearStates()):g.prevStates&&(g.prevStates=null)}})}function l(u,f){var g=u.getModel("stateAnimation"),y=u.isAnimationEnabled(),w=g.get("duration"),C=w>0?{duration:w,delay:g.get("delay"),easing:g.get("easing")}:null;f.eachRendered(function(M){if(M.states&&M.states.emphasis){if(Gg(M))return;if(M instanceof hr&&function(F){var Y=Fv(F);Y.normalFill=F.style.fill,Y.normalStroke=F.style.stroke;var q=F.states.select||{};Y.selectFill=q.style&&q.style.fill||null,Y.selectStroke=q.style&&q.style.stroke||null}(M),M.__dirty){var O=M.prevStates;O&&M.useStates(O)}if(y){M.stateTransition=C;var L=M.getTextContent(),R=M.getTextGuideLine();L&&(L.stateTransition=C),R&&(R.stateTransition=C)}M.__dirty&&i(M)}})}Tp=function(u){var f=u._scheduler;f.restorePipelines(u._model),f.prepareStageTasks(),Ix(u,!0),Ix(u,!1),f.plan()},Ix=function(u,f){for(var g=u._model,y=u._scheduler,w=f?u._componentsViews:u._chartsViews,C=f?u._componentsMap:u._chartsMap,M=u._zr,O=u._api,L=0;L<w.length;L++)w[L].__alive=!1;function R(Y){var q=Y.__requireNewView;Y.__requireNewView=!1;var Z="_ec_"+Y.id+"_"+Y.type,Q=!q&&C[Z];if(!Q){var ne=zo(Y.type);(Q=new(f?Bo.getClass(ne.main,ne.sub):ao.getClass(ne.sub))).init(g,O),C[Z]=Q,w.push(Q),M.add(Q.group)}Y.__viewId=Q.__id=Z,Q.__alive=!0,Q.__model=Y,Q.group.__ecComponentInfo={mainType:Y.mainType,index:Y.componentIndex},!f&&y.prepareView(Q,Y,g,O)}for(f?g.eachComponent(function(Y,q){"series"!==Y&&R(q)}):g.eachSeries(R),L=0;L<w.length;){var F=w[L];F.__alive?L++:(!f&&F.renderTask.dispose(),M.remove(F.group),F.dispose(g,O),w.splice(L,1),C[F.__id]===F&&delete C[F.__id],F.__id=F.group.__ecComponentInfo=null)}},xm=function(u,f,g,y,w){var C=u._model;if(C.setUpdatePayload(g),y){var M={};M[y+"Id"]=g[y+"Id"],M[y+"Index"]=g[y+"Index"],M[y+"Name"]=g[y+"Name"];var O={mainType:y,query:M};w&&(O.subType=w);var L,R=g.excludeSeriesId;null!=R&&(L=be(),pe(Xi(R),function(Y){var q=Ar(Y,null);null!=q&&L.set(q,!0)})),C&&C.eachComponent(O,function(Y){if(!L||null==L.get(Y.id))if(IM(g))if(Y instanceof Io)g.type!==hp||g.notBlur||Y.get(["emphasis","disabled"])||function(ne,oe,_e){var ke=ne.seriesIndex,Ee=ne.getData(oe.dataType);if(Ee){var Re=no(Ee,oe);Re=(Bt(Re)?Re[0]:Re)||0;var Je=Ee.getItemGraphicEl(Re);if(!Je)for(var st=Ee.count(),mt=0;!Je&&mt<st;)Je=Ee.getItemGraphicEl(mt++);if(Je){var St=_r(Je);yf(ke,St.focus,St.blurScope,_e)}else{var Tt=ne.get(["emphasis","focus"]),Lt=ne.get(["emphasis","blurScope"]);null!=Tt&&yf(ke,Tt,Lt,_e)}}}(Y,g,u._api);else{var q=vw(Y.mainType,Y.componentIndex,g.name,u._api),Q=q.dispatchers;g.type===hp&&q.focusSelf&&!g.notBlur&&mw(Y.mainType,Y.componentIndex,u._api),Q&&pe(Q,function(ne){g.type===hp?_d(ne):wd(ne)})}else yw(g)&&Y instanceof Io&&(function(ne,oe,_e){if(yw(oe)){var ke=oe.dataType,Ee=no(ne.getData(ke),oe);Bt(Ee)||(Ee=[Ee]),ne[oe.type===mf?"toggleSelect":oe.type===Bg?"select":"unselect"](Ee,ke)}}(Y,g),MM(Y),Lc(u))},u),C&&C.eachComponent(O,function(Y){L&&null!=L.get(Y.id)||F(u["series"===y?"_chartsMap":"_componentsMap"][Y.__viewId])},u)}else pe([].concat(u._componentsViews).concat(u._chartsViews),F);function F(Y){Y&&Y.__alive&&Y[f]&&Y[f](Y.__model,C,u._api,g)}},Yh={prepareAndUpdate:function(u){Tp(this),Yh.update.call(this,u,{optionChanged:null!=u.newOption})},update:function(u,f){var g=this._model,y=this._api,w=this._zr,C=this._coordSysMgr,M=this._scheduler;if(g){g.setUpdatePayload(u),M.restoreData(g,u),M.performSeriesTasks(g),C.create(g,y),M.performDataProcessorTasks(g,u),Ey(this,g),C.update(g,y),e(g),M.performVisualTasks(g,u),Lx(this,g,y,u,f);var O=g.get("backgroundColor")||"transparent",L=g.get("darkMode");w.setBackgroundColor(O),null!=L&&"auto"!==L&&w.setDarkMode(L),lh.trigger("afterupdate",g,y)}},updateTransform:function(u){var f=this,g=this._model,y=this._api;if(g){g.setUpdatePayload(u);var w=[];g.eachComponent(function(M,O){if("series"!==M){var L=f.getViewOfComponentModel(O);if(L&&L.__alive)if(L.updateTransform){var R=L.updateTransform(O,g,y,u);R&&R.update&&w.push(L)}else w.push(L)}});var C=be();g.eachSeries(function(M){var O=f._chartsMap[M.__viewId];if(O.updateTransform){var L=O.updateTransform(M,g,y,u);L&&L.update&&C.set(M.uid,1)}else C.set(M.uid,1)}),e(g),this._scheduler.performVisualTasks(g,u,{setDirty:!0,dirtyMap:C}),Cm(this,g,y,u,{},C),lh.trigger("afterupdate",g,y)}},updateView:function(u){var f=this._model;f&&(f.setUpdatePayload(u),ao.markUpdateMethod(u,"updateView"),e(f),this._scheduler.performVisualTasks(f,u,{setDirty:!0}),Lx(this,f,this._api,u,{}),lh.trigger("afterupdate",f,this._api))},updateVisual:function(u){var f=this,g=this._model;g&&(g.setUpdatePayload(u),g.eachSeries(function(y){y.getData().clearAllVisual()}),ao.markUpdateMethod(u,"updateVisual"),e(g),this._scheduler.performVisualTasks(g,u,{visualType:"visual",setDirty:!0}),g.eachComponent(function(y,w){if("series"!==y){var C=f.getViewOfComponentModel(w);C&&C.__alive&&C.updateVisual(w,g,f._api,u)}}),g.eachSeries(function(y){f._chartsMap[y.__viewId].updateVisual(y,g,f._api,u)}),lh.trigger("afterupdate",g,this._api))},updateLayout:function(u){Yh.update.call(this,u)}},Ox=function(u,f,g,y){if(u._disposed);else for(var w,C=u._model,M=u._coordSysMgr.getCoordinateSystems(),O=to(C,g),L=0;L<M.length;L++){var R=M[L];if(R[f]&&null!=(w=R[f](C,O,y)))return w}},Ey=function(u,f){var g=u._chartsMap,y=u._scheduler;f.eachSeries(function(w){y.updateStreamModes(w,g[w.__viewId])})},_m=function(u,f){var g=this,y=this.getModel(),w=u.type,C=u.escapeConnect,M=Oy[w],O=M.actionInfo,L=(O.update||"update").split(":"),R=L.pop(),F=null!=L[0]&&zo(L[0]);this[yl]=!0;var Y=[u],q=!1;u.batch&&(q=!0,Y=ue(u.batch,function(Ee){return(Ee=It(_t({},Ee),u)).batch=null,Ee}));var Z,Q=[],ne=yw(u),oe=IM(u);if(oe&&Ms(this._api),pe(Y,function(Ee){if((Z=(Z=M.action(Ee,g._model,g._api))||_t({},Ee)).type=O.event||Z.type,Q.push(Z),oe){var Re=Za(u),st=Re.mainTypeSpecified?Re.queryOptionMap.keys()[0]:"series";xm(g,R,Ee,st),Lc(g)}else ne?(xm(g,R,Ee,"series"),Lc(g)):F&&xm(g,R,Ee,F.main,F.sub)}),"none"!==R&&!oe&&!ne&&!F)try{this[bl]?(Tp(this),Yh.update.call(this,u),this[bl]=null):Yh[R].call(this,u)}catch(Ee){throw this[yl]=!1,Ee}if(Z=q?{type:O.event||w,escapeConnect:C,batch:Q}:Q[0],this[yl]=!1,!f){var _e=this._messageCenter;if(_e.trigger(Z.type,Z),ne){var ke={type:"selectchanged",escapeConnect:C,selected:HO(y),isFromClick:u.isFromClick||!1,fromAction:u.type,fromActionPayload:u};_e.trigger(ke.type,ke)}}},wm=function(u){for(var f=this._pendingActions;f.length;){var g=f.shift();_m.call(this,g,u)}},cc=function(u){!u&&this.trigger("updated")},Dx=function(u,f){u.on("rendered",function(g){f.trigger("rendered",g),!u.animation.isFinished()||f[bl]||f._scheduler.unfinished||f._pendingActions.length||f.trigger("finished")})},Sm=function(u,f){u.on("mouseover",function(g){var w,C,M,O,L,R,y=Bd(g.target,Wv);y&&(C=g,M=f._api,(R=(L=vw((O=_r(w=y)).componentMainType,O.componentIndex,O.componentHighDownName,M)).dispatchers)?(L.focusSelf&&mw(O.componentMainType,O.componentIndex,M),pe(R,function(Y){return sb(Y,C)})):(yf(O.seriesIndex,O.focus,O.blurScope,M),"self"===O.focus&&mw(O.componentMainType,O.componentIndex,M),sb(w,C)),Lc(f))}).on("mouseout",function(g){var y=Bd(g.target,Wv);y&&(function(w,C,M){Ms(M);var O=_r(w),L=vw(O.componentMainType,O.componentIndex,O.componentHighDownName,M).dispatchers;L?pe(L,function(R){return dw(R,C)}):dw(w,C)}(y,g,f._api),Lc(f))}).on("click",function(g){var y=Bd(g.target,function(M){return null!=_r(M).dataIndex},!0);if(y){var w=y.selected?"unselect":"select",C=_r(y);f._api.dispatchAction({type:w,dataType:C.dataType,dataIndexInside:C.dataIndex,seriesIndex:C.seriesIndex,isFromClick:!0})}})},Lx=function(u,f,g,y,w){(function(C){var M=[],O=[],L=!1;if(C.eachComponent(function(q,Z){var Q=Z.get("zlevel")||0,ne=Z.get("z")||0,oe=Z.getZLevelKey();L=L||!!oe,("series"===q?O:M).push({zlevel:Q,z:ne,idx:Z.componentIndex,type:q,key:oe})}),L){var R,F,Y=M.concat(O);bs(Y,function(q,Z){return q.zlevel===Z.zlevel?q.z-Z.z:q.zlevel-Z.zlevel}),pe(Y,function(q){var Z=C.getComponent(q.type,q.idx),Q=q.zlevel,ne=q.key;null!=R&&(Q=Math.max(R,Q)),ne?(Q===R&&ne!==F&&Q++,F=ne):F&&(Q===R&&Q++,F=""),R=Q,Z.setZLevel(Q)})}})(f),Px(u,f,g,y,w),pe(u._chartsViews,function(C){C.__alive=!1}),Cm(u,f,g,y,w),pe(u._chartsViews,function(C){C.__alive||C.remove(f,g)})},Px=function(u,f,g,y,w,C){pe(C||u._componentsViews,function(M){var O=M.__model;a(0,M),M.render(O,f,g,y),r(O,M),l(O,M)})},Cm=function(u,f,g,y,w,C){var M=u._scheduler;w=_t(w||{},{updatedSeries:f.getSeries()}),lh.trigger("series:beforeupdate",f,g,w);var L,R,q,O=!1;f.eachSeries(function(L){var R=u._chartsMap[L.__viewId];R.__alive=!0;var q,Z,F=R.renderTask;M.updatePayload(F,y),a(0,R),C&&C.get(L.uid)&&F.dirty(),F.perform(M.getPerformArgs(F))&&(O=!0),R.group.silent=!!L.get("silent"),q=R,Z=L.get("blendMode")||null,q.eachRendered(function(Q){Q.isGroup||(Q.style.blend=Z)}),MM(L)}),M.unfinished=O||M.unfinished,lh.trigger("series:layoutlabels",f,g,w),lh.trigger("series:transition",f,g,w),f.eachSeries(function(L){var R=u._chartsMap[L.__viewId];r(L,R),l(L,R)}),R=f,q=0,(L=u)._zr.storage.traverse(function(Z){Z.isGroup||q++}),q>R.get("hoverLayerThreshold")&&!Nt.node&&!Nt.worker&&R.eachSeries(function(Z){if(!Z.preventUsingHoverLayer){var Q=L._chartsMap[Z.__viewId];Q.__alive&&Q.eachRendered(function(ne){ne.states.emphasis&&(ne.states.emphasis.hoverLayer=!0)})}}),lh.trigger("series:afterupdate",f,g,w)},Lc=function(u){u[Tx]=!0,u.getZr().wakeUp()},h2=function(u){u[Tx]&&(u.getZr().storage.traverse(function(f){Gg(f)||i(f)}),u[Tx]=!1)},Nx=function(u){return new(function(f){function g(){return null!==f&&f.apply(this,arguments)||this}return Oe(g,f),g.prototype.getCoordinateSystems=function(){return u._coordSysMgr.getCoordinateSystems()},g.prototype.getComponentByElement=function(y){for(;y;){var w=y.__ecComponentInfo;if(null!=w)return u._model.getComponent(w.mainType,w.index);y=y.parent}},g.prototype.enterEmphasis=function(y,w){_d(y,w),Lc(u)},g.prototype.leaveEmphasis=function(y,w){wd(y,w),Lc(u)},g.prototype.enterBlur=function(y){pw(y),Lc(u)},g.prototype.leaveBlur=function(y){fw(y),Lc(u)},g.prototype.enterSelect=function(y){kM(y),Lc(u)},g.prototype.leaveSelect=function(y){gw(y),Lc(u)},g.prototype.getModel=function(){return u.getModel()},g.prototype.getViewOfComponentModel=function(y){return u.getViewOfComponentModel(y)},g.prototype.getViewOfSeriesModel=function(y){return u.getViewOfSeriesModel(y)},g}(iT))(u)},XS=function(u){function f(g,y){for(var w=0;w<g.length;w++)g[w][GS]=y}pe(km,function(g,y){u._messageCenter.on(y,function(w){if(Py[u.group]&&0!==u[GS]){if(w&&w.escapeConnect)return;var C=u.makeActionFromEvent(w),M=[];pe(Ep,function(O){O!==u&&O.group===u.group&&M.push(O)}),f(M,0),pe(M,function(O){1!==O[GS]&&O.dispatchAction(C)}),f(M,2)}})})}}(),t}(h),Hf=Iy.prototype;Hf.on=Ex("on"),Hf.off=Ex("off"),Hf.one=function(n,t,e){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),i.off(n,r)},e)};var d2=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Oy={},km={},Rx=[],Bx=[],Dy=[],zx={},Ly={},Ep={},Py={},p2=+new Date-0,$S=+new Date-0,Fx="_echarts_instance_";function ZS(n){Py[n]=!1}var Wf=ZS;function KS(n){return Ep[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(n,Fx)]}function Ny(n,t){zx[n]=t}function Am(n){hn(Bx,n)<0&&Bx.push(n)}function Vx(n,t){Hx(Rx,n,t,2e3)}function QS(n){Mm("afterinit",n)}function JS(n){Mm("afterupdate",n)}function Mm(n,t){lh.on(n,t)}function mu(n,t,e){Ht(t)&&(e=t,t="");var i=hi(n)?n.type:[n,n={event:t}][0];n.event=(n.event||i).toLowerCase(),km[t=n.event]||(ir(c2.test(i)&&c2.test(t)),Oy[i]||(Oy[i]={action:e,actionInfo:n}),km[t]=i)}function eC(n,t){sc.register(n,t)}function tC(n,t){Hx(Dy,n,t,1e3,"layout")}function Fd(n,t){Hx(Dy,n,t,3e3,"visual")}var nC=[];function Hx(n,t,e,i,r){if((Ht(t)||hi(t))&&(e=t,t=i),!(hn(nC,e)>=0)){nC.push(e);var o=OS.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,n.push(o)}}function iC(n,t){Ly[n]=t}function rC(n,t,e){var i=Mx("registerMap");i&&i(n,t,e)}var Tm=function(n){var t=(n=Qe(n)).type;t||qn("");var i=t.split(":");2!==i.length&&qn("");var r=!1;"echarts"===i[0]&&(t=i[1],r=!0),n.__isBuiltIn=r,gS.set(t,n)};Fd(2e3,HT),Fd(4500,WT),Fd(4500,jT),Fd(2e3,Dc),Fd(4500,QT),Fd(7e3,function(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var i=e.getData();i.hasItemVisual()&&i.each(function(o){var a=i.getItemVisual(o,"decal");a&&(i.ensureUniqueItemVisual(o,"style").decal=Vf(a,t))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=Vf(r,t))}})}),Am(oT),Vx(900,function(n){var t=be();n.eachSeries(function(e){var i=e.get("stack");if(i){var r=t.get(i)||t.set(i,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(aS)}),iC("default",function(n,t){It(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Gi,i=new Zr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(i);var r,o=new Qr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Zr({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((r=new Uv({shape:{startAngle:-gm/2,endAngle:-gm/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*gm/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*gm/2}).delay(300).start("circularInOut"),e.add(r)),e.resize=function(){var l=o.getBoundingRect().width,u=t.showSpinner?t.spinnerRadius:0,f=(n.getWidth()-2*u-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner&&l?0:5+l/2)+(t.showSpinner?0:l/2)+(l?0:u),g=n.getHeight()/2;t.showSpinner&&r.setShape({cx:f,cy:g}),a.setShape({x:f-u,y:g-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),mu({type:hp,event:hp,update:hp},At),mu({type:Vv,event:Vv,update:Vv},At),mu({type:Bg,event:Bg,update:Bg},At),mu({type:Hv,event:Hv,update:Hv},At),mu({type:mf,event:mf,update:mf},At),Ny("light",ZT),Ny("dark",KT);var oC=[],Wx={registerPreprocessor:Am,registerProcessor:Vx,registerPostInit:QS,registerPostUpdate:JS,registerUpdateLifecycle:Mm,registerAction:mu,registerCoordinateSystem:eC,registerLayout:tC,registerVisual:Fd,registerTransform:Tm,registerLoading:iC,registerMap:rC,registerImpl:function(n,t){Ax[n]=t},PRIORITY:l2,ComponentModel:qr,ComponentView:Bo,SeriesModel:Io,ChartView:ao,registerComponentModel:function(n){qr.registerClass(n)},registerComponentView:function(n){Bo.registerClass(n)},registerSeriesModel:function(n){Io.registerClass(n)},registerChartView:function(n){ao.registerClass(n)},registerSubTypeDefaulter:function(n,t){qr.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){ju(n,t)}};function zr(n){Bt(n)?pe(n,function(t){zr(t)}):hn(oC,n)>=0||(oC.push(n),Ht(n)&&(n={install:n}),n.install(Wx))}function Ry(n){return null==n?0:n.length||1}function aC(n){return n}var Gh=function(){function n(t,e,i,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=i||aC,this._newKeyGetter=r||aC,this.context=o,this._diffModeMultiple="multiple"===a}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var l=r[a],u=i[l],f=Ry(u);if(f>1){var g=u.shift();1===u.length&&(i[l]=u[0]),this._update&&this._update(g,a)}else 1===f?(i[l]=null,this._update&&this._update(u,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var e=this._new,i={},r={},o=[],a=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var l=0;l<o.length;l++){var u=o[l],f=i[u],g=r[u],y=Ry(f),w=Ry(g);if(y>1&&1===w)this._updateManyToOne&&this._updateManyToOne(g,f),r[u]=null;else if(1===y&&w>1)this._updateOneToMany&&this._updateOneToMany(g,f),r[u]=null;else if(1===y&&1===w)this._update&&this._update(g,f),r[u]=null;else if(y>1&&w>1)this._updateManyToMany&&this._updateManyToMany(g,f),r[u]=null;else if(y>1)for(var C=0;C<y;C++)this._remove&&this._remove(f[C]);else this._remove&&this._remove(f)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=e[r],a=Ry(o);if(a>1)for(var l=0;l<a;l++)this._add&&this._add(o[l]);else 1===a&&this._add&&this._add(o);e[r]=null}},n.prototype._initIndexMap=function(t,e,i,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var l="_ec_"+this[r](t[a],a);if(o||(i[a]=l),e){var u=e[l],f=Ry(u);0===f?(e[l]=a,o&&i.push(l)):1===f?e[l]=[u,a]:u.push(a)}}},n}(),f2=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function jx(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function By(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var zy=function(n){this.otherDims={},null!=n&&_t(this,n)},g2=nr(),m2={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},v2=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=lC(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return yi(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=cT(this.source),i=!cC(t),r="",o=[],a=0,l=0;a<t;a++){var u=void 0,f=void 0,g=void 0,y=this.dimensions[l];if(y&&y.storeDimIndex===a)u=e?y.name:null,f=y.type,g=y.ordinalMeta,l++;else{var w=this.getSourceDimension(a);w&&(u=e?w.name:null,f=w.type)}o.push({property:u,type:f,ordinalMeta:g}),!e||null==u||y&&y.isCalculationCoord||(r+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),r+="$",r+=m2[f]||"f",g&&(r+=g.uid),r+="$"}var C=this.source;return{dimensions:o,hash:[C.seriesLayoutBy,C.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(e);a&&(r=a.name)}t.push(r)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function sC(n){return n instanceof v2}function Yx(n){for(var t=be(),e=0;e<(n||[]).length;e++){var i=n[e],r=hi(i)?i.name:i;null!=r&&null==t.get(r)&&t.set(r,e)}return t}function lC(n){var t=g2(n);return t.dimNameMap||(t.dimNameMap=Yx(n.dimensionsDefine))}function cC(n){return n>30}var y2,Fy,Em,Im,Vy,Gx,Xx,Om=hi,Ip=ue,lD=typeof Int32Array>"u"?Array:Int32Array,cD=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],jl=["_approximateExtent"],va=function(){function n(t,e){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;sC(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,i=t),i=i||["x","y"];for(var o={},a=[],l={},u=!1,f={},g=0;g<i.length;g++){var y=i[g],w=On(y)?new zy({name:y}):y instanceof zy?y:new zy(y),C=w.name;w.type=w.type||"float",w.coordDim||(w.coordDim=C,w.coordDimIndex=0);var M=w.otherDims=w.otherDims||{};a.push(C),o[C]=w,null!=f[C]&&(u=!0),w.createInvertedIndices&&(l[C]=[]),0===M.itemName&&(this._nameDimIdx=g),0===M.itemId&&(this._idDimIdx=g),r&&(w.storeDimIndex=g)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(u),this.hostModel=e,this._invertedIndicesMap=l,this._dimOmitted){var O=this._dimIdxToName=be();pe(a,function(L){O.set(o[L].storeDimIndex,L)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(null!=i)return i;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(En(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(i){return e.hasOwnProperty(i)?e[i]:void 0}:function(i){return e[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var r=i.encode[t];return r?r[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,i){var r,o=this;if(t instanceof yS&&(r=t),!r){var a=this.dimensions,l=dy(t)||Vt(t)?new uT(t,a.length):t;r=new yS;var u=Ip(a,function(f){return{type:o._dimInfos[f].type,property:f}});r.initData(l,u,i)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(f,g){var y={},w=y.encode={},C=be(),M=[],O=[],L={};pe(f.dimensions,function(Z){var Q,ne=f.getDimensionInfo(Z),oe=ne.coordDim;if(oe){var _e=ne.coordDimIndex;jx(w,oe)[_e]=Z,ne.isExtraCoord||(C.set(oe,1),"ordinal"!==(Q=ne.type)&&"time"!==Q&&(M[0]=Z),jx(L,oe)[_e]=f.getDimensionIndex(ne.name)),ne.defaultTooltip&&O.push(Z)}eT.each(function(ke,Ee){var Re=jx(w,Ee),Je=ne.otherDims[Ee];null!=Je&&!1!==Je&&(Re[Je]=ne.name)})});var R=[],F={};C.each(function(Z,Q){var ne=w[Q];F[Q]=ne[0],R=R.concat(ne)}),y.dataDimsOnCoord=R,y.dataDimIndicesOnCoord=ue(R,function(Z){return f.getDimensionInfo(Z).storeDimIndex}),y.encodeFirstDimNotExtra=F;var Y=w.label;Y&&Y.length&&(M=Y.slice());var q=w.tooltip;return q&&q.length?O=q.slice():O.length||(O=M.slice()),w.defaultedLabel=M,w.defaultedTooltip=O,y.userOutput=new f2(L,g),y}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var l=r;l<o;l++)this._nameList[l]=e[l-r],a&&Xx(this,l)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var r=this._dimInfos[e[i]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==rh&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(i.getSource().sourceFormat===Ic&&!i.pure)for(var a=[],l=t;l<e;l++){var u=i.getItem(l,a);if(!this.hasItemOption&&Pr(u)&&(this.hasItemOption=!0),u){var f=u.name;null==r[l]&&null!=f&&(r[l]=Ar(f,null));var g=u.id;null==o[l]&&null!=g&&(o[l]=Ar(g,null))}}if(this._shouldMakeIdFromName())for(l=t;l<e;l++)Xx(this,l);y2(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){Om(t)?_t(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=Em(this,this._nameDimIdx,e)),null==i&&(i=""),i},n.prototype._getCategory=function(t,e){var i=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[i]:i},n.prototype.getId=function(t){return Fy(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var r=this._dimInfos[t];if(r)return this._store.get(r.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var r=this._dimInfos[t];if(r)return this._store.getByRawIndex(r.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var i=this,r=this._store;return Bt(t)?r.getValues(Ip(t,function(o){return i._getStoreDimIndex(o)}),e):r.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,r=e.length;i<r;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var r=(t&&this._invertedIndicesMap[t])[e];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},n.prototype.each=function(t,e,i){Ht(t)&&(i=e,e=t,t=[]);var r=i||this,o=Ip(Im(t),this._getStoreDimIndex,this);this._store.each(o,r?Et(e,r):e)},n.prototype.filterSelf=function(t,e,i){Ht(t)&&(i=e,e=t,t=[]);var r=i||this,o=Ip(Im(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?Et(e,r):e),this},n.prototype.selectRange=function(t){var e=this,i={};return pe(Zt(t),function(r){var o=e._getStoreDimIndex(r);i[o]=t[r]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(t,e,i){Ht(t)&&(i=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},i=i||this),r},n.prototype.map=function(t,e,i,r){var o=i||r||this,a=Ip(Im(t),this._getStoreDimIndex,this),l=Gx(this);return l._store=this._store.map(a,o?Et(e,o):e),l},n.prototype.modify=function(t,e,i,r){var o=i||r||this,a=Ip(Im(t),this._getStoreDimIndex,this);this._store.modify(a,o?Et(e,o):e)},n.prototype.downSample=function(t,e,i,r){var o=Gx(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,r),o},n.prototype.lttbDownSample=function(t,e){var i=Gx(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new ho(i,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new Gh(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return Fy(t,i)},function(i){return Fy(e,i)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},Om(t)?_t(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t];return(i&&i[e])??this.getVisual(e)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,r=i[t];r||(r=i[t]={});var o=r[e];return null==o&&(Bt(o=this.getVisual(e))?o=o.slice():Om(o)&&(o=_t({},o)),r[e]=o),o},n.prototype.setItemVisual=function(t,e,i){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,Om(e)?_t(r,e):r[e]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){Om(t)?_t(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?_t(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){nb(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){pe(this._graphicEls,function(i,r){i&&t&&t.call(e,i,r)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:Ip(this.dimensions,this._getDimInfo,this),this.hostModel)),Vy(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var i=this[t];Ht(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=i.apply(this,arguments);return e.apply(this,[r].concat(po(arguments)))})},n.internalField=(y2=function(t){var e=t._invertedIndicesMap;pe(e,function(i,r){var o=t._dimInfos[r],a=o.ordinalMeta,l=t._store;if(a){i=e[r]=new lD(a.categories.length);for(var u=0;u<i.length;u++)i[u]=-1;for(u=0;u<l.count();u++)i[l.get(o.storeDimIndex,u)]=u}})},Em=function(t,e,i){return Ar(t._getCategory(e,i),null)},Fy=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=Em(t,t._idDimIdx,e)),null==i&&(i="e\0\0"+e),i},Im=function(t){return Bt(t)||(t=null!=t?[t]:[]),t},Gx=function(t){var e=new n(t._schema?t._schema:Ip(t.dimensions,t._getDimInfo,t),t.hostModel);return Vy(e,t),e},Vy=function(t,e){pe(cD.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,pe(jl,function(i){t[i]=Qe(e[i])}),t._calculationInfo=_t({},e._calculationInfo)},void(Xx=function(t,e){var i=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,l=i[e],u=r[e];if(null==l&&null!=o&&(i[e]=l=Em(t,o,e)),null==u&&null!=a&&(r[e]=u=Em(t,a,e)),null==u&&null!=l){var f=t._nameRepeatCount,g=f[l]=(f[l]||0)+1;u=l,g>1&&(u+="__ec__"+g),r[e]=u}})),n}();function Dm(n,t){dy(n)||(n=Qb(n));var _e,Re,e=(t=t||{}).coordDimensions||[],i=t.dimensionsDefine||n.dimensionsDefine||[],r=be(),o=[],a=(_e=e,Re=Math.max(n.dimensionsDetectedCount||1,_e.length,i.length,t.dimensionsCount||0),pe(_e,function(Je){var st;hi(Je)&&(st=Je.dimsDef)&&(Re=Math.max(Re,st.length))}),Re),l=t.canOmitUnusedDimensions&&cC(a),u=i===n.dimensionsDefine,f=u?lC(n):Yx(i),g=t.encodeDefine;!g&&t.encodeDefaulter&&(g=t.encodeDefaulter(n,a));for(var y=be(g),w=new kT(a),C=0;C<w.length;C++)w[C]=-1;function M(oe){var _e=w[oe];if(_e<0){var ke=i[oe],Ee=hi(ke)?ke:{name:ke},Re=new zy,Je=Ee.name;return null!=Je&&null!=f.get(Je)&&(Re.name=Re.displayName=Je),null!=Ee.type&&(Re.type=Ee.type),null!=Ee.displayName&&(Re.displayName=Ee.displayName),w[oe]=o.length,Re.storeDimIndex=oe,o.push(Re),Re}return o[_e]}if(!l)for(C=0;C<a;C++)M(C);y.each(function(oe,_e){var ke=Xi(oe).slice();if(1===ke.length&&!On(ke[0])&&ke[0]<0)y.set(_e,!1);else{var Ee=y.set(_e,[]);pe(ke,function(Re,Je){var st=On(Re)?f.get(Re):Re;null!=st&&st<a&&(Ee[Je]=st,L(M(st),_e,Je))})}});var O=0;function L(oe,_e,ke){null!=eT.get(_e)?oe.otherDims[_e]=ke:(oe.coordDim=_e,oe.coordDimIndex=ke,r.set(_e,!0))}pe(e,function(oe){var _e,ke,Ee,Re;if(On(oe))_e=oe,Re={};else{_e=(Re=oe).name;var Je=Re.ordinalMeta;Re.ordinalMeta=null,(Re=_t({},Re)).ordinalMeta=Je,ke=Re.dimsDef,Ee=Re.otherDims,Re.name=Re.coordDim=Re.coordDimIndex=Re.dimsDef=Re.otherDims=null}var st=y.get(_e);if(!1!==st){if(!(st=Xi(st)).length)for(var mt=0;mt<(ke&&ke.length||1);mt++){for(;O<a&&null!=M(O).coordDim;)O++;O<a&&st.push(O++)}pe(st,function(St,Tt){var Lt=M(St);if(u&&null!=Re.type&&(Lt.type=Re.type),L(It(Lt,Re),_e,Tt),null==Lt.name&&ke){var $t=ke[Tt];!hi($t)&&($t={name:$t}),Lt.name=Lt.displayName=$t.name,Lt.defaultTooltip=$t.defaultTooltip}Ee&&It(Lt.otherDims,Ee)})}});var R=t.generateCoord,F=t.generateCoordCount,Y=null!=F;F=R?F||1:0;var q=R||"value";function Z(oe){null==oe.name&&(oe.name=oe.coordDim)}if(l)pe(o,function(oe){Z(oe)}),o.sort(function(oe,_e){return oe.storeDimIndex-_e.storeDimIndex});else for(var Q=0;Q<a;Q++){var ne=M(Q);null==ne.coordDim&&(ne.coordDim=uC(q,r,Y),ne.coordDimIndex=0,(!R||F<=0)&&(ne.isExtraCoord=!0),F--),Z(ne),null!=ne.type||$w(n,Q)!==zb&&(!ne.isExtraCoord||null==ne.otherDims.itemName&&null==ne.otherDims.seriesName)||(ne.type="ordinal")}return function(oe){for(var _e=be(),ke=0;ke<oe.length;ke++){var Ee=oe[ke],Re=Ee.name,Je=_e.get(Re)||0;Je>0&&(Ee.name=Re+(Je-1)),Je++,_e.set(Re,Je)}}(o),new v2({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:l})}function uC(n,t,e){if(e||t.hasKey(n)){for(var i=0;t.hasKey(n+i);)i++;n+=i}return t.set(n,!0),n}var hC=function(n){this.coordSysDims=[],this.axisMap=be(),this.categoryAxisMap=be(),this.coordSysName=n},uD={cartesian2d:function(n,t,e,i){var r=n.getReferringComponents("xAxis",_o).models[0],o=n.getReferringComponents("yAxis",_o).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",o),Lm(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),Lm(o)&&(i.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,i){var r=n.getReferringComponents("singleAxis",_o).models[0];t.coordSysDims=["single"],e.set("single",r),Lm(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(n,t,e,i){var r=n.getReferringComponents("polar",_o).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),Lm(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),Lm(a)&&(i.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,i){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();pe(o.parallelAxisIndex,function(l,u){var f=r.getComponent("parallelAxis",l),g=a[u];e.set(g,f),Lm(f)&&(i.set(g,f),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=u))})}};function Lm(n){return"category"===n.get("type")}function Pm(n,t,e){var i,r,o,a=(e=e||{}).byIndex,l=e.stackedCoordDimension;sC(t.schema)?(i=(r=t.schema).dimensions,o=t.store):i=t;var u,f,g,y,w=!(!n||!n.get("stack"));if(pe(i,function(F,Y){On(F)&&(i[Y]=F={name:F}),w&&!F.isExtraCoord&&(a||u||!F.ordinalMeta||(u=F),f||"ordinal"===F.type||"time"===F.type||l&&l!==F.coordDim||(f=F))}),!f||a||u||(a=!0),f){g="__\0ecstackresult_"+n.id,y="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var C=f.coordDim,M=f.type,O=0;pe(i,function(F){F.coordDim===C&&O++});var L={name:g,coordDim:C,coordDimIndex:O,type:M,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},R={name:y,coordDim:y,coordDimIndex:O+1,type:M,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(L.storeDimIndex=o.ensureCalculationDimension(y,M),R.storeDimIndex=o.ensureCalculationDimension(g,M)),r.appendCalculationDimension(L),r.appendCalculationDimension(R)):(i.push(L),i.push(R))}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:a,stackedOverDimension:y,stackResultDimension:g}}function vu(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function Hy(n,t){return vu(n,t)?n.getCalculationInfo("stackResultDimension"):t}function Xh(n,t,e){e=e||{};var i,r=t.getSourceManager(),o=!1;n?(o=!0,i=Qb(n)):o=(i=r.getSource()).sourceFormat===Ic;var R,F,Y,q,a=function(L){var R=L.get("coordinateSystem"),F=new hC(R),Y=uD[R];if(Y)return Y(L,F,F.axisMap,F.categoryAxisMap),F}(t),l=(R=a,Y=t.get("coordinateSystem"),q=sc.get(Y),R&&R.coordSysDims&&(F=ue(R.coordSysDims,function(Z){var Q={name:Z},ne=R.axisMap.get(Z);if(ne){var oe=ne.get("type");Q.type=By(oe)}return Q})),F||(F=q&&(q.getDimensionsInfo?q.getDimensionsInfo():q.dimensions.slice())||["x","y"]),F),u=e.useEncodeDefaulter,f=Ht(u)?u:u?xn(Uw,l,t):null,g=Dm(i,{coordDimensions:l,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!o}),y=function(L,R,F){var Y,q;return F&&pe(L,function(Z,Q){var oe=F.categoryAxisMap.get(Z.coordDim);oe&&(null==Y&&(Y=Q),Z.ordinalMeta=oe.getOrdinalMeta(),R&&(Z.createInvertedIndices=!0)),null!=Z.otherDims.itemName&&(q=!0)}),q||null==Y||(L[Y].otherDims.itemName=0),Y}(g.dimensions,e.createInvertedIndices,a),w=o?null:r.getSharedDataStore(g),C=Pm(t,{schema:g,store:w}),M=new va(g,t);M.setCalculationInfo(C);var O=null!=y&&function(L){if(L.sourceFormat===Ic){var R=function(F){for(var Y=0;Y<F.length&&null==F[Y];)Y++;return F[Y]}(L.data||[]);return!Bt(Tr(R))}}(i)?function(L,R,F,Y){return Y===y?F:this.defaultDimValueGetter(L,R,F,Y)}:null;return M.hasItemOption=!1,M.initData(o?i:w,null,O),M}var ps=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();qu(ps);var hD=0,dC=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++hD}return n.createByAxisModel=function(t){var e=t.option,i=e.data,r=i&&ue(i,Pc);return new n({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if(!On(t)&&!i)return t;if(i&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(i?(this.categories[e=this.categories.length]=t,r.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=be(this.categories))},n}();function Pc(n){return hi(n)&&null!=n.value?n.value:n+""}function jf(n){return"interval"===n.type||"log"===n.type}function uc(n){var t=Math.pow(10,Dh(n)),e=n/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,lo(e*t)}function so(n){return zl(n)+2}function Yf(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function Gf(n,t){return n>=t[0]&&n<=t[1]}function Wy(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function Nm(n,t){return n*(t[1]-t[0])+t[0]}var Rm=function(n){function t(e){var i=n.call(this,e)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new dC({})),Bt(r)&&(r=new dC({categories:ue(r,function(o){return hi(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return Oe(t,n),t.prototype.parse=function(e){return null==e?NaN:On(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Gf(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return Wy(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(Nm(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],i=this._extent,r=i[0];r<=i[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var i=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,l=this._ordinalMeta.categories.length,u=Math.min(l,i.length);a<u;++a){var f=i[a];r[a]=f,o[f]=a}for(var g=0;a<l;++a){for(;null!=o[g];)g++;r.push(g),o[g]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var i=this._ticksByOrdinalNumber;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getRawOrdinalNumber=function(e){var i=this._ordinalNumbersByTick;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var i=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(ps);ps.registerClass(Rm);var Xf=lo,ch=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Oe(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Gf(e,this._extent)},t.prototype.normalize=function(e){return Wy(e,this._extent)},t.prototype.scale=function(e){return Nm(e,this._extent)},t.prototype.setExtent=function(e,i){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(i)||(r[1]=parseFloat(i))},t.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1]),this.setExtent(i[0],i[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=so(e)},t.prototype.getTicks=function(e){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,l=[];if(!i)return l;r[0]<o[0]&&l.push(e?{value:Xf(o[0]-i,a)}:{value:r[0]});for(var u=o[0];u<=o[1]&&(l.push({value:u}),(u=Xf(u+i,a))!==l[l.length-1].value);)if(l.length>1e4)return[];var f=l.length?l[l.length-1].value:o[1];return r[1]>f&&l.push(e?{value:Xf(f+i,a)}:{value:r[1]}),l},t.prototype.getMinorTicks=function(e){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var u=i[a-1],f=0,g=[],y=(i[a].value-u.value)/e;f<e-1;){var w=Xf(u.value+(f+1)*y);w>o[0]&&w<o[1]&&g.push(w),f++}r.push(g)}return r},t.prototype.getLabel=function(e,i){if(null==e)return"";var r=i&&i.precision;return null==r?r=zl(e.value)||0:"auto"===r&&(r=this._intervalPrecision),jw(Xf(e.value,r,!0))},t.prototype.calcNiceTicks=function(e,i,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var l=function b2(n,t,e,i){var r={},a=r.interval=Cs((n[1]-n[0])/t,!0);null!=e&&a<e&&(a=r.interval=e),null!=i&&a>i&&(a=r.interval=i);var u,f,l=r.intervalPrecision=so(a);return u=r.niceTickExtent=[lo(Math.ceil(n[0]/a)*a,l),lo(Math.floor(n[1]/a)*a,l)],f=n,!isFinite(u[0])&&(u[0]=f[0]),!isFinite(u[1])&&(u[1]=f[1]),Yf(u,0,f),Yf(u,1,f),u[0]>u[1]&&(u[0]=u[1]),r}(o,e,i,r);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=Math.abs(i[0]);e.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(i[0]=Xf(Math.floor(i[0]/a)*a)),e.fixMax||(i[1]=Xf(Math.ceil(i[1]/a)*a))},t.prototype.setNiceExtent=function(e,i){this._niceExtent=[e,i]},t.type="interval",t}(ps);ps.registerClass(ch);var x2=typeof Float32Array<"u",_2=x2?Float32Array:Array;function uh(n){return Bt(n)?x2?new Float32Array(n):n:new _2(n)}var jy="__ec_stack_";function qx(n){return n.get("stack")||jy+n.seriesIndex}function Bm(n){return n.dim+n.index}function w2(n,t){var e=[];return t.eachSeriesByType(n,function(i){pC(i)&&e.push(i)}),e}function S2(n){var t=function(i){var r={};pe(i,function(y){var w=y.coordinateSystem.getBaseAxis();if("time"===w.type||"value"===w.type)for(var C=y.getData(),M=w.dim+"_"+w.index,O=C.getDimensionIndex(C.mapDimension(w.dim)),L=C.getStore(),R=0,F=L.count();R<F;++R){var Y=L.get(O,R);r[M]?r[M].push(Y):r[M]=[Y]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];if(l){l.sort(function(y,w){return y-w});for(var u=null,f=1;f<l.length;++f){var g=l[f]-l[f-1];g>0&&(u=null===u?g:Math.min(u,g))}o[a]=u}}return o}(n),e=[];return pe(n,function(i){var r,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)r=o.getBandWidth();else if("value"===o.type||"time"===o.type){var u=t[o.dim+"_"+o.index],f=Math.abs(a[1]-a[0]),g=o.scale.getExtent(),y=Math.abs(g[1]-g[0]);r=u?f/y*u:f}else{var w=i.getData();r=Math.abs(a[1]-a[0])/w.count()}var C=ri(i.get("barWidth"),r),M=ri(i.get("barMaxWidth"),r),O=ri(i.get("barMinWidth")||(M2(i)?.5:1),r),L=i.get("barGap"),R=i.get("barCategoryGap");e.push({bandWidth:r,barWidth:C,barMaxWidth:M,barMinWidth:O,barGap:L,barCategoryGap:R,axisKey:Bm(o),stackId:qx(i)})}),C2(e)}function C2(n){var t={};pe(n,function(i,r){var o=i.axisKey,a=i.bandWidth,l=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=l.stacks;t[o]=l;var f=i.stackId;u[f]||l.autoWidthCount++,u[f]=u[f]||{width:0,maxWidth:0};var g=i.barWidth;g&&!u[f].width&&(u[f].width=g,g=Math.min(l.remainedWidth,g),l.remainedWidth-=g);var y=i.barMaxWidth;y&&(u[f].maxWidth=y);var w=i.barMinWidth;w&&(u[f].minWidth=w);var C=i.barGap;null!=C&&(l.gap=C);var M=i.barCategoryGap;null!=M&&(l.categoryGap=M)});var e={};return pe(t,function(i,r){e[r]={};var o=i.stacks,a=i.bandWidth,l=i.categoryGap;if(null==l){var u=Zt(o).length;l=Math.max(35-4*u,15)+"%"}var f=ri(l,a),g=ri(i.gap,1),y=i.remainedWidth,w=i.autoWidthCount,C=(y-f)/(w+(w-1)*g);C=Math.max(C,0),pe(o,function(R){var F=R.maxWidth,Y=R.minWidth;if(R.width)q=R.width,F&&(q=Math.min(q,F)),Y&&(q=Math.max(q,Y)),R.width=q,y-=q+g*q,w--;else{var q=C;F&&F<q&&(q=Math.min(F,y)),Y&&Y>q&&(q=Y),q!==C&&(R.width=q,y-=q+g*q,w--)}}),C=(y-f)/(w+(w-1)*g),C=Math.max(C,0);var M,O=0;pe(o,function(R,F){R.width||(R.width=C),M=R,O+=R.width*(1+g)}),M&&(O-=M.width*g);var L=-O/2;pe(o,function(R,F){e[r][F]=e[r][F]||{bandWidth:a,offset:L,width:R.width},L+=R.width*(1+g)})}),e}function k2(n,t){var e=w2(n,t),i=S2(e);pe(e,function(r){var o=r.getData(),a=r.coordinateSystem.getBaseAxis(),l=qx(r),u=i[Bm(a)][l];o.setLayout({bandWidth:u.bandWidth,offset:u.offset,size:u.width})})}function A2(n){return{seriesType:n,plan:Rf(),reset:function(t){if(pC(t)){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=e.getDimensionIndex(e.mapDimension(o.dim)),l=e.getDimensionIndex(e.mapDimension(r.dim)),u=t.get("showBackground",!0),f=e.mapDimension(o.dim),g=e.getCalculationInfo("stackResultDimension"),y=vu(e,f)&&!!e.getCalculationInfo("stackedOnSeries"),w=o.isHorizontal(),C=(q=o).toGlobalCoord(q.dataToCoord("log"===q.type?1:0)),M=M2(t),O=t.get("barMinHeight")||0,L=g&&e.getDimensionIndex(g),R=e.getLayout("size"),F=e.getLayout("offset");return{progress:function(Y,q){for(var Z,Q=Y.count,ne=M&&uh(3*Q),oe=M&&u&&uh(3*Q),_e=M&&uh(Q),ke=i.master.getRect(),Ee=w?ke.width:ke.height,Re=q.getStore(),Je=0;null!=(Z=Y.next());){var st=Re.get(y?L:a,Z),mt=Re.get(l,Z),St=C,Tt=void 0;y&&(Tt=+st-Re.get(a,Z));var Lt=void 0,$t=void 0,nn=void 0,an=void 0;if(w){var kn=i.dataToPoint([st,mt]);y&&(St=i.dataToPoint([Tt,mt])[0]),Lt=St,$t=kn[1]+F,nn=kn[0]-St,an=R,Math.abs(nn)<O&&(nn=(nn<0?-1:1)*O)}else kn=i.dataToPoint([mt,st]),y&&(St=i.dataToPoint([mt,Tt])[1]),Lt=kn[0]+F,$t=St,nn=R,an=kn[1]-St,Math.abs(an)<O&&(an=(an<=0?-1:1)*O);M?(ne[Je]=Lt,ne[Je+1]=$t,ne[Je+2]=w?nn:an,oe&&(oe[Je]=w?ke.x:Lt,oe[Je+1]=w?$t:ke.y,oe[Je+2]=Ee),_e[Z]=Z):q.setItemLayout(Z,{x:Lt,y:$t,width:nn,height:an}),Je+=3}M&&q.setLayout({largePoints:ne,largeDataIndices:_e,largeBackgroundPoints:oe,valueAxisHorizontal:w})}}}var q}}}function pC(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function M2(n){return n.pipelineContext&&n.pipelineContext.large}var fC=function(n){function t(e){var i=n.call(this,e)||this;return i.type="time",i}return Oe(t,n),t.prototype.getLabel=function(e){var i=this.getSetting("useUTC");return Qg(e.value,Tb[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(js(this._minLevelUnit))]||Tb.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,i,r){var o=this.getSetting("useUTC");return function(a,l,u,f,g){var y=null;if(On(u))y=u;else if(Ht(u))y=u(a.value,l,{level:a.level});else{var w=_t({},Kg);if(a.level>0)for(var C=0;C<Eb.length;++C)w[Eb[C]]="{primary|"+w[Eb[C]]+"}";var M=u?!1===u.inherit?u:It(u,w):w,O=Cf(a.value,g);if(M[O])y=M[O];else if(M.inherit){for(C=QM.indexOf(O)-1;C>=0;--C)if(M[O]){y=M[O];break}y=y||w.none}if(Bt(y)){var L=null==a.level?0:a.level>=0?a.level:y.length+a.level;y=y[L=Math.min(L,y.length-1)]}}return Qg(new Date(a.value),y,g,f)}(e,i,r,this.getSetting("locale"),o)},t.prototype.getTicks=function(){var i=this._extent,r=[];if(!this._interval)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=function(l,u,f,g){var w=QM,C=0;function M(St,Tt,Lt,$t,nn,an,kn){for(var jn=new Date(Tt),cn=Tt,Pn=jn[$t]();cn<Lt&&cn<=g[1];)kn.push({value:cn}),jn[nn](Pn+=St),cn=jn.getTime();kn.push({value:cn,notAdd:!0})}function O(St,Tt,Lt){var $t=[],nn=!Tt.length;if(!function(Wn,oi,Un,ui){var Ti=Wo(oi),yr=Wo(Un),Er=function(Su){return Ob(Ti,Su,ui)===Ob(yr,Su,ui)},Ao=function(){return Er("year")},Wr=function(){return Ao()&&Er("month")},ro=function(){return Wr()&&Er("day")},mo=function(){return ro()&&Er("hour")},na=function(){return mo()&&Er("minute")},pa=function(){return na()&&Er("second")};switch(Wn){case"year":return Ao();case"month":return Wr();case"day":return ro();case"hour":return mo();case"minute":return na();case"second":return pa();case"millisecond":return pa()&&Er("millisecond")}}(js(St),g[0],g[1],f)){nn&&(Tt=[{value:fD(new Date(g[0]),St,f)},{value:g[1]}]);for(var an=0;an<Tt.length-1;an++){var kn=Tt[an].value,jn=Tt[an+1].value;if(kn!==jn){var cn=void 0,Pn=void 0,Yn=void 0;switch(St){case"year":cn=Math.max(1,Math.round(u/Zg/365)),Pn=oy(f),Yn=Vw(f);break;case"half-year":case"quarter":case"month":cn=dD(u),Pn=kf(f),Yn=sy(f);break;case"week":case"half-week":case"day":cn=T2(u),Pn=Td(f),Yn=Db(f);break;case"half-day":case"quarter-day":case"hour":cn=E2(u),Pn=Ed(f),Yn=Hw(f);break;case"minute":cn=gC(u,!0),Pn=ay(f),Yn=tm(f);break;case"second":cn=gC(u,!1),Pn=Jg(f),Yn=Lb(f);break;case"millisecond":cn=pD(u),Pn=em(f),Yn=Ww(f)}M(cn,kn,jn,Pn,Yn,0,$t),"year"===St&&Lt.length>1&&0===an&&Lt.unshift({value:Lt[0].value-cn})}}for(an=0;an<$t.length;an++)Lt.push($t[an]);return $t}}for(var L=[],R=[],F=0,Y=0,q=0;q<w.length&&C++<1e4;++q){var Z=js(w[q]);if(Ib(w[q])&&(O(w[q],L[L.length-1]||[],R),Z!==(w[q+1]?js(w[q+1]):null))){if(R.length){Y=F,R.sort(function(St,Tt){return St.value-Tt.value});for(var Q=[],ne=0;ne<R.length;++ne){var oe=R[ne].value;0!==ne&&R[ne-1].value===oe||(Q.push(R[ne]),oe>=g[0]&&oe<=g[1]&&F++)}var _e=(g[1]-g[0])/u;if(F>1.5*_e&&Y>_e/1.5||(L.push(Q),F>_e||l===w[q]))break}R=[]}}var ke=on(ue(L,function(St){return on(St,function(Tt){return Tt.value>=g[0]&&Tt.value<=g[1]&&!Tt.notAdd})}),function(St){return St.length>0}),Ee=[],Re=ke.length-1;for(q=0;q<ke.length;++q)for(var Je=ke[q],st=0;st<Je.length;++st)Ee.push({value:Je[st].value,level:Re-q});Ee.sort(function(St,Tt){return St.value-Tt.value});var mt=[];for(q=0;q<Ee.length;++q)0!==q&&Ee[q].value===Ee[q-1].value||mt.push(Ee[q]);return mt}(this._minLevelUnit,this._approxInterval,o,i);return(r=r.concat(a)).push({value:i[1],level:0}),r},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1]&&(i[0]-=Zg,i[1]+=Zg),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Zg}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(e=e||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var l=Yy.length,u=Math.min(function(f,g,y,w){for(;y<w;){var C=y+w>>>1;f[C][1]<g?y=C+1:w=C}return y}(Yy,this._approxInterval,0,l),l-1);this._interval=Yy[u][1],this._minLevelUnit=Yy[Math.max(u-1,0)][0]},t.prototype.parse=function(e){return En(e)?e:+Wo(e)},t.prototype.contain=function(e){return Gf(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Wy(this.parse(e),this._extent)},t.prototype.scale=function(e){return Nm(e,this._extent)},t.type="time",t}(ch),Yy=[["second",zw],["minute",Fw],["hour",iy],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",KM/2],["year",KM]];function T2(n,t){return(n/=Zg)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function dD(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function E2(n){return(n/=iy)>12?12:n>6?6:n>3.5?4:n>2?2:1}function gC(n,t){return(n/=t?Fw:zw)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function pD(n){return Cs(n,!0)}function fD(n,t,e){var i=new Date(n);switch(js(t)){case"year":case"month":i[sy(e)](0);case"day":i[Db(e)](1);case"hour":i[Hw(e)](0);case"minute":i[tm(e)](0);case"second":i[Lb(e)](0),i[Ww(e)](0)}return i.getTime()}ps.registerClass(fC);var I2=ps.prototype,Gy=ch.prototype,O2=lo,yu=Math.floor,gD=Math.ceil,zm=Math.pow,bu=Math.log,Ux=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new ch,e._interval=0,e}return Oe(t,n),t.prototype.getTicks=function(e){var r=this._extent,o=this._originalScale.getExtent();return ue(Gy.getTicks.call(this,e),function(a){var l=a.value,u=lo(zm(this.base,l));return u=l===r[0]&&this._fixMin?Xy(u,o[0]):u,{value:u=l===r[1]&&this._fixMax?Xy(u,o[1]):u}},this)},t.prototype.setExtent=function(e,i){var r=bu(this.base);e=bu(Math.max(0,e))/r,i=bu(Math.max(0,i))/r,Gy.setExtent.call(this,e,i)},t.prototype.getExtent=function(){var e=this.base,i=I2.getExtent.call(this);i[0]=zm(e,i[0]),i[1]=zm(e,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=Xy(i[0],r[0])),this._fixMax&&(i[1]=Xy(i[1],r[1])),i},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=bu(e[0])/bu(i),e[1]=bu(e[1])/bu(i),I2.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.calcNiceTicks=function(e){e=e||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=lf(r);for(e/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[lo(gD(i[0]/o)*o),lo(yu(i[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.calcNiceExtent=function(e){Gy.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Gf(e=bu(e)/bu(this.base),this._extent)},t.prototype.normalize=function(e){return Wy(e=bu(e)/bu(this.base),this._extent)},t.prototype.scale=function(e){return e=Nm(e,this._extent),zm(this.base,e)},t.type="log",t}(ps),mC=Ux.prototype;function Xy(n,t){return O2(n,zl(t))}mC.getMinorTicks=Gy.getMinorTicks,mC.getLabel=Gy.getLabel,ps.registerClass(Ux);var D2=function(){function n(t,e,i){this._prepareParams(t,e,i)}return n.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);Ht(o)?this._modelMinNum=qy(t,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=qy(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(Ht(a)?this._modelMaxNum=qy(t,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=qy(t,a)),r)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),u=Bt(l)?l:[l||0,l||0];this._boundaryGapInner="boolean"==typeof u[0]||"boolean"==typeof u[1]?[0,0]:[os(u[0],1),os(u[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:i-e||Math.abs(e),l="dataMin"===this._modelMinRaw?e:this._modelMinNum,u="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,f=null!=l,g=null!=u;null==l&&(l=t?r?0:NaN:e-o[0]*a),null==u&&(u=t?r?r-1:NaN:i+o[1]*a),(null==l||!isFinite(l))&&(l=NaN),(null==u||!isFinite(u))&&(u=NaN);var y=ai(l)||ai(u)||t&&!r;this._needCrossZero&&(l>0&&u>0&&!f&&(l=0),l<0&&u<0&&!g&&(u=0));var w=this._determinedMin,C=this._determinedMax;return null!=w&&(l=w,f=!0),null!=C&&(u=C,g=!0),{min:l,max:u,minFixed:f,maxFixed:g,isBlank:y}},n.prototype.modifyDataMinMax=function(t,e){this[vD[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[mD[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),mD={min:"_determinedMin",max:"_determinedMax"},vD={min:"_dataMin",max:"_dataMax"};function L2(n,t,e){var i=n.rawExtentInfo;return i||(i=new D2(n,t,e),n.rawExtentInfo=i,i)}function qy(n,t){return null==t?null:ai(t)?NaN:n.parse(t)}function vC(n,t){var e=n.type,i=L2(n,t,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=t.ecModel;if(a&&"time"===e){var l=w2("bar",a),u=!1;if(pe(l,function(y){u=u||y.getBaseAxis()===t.axis}),u){var f=S2(l),g=function(y,w,C,M){var O=C.axis.getExtent(),L=O[1]-O[0],R=function(ne,oe,_e){if(ne&&oe)return ne[Bm(oe)]}(M,C.axis);if(void 0===R)return{min:y,max:w};var F=1/0;pe(R,function(ne){F=Math.min(ne.offset,F)});var Y=-1/0;pe(R,function(ne){Y=Math.max(ne.offset+ne.width,Y)}),F=Math.abs(F),Y=Math.abs(Y);var q=F+Y,Z=w-y,Q=Z/(1-(F+Y)/L)-Z;return{min:y-=Q*(F/q),max:w+=Q*(Y/q)}}(r,o,t,f);r=g.min,o=g.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function Op(n,t){var e=t,i=vC(n,e),r=i.extent,o=e.get("splitNumber");n instanceof Ux&&(n.base=e.get("logBase"));var a=n.type,l=e.get("interval"),u="interval"===a||"time"===a;n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:u?e.get("minInterval"):null,maxInterval:u?e.get("maxInterval"):null}),null!=l&&n.setInterval&&n.setInterval(l)}function qh(n,t){if(t=t||n.get("type"))switch(t){case"category":return new Rm({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new fC({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(ps.getClass(t)||ch)}}function Fm(n){var t,e,o,i=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(e=i,function(o,a){return n.scale.getFormattedLabel(o,a,e)}):On(i)?(o=i,function(a){var l=n.scale.getLabel(a);return o.replace("{value}",l??"")}):Ht(i)?(t=i,function(o,a){return null!=r&&(a=o.value-r),t($x(n,o),a,null!=o.level?{level:o.level}:null)}):function(o){return n.scale.getLabel(o)}}function $x(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function P2(n,t){var e=t*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=i*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e));return new lr(n.x,n.y,o,a)}function Uy(n){return n.get("interval")??"auto"}function Zx(n){return"category"===n.type&&0===Uy(n.getLabelModel())}function Vm(n,t){var e={};return pe(n.mapDimensionsAll(t),function(i){e[Hy(n,i)]=!0}),Zt(e)}var qf=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),N2=Object.freeze({__proto__:null,createList:function(n){return Xh(null,n)},getLayoutRect:io,dataStack:{isDimensionStacked:vu,enableDataStack:Pm,getStackedDimension:Hy},createScale:function(n,t){var e=t;t instanceof ho||(e=new ho(t));var i=qh(e);return i.setExtent(n[0],n[1]),Op(i,e),i},mixinAxisModelCommonMethods:function(n){qe(n,qf)},getECData:_r,createTextStyle:function(n,t){return Eo(n,null,null,"normal"!==(t=t||{}).state)},createDimensions:function(n,t){return Dm(n,t).dimensions},createSymbol:Da,enableHoverEmphasis:dp});function R2(n,t){return Math.abs(n-t)<1e-8}function Dp(n,t,e){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=Vi(r[0],r[1],a[0],a[1],t,e),r=a}var l=n[0];return R2(r[0],l[0])&&R2(r[1],l[1])||(i+=Vi(r[0],r[1],l[0],l[1],t,e)),0!==i}var B2=[];function Kx(n,t){for(var e=0;e<n.length;e++)Fn(n[e],n[e],t)}function z2(n,t,e,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(ni(t,t,o),Jn(e,e,o))}}var F2=function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n}(),yC=function(n,t){this.type="polygon",this.exterior=n,this.interiors=t},V2=function(n){this.type="linestring",this.points=n},H2=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return Oe(t,n),t.prototype.calcCenter=function(){for(var e,i=this.geometries,r=0,o=0;o<i.length;o++){var a=i[o],l=a.exterior,u=l&&l.length;u>r&&(e=a,r=u)}if(e)return function(g){for(var y=0,w=0,C=0,M=g.length,O=g[M-1][0],L=g[M-1][1],R=0;R<M;R++){var F=g[R][0],Y=g[R][1],q=O*Y-F*L;y+=q,w+=(O+F)*q,C+=(L+Y)*q,O=F,L=Y}return y?[w/y/3,C/y/3,y]:[g[0][0]||0,g[0][1]||0]}(e.exterior);var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},t.prototype.getBoundingRect=function(e){var i=this._rect;if(i&&!e)return i;var r=[1/0,1/0],o=[-1/0,-1/0];return pe(this.geometries,function(a){"polygon"===a.type?z2(a.exterior,r,o,e):pe(a.points,function(l){z2(l,r,o,e)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new lr(r[0],r[1],o[0]-r[0],o[1]-r[1]),e||(this._rect=i),i},t.prototype.contain=function(e){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++){var l=r[o];if("polygon"===l.type){var f=l.interiors;if(Dp(l.exterior,e[0],e[1])){for(var g=0;g<(f?f.length:0);g++)if(Dp(f[g],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,i,r,o){var a=this.getBoundingRect(),l=a.width/a.height;r?o||(o=r/l):r=l*o;for(var u=new lr(e,i,r,o),f=a.calculateTransform(u),g=this.geometries,y=0;y<g.length;y++){var w=g[y];"polygon"===w.type?(Kx(w.exterior,f),pe(w.interiors,function(C){Kx(C,f)})):pe(w.points,function(C){Kx(C,f)})}(a=this._rect).copy(u),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t}(F2),Qx=function(n){function t(e,i){var r=n.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return Oe(t,n),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,i=e.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=qt(B2),a=e;a&&!a.isGeoSVGGraphicRoot;)Mn(o,a.getLocalTransform(),o),a=a.parent;return Bi(o,o),Fn(r,r,o),r},t}(F2);function bC(n,t,e){for(var i=0;i<n.length;i++)n[i]=xC(n[i],t[i],e)}function xC(n,t,e){for(var i=[],r=t[0],o=t[1],a=0;a<n.length;a+=2){var l=n.charCodeAt(a)-64,u=n.charCodeAt(a+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),r=l+=r,o=u+=o,i.push([l/e,u/e])}return i}function _C(n,t){return ue(on((n=function(e){if(!e.UTF8Encoding)return e;var i=e,r=i.UTF8Scale;return null==r&&(r=1024),pe(i.features,function(o){var a=o.geometry,l=a.encodeOffsets,u=a.coordinates;if(l)switch(a.type){case"LineString":a.coordinates=xC(u,l,r);break;case"Polygon":case"MultiLineString":bC(u,l,r);break;case"MultiPolygon":pe(u,function(f,g){return bC(f,l[g],r)})}}),i.UTF8Encoding=!1,i}(n)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new yC(a[0],a.slice(1)));break;case"MultiPolygon":pe(r.coordinates,function(u){u[0]&&o.push(new yC(u[0],u.slice(1)))});break;case"LineString":o.push(new V2([r.coordinates]));break;case"MultiLineString":o.push(new V2(r.coordinates))}var l=new H2(i[t||"name"],o,i.cp);return l.properties=i,l})}var bD=Object.freeze({__proto__:null,linearMap:oo,round:lo,asc:as,getPrecision:zl,getPrecisionSafe:af,getPixelPrecision:ap,getPercentWithPrecision:function(n,t,e){return n[t]&&sf(n,e)[t]||0},MAX_SAFE_INTEGER:zs,remRadian:Gu,isRadianAroundZero:Xu,parseDate:Wo,quantity:lf,quantityExponent:Dh,nice:Cs,quantile:ht,reformIntervals:te,isNumeric:Dt,numericToNumber:ze}),Jx=Object.freeze({__proto__:null,parse:Wo,format:Qg}),wC=Object.freeze({__proto__:null,extendShape:Ew,extendPath:Iw,makePath:Jv,makeImage:Ow,mergePath:oc,resizePath:Dw,createIcon:Ug,updateProps:co,initProps:Uo,getTransform:lu,clipPointsByRect:bb,clipRectByRect:Lw,registerShape:su,getShapeClass:zh,Group:Gi,Image:ls,Text:Qr,Circle:au,Ellipse:Yv,Sector:fl,Ring:Hg,Polygon:gl,Polyline:ml,Rect:Zr,Line:cs,BezierCurve:Wg,Arc:Uv,IncrementalDisplayable:VM,CompoundPath:fb,LinearGradient:jg,RadialGradient:Tw,BoundingRect:lr}),SC=Object.freeze({__proto__:null,addCommas:jw,toCamelCase:Pb,normalizeCssArray:Id,encodeHTML:J,formatTpl:Fh,getTooltipMarker:Bb,formatTime:function(n,t,e){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var i=Wo(t),r=e?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,l=i[r+"Date"](),u=i[r+"Hours"](),f=i[r+"Minutes"](),g=i[r+"Seconds"](),y=i[r+"Milliseconds"]();return n.replace("MM",Hl(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Hl(o%100+"",2)).replace("dd",Hl(l,2)).replace("d",l).replace("hh",Hl(u,2)).replace("h",u).replace("mm",Hl(f,2)).replace("m",f).replace("ss",Hl(g,2)).replace("s",g).replace("SSS",Hl(y,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:lp,getTextRect:function(n,t,e,i,r,o,a,l){return new Qr({style:{text:n,font:t,align:e,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:l}}).getBoundingRect()}}),W2=Object.freeze({__proto__:null,map:ue,each:pe,indexOf:hn,inherits:pn,reduce:ln,filter:on,bind:Et,curry:xn,isArray:Bt,isString:On,isObject:hi,isFunction:Ht,extend:_t,defaults:It,clone:Qe,merge:rt}),Uf=nr();function kC(n,t){var i,l,r=AC(n,"labels"),o=Uy(t);return hh(r,o)||t1(r,o,{labels:Ht(o)?MC(n,o):ya(n,i="auto"===o?Uf(l=n).autoInterval??(Uf(l).autoInterval=l.calculateCategoryInterval()):o),labelCategoryInterval:i})}function AC(n,t){return Uf(n)[t]||(Uf(n)[t]=[])}function hh(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function t1(n,t,e){return n.push({key:t,value:e}),e}function ya(n,t,e){var i=Fm(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),l=[],u=Math.max((t||0)+1,1),f=o[0],g=r.count();0!==f&&u>1&&g/u>2&&(f=Math.round(Math.ceil(f/u)*u));var y=Zx(n),w=a.get("showMinLabel")||y,C=a.get("showMaxLabel")||y;w&&f!==o[0]&&O(o[0]);for(var M=f;M<=o[1];M+=u)O(M);function O(L){var R={value:L};l.push(e?L:{formattedLabel:i(R),rawLabel:r.getLabel(R),tickValue:L})}return C&&M-u!==o[1]&&O(o[1]),l}function MC(n,t,e){var i=n.scale,r=Fm(n),o=[];return pe(i.getTicks(),function(a){var l=i.getLabel(a),u=a.value;t(a.value,l)&&o.push(e?u:{formattedLabel:r(a),rawLabel:l,tickValue:u})}),o}var TC=[0,1],Nc=function(){function n(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return n.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=i&&t<=r},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return ap(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},n.prototype.dataToCoord=function(t,e){var i=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&EC(i=i.slice(),r.count()),oo(t,TC,i,e)},n.prototype.coordToData=function(t,e){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&EC(i=i.slice(),r.count());var o=oo(t,i,TC,e);return this.scale.scale(o)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=ue(function e1(n,t){return"category"===n.type?function(e,i){var r,o,a=AC(e,"ticks"),l=Uy(i),u=hh(a,l);if(u)return u;if(i.get("show")&&!e.scale.isBlank()||(r=[]),Ht(l))r=MC(e,l,!0);else if("auto"===l){var f=kC(e,e.getLabelModel());o=f.labelCategoryInterval,r=ue(f.labels,function(g){return g.tickValue})}else r=ya(e,o=l,!0);return t1(a,l,{ticks:r,tickCategoryInterval:o})}(n,t):{ticks:ue(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(r){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,l){var u=o.length;if(r.onBand&&!a&&u){var f,g,y=r.getExtent();if(1===u)o[0].coord=y[0],f=o[1]={coord:y[1]};else{var C=(o[u-1].coord-o[0].coord)/(o[u-1].tickValue-o[0].tickValue);pe(o,function(L){L.coord-=C/2}),g=1+r.scale.getExtent()[1]-o[u-1].tickValue,o.push(f={coord:o[u-1].coord+C*g})}var M=y[0]>y[1];O(o[0].coord,y[0])&&(l?o[0].coord=y[0]:o.shift()),l&&O(y[0],o[0].coord)&&o.unshift({coord:y[0]}),O(y[1],f.coord)&&(l?f.coord=y[1]:o.pop()),l&&O(f.coord,y[1])&&o.push({coord:y[1]})}function O(L,R){return L=lo(L),R=lo(R),M?L>R:L<R}}(this,i,e.get("alignWithLabel"),t.clamp),i},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),ue(this.scale.getMinorTicks(t),function(e){return ue(e,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this)},n.prototype.getViewLabels=function(){return function CC(n){return"category"===n.type?function(t){var e=t.getLabelModel(),i=kC(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(n):function(t){var e=t.scale.getTicks(),i=Fm(t);return{labels:ue(e,function(r,o){return{level:r.level,formattedLabel:i(r,o),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function(t){var _e,ke,e=(ke=(_e=t).getLabelModel(),{axisRotate:_e.getRotate?_e.getRotate():_e.isHorizontal&&!_e.isHorizontal()?90:0,labelRotate:ke.get("rotate")||0,font:ke.getFont()}),i=Fm(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),l=o.count();if(a[1]-a[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var f=a[0],g=t.dataToCoord(f+1)-t.dataToCoord(f),y=Math.abs(g*Math.cos(r)),w=Math.abs(g*Math.sin(r)),C=0,M=0;f<=a[1];f+=u){var L,R=Bl(i({value:f}),e.font,"center","top");L=1.3*R.height,C=Math.max(C,1.3*R.width,7),M=Math.max(M,L,7)}var F=C/y,Y=M/w;isNaN(F)&&(F=1/0),isNaN(Y)&&(Y=1/0);var q=Math.max(0,Math.floor(Math.min(F,Y))),Z=Uf(t.model),Q=t.getExtent(),ne=Z.lastAutoInterval,oe=Z.lastTickCount;return null!=ne&&null!=oe&&Math.abs(ne-q)<=1&&Math.abs(oe-l)<=1&&ne>q&&Z.axisExtent0===Q[0]&&Z.axisExtent1===Q[1]?q=ne:(Z.lastTickCount=l,Z.lastAutoInterval=q,Z.axisExtent0=Q[0],Z.axisExtent1=Q[1]),q}(this)},n}();function EC(n,t){var e=(n[1]-n[0])/t/2;n[0]+=e,n[1]-=e}var Hm=2*Math.PI,Lp=gn.CMD,xD=["top","right","bottom","left"];function _D(n,t,e,i,r){var o=e.width,a=e.height;switch(n){case"top":i.set(e.x+o/2,e.y-t),r.set(0,-1);break;case"bottom":i.set(e.x+o/2,e.y+a+t),r.set(0,1);break;case"left":i.set(e.x-t,e.y+a/2),r.set(-1,0);break;case"right":i.set(e.x+o+t,e.y+a/2),r.set(1,0)}}function j2(n,t,e,i,r,o,a,l,u){a-=n,l-=t;var f=Math.sqrt(a*a+l*l),g=(a/=f)*e+n,y=(l/=f)*e+t;if(Math.abs(i-r)%Hm<1e-4)return u[0]=g,u[1]=y,f-e;if(o){var w=i;i=wi(r),r=wi(w)}else i=wi(i),r=wi(r);i>r&&(r+=Hm);var C=Math.atan2(l,a);if(C<0&&(C+=Hm),C>=i&&C<=r||C+Hm>=i&&C+Hm<=r)return u[0]=g,u[1]=y,f-e;var M=e*Math.cos(i)+n,O=e*Math.sin(i)+t,L=e*Math.cos(r)+n,R=e*Math.sin(r)+t,F=(M-a)*(M-a)+(O-l)*(O-l),Y=(L-a)*(L-a)+(R-l)*(R-l);return F<Y?(u[0]=M,u[1]=O,Math.sqrt(F)):(u[0]=L,u[1]=R,Math.sqrt(Y))}function Wm(n,t,e,i,r,o,a,l){var u=r-n,f=o-t,g=e-n,y=i-t,w=Math.sqrt(g*g+y*y),C=(u*(g/=w)+f*(y/=w))/w;l&&(C=Math.min(Math.max(C,0),1));var M=a[0]=n+(C*=w)*g,O=a[1]=t+C*y;return Math.sqrt((M-r)*(M-r)+(O-o)*(O-o))}function Y2(n,t,e,i,r,o,a){e<0&&(n+=e,e=-e),i<0&&(t+=i,i=-i);var l=n+e,u=t+i,f=a[0]=Math.min(Math.max(r,n),l),g=a[1]=Math.min(Math.max(o,t),u);return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}var dh=[];function wD(n,t,e){var i=Y2(t.x,t.y,t.width,t.height,n.x,n.y,dh);return e.set(dh[0],dh[1]),i}function G2(n,t,e){for(var i,r,o=0,a=0,l=0,u=0,f=1/0,g=t.data,y=n.x,w=n.y,C=0;C<g.length;){var M=g[C++];1===C&&(l=o=g[C],u=a=g[C+1]);var O=f;switch(M){case Lp.M:o=l=g[C++],a=u=g[C++];break;case Lp.L:O=Wm(o,a,g[C],g[C+1],y,w,dh,!0),o=g[C++],a=g[C++];break;case Lp.C:O=ku(o,a,g[C++],g[C++],g[C++],g[C++],g[C],g[C+1],y,w,dh),o=g[C++],a=g[C++];break;case Lp.Q:O=ba(o,a,g[C++],g[C++],g[C],g[C+1],y,w,dh),o=g[C++],a=g[C++];break;case Lp.A:var L=g[C++],R=g[C++],F=g[C++],Y=g[C++],q=g[C++],Z=g[C++];C+=1;var Q=!!(1-g[C++]);i=Math.cos(q)*F+L,r=Math.sin(q)*Y+R,C<=1&&(l=i,u=r),O=j2(L,R,Y,q,q+Z,Q,(y-L)*Y/F+L,w,dh),o=Math.cos(q+Z)*F+L,a=Math.sin(q+Z)*Y+R;break;case Lp.R:O=Y2(l=o=g[C++],u=a=g[C++],g[C++],g[C++],y,w,dh);break;case Lp.Z:O=Wm(o,a,l,u,y,w,dh,!0),o=l,a=u}O<f&&(f=O,e.set(dh[0],dh[1]))}return f}var xu=new si,$o=new si,Ha=new si,ph=new si,Uh=new si;function X2(n,t){if(n){var e=n.getTextGuideLine(),i=n.getTextContent();if(i&&e){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||xD,l=i.getBoundingRect().clone();l.applyTransform(i.getComputedTransform());var u=1/0,f=r.anchor,g=n.getComputedTransform(),y=g&&Bi([],g),w=t.get("length2")||0;f&&Ha.copy(f);for(var C=0;C<a.length;C++){_D(a[C],0,l,xu,ph),si.scaleAndAdd($o,xu,ph,w),$o.transform(y);var M=n.getBoundingRect(),O=f?f.distance($o):n instanceof hr?G2($o,n.path,Ha):wD($o,M,Ha);O<u&&(u=O,$o.transform(g),Ha.transform(g),Ha.toArray(o[0]),$o.toArray(o[1]),xu.toArray(o[2]))}$y(o,t.get("minTurnAngle")),e.setShape({points:o})}}}var n1=[],Gs=new si;function $y(n,t){if(t<=180&&t>0){t=t/180*Math.PI,xu.fromArray(n[0]),$o.fromArray(n[1]),Ha.fromArray(n[2]),si.sub(ph,xu,$o),si.sub(Uh,Ha,$o);var e=ph.len(),i=Uh.len();if(!(e<.001||i<.001)){ph.scale(1/e),Uh.scale(1/i);var r=ph.dot(Uh);if(Math.cos(t)<r){var o=Wm($o.x,$o.y,Ha.x,Ha.y,xu.x,xu.y,n1,!1);Gs.fromArray(n1),Gs.scaleAndAdd(Uh,o/Math.tan(Math.PI-t));var a=Ha.x!==$o.x?(Gs.x-$o.x)/(Ha.x-$o.x):(Gs.y-$o.y)/(Ha.y-$o.y);if(isNaN(a))return;a<0?si.copy(Gs,$o):a>1&&si.copy(Gs,Ha),Gs.toArray(n[1])}}}}function i1(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,xu.fromArray(n[0]),$o.fromArray(n[1]),Ha.fromArray(n[2]),si.sub(ph,$o,xu),si.sub(Uh,Ha,$o);var i=ph.len(),r=Uh.len();if(!(i<.001||r<.001)&&(ph.scale(1/i),Uh.scale(1/r),ph.dot(t)<Math.cos(e))){var o=Wm($o.x,$o.y,Ha.x,Ha.y,xu.x,xu.y,n1,!1);Gs.fromArray(n1);var a=Math.PI/2,l=a+Math.acos(Uh.dot(t))-e;if(l>=a)si.copy(Gs,Ha);else{Gs.scaleAndAdd(Uh,o/Math.tan(Math.PI/2-l));var u=Ha.x!==$o.x?(Gs.x-$o.x)/(Ha.x-$o.x):(Gs.y-$o.y)/(Ha.y-$o.y);if(isNaN(u))return;u<0?si.copy(Gs,$o):u>1&&si.copy(Gs,Ha)}Gs.toArray(n[1])}}}function $f(n,t,e,i){var r="normal"===e,o=r?n:n.ensureState(e);o.ignore=t;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var l=i.getModel("lineStyle").getLineStyle();r?n.useStyle(l):o.style=l}function q2(n,t){var e=t.smooth,i=t.points;if(i)if(n.moveTo(i[0][0],i[0][1]),e>0&&i.length>=3){var r=or(i[0],i[1]),o=or(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*e,l=Sr([],i[1],i[0],a/r),u=Sr([],i[1],i[2],a/o),f=Sr([],l,u,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],f[0],f[1]),n.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var g=1;g<i.length;g++)n.lineTo(i[g][0],i[g][1])}function r1(n,t,e){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),l=r.ignore,u=0;u<Rg.length;u++){var f=Rg[u],g=t[f],y="normal"===f;if(g){var w=g.get("show");if((y?l:yi(r.states[f]&&r.states[f].ignore,l))||!yi(w,a)){var C=y?i:i&&i.states[f];C&&(C.ignore=!0);continue}i||(i=new ml,n.setTextGuideLine(i),y||!l&&a||$f(i,!0,"normal",t.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),$f(i,!1,f,g)}}if(i){It(i.style,e),i.style.fill=null;var M=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=M||!1,i.buildPath=q2}}else i&&n.removeTextGuideLine()}function IC(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},i=0;i<Qs.length;i++){var r=Qs[i];e[r]=n.getModel([r,t])}return e}function U2(n){for(var t=[],e=0;e<n.length;e++){var i=n[e];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),l=!o||o[1]<1e-5&&o[2]<1e-5,u=r.style.margin||0,f=a.clone();f.applyTransform(o),f.x-=u/2,f.y-=u/2,f.width+=u,f.height+=u;var g=l?new $v(a,o):null;t.push({label:r,labelLine:i.labelLine,rect:f,localRect:a,obb:g,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:l,transform:o})}}return t}function $2(n,t,e,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(ne,oe){return ne.rect[t]-oe.rect[t]});for(var l,u=0,f=!1,g=0,y=0;y<a;y++){var w=n[y],C=w.rect;(l=C[t]-u)<0&&(C[t]-=l,w.label[t]-=l,f=!0),g+=Math.max(-l,0),u=C[t]+C[e]}g>0&&o&&q(-g/a,0,a);var M,O,L=n[0],R=n[a-1];return F(),M<0&&Z(-M,.8),O<0&&Z(O,.8),F(),Y(M,O,1),Y(O,M,-1),F(),M<0&&Q(-M),O<0&&Q(O),f}function F(){M=L.rect[t]-i,O=r-R.rect[t]-R.rect[e]}function Y(ne,oe,_e){if(ne<0){var ke=Math.min(oe,-ne);if(ke>0){q(ke*_e,0,a);var Ee=ke+ne;Ee<0&&Z(-Ee*_e,1)}else Z(-ne*_e,1)}}function q(ne,oe,_e){0!==ne&&(f=!0);for(var ke=oe;ke<_e;ke++){var Ee=n[ke];Ee.rect[t]+=ne,Ee.label[t]+=ne}}function Z(ne,oe){for(var _e=[],ke=0,Ee=1;Ee<a;Ee++){var Re=n[Ee-1].rect,Je=Math.max(n[Ee].rect[t]-Re[t]-Re[e],0);_e.push(Je),ke+=Je}if(ke){var st=Math.min(Math.abs(ne)/ke,oe);if(ne>0)for(Ee=0;Ee<a-1;Ee++)q(_e[Ee]*st,0,Ee+1);else for(Ee=a-1;Ee>0;Ee--)q(-_e[Ee-1]*st,Ee,a)}}function Q(ne){var oe=ne<0?-1:1;ne=Math.abs(ne);for(var _e=Math.ceil(ne/(a-1)),ke=0;ke<a-1;ke++)if(oe>0?q(_e,0,ke+1):q(-_e,a-ke-1,a),(ne-=_e)<=0)return}}function Z2(n,t,e,i){return $2(n,"y","height",t,e,i)}function OC(n){var t=[];n.sort(function(O,L){return L.priority-O.priority});var e=new lr(0,0,0,0);function i(O){if(!O.ignore){var L=O.ensureState("emphasis");null==L.ignore&&(L.ignore=!1)}O.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,l=o.localRect,u=o.transform,f=o.label,g=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var y=o.obb,w=!1,C=0;C<t.length;C++){var M=t[C];if(e.intersect(M.rect)){if(a&&M.axisAligned){w=!0;break}if(M.obb||(M.obb=new $v(M.localRect,M.transform)),y||(y=new $v(l,u)),y.intersect(M.obb)){w=!0;break}}}w?(i(f),g&&i(g)):(f.attr("ignore",o.defaultAttr.ignore),g&&g.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function jm(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function Zf(n,t){var e=n.label,i=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:jm(i&&i.shape.points)}}var DC=["align","verticalAlign","width","height","fontSize"],xl=new Ua,Ym=nr(),Zy=nr();function Pp(n,t,e){for(var i=0;i<e.length;i++){var r=e[i];null!=t[r]&&(n[r]=t[r])}}var Kf=["x","y","rotation"],LC=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,i,r,o){var a=r.style,l=r.__hostTarget.textConfig||{},u=r.getComputedTransform(),f=r.getBoundingRect().plain();lr.applyTransform(f,f,u),u?xl.setLocalTransform(u):(xl.x=xl.y=xl.rotation=xl.originX=xl.originY=0,xl.scaleX=xl.scaleY=1),xl.rotation=wi(xl.rotation);var g,y=r.__hostTarget;if(y){g=y.getBoundingRect().plain();var w=y.getComputedTransform();lr.applyTransform(g,g,w)}var C=g&&y.getTextGuideLine();this._labelList.push({label:r,labelLine:C,seriesModel:i,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:f,hostRect:g,priority:g?g.width*g.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:C&&C.ignore,x:xl.x,y:xl.y,scaleX:xl.scaleX,scaleY:xl.scaleY,rotation:xl.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var i=t.__model,r=i.get("labelLayout");(Ht(r)||Zt(r).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),l=_r(o);a&&!a.disableLabelLayout&&e._addLabel(l.dataIndex,l.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),i=t.getHeight();function r(R,F){return function(){X2(R,F)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],l=a.label,u=l.__hostTarget,f=a.defaultAttr,g=void 0;g=(g=Ht(a.layoutOption)?a.layoutOption(Zf(a,u)):a.layoutOption)||{},a.computedLayoutOption=g;var y=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=g.x||null!=g.y?null:f.attachedPos,rotation:null!=g.rotate?g.rotate*y:f.attachedRot,offset:[g.dx||0,g.dy||0]});var w=!1;if(null!=g.x?(l.x=ri(g.x,e),l.setStyle("x",0),w=!0):(l.x=f.x,l.setStyle("x",f.style.x)),null!=g.y?(l.y=ri(g.y,i),l.setStyle("y",0),w=!0):(l.y=f.y,l.setStyle("y",f.style.y)),g.labelLinePoints){var C=u.getTextGuideLine();C&&(C.setShape({points:g.labelLinePoints}),w=!1)}Ym(l).needsUpdateLabelLine=w,l.rotation=null!=g.rotate?g.rotate*y:f.rotation,l.scaleX=f.scaleX,l.scaleY=f.scaleY;for(var M=0;M<DC.length;M++){var O=DC[M];l.setStyle(O,null!=g[O]?g[O]:f.style[O])}if(g.draggable){if(l.draggable=!0,l.cursor="move",u){var L=a.seriesModel;null!=a.dataIndex&&(L=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),l.on("drag",r(u,L.getModel("labelLine")))}}else l.off("drag"),l.cursor=f.cursor}},n.prototype.layout=function(t){var i=t.getWidth(),r=t.getHeight(),o=U2(this._labelList),a=on(o,function(u){return"shiftX"===u.layoutOption.moveOverlap}),l=on(o,function(u){return"shiftY"===u.layoutOption.moveOverlap});$2(a,"x","width",0,i,void 0),Z2(l,0,r),OC(on(o,function(u){return u.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;pe(this._chartViewList,function(e){var i=e.__model,r=e.ignoreLabelLineUpdate,o=i.isAnimationEnabled();e.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var l=!r,u=a.getTextContent();!l&&u&&(l=Ym(u).needsUpdateLabelLine),l&&t._updateLabelLine(a,i),o&&t._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(t,e){var i=t.getTextContent(),r=_r(t),o=r.dataIndex;if(i&&null!=o){var a=e.getData(r.dataType),l=a.getItemModel(o),u={},f=a.getItemVisual(o,"style");if(f){var g=a.getVisual("drawType");u.stroke=f[g]}var y=l.getModel("labelLine");r1(t,IC(l),u),X2(t,y)}},n.prototype._animateLabels=function(t,e){var i=t.getTextContent(),r=t.getTextGuideLine();if(i&&(t.forceLabelAnimation||!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!Gg(t))){var o=(M=Ym(i)).oldLayout,a=_r(t),l=a.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},f=e.getData(a.dataType);if(o){i.attr(o);var g=t.prevStates;g&&(hn(g,"select")>=0&&i.attr(M.oldLayoutSelect),hn(g,"emphasis")>=0&&i.attr(M.oldLayoutEmphasis)),co(i,u,e,l)}else if(i.attr(u),!Cd(i).valueAnimation){var y=yi(i.style.opacity,1);i.style.opacity=0,Uo(i,{style:{opacity:y}},e,l)}if(M.oldLayout=u,i.states.select){var w=M.oldLayoutSelect={};Pp(w,u,Kf),Pp(w,i.states.select,Kf)}if(i.states.emphasis){var C=M.oldLayoutEmphasis={};Pp(C,u,Kf),Pp(C,i.states.emphasis,Kf)}qM(i,l,f,e,e)}if(r&&!r.ignore&&!r.invisible){o=(M=Zy(r)).oldLayout;var M,O={points:r.shape.points};o?(r.attr({shape:o}),co(r,{shape:O},e)):(r.setShape(O),r.style.strokePercent=0,Uo(r,{style:{strokePercent:1}},e)),M.oldLayout=O}},n}(),o1=nr(),PC=Math.sin,a1=Math.cos,K2=Math.PI,Qf=2*Math.PI,Q2=180/K2,NC=function(){function n(){}return n.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){this._add("C",t,e,i,r,o,a)},n.prototype.quadraticCurveTo=function(t,e,i,r){this._add("Q",t,e,i,r)},n.prototype.arc=function(t,e,i,r,o,a){this.ellipse(t,e,i,i,0,r,o,a)},n.prototype.ellipse=function(t,e,i,r,o,a,l,u){var M,f=l-a,g=!u,y=Math.abs(f),w=aa(y-Qf)||(g?f>=Qf:-f>=Qf),C=f>0?f%Qf:f%Qf+Qf;M=!!w||!aa(y)&&C>=K2==!!g;var O=t+i*a1(a),L=e+r*PC(a);this._start&&this._add("M",O,L);var R=Math.round(o*Q2);if(w){var F=1/this._p,Y=(g?1:-1)*(Qf-F);this._add("A",i,r,R,1,+g,t+i*a1(a+Y),e+r*PC(a+Y)),F>.01&&this._add("A",i,r,R,0,+g,O,L)}else{var q=t+i*a1(l),Z=e+r*PC(l);this._add("A",i,r,R,+M,+g,q,Z)}},n.prototype.rect=function(t,e,i,r){this._add("M",t,e),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,i,r,o,a,l,u,f){for(var g=[],y=this._p,w=1;w<arguments.length;w++){var C=arguments[w];if(isNaN(C))return void(this._invalid=!0);g.push(Math.round(C*y)/y)}this._d.push(t+g.join(" ")),this._start="Z"===t},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),Ky="none",J2=Math.round,Np=["lineCap","miterLimit","lineJoin"],SD=ue(Np,function(n){return"stroke-"+n.toLowerCase()}),Qy="http://www.w3.org/2000/svg",hc="http://www.w3.org/1999/xlink";function s1(n){return document.createElementNS(Qy,n)}function fs(n,t,e,i,r){return{tag:n,attrs:e||{},children:i,text:r,key:t}}function RC(n,t){var e=(t=t||{}).newline?"\n":"";return function i(r){var o=r.children,a=r.tag,u=r.text;return function(f,g){var y=[];if(g)for(var w in g){var C=g[w],M=w;!1!==C&&(!0!==C&&null!=C&&(M+='="'+C+'"'),y.push(M))}return"<"+f+" "+y.join(" ")+">"}(a,r.attrs)+("style"!==a?J(u):u||"")+(o?""+e+ue(o,function(f){return i(f)}).join(e)+e:"")+"</"+a+">"}(n)}function BC(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function zC(n,t,e,i){return fs("svg","root",{width:n,height:t,xmlns:Qy,"xmlns:xlink":hc,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+t},e)}var FC={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Rp="transform-origin";function kD(n,t,e){var i=_t({},n.shape);_t(i,t),n.buildPath(e,i);var r=new NC;return r.reset($c(n)),e.rebuildPath(r,1),r.generateStr(),r.getStr()}function eE(n,t){var e=t.originX,i=t.originY;(e||i)&&(n[Rp]=e+"px "+i+"px")}var tE={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function VC(n,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=n,e}function nE(n){return On(n)?FC[n]?"cubic-bezier("+FC[n]+")":Ml(n)?n:"":""}function Gm(n,t,e,i){var r=n.animators,o=r.length,a=[];if(n instanceof fb){var l=function(F,Y,q){var Z,Q,oe={};if(pe(F.shape.paths,function(ke){var Ee=BC(q.zrId);Ee.animation=!0,Gm(ke,{},Ee,!0);var Re=Ee.cssAnims,Je=Ee.cssNodes,st=Zt(Re),mt=st.length;if(mt){var St=Re[Q=st[mt-1]];for(var Tt in St){var Lt=St[Tt];oe[Tt]=oe[Tt]||{d:""},oe[Tt].d+=Lt.d||""}for(var $t in Je){var nn=Je[$t].animation;nn.indexOf(Q)>=0&&(Z=nn)}}}),Z){Y.d=!1;var _e=VC(oe,q);return Z.replace(Q,_e)}}(n,t,e);if(l)a.push(l);else if(!o)return}else if(!o)return;for(var u={},f=0;f<o;f++){var g=r[f],y=[g.getMaxTime()/1e3+"s"],w=nE(g.getClip().easing),C=g.getDelay();y.push(w||"linear"),C&&y.push(C/1e3+"s"),g.getLoop()&&y.push("infinite");var M=y.join(" ");u[M]=u[M]||[M,[]],u[M][1].push(g)}function O(F){var Y,q=F[1],Z=q.length,Q={},ne={},oe={},_e="animation-timing-function";function ke(Zn,Wn,oi){for(var Un=Zn.getTracks(),ui=Zn.getMaxTime(),Ti=0;Ti<Un.length;Ti++){var yr=Un[Ti];if(yr.needsAnimate()){var Er=yr.keyframes,Ao=yr.propName;if(oi&&(Ao=oi(Ao)),Ao)for(var Wr=0;Wr<Er.length;Wr++){var ro=Er[Wr],mo=Math.round(ro.time/ui*100)+"%",na=nE(ro.easing),pa=ro.rawValue;(On(pa)||En(pa))&&(Wn[mo]=Wn[mo]||{},Wn[mo][Ao]=ro.rawValue,na&&(Wn[mo][_e]=na))}}}}for(var Ee=0;Ee<Z;Ee++)(an=(nn=q[Ee]).targetName)?"shape"===an&&ke(nn,ne):!i&&ke(nn,Q);for(var Re in Q){var Je={};_c(Je,n),_t(Je,Q[Re]);var st=yo(Je),mt=Q[Re][_e];oe[Re]=st?{transform:st}:{},eE(oe[Re],Je),mt&&(oe[Re][_e]=mt)}var St=!0;for(var Re in ne){oe[Re]=oe[Re]||{};var Tt=!Y;mt=ne[Re][_e],Tt&&(Y=new gn);var Lt=Y.len();Y.reset(),oe[Re].d=kD(n,ne[Re],Y);var $t=Y.len();if(!Tt&&Lt!==$t){St=!1;break}mt&&(oe[Re][_e]=mt)}if(!St)for(var Re in oe)delete oe[Re].d;if(!i)for(Ee=0;Ee<Z;Ee++){var nn,an;"style"===(an=(nn=q[Ee]).targetName)&&ke(nn,oe,function(Zn){return tE[Zn]})}var kn,jn=Zt(oe),cn=!0;for(Ee=1;Ee<jn.length;Ee++){var Pn=jn[Ee-1];if(oe[Pn][Rp]!==oe[jn[Ee]][Rp]){cn=!1;break}kn=oe[Pn][Rp]}if(cn&&kn){for(var Re in oe)oe[Re][Rp]&&delete oe[Re][Rp];t[Rp]=kn}if(on(jn,function(Zn){return Zt(oe[Zn]).length>0}).length)return VC(oe,e)+" "+F[0]+" both"}for(var L in u)(l=O(u[L]))&&a.push(l);if(a.length){var R=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+R]={animation:a.join(",")},t.class=R}}var Xm=Math.round;function HC(n){return n&&On(n.src)}function WC(n){return n&&Ht(n.toDataURL)}function jC(n,t,e,i){(function CD(n,t,e,i){var Y,r=null==t.opacity?1:t.opacity;if(e instanceof ls)n("opacity",r);else{if(null!=(Y=t.fill)&&Y!==Ky){var o=Il(t.fill);n("fill",o.color);var a=null!=t.fillOpacity?t.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&n("fill-opacity",a)}else n("fill",Ky);if(function(F){var Y=F.stroke;return null!=Y&&Y!==Ky}(t)){var l=Il(t.stroke);n("stroke",l.color);var u=t.strokeNoScale?e.getLineScale():1,f=u?(t.lineWidth||0)/u:0,g=null!=t.strokeOpacity?t.strokeOpacity*l.opacity*r:l.opacity*r,y=t.strokeFirst;if((i||1!==f)&&n("stroke-width",f),(i||y)&&n("paint-order",y?"stroke":"fill"),(i||g<1)&&n("stroke-opacity",g),t.lineDash){var w=vx(e),C=w[0],M=w[1];C&&(M=J2(M||0),n("stroke-dasharray",C.join(",")),(M||i)&&n("stroke-dashoffset",M))}else i&&n("stroke-dasharray",Ky);for(var O=0;O<Np.length;O++){var L=Np[O];if(i||t[L]!==za[L]){var R=t[L]||za[L];R&&n(SD[O],R)}}}else i&&n("stroke",Ky)}})(function(r,o){var a="fill"===r||"stroke"===r;a&&Eu(o)?qm(t,n,r,i):a&&Ns(o)?d1(e,n,r,i):n[r]=o},t,e,!1),function(r,o,a){var Z,l=r.style;if((Z=l)&&(Z.shadowBlur||Z.shadowOffsetX||Z.shadowOffsetY)){var u=function(Z){var Q=Z.style,ne=Z.getGlobalScale();return[Q.shadowColor,(Q.shadowBlur||0).toFixed(2),(Q.shadowOffsetX||0).toFixed(2),(Q.shadowOffsetY||0).toFixed(2),ne[0],ne[1]].join(",")}(r),f=a.shadowCache,g=f[u];if(!g){var y=r.getGlobalScale(),w=y[0],C=y[1];if(!w||!C)return;var M=l.shadowOffsetX||0,O=l.shadowOffsetY||0,L=l.shadowBlur,R=Il(l.shadowColor),F=R.opacity,Y=R.color,q=L/2/w+" "+L/2/C;g=a.zrId+"-s"+a.shadowIdx++,a.defs[g]=fs("filter",g,{id:g,x:"-100%",y:"-100%",width:"300%",height:"300%"},[fs("feDropShadow","",{dx:M/w,dy:O/C,stdDeviation:q,"flood-color":Y,"flood-opacity":F})]),f[u]=g}o.filter=Ol(g)}}(e,n,i)}function iE(n){return aa(n[0]-1)&&aa(n[1])&&aa(n[2])&&aa(n[3]-1)}function l1(n,t,e){if(t&&(!aa((r=t)[4])||!aa(r[5])||!iE(t))){var i=e?10:1e4;n.transform=iE(t)?"translate("+Xm(t[4]*i)/i+" "+Xm(t[5]*i)/i+")":function(r){return"matrix("+Tu(r[0])+","+Tu(r[1])+","+Tu(r[2])+","+Tu(r[3])+","+Ch(r[4])+","+Ch(r[5])+")"}(t)}var r}function YC(n,t,e){for(var i=n.points,r=[],o=0;o<i.length;o++)r.push(Xm(i[o][0]*e)/e),r.push(Xm(i[o][1]*e)/e);t.points=r.join(" ")}function GC(n){return!n.smooth}var c1,u1,AD={circle:[(c1=["cx","cy","r"],u1=ue(c1,function(n){return"string"==typeof n?[n,n]:n}),function(n,t,e){for(var i=0;i<u1.length;i++){var r=u1[i],o=n[r[0]];null!=o&&(t[r[1]]=Xm(o*e)/e)}})],polyline:[YC,GC],polygon:[YC,GC]};function h1(n,t){var e=n.style,i=n.shape,r=AD[n.type],o={},a=t.animation,l="path",u=n.style.strokePercent,f=t.compress&&$c(n)||4;if(!r||t.willUpdate||r[1]&&!r[1](i)||a&&function(L){for(var R=L.animators,F=0;F<R.length;F++)if("shape"===R[F].targetName)return!0;return!1}(n)||u<1){var g=!n.path||n.shapeChanged();n.path||n.createPathProxy();var y=n.path;g&&(y.beginPath(),n.buildPath(y,n.shape),n.pathUpdated());var w=y.getVersion(),C=n,M=C.__svgPathBuilder;C.__svgPathVersion===w&&M&&u===C.__svgPathStrokePercent||(M||(M=C.__svgPathBuilder=new NC),M.reset(f),y.rebuildPath(M,u),M.generateStr(),C.__svgPathVersion=w,C.__svgPathStrokePercent=u),o.d=M.getStr()}else{l=n.type;var O=Math.pow(10,f);r[0](i,o,O)}return l1(o,n.transform),jC(o,e,n,t),t.animation&&Gm(n,o,t),fs(l,n.id+"",o)}function $h(n,t){return n instanceof hr?h1(n,t):n instanceof ls?function(e,i){var r=e.style,o=r.image;if(o&&!On(o)&&(HC(o)?o=o.src:WC(o)&&(o=o.toDataURL())),o){var a=r.x||0,l=r.y||0,u={href:o,width:r.width,height:r.height};return a&&(u.x=a),l&&(u.y=l),l1(u,e.transform),jC(u,r,e,i),i.animation&&Gm(e,u,i),fs("image",e.id+"",u)}}(n,t):n instanceof As?function(e,i){var O,L,R,r=e.style,o=r.text;if(null!=o&&(o+=""),o&&!isNaN(r.x)&&!isNaN(r.y)){var a=r.font||gt,l=r.x||0,u=(O=r.y||0,L=ul(a),"top"===(R=r.textBaseline)?O+=L/2:"bottom"===R&&(O-=L/2),O),f={"dominant-baseline":"central","text-anchor":tp[r.textAlign]||r.textAlign};if(Bv(r)){var g="",y=r.fontStyle,w=up(r.fontSize);if(!parseFloat(w))return;var M=r.fontWeight;g+="font-size:"+w+";font-family:"+(r.fontFamily||nt)+";",y&&"normal"!==y&&(g+="font-style:"+y+";"),M&&"normal"!==M&&(g+="font-weight:"+M+";"),f.style=g}else f.style="font: "+a;return o.match(/\s/)&&(f["xml:space"]="preserve"),l&&(f.x=l),u&&(f.y=u),l1(f,e.transform),jC(f,r,e,i),i.animation&&Gm(e,f,i),fs("text",e.id+"",f,void 0,o)}}(n,t):void 0}function qm(n,t,e,i){var r,o=n[e],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(np(o))r="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!qo(o))return;r="radialGradient",a.cx=yi(o.x,.5),a.cy=yi(o.y,.5),a.r=yi(o.r,.5)}for(var l=o.colorStops,u=[],f=0,g=l.length;f<g;++f){var y=100*Ch(l[f].offset)+"%",w=Il(l[f].color),M=w.opacity,O={offset:y};O["stop-color"]=w.color,M<1&&(O["stop-opacity"]=M),u.push(fs("stop",f+"",O))}var L=RC(fs(r,"",a,u)),R=i.gradientCache,F=R[L];F||(F=i.zrId+"-g"+i.gradientIdx++,R[L]=F,a.id=F,i.defs[F]=fs(r,F,a,u)),t[e]=Ol(F)}function d1(n,t,e,i){var r,o=n.style[e],a=n.getBoundingRect(),l={},u=o.repeat,f="no-repeat"===u,g="repeat-x"===u,y="repeat-y"===u;if(Ga(o)){var w=o.imageWidth,C=o.imageHeight,M=void 0,O=o.image;if(On(O)?M=O:HC(O)?M=O.src:WC(O)&&(M=O.toDataURL()),typeof Image>"u"){var L="Image width/height must been given explictly in svg-ssr renderer.";ir(w,L),ir(C,L)}else if(null==w||null==C){var R=function(ke,Ee){if(ke){var Re=ke.elm,Je=w||Ee.width,st=C||Ee.height;"pattern"===ke.tag&&(g?(st=1,Je/=a.width):y&&(Je=1,st/=a.height)),ke.attrs.width=Je,ke.attrs.height=st,Re&&(Re.setAttribute("width",Je),Re.setAttribute("height",st))}},F=Uu(M,null,n,function(ke){f||R(Q,ke),R(r,ke)});F&&F.width&&F.height&&(w=w||F.width,C=C||F.height)}r=fs("image","img",{href:M,width:w,height:C}),l.width=w,l.height=C}else o.svgElement&&(r=Qe(o.svgElement),l.width=o.svgWidth,l.height=o.svgHeight);if(r){var Y,q;f?Y=q=1:g?(q=1,Y=l.width/a.width):y?(Y=1,q=l.height/a.height):l.patternUnits="userSpaceOnUse",null==Y||isNaN(Y)||(l.width=Y),null==q||isNaN(q)||(l.height=q);var Z=yo(o);Z&&(l.patternTransform=Z);var Q=fs("pattern","",l,[r]),ne=RC(Q),oe=i.patternCache,_e=oe[ne];_e||(_e=i.zrId+"-p"+i.patternIdx++,oe[ne]=_e,l.id=_e,Q=i.defs[_e]=fs("pattern",_e,l,[r])),t[e]=Ol(_e)}}function MD(n,t,e){var i=e.clipPathCache,r=e.defs,o=i[n.id];if(!o){var a={id:o=e.zrId+"-c"+e.clipPathIdx++};i[n.id]=o,r[o]=fs("clipPath",o,a,[h1(n,e)])}t["clip-path"]=Ol(o)}function rE(n){return document.createTextNode(n)}function Jf(n,t,e){n.insertBefore(t,e)}function p1(n,t){n.removeChild(t)}function f1(n,t){n.appendChild(t)}function g1(n){return n.parentNode}function dc(n){return n.nextSibling}function m1(n,t){n.textContent=t}var oE=fs("","");function XC(n){return void 0===n}function fh(n){return void 0!==n}function qC(n,t,e){for(var i={},r=t;r<=e;++r){var o=n[r].key;void 0!==o&&(i[o]=r)}return i}function eg(n,t){return n.tag===t.tag&&n.key===t.key}function Vd(n){var t,e=n.children,i=n.tag;if(fh(i)){var r=n.elm=s1(i);if(v1(oE,n),Bt(e))for(t=0;t<e.length;++t){var o=e[t];null!=o&&f1(r,Vd(o))}else fh(n.text)&&!hi(n.text)&&f1(r,rE(n.text))}else n.elm=rE(n.text);return n.elm}function UC(n,t,e,i,r){for(;i<=r;++i){var o=e[i];null!=o&&Jf(n,Vd(o),t)}}function Jy(n,t,e,i){for(;e<=i;++e){var r=t[e];null!=r&&(fh(r.tag)?p1(g1(r.elm),r.elm):p1(n,r.elm))}}function v1(n,t){var e,i=t.elm,r=n&&n.attrs||{},o=t.attrs||{};if(r!==o){for(e in o){var a=o[e];r[e]!==a&&(!0===a?i.setAttribute(e,""):!1===a?i.removeAttribute(e):120!==e.charCodeAt(0)?i.setAttribute(e,a):"xmlns:xlink"===e||"xmlns"===e?i.setAttributeNS("http://www.w3.org/2000/xmlns/",e,a):58===e.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,a):58===e.charCodeAt(5)?i.setAttributeNS(hc,e,a):i.setAttribute(e,a))}for(e in r)e in o||i.removeAttribute(e)}}function Hd(n,t){var e=t.elm=n.elm,i=n.children,r=t.children;n!==t&&(v1(n,t),XC(t.text)?fh(i)&&fh(r)?i!==r&&function(o,a,l){for(var u,f,g,y=0,w=0,C=a.length-1,M=a[0],O=a[C],L=l.length-1,R=l[0],F=l[L];y<=C&&w<=L;)null==M?M=a[++y]:null==O?O=a[--C]:null==R?R=l[++w]:null==F?F=l[--L]:eg(M,R)?(Hd(M,R),M=a[++y],R=l[++w]):eg(O,F)?(Hd(O,F),O=a[--C],F=l[--L]):eg(M,F)?(Hd(M,F),Jf(o,M.elm,dc(O.elm)),M=a[++y],F=l[--L]):eg(O,R)?(Hd(O,R),Jf(o,O.elm,M.elm),O=a[--C],R=l[++w]):(XC(u)&&(u=qC(a,y,C)),XC(f=u[R.key])||(g=a[f]).tag!==R.tag?Jf(o,Vd(R),M.elm):(Hd(g,R),a[f]=void 0,Jf(o,g.elm,M.elm)),R=l[++w]);(y<=C||w<=L)&&(y>C?UC(o,null==l[L+1]?null:l[L+1].elm,l,w,L):Jy(o,a,y,C))}(e,i,r):fh(r)?(fh(n.text)&&m1(e,""),UC(e,null,r,0,r.length-1)):fh(i)?Jy(e,i,0,i.length-1):fh(n.text)&&m1(e,""):n.text!==t.text&&(fh(i)&&Jy(e,i,0,i.length-1),m1(e,t.text)))}var TD=0,ED=function(){function n(t,e,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=i=_t({},i),this.root=t,this._id="zr"+TD++,this._oldVNode=zC(i.width,i.height),t&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=s1("svg");v1(null,this._oldVNode),r.appendChild(o),t.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,i){if(eg(e,i))Hd(e,i);else{var r=e.elm,o=g1(r);Vd(i),null!==o&&(Jf(o,i.elm,dc(r)),Jy(o,[e],0,0))}}(this._oldVNode,t),this._oldVNode=t}},n.prototype.renderOneToVNode=function(t){return $h(t,BC(this._id))},n.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),i=this._width,r=this._height,o=BC(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress;var a=[],l=this._bgVNode=function(w,C,M,O){var L;if(M&&"none"!==M)if(L=fs("rect","bg",{width:w,height:C,x:"0",y:"0",id:"0"}),Eu(M))qm({fill:M},L.attrs,"fill",O);else if(Ns(M))d1({style:{fill:M},dirty:At,getBoundingRect:function(){return{width:w,height:C}}},L.attrs,"fill",O);else{var R=Il(M),Y=R.opacity;L.attrs.fill=R.color,Y<1&&(L.attrs["fill-opacity"]=Y)}return L}(i,r,this._backgroundColor,o);l&&a.push(l);var u=t.compress?null:this._mainVNode=fs("g","main",{},[]);this._paintList(e,o,u?u.children:a),u&&a.push(u);var w,C,O,L,R,F,Y,f=ue(Zt(o.defs),function(w){return o.defs[w]});if(f.length&&a.push(fs("defs","defs",{},f)),t.animation){var g=(C=o.cssAnims,L=" {"+(O=({newline:!0}||{}).newline?"\n":""),R=O+"}",F=ue(Zt(w=o.cssNodes),function(q){return q+L+ue(Zt(w[q]),function(Z){return Z+":"+w[q][Z]+";"}).join(O)+R}).join(O),Y=ue(Zt(C),function(q){return"@keyframes "+q+L+ue(Zt(C[q]),function(Z){return Z+L+ue(Zt(C[q][Z]),function(Q){var ne=C[q][Z][Q];return"d"===Q&&(ne='path("'+ne+'")'),Q+":"+ne+";"}).join(O)+R}).join(O)+R}).join(O),F||Y?["<![CDATA[",F,Y,"]]>"].join(O):"");if(g){var y=fs("style","stl",{},[],g);a.push(y)}}return zC(i,r,a,t.useViewBox)},n.prototype.renderToString=function(t){return RC(this.renderToVNode({animation:yi((t=t||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:yi(t.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(t,e,i){for(var r,o,a=t.length,l=[],u=0,f=0,g=0;g<a;g++){var y=t[g];if(!y.invisible){var w=y.__clipPaths,C=w&&w.length||0,M=o&&o.length||0,O=void 0;for(O=Math.max(C-1,M-1);O>=0&&(!w||!o||w[O]!==o[O]);O--);for(var L=M-1;L>O;L--)r=l[--u-1];for(var R=O+1;R<C;R++){var F={};MD(w[R],F,e);var Y=fs("g","clip-g-"+f++,F,[]);(r?r.children:i).push(Y),l[u++]=Y,r=Y}o=w;var q=$h(y,e);q&&(r?r.children:i).push(q)}}},n.prototype.resize=function(t,e){var i=this._opts,r=this.root,o=this._viewport;if(null!=t&&(i.width=t),null!=e&&(i.height=e),r&&o&&(o.style.display="none",t=vm(r,0,i),e=vm(r,1,i),o.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,o){var a=o.style;a.width=t+"px",a.height=e+"px"}if(Ns(this._backgroundColor))this.refresh();else{var l=this._svgDom;l&&(l.setAttribute("width",t),l.setAttribute("height",e));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",t),u.setAttribute("height",e))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(t){var e=this.renderToString(),i="data:image/svg+xml;";return t?(e=sl(e))&&i+"base64,"+e:i+"charset=UTF-8,"+encodeURIComponent(e)},n}();function ZC(n,t,e){var i=ge.createCanvas(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*e,i.height=o*e,i}var e0=function(n){function t(e,i,r){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||Co,"string"==typeof e?o=ZC(e,i,r):hi(e)&&(e=(o=e).id),a.id=e,a.dom=o;var l=o.style;return l&&(Pt(o),o.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),a.painter=i,a.dpr=r,a}return Oe(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=ZC("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,l=[],u=this.maxRepaintRectCount,f=!1,g=new lr(0,0,0,0);function y(F){if(F.isFinite()&&!F.isZero())if(0===l.length)(Y=new lr(0,0,0,0)).copy(F),l.push(Y);else{for(var Y,q=!1,Z=1/0,Q=0,ne=0;ne<l.length;++ne){var oe=l[ne];if(oe.intersect(F)){var _e=new lr(0,0,0,0);_e.copy(oe),_e.union(F),l[ne]=_e,q=!0;break}if(f){g.copy(F),g.union(oe);var Re=g.width*g.height-F.width*F.height-oe.width*oe.height;Re<Z&&(Z=Re,Q=ne)}}f&&(l[Q].union(F),q=!0),!q&&((Y=new lr(0,0,0,0)).copy(F),l.push(Y)),f||(f=l.length>=u)}}for(var w=this.__startIndex;w<this.__endIndex;++w)if(O=e[w]){var C=O.shouldBePainted(r,o,!0,!0);(L=O.__isRendered&&(1&O.__dirty||!C)?O.getPrevPaintRect():null)&&y(L);var M=C&&(1&O.__dirty||!O.__isRendered)?O.getPaintRect():null;M&&y(M)}for(w=this.__prevStartIndex;w<this.__prevEndIndex;++w){var O,L;C=(O=i[w]).shouldBePainted(r,o,!0,!0),O&&(!C||!O.__zr)&&O.__isRendered&&(L=O.getPrevPaintRect())&&y(L)}do{for(a=!1,w=0;w<l.length;)if(l[w].isZero())l.splice(w,1);else{for(var R=w+1;R<l.length;)l[w].intersect(l[R])?(a=!0,l[w].union(l[R]),l.splice(R,1)):R++;w++}}while(a);return this._paintRects=l,l},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,i){var r=this.dpr,o=this.dom,a=o.style,l=this.domBack;a&&(a.width=e+"px",a.height=i+"px"),o.width=e*r,o.height=i*r,l&&(l.width=e*r,l.height=i*r,1!==r&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,i,r){var o=this.dom,a=this.ctx,l=o.width,u=o.height;i=i||this.clearColor;var f=this.motionBlur&&!e,g=this.lastFrameAlpha,y=this.dpr,w=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,l/y,u/y));var C=this.domBack;function M(O,L,R,F){if(a.clearRect(O,L,R,F),i&&"transparent"!==i){var Y=void 0;Gn(i)?(Y=(i.global||i.__width===R&&i.__height===F)&&i.__canvasGradient||wy(a,i,{x:0,y:0,width:R,height:F}),i.__canvasGradient=Y,i.__width=R,i.__height=F):di(i)&&(i.scaleX=i.scaleX||y,i.scaleY=i.scaleY||y,Y=xx(a,i,{dirty:function(){w.setUnpainted(),w.__painter.refresh()}})),a.save(),a.fillStyle=Y||i,a.fillRect(O,L,R,F),a.restore()}f&&(a.save(),a.globalAlpha=g,a.drawImage(C,O,L,R,F),a.restore())}!r||f?M(0,0,l,u):r.length&&pe(r,function(O){M(O.x*y,O.y*y,O.width*y,O.height*y)})},t}(h),es=314159,ID=function(){function n(t,e,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=_t({},i||{}),this.dpr=i.devicePixelRatio||Co,this._singleCanvas=o,this.root=t,t.style&&(Pt(t),t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var C,M,O,l=this._layers;if(o){var u=t,f=u.width,g=u.height;null!=i.width&&(f=i.width),null!=i.height&&(g=i.height),this.dpr=i.devicePixelRatio||1,u.width=f*this.dpr,u.height=g*this.dpr,this._width=f,this._height=g;var y=new e0(u,this,this.dpr);y.__builtin__=!0,y.initContext(),l[314159]=y,y.zlevel=es,a.push(es),this._domRoot=t}else{this._width=vm(t,0,i),this._height=vm(t,1,i);var w=this._domRoot=(C=this._width,M=this._height,(O=document.createElement("div")).style.cssText=["position:relative","width:"+C+"px","height:"+M+"px","padding:0","margin:0","border-width:0"].join(";")+";",O);t.appendChild(w)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var o=0;o<r.length;o++){var l=this._layers[r[o]];!l.__builtin__&&l.refresh&&l.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<e;a++){var l=t[a];l.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),r||(r=i.ctx).save(),zd(r,l,o,a===e-1))}r&&r.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){HS(t,e)},n.prototype._paintList=function(t,e,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,i),a=o.finished,l=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(t),a)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var u=this;Xl(function(){u._paintList(t,e,i,r)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(es).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)})},n.prototype._doPaintList=function(t,e,i){for(var r=this,o=[],a=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var f=this._layers[this._zlevelList[l]];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||i)&&o.push(f)}for(var g=!0,y=!1,w=function(O){var L,R=o[O],F=R.ctx,Y=a&&R.createRepaintRects(t,e,C._width,C._height),q=i?R.__startIndex:R.__drawIndex,Z=!i&&R.incremental&&Date.now,Q=Z&&Date.now(),ne=R.zlevel===C._zlevelList[0]?C._backgroundColor:null;if(R.__startIndex===R.__endIndex)R.clear(!1,ne,Y);else if(q===R.__startIndex){var oe=t[q];oe.incremental&&oe.notClear&&!i||R.clear(!1,ne,Y)}-1===q&&(console.error("For some unknown reason. drawIndex is -1"),q=R.__startIndex);var _e=function(Je){var st={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(L=q;L<R.__endIndex;L++){var mt=t[L];if(mt.__inHover&&(y=!0),r._doPaintEl(mt,R,a,Je,st,L===R.__endIndex-1),Z&&Date.now()-Q>15)break}st.prevElClipPaths&&F.restore()};if(Y)if(0===Y.length)L=R.__endIndex;else for(var ke=C.dpr,Ee=0;Ee<Y.length;++Ee){var Re=Y[Ee];F.save(),F.beginPath(),F.rect(Re.x*ke,Re.y*ke,Re.width*ke,Re.height*ke),F.clip(),_e(Re),F.restore()}else F.save(),_e(),F.restore();R.__drawIndex=L,R.__drawIndex<R.__endIndex&&(g=!1)},C=this,M=0;M<o.length;M++)w(M);return Nt.wxa&&pe(this._layers,function(O){O&&O.ctx&&O.ctx.draw&&O.ctx.draw()}),{finished:g,needsRefreshHover:y}},n.prototype._doPaintEl=function(t,e,i,r,o,a){var l=e.ctx;if(i){var u=t.getPaintRect();(!r||u&&u.intersect(r))&&(zd(l,t,o,a),t.setPrevPaintRect(u))}else zd(l,t,o,a)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=es);var i=this._layers[t];return i||((i=new e0("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?rt(i,this._layerConfig[t],!0):this._layerConfig[t-.01]&&rt(i,this._layerConfig[t-.01],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},n.prototype.insertLayer=function(t,e){var g,i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,l=null,u=-1;if(!i[t]&&(g=e)&&(g.__builtin__||"function"==typeof g.resize&&"function"==typeof g.refresh)){if(o>0&&t>r[0]){for(u=0;u<o-1&&!(r[u]<t&&r[u+1]>t);u++);l=i[r[u]]}if(r.splice(u+1,0,t),i[t]=e,!e.virtual)if(l){var f=l.dom;f.nextSibling?a.insertBefore(e.dom,f.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}},n.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];t.call(e,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},n.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(y){a&&(a.__endIndex!==y&&(a.__dirty=!0),a.__endIndex=y)}if(this.eachBuiltinLayer(function(y,w){y.__dirty=y.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++)if((u=t[i]).zlevel!==t[i-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}var r,o,a=null,l=0;for(o=0;o<t.length;o++){var u,f=(u=t[o]).zlevel,g=void 0;r!==f&&(r=f,l=0),u.incremental?((g=this.getLayer(f+.001,this._needsManuallyCompositing)).incremental=!0,l=1):g=this.getLayer(f+(l>0?.01:0),this._needsManuallyCompositing),g.__builtin__||$e("ZLevel "+f+" has been used by unkown layer "+g.id),g!==a&&(g.__used=!0,g.__startIndex!==o&&(g.__dirty=!0),g.__startIndex=o,g.__drawIndex=g.incremental?-1:o,e(o),a=g),1&u.__dirty&&!u.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(y,w){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,pe(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?rt(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===t||o===t+.01)&&rt(this._layers[o],i[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(hn(i,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=vm(o,0,r),e=vm(o,1,r),i.style.display="",this._width!==t||e!==this._height){for(var a in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(es).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new e0("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(y){y.__builtin__?i.drawImage(y.dom,0,0,r,o):y.renderToCanvas&&(i.save(),y.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,f=l.length;u<f;u++)zd(i,l[u],a,u===f-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),OD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Oe(t,n),t.prototype.getInitialData=function(e){return Xh(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var i=new Gi,r=Da("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);i.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),l="none"===o?"circle":o,u=.8*e.itemHeight,f=Da(l,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);return i.add(f),f.setStyle(e.itemStyle),f.rotation=("inherit"===e.iconRotate?a:e.iconRotate||0)*Math.PI/180,f.setOrigin([e.itemWidth/2,e.itemHeight/2]),l.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Io);function tg(n,t){var e=n.mapDimensionsAll("defaultedLabel"),i=e.length;if(1===i){var r=bp(n,t,e[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<e.length;a++)o.push(bp(n,t,e[a]));return o.join(" ")}}function aE(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!Bt(t))return t+"";for(var i=[],r=0;r<e.length;r++){var o=n.getDimensionIndex(e[r]);o>=0&&i.push(t[o])}return i.join(" ")}var n0=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.updateData(e,i,r,o),a}return Oe(t,n),t.prototype._createSymbol=function(e,i,r,o,a){this.removeAll();var l=Da(e,-1,-1,2,2,null,a);l.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),l.drift=DD,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){_d(this.childAt(0))},t.prototype.downplay=function(){wd(this.childAt(0))},t.prototype.setZ=function(e,i){var r=this.childAt(0);r.zlevel=e,r.z=i},t.prototype.setDraggable=function(e,i){var r=this.childAt(0);r.draggable=e,r.cursor=!i&&e?"move":r.cursor},t.prototype.updateData=function(e,i,r,o){this.silent=!1;var a=e.getItemVisual(i,"symbol")||"circle",l=e.hostModel,u=t.getSymbolSize(e,i),f=a!==this._symbolType,g=o&&o.disableAnimation;if(f){var y=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,e,i,u,y)}else{(C=this.childAt(0)).silent=!1;var w={scaleX:u[0]/2,scaleY:u[1]/2};g?C.attr(w):co(C,w,l,i),Mc(C)}if(this._updateCommon(e,i,u,r,o),f){var C=this.childAt(0);g||(w={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:C.style.opacity}},C.scaleX=C.scaleY=0,C.style.opacity=0,Uo(C,w,l,i))}g&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,i,r,o,a){var l,u,f,g,y,w,C,M,O,L=this.childAt(0),R=e.hostModel;if(o&&(l=o.emphasisItemStyle,u=o.blurItemStyle,f=o.selectItemStyle,g=o.focus,y=o.blurScope,C=o.labelStatesModels,M=o.hoverScale,O=o.cursorStyle,w=o.emphasisDisabled),!o||e.hasItemOption){var F=o&&o.itemModel?o.itemModel:e.getItemModel(i),Y=F.getModel("emphasis");l=Y.getModel("itemStyle").getItemStyle(),f=F.getModel(["select","itemStyle"]).getItemStyle(),u=F.getModel(["blur","itemStyle"]).getItemStyle(),g=Y.get("focus"),y=Y.get("blurScope"),w=Y.get("disabled"),C=us(F),M=Y.getShallow("scale"),O=F.getShallow("cursor")}var q=e.getItemVisual(i,"symbolRotate");L.attr("rotation",(q||0)*Math.PI/180||0);var Z=Ap(e.getItemVisual(i,"symbolOffset"),r);Z&&(L.x=Z[0],L.y=Z[1]),O&&L.attr("cursor",O);var Q=e.getItemVisual(i,"style"),ne=Q.fill;if(L instanceof ls){var oe=L.style;L.useStyle(_t({image:oe.image,x:oe.x,y:oe.y,width:oe.width,height:oe.height},Q))}else L.useStyle(L.__isEmptyBrush?_t({},Q):Q),L.style.decal=null,L.setColor(ne,a&&a.symbolInnerColor),L.style.strokeNoScale=!0;var _e=e.getItemVisual(i,"liftZ"),ke=this._z2;null!=_e?null==ke&&(this._z2=L.z2,L.z2+=_e):null!=ke&&(L.z2=ke,this._z2=null);var Ee=a&&a.useNameLabel;tl(L,C,{labelFetcher:R,labelDataIndex:i,defaultText:function(st){return Ee?e.getName(st):tg(e,st)},inheritColor:ne,defaultOpacity:Q.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var Re=L.ensureState("emphasis");Re.style=l,L.ensureState("select").style=f,L.ensureState("blur").style=u;var Je=null==M||!0===M?Math.max(1.1,3/this._sizeY):isFinite(M)&&M>0?+M:1;Re.scaleX=this._sizeX*Je,Re.scaleY=this._sizeY*Je,this.setSymbolScale(1),wa(this,g,y,w)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,i,r){var o=this.childAt(0),a=_r(this).dataIndex,l=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var u=o.getTextContent();u&&pp(u,{style:{opacity:0}},i,{dataIndex:a,removeOpt:l,cb:function(){o.removeTextContent()}})}else o.removeTextContent();pp(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:e,removeOpt:l})},t.getSymbolSize=function(e,i){return kp(e.getItemVisual(i,"symbolSize"))},t}(Gi);function DD(n,t){this.parent.drift(n,t)}function y1(n,t,e,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(e))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function gh(n){return null==n||hi(n)||(n={isIgnore:n}),n||{}}function b1(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:us(t),cursorStyle:t.get("cursor")}}var Um=function(){function n(t){this.group=new Gi,this._SymbolCtor=t||n0}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=gh(e);var i=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,l=e.disableAnimation,u=b1(t),f={disableAnimation:l},g=e.getSymbolPoint||function(y){return t.getItemLayout(y)};o||i.removeAll(),t.diff(o).add(function(y){var w=g(y);if(y1(t,w,y,e)){var C=new a(t,y,u,f);C.setPosition(w),t.setItemGraphicEl(y,C),i.add(C)}}).update(function(y,w){var C=o.getItemGraphicEl(w),M=g(y);if(y1(t,M,y,e)){var O=t.getItemVisual(y,"symbol")||"circle",L=C&&C.getSymbolType&&C.getSymbolType();if(!C||L&&L!==O)i.remove(C),(C=new a(t,y,u,f)).setPosition(M);else{C.updateData(t,y,u,f);var R={x:M[0],y:M[1]};l?C.attr(R):co(C,R,r)}i.add(C),t.setItemGraphicEl(y,C)}else i.remove(C)}).remove(function(y){var w=o.getItemGraphicEl(y);w&&w.fadeOut(function(){i.remove(w)},r)}).execute(),this._getSymbolPoint=g,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(i,r){var o=t._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=b1(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,i){function r(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=gh(i);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(y1(e,a,o,i)){var l=new this._SymbolCtor(e,o,this._seriesScope);l.traverse(r),l.setPosition(a),this.group.add(l),e.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},n.prototype.eachRendered=function(t){uu(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)},i.hostModel)}):e.removeAll()},n}();function i0(n,t,e){var O,L,R,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=(O=e,L=0,R=r.scale.getExtent(),"start"===O?L=R[0]:"end"===O?L=R[1]:En(O)&&!isNaN(O)?L=O:R[0]>0?L=R[0]:R[1]<0&&(L=R[1]),L),a=i.dim,l=r.dim,u=t.mapDimension(l),f=t.mapDimension(a),g="x"===l||"radius"===l?1:0,y=ue(n.dimensions,function(M){return t.mapDimension(M)}),w=!1,C=t.getCalculationInfo("stackResultDimension");return vu(t,y[0])&&(w=!0,y[0]=C),vu(t,y[1])&&(w=!0,y[1]=C),{dataDimsForPoint:y,valueStart:o,valueAxisDim:l,baseAxisDim:a,stacked:!!w,valueDim:u,baseDim:f,baseDataOffset:g,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function x1(n,t,e,i){var r=NaN;n.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=e.get(n.baseDim,i),a[1-o]=r,t.dataToPoint(a)}var Bp=Math.min,zp=Math.max;function ng(n,t){return isNaN(n)||isNaN(t)}function _1(n,t,e,i,r,o,a,l,u){for(var f,g,y,w,C,M,O=e,L=0;L<i;L++){var R=t[2*O],F=t[2*O+1];if(O>=r||O<0)break;if(ng(R,F)){if(u){O+=o;continue}break}if(O===e)n[o>0?"moveTo":"lineTo"](R,F),y=R,w=F;else{var Y=R-f,q=F-g;if(Y*Y+q*q<.5){O+=o;continue}if(a>0){for(var Z=O+o,Q=t[2*Z],ne=t[2*Z+1];Q===R&&ne===F&&L<i;)L++,Q=t[2*(Z+=o)],ne=t[2*Z+1],Y=(R=t[2*(O+=o)])-f,q=(F=t[2*O+1])-g;var oe=L+1;if(u)for(;ng(Q,ne)&&oe<i;)oe++,Q=t[2*(Z+=o)],ne=t[2*Z+1];var _e=.5,ke=0,Ee=0,Re=void 0,Je=void 0;if(oe>=i||ng(Q,ne))C=R,M=F;else{ke=Q-f,Ee=ne-g;var st=R-f,mt=Q-R,St=F-g,Tt=ne-F,Lt=void 0,$t=void 0;if("x"===l){var nn=ke>0?1:-1;C=R-nn*(Lt=Math.abs(st))*a,M=F,Re=R+nn*($t=Math.abs(mt))*a,Je=F}else if("y"===l){var an=Ee>0?1:-1;C=R,M=F-an*(Lt=Math.abs(St))*a,Re=R,Je=F+an*($t=Math.abs(Tt))*a}else Lt=Math.sqrt(st*st+St*St),C=R-ke*a*(1-(_e=($t=Math.sqrt(mt*mt+Tt*Tt))/($t+Lt))),M=F-Ee*a*(1-_e),Je=F+Ee*a*_e,Re=Bp(Re=R+ke*a*_e,zp(Q,R)),Je=Bp(Je,zp(ne,F)),Re=zp(Re,Bp(Q,R)),M=F-(Ee=(Je=zp(Je,Bp(ne,F)))-F)*Lt/$t,C=Bp(C=R-(ke=Re-R)*Lt/$t,zp(f,R)),M=Bp(M,zp(g,F)),Re=R+(ke=R-(C=zp(C,Bp(f,R))))*$t/Lt,Je=F+(Ee=F-(M=zp(M,Bp(g,F))))*$t/Lt}n.bezierCurveTo(y,w,C,M,R,F),y=Re,w=Je}else n.lineTo(R,F)}f=R,g=F,O+=o}return L}var mh=function(){this.smooth=0,this.smoothConstraint=!0},w1=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polyline",i}return Oe(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new mh},t.prototype.buildPath=function(e,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&ng(r[2*a-2],r[2*a-1]);a--);for(;o<a&&ng(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=_1(e,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(e,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,l=gn.CMD,u="x"===i,f=[],g=0;g<a.length;){var y=void 0,w=void 0,C=void 0,M=void 0,O=void 0,L=void 0,R=void 0;switch(a[g++]){case l.M:r=a[g++],o=a[g++];break;case l.L:if(y=a[g++],w=a[g++],(R=u?(e-r)/(y-r):(e-o)/(w-o))<=1&&R>=0){var F=u?(w-o)*R+o:(y-r)*R+r;return u?[e,F]:[F,e]}r=y,o=w;break;case l.C:y=a[g++],w=a[g++],C=a[g++],M=a[g++],O=a[g++],L=a[g++];var Y=u?Sh(r,y,C,O,e,f):Sh(o,w,M,L,e,f);if(Y>0)for(var q=0;q<Y;q++){var Z=f[q];if(Z<=1&&Z>=0)return F=u?Ko(o,w,M,L,Z):Ko(r,y,C,O,Z),u?[e,F]:[F,e]}r=O,o=L}}},t}(hr),LD=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t}(mh),sE=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polygon",i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new LD},t.prototype.buildPath=function(e,i){var r=i.points,o=i.stackedOnPoints,a=0,l=r.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;l>0&&ng(r[2*l-2],r[2*l-1]);l--);for(;a<l&&ng(r[2*a],r[2*a+1]);a++);}for(;a<l;){var f=_1(e,r,a,l,l,1,i.smooth,u,i.connectNulls);_1(e,o,a+f-1,f,l,-1,i.stackedOnSmooth,u,i.connectNulls),a+=f+1,e.closePath()}},t}(hr);function QC(n,t,e,i,r){var o=n.getArea(),a=o.x,l=o.y,u=o.width,f=o.height,g=e.get(["lineStyle","width"])||2;a-=g/2,l-=g/2,u+=g,f+=g,a=Math.floor(a),u=Math.round(u);var y=new Zr({shape:{x:a,y:l,width:u,height:f}});if(t){var w=n.getBaseAxis(),C=w.isHorizontal(),M=w.inverse;C?(M&&(y.shape.x+=u),y.shape.width=0):(M||(y.shape.y+=f),y.shape.height=0);var O=Ht(r)?function(L){r(L,y)}:null;Uo(y,{shape:{width:u,height:f,x:a,y:l}},e,null,i,O)}return y}function JC(n,t,e){var i=n.getArea(),r=lo(i.r0,1),o=lo(i.r,1),a=new fl({shape:{cx:lo(n.cx,1),cy:lo(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&("angle"===n.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Uo(a,{shape:{endAngle:i.endAngle,r:o}},e)),a}function $m(n,t,e,i,r){return n?"polar"===n.type?JC(n,t,e):"cartesian2d"===n.type?QC(n,t,e,i,r):null:null}function Zh(n,t){return n.type===t}function Zm(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function Km(n){for(var t=1/0,e=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],l=n[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(l)||(e=Math.min(l,e),r=Math.max(l,r))}return[[t,e],[i,r]]}function ek(n,t){var e=Km(n),i=e[0],r=e[1],o=Km(t),a=o[0],l=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-l[0]),Math.abs(r[1]-l[1]))}function tk(n){return En(n)?n:n?.5:0}function Wd(n,t,e,i){var r=t.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,a=[],l=0,u=[],f=[],g=[],y=[];if(i){for(l=0;l<n.length;l+=2)isNaN(n[l])||isNaN(n[l+1])||y.push(n[l],n[l+1]);n=y}for(l=0;l<n.length-2;l+=2)switch(g[0]=n[l+2],g[1]=n[l+3],f[0]=n[l],f[1]=n[l+1],a.push(f[0],f[1]),e){case"end":u[o]=g[o],u[1-o]=f[1-o],a.push(u[0],u[1]);break;case"middle":var C=[];u[o]=C[o]=(f[o]+g[o])/2,u[1-o]=f[1-o],C[1-o]=g[1-o],a.push(u[0],u[1]),a.push(C[0],C[1]);break;default:u[o]=f[o],u[1-o]=g[1-o],a.push(u[0],u[1])}return a.push(n[l++],n[l++]),a}function cE(n,t){return[n[2*t],n[2*t+1]]}function uE(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<Qs.length;t++)if(n.get([Qs[t],"endLabel","show"]))return!0;return!1}function S1(n,t,e,i){if(Zh(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),l={lastFrameIndex:0},u=uE(i)?function(C,M){n._endLabelOnDuring(C,M,a,l,o,r,t)}:null,f=t.getBaseAxis().isHorizontal(),g=QC(t,e,i,function(){var C=n._endLabel;C&&e&&null!=l.originalX&&C.attr({x:l.originalX,y:l.originalY})},u);if(!i.get("clip",!0)){var y=g.shape,w=Math.max(y.width,y.height);f?(y.y-=w,y.height+=2*w):(y.x-=w,y.width+=2*w)}return u&&u(1,g),g}return JC(t,e,i)}var hE=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.init=function(){var e=new Gi,i=new Um;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=e},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem,l=this.group,u=e.getData(),f=e.getModel("lineStyle"),g=e.getModel("areaStyle"),y=u.getLayout("points")||[],w="polar"===a.type,C=this._coordSys,M=this._symbolDraw,O=this._polyline,L=this._polygon,R=this._lineGroup,F=!i.ssr&&e.isAnimationEnabled(),Y=!g.isEmpty(),q=g.get("origin"),Z=i0(a,u,q),Q=Y&&function(cn,Pn,Yn){if(!Yn.valueDim)return[];for(var Zn=Pn.count(),Wn=uh(2*Zn),oi=0;oi<Zn;oi++){var Un=x1(Yn,cn,Pn,oi);Wn[2*oi]=Un[0],Wn[2*oi+1]=Un[1]}return Wn}(a,u,Z),ne=e.get("showSymbol"),oe=e.get("connectNulls"),_e=ne&&!w&&function PD(n,t,e){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=e.getAxesByScale("ordinal")[0];if(o&&(!r||!function(u,f){var g=u.getExtent(),y=Math.abs(g[1]-g[0])/u.scale.count();isNaN(y)&&(y=0);for(var w=f.count(),C=Math.max(1,Math.round(w/5)),M=0;M<w;M+=C)if(1.5*n0.getSymbolSize(f,M)[u.isHorizontal()?1:0]>y)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),l={};return pe(o.getViewLabels(),function(u){var f=o.scale.getRawOrdinalNumber(u.tickValue);l[f]=1}),function(u){return!l.hasOwnProperty(t.get(a,u))}}}}(e,u,a),ke=this._data;ke&&ke.eachItemGraphicEl(function(cn,Pn){cn.__temp&&(l.remove(cn),ke.setItemGraphicEl(Pn,null))}),ne||M.remove(),l.add(R);var Ee,Re=!w&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(null!=(Ee=a.getArea()).width?(Ee.x-=.1,Ee.y-=.1,Ee.width+=.2,Ee.height+=.2):Ee.r0&&(Ee.r0-=.5,Ee.r+=.5)),this._clipShapeForSymbol=Ee;var Je=function lE(n,t,e){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===t.type){for(var r,o,a=i.length-1;a>=0;a--){var l=n.getDimensionInfo(i[a].dimension);if("x"===(r=l&&l.coordDim)||"y"===r){o=i[a];break}}if(o){var u=t.getAxis(r),f=ue(o.stops,function(F){return{coord:u.toGlobalCoord(u.dataToCoord(F.value)),color:F.color}}),g=f.length,y=o.outerColors.slice();g&&f[0].coord>f[g-1].coord&&(f.reverse(),y.reverse());var w=function(F,Y){var q,Z,Q=[],ne=F.length;function oe(Re,Je,st){var mt=Re.coord;return{coord:st,color:Uc((st-mt)/(Je.coord-mt),[Re.color,Je.color])}}for(var _e=0;_e<ne;_e++){var ke=F[_e],Ee=ke.coord;if(Ee<0)q=ke;else{if(Ee>Y){Z?Q.push(oe(Z,ke,Y)):q&&Q.push(oe(q,ke,0),oe(q,ke,Y));break}q&&(Q.push(oe(q,ke,0)),q=null),Q.push(ke),Z=ke}}return Q}(f,"x"===r?e.getWidth():e.getHeight()),C=w.length;if(!C&&g)return f[0].coord<0?y[1]?y[1]:f[g-1].color:y[0]?y[0]:f[0].color;var M=w[0].coord-10,O=w[C-1].coord+10,L=O-M;if(L<.001)return"transparent";pe(w,function(F){F.offset=(F.coord-M)/L}),w.push({offset:C?w[C-1].offset:.5,color:y[1]||"transparent"}),w.unshift({offset:C?w[0].offset:.5,color:y[0]||"transparent"});var R=new jg(0,0,0,0,w,!0);return R[r]=M,R[r+"2"]=O,R}}}(u,a,r)||u.getVisual("style")[u.getVisual("drawType")];if(O&&C.type===a.type&&Re===this._step){Y&&!L?L=this._newPolygon(y,Q):L&&!Y&&(R.remove(L),L=this._polygon=null),w||this._initOrUpdateEndLabel(e,a,Od(Je));var st=R.getClipPath();st?Uo(st,{shape:S1(this,a,!1,e).shape},e):R.setClipPath(S1(this,a,!0,e)),ne&&M.updateData(u,{isIgnore:_e,clipShape:Ee,disableAnimation:!0,getSymbolPoint:function(cn){return[y[2*cn],y[2*cn+1]]}}),Zm(this._stackedOnPoints,Q)&&Zm(this._points,y)||(F?this._doUpdateAnimation(u,Q,a,r,Re,q,oe):(Re&&(y=Wd(y,a,Re,oe),Q&&(Q=Wd(Q,a,Re,oe))),O.setShape({points:y}),L&&L.setShape({points:y,stackedOnPoints:Q})))}else ne&&M.updateData(u,{isIgnore:_e,clipShape:Ee,disableAnimation:!0,getSymbolPoint:function(cn){return[y[2*cn],y[2*cn+1]]}}),F&&this._initSymbolLabelAnimation(u,a,Ee),Re&&(y=Wd(y,a,Re,oe),Q&&(Q=Wd(Q,a,Re,oe))),O=this._newPolyline(y),Y?L=this._newPolygon(y,Q):L&&(R.remove(L),L=this._polygon=null),w||this._initOrUpdateEndLabel(e,a,Od(Je)),R.setClipPath(S1(this,a,!0,e));var mt=e.getModel("emphasis"),St=mt.get("focus"),Tt=mt.get("blurScope"),Lt=mt.get("disabled");O.useStyle(It(f.getLineStyle(),{fill:"none",stroke:Je,lineJoin:"bevel"})),el(O,e,"lineStyle"),O.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(O.getState("emphasis").style.lineWidth=+O.style.lineWidth+1),_r(O).seriesIndex=e.seriesIndex,wa(O,St,Tt,Lt);var $t=tk(e.get("smooth")),nn=e.get("smoothMonotone");if(O.setShape({smooth:$t,smoothMonotone:nn,connectNulls:oe}),L){var an=u.getCalculationInfo("stackedOnSeries"),kn=0;L.useStyle(It(g.getAreaStyle(),{fill:Je,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),an&&(kn=tk(an.get("smooth"))),L.setShape({smooth:$t,stackedOnSmooth:kn,smoothMonotone:nn,connectNulls:oe}),el(L,e,"areaStyle"),_r(L).seriesIndex=e.seriesIndex,wa(L,St,Tt,Lt)}var jn=function(cn){o._changePolyState(cn)};u.eachItemGraphicEl(function(cn){cn&&(cn.onHoverStateChange=jn)}),this._polyline.onHoverStateChange=jn,this._data=u,this._coordSys=a,this._stackedOnPoints=Q,this._points=y,this._step=Re,this._valueOrigin=q,e.get("triggerLineEvent")&&(this.packEventData(e,O),L&&this.packEventData(e,L))},t.prototype.packEventData=function(e,i){_r(i).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,i,r,o){var a=e.getData(),l=no(a,o);if(this._changePolyState("emphasis"),!(l instanceof Array)&&null!=l&&l>=0){var u=a.getLayout("points"),f=a.getItemGraphicEl(l);if(!f){var g=u[2*l],y=u[2*l+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var w=e.get("zlevel")||0,C=e.get("z")||0;(f=new n0(a,l)).x=g,f.y=y,f.setZ(w,C);var M=f.getSymbolPath().getTextContent();M&&(M.zlevel=w,M.z=C,M.z2=this._polyline.z2+1),f.__temp=!0,a.setItemGraphicEl(l,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else ao.prototype.highlight.call(this,e,i,r,o)},t.prototype.downplay=function(e,i,r,o){var a=e.getData(),l=no(a,o);if(this._changePolyState("normal"),null!=l&&l>=0){var u=a.getItemGraphicEl(l);u&&(u.__temp?(a.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else ao.prototype.downplay.call(this,e,i,r,o)},t.prototype._changePolyState=function(e){var i=this._polygon;ob(this._polyline,e),i&&ob(i,e)},t.prototype._newPolyline=function(e){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new w1({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(e,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new sE({shape:{points:e,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,i,r){var o,a,l=i.getBaseAxis(),u=l.inverse;"cartesian2d"===i.type?(o=l.isHorizontal(),a=!1):"polar"===i.type&&(o="angle"===l.dim,a=!0);var f=e.hostModel,g=f.get("animationDuration");Ht(g)&&(g=g(null));var y=f.get("animationDelay")||0,w=Ht(y)?y(null):y;e.eachItemGraphicEl(function(C,M){var O=C;if(O){var R=void 0,F=void 0,Y=void 0;if(r)if(a){var q=r,Z=i.pointToCoord([C.x,C.y]);o?(R=q.startAngle,F=q.endAngle,Y=-Z[1]/180*Math.PI):(R=q.r0,F=q.r,Y=Z[0])}else o?(R=r.x,F=r.x+r.width,Y=C.x):(R=r.y+r.height,F=r.y,Y=C.y);var ne=F===R?0:(Y-R)/(F-R);u&&(ne=1-ne);var oe=Ht(y)?y(M):g*ne+w,_e=O.getSymbolPath(),ke=_e.getTextContent();O.attr({scaleX:0,scaleY:0}),O.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:oe}),ke&&ke.animateFrom({style:{opacity:0}},{duration:300,delay:oe}),_e.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,i,r){var y,C,M,O,L,R,o=e.getModel("endLabel");if(uE(e)){var a=e.getData(),l=this._polyline,u=a.getLayout("points");if(!u)return l.removeTextContent(),void(this._endLabel=null);var f=this._endLabel;f||((f=this._endLabel=new Qr({z2:200})).ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var g=function(y){for(var C,M=y.length/2;M>0&&(C=y[2*M-1],isNaN(y[2*M-2])||isNaN(C));M--);return M-1}(u);g>=0&&(tl(l,us(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:g,defaultText:function(y,w,C){return null!=C?aE(a,C):tg(a,y)},enableTextSetter:!0},(y=o,M=(C=i.getBaseAxis()).isHorizontal(),O=C.inverse,L=M?O?"right":"left":"center",R=M?"middle":O?"top":"bottom",{normal:{align:y.get("align")||L,verticalAlign:y.get("verticalAlign")||R}})),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,i,r,o,a,l,u){var f=this._endLabel,g=this._polyline;if(f){e<1&&null==o.originalX&&(o.originalX=f.x,o.originalY=f.y);var y=r.getLayout("points"),w=r.hostModel,C=w.get("connectNulls"),M=l.get("precision"),O=l.get("distance")||0,L=u.getBaseAxis(),R=L.isHorizontal(),F=L.inverse,Y=i.shape,q=F?R?Y.x:Y.y+Y.height:R?Y.x+Y.width:Y.y,Z=(R?O:0)*(F?-1:1),Q=(R?0:-O)*(F?-1:1),ne=R?"x":"y",oe=function(Tt,Lt,$t){for(var nn,an,kn=Tt.length/2,jn="x"===$t?0:1,cn=0,Pn=-1,Yn=0;Yn<kn;Yn++)if(an=Tt[2*Yn+jn],!isNaN(an)&&!isNaN(Tt[2*Yn+1-jn]))if(0!==Yn){if(nn<=Lt&&an>=Lt||nn>=Lt&&an<=Lt){Pn=Yn;break}cn=Yn,nn=an}else nn=an;return{range:[cn,Pn],t:(Lt-nn)/(an-nn)}}(y,q,ne),_e=oe.range,ke=_e[1]-_e[0],Ee=void 0;if(ke>=1){if(ke>1&&!C){var Re=cE(y,_e[0]);f.attr({x:Re[0]+Z,y:Re[1]+Q}),a&&(Ee=w.getRawValue(_e[0]))}else{(Re=g.getPointOn(q,ne))&&f.attr({x:Re[0]+Z,y:Re[1]+Q});var Je=w.getRawValue(_e[0]),st=w.getRawValue(_e[1]);a&&(Ee=Qa(r,M,Je,st,oe.t))}o.lastFrameIndex=_e[0]}else{var mt=1===e||o.lastFrameIndex>0?_e[0]:0;Re=cE(y,mt),a&&(Ee=w.getRawValue(mt)),f.attr({x:Re[0]+Z,y:Re[1]+Q})}if(a){var St=Cd(f);"function"==typeof St.setLabelText&&St.setLabelText(Ee)}}},t.prototype._doUpdateAnimation=function(e,i,r,o,a,l,u){var f=this._polyline,g=this._polygon,y=e.hostModel,w=function(Q,ne,oe,_e,ke,Ee,Re,Je){for(var st=function(ia,Ia){var gs=[];return Ia.diff(ia).add(function(ms){gs.push({cmd:"+",idx:ms})}).update(function(ms,vs){gs.push({cmd:"=",idx:vs,idx1:ms})}).remove(function(ms){gs.push({cmd:"-",idx:ms})}).execute(),gs}(Q,ne),mt=[],St=[],Tt=[],Lt=[],$t=[],nn=[],an=[],kn=i0(ke,ne,Re),jn=Q.getLayout("points")||[],cn=ne.getLayout("points")||[],Pn=0;Pn<st.length;Pn++){var Yn=st[Pn],Zn=!0,Wn=void 0,oi=void 0;switch(Yn.cmd){case"=":var Un=jn[Wn=2*Yn.idx],ui=jn[Wn+1],Ti=cn[oi=2*Yn.idx1],yr=cn[oi+1];(isNaN(Un)||isNaN(ui))&&(Un=Ti,ui=yr),mt.push(Un,ui),St.push(Ti,yr),Tt.push(oe[Wn],oe[Wn+1]),Lt.push(_e[oi],_e[oi+1]),an.push(ne.getRawIndex(Yn.idx1));break;case"+":var Er=Yn.idx,Ao=kn.dataDimsForPoint,Wr=ke.dataToPoint([ne.get(Ao[0],Er),ne.get(Ao[1],Er)]);oi=2*Er,mt.push(Wr[0],Wr[1]),St.push(cn[oi],cn[oi+1]);var ro=x1(kn,ke,ne,Er);Tt.push(ro[0],ro[1]),Lt.push(_e[oi],_e[oi+1]),an.push(ne.getRawIndex(Er));break;case"-":Zn=!1}Zn&&($t.push(Yn),nn.push(nn.length))}nn.sort(function(ia,Ia){return an[ia]-an[Ia]});var mo=mt.length,na=uh(mo),pa=uh(mo),Os=uh(mo),Su=uh(mo),tf=[];for(Pn=0;Pn<nn.length;Pn++){var vo=nn[Pn],Hr=2*Pn,br=2*vo;na[Hr]=mt[br],na[Hr+1]=mt[br+1],pa[Hr]=St[br],pa[Hr+1]=St[br+1],Os[Hr]=Tt[br],Os[Hr+1]=Tt[br+1],Su[Hr]=Lt[br],Su[Hr+1]=Lt[br+1],tf[Pn]=$t[vo]}return{current:na,next:pa,stackedOnCurrent:Os,stackedOnNext:Su,status:tf}}(this._data,e,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),C=w.current,M=w.stackedOnCurrent,O=w.next,L=w.stackedOnNext;if(a&&(C=Wd(w.current,r,a,u),M=Wd(w.stackedOnCurrent,r,a,u),O=Wd(w.next,r,a,u),L=Wd(w.stackedOnNext,r,a,u)),ek(C,O)>3e3||g&&ek(M,L)>3e3)return f.stopAnimation(),f.setShape({points:O}),void(g&&(g.stopAnimation(),g.setShape({points:O,stackedOnPoints:L})));f.shape.__points=w.current,f.shape.points=C;var R={shape:{points:O}};w.current!==C&&(R.shape.__points=w.next),f.stopAnimation(),co(f,R,y),g&&(g.setShape({points:C,stackedOnPoints:M}),g.stopAnimation(),co(g,{shape:{stackedOnPoints:L}},y),f.shape.points!==g.shape.points&&(g.shape.points=f.shape.points));for(var F=[],Y=w.status,q=0;q<Y.length;q++)if("="===Y[q].cmd){var Z=e.getItemGraphicEl(Y[q].idx1);Z&&F.push({el:Z,ptIdx:q})}f.animators&&f.animators.length&&f.animators[0].during(function(){g&&g.dirtyShape();for(var Q=f.shape.__points,ne=0;ne<F.length;ne++){var oe=F[ne].el,_e=2*F[ne].ptIdx;oe.x=Q[_e],oe.y=Q[_e+1],oe.markRedraw()}})},t.prototype.remove=function(e){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ao);function Qm(n,t){return{seriesType:n,plan:Rf(),reset:function(e){var i=e.getData(),r=e.coordinateSystem,a=t||e.pipelineContext.large;if(r){var l=ue(r.dimensions,function(C){return i.mapDimension(C)}).slice(0,2),u=l.length,f=i.getCalculationInfo("stackResultDimension");vu(i,l[0])&&(l[0]=f),vu(i,l[1])&&(l[1]=f);var g=i.getStore(),y=i.getDimensionIndex(l[0]),w=i.getDimensionIndex(l[1]);return u&&{progress:function(C,M){for(var L=a&&uh((C.end-C.start)*u),R=[],F=[],Y=C.start,q=0;Y<C.end;Y++){var Z=void 0;if(1===u){var Q=g.get(y,Y);Z=r.dataToPoint(Q,null,F)}else R[0]=g.get(y,Y),R[1]=g.get(w,Y),Z=r.dataToPoint(R,null,F);a?(L[q++]=Z[0],L[q++]=Z[1]):M.setItemLayout(Y,Z.slice())}a&&M.setLayout("points",L)}}}}}}var ND={average:function(n){for(var t=0,e=0,i=0;i<n.length;i++)isNaN(n[i])||(t+=n[i],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},dE=function(n){return Math.round(n.length/2)};function Jm(n){return{seriesType:n,reset:function(t,e,i){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,l=r.count();if(l>10&&"cartesian2d"===a.type&&o){var u=a.getBaseAxis(),f=a.getOtherAxis(u),g=u.getExtent(),y=i.getDevicePixelRatio(),w=Math.abs(g[1]-g[0])*(y||1),C=Math.round(l/w);if(isFinite(C)&&C>1){"lttb"===o&&t.setData(r.lttbDownSample(r.mapDimension(f.dim),1/C));var M=void 0;On(o)?M=ND[o]:Ht(o)&&(M=o),M&&t.setData(r.downSample(r.mapDimension(f.dim),1/C,M,dE))}}}}}var ev=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.getInitialData=function(e,i){return Xh(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(e),l=o.dataToPoint(a);if(r)pe(o.getAxes(),function(w,C){if("category"===w.type&&null!=i){var M=w.getTicksCoords(),O=a[C],L="x1"===i[C]||"y1"===i[C];if(L&&(O+=1),M.length<2)return;if(2===M.length)return void(l[C]=w.toGlobalCoord(w.getExtent()[L?1:0]));for(var R=void 0,F=void 0,Y=1,q=0;q<M.length;q++){var Z=M[q].coord,Q=q===M.length-1?M[q-1].tickValue+Y:M[q].tickValue;if(Q===O){F=Z;break}if(Q<O)R=Z;else if(null!=R&&Q>O){F=(Z+R)/2;break}1===q&&(Y=Q-M[0].tickValue)}null==F&&(R?R&&(F=M[M.length-1].coord):F=M[0].coord),l[C]=w.toGlobalCoord(F)}});else{var u=this.getData(),f=u.getLayout("offset"),g=u.getLayout("size"),y=o.getBaseAxis().isHorizontal()?0:1;l[y]+=f+g/2}return l}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Io);Io.registerClass(ev);var RD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.getInitialData=function(){return Xh(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>e&&(e=i),e},t.prototype.brushSelector=function(e,i,r){return r.rect(i.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=kd(ev.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(ev),BD=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},r0=function(n){function t(e){var i=n.call(this,e)||this;return i.type="sausage",i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new BD},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),l=Math.max(i.r,0),u=.5*(l-a),f=a+u,g=i.startAngle,y=i.endAngle,w=i.clockwise,C=2*Math.PI,M=w?y-g<C:g-y<C;M||(g=y-(w?C:-C));var O=Math.cos(g),L=Math.sin(g),R=Math.cos(y),F=Math.sin(y);M?(e.moveTo(O*a+r,L*a+o),e.arc(O*f+r,L*f+o,u,-Math.PI+g,g,!w)):e.moveTo(O*l+r,L*l+o),e.arc(r,o,l,g,y,!w),e.arc(R*f+r,F*f+o,u,y-2*Math.PI,y-Math.PI,!w),0!==a&&e.arc(r,o,a,y,g,w)},t}(hr);function o0(n,t,e){return t*Math.sin(n)*(e?-1:1)}function tv(n,t,e){return t*Math.cos(n)*(e?1:-1)}function Yl(n,t,e){var i=n.get("borderRadius");if(null==i)return e?{cornerRadius:0}:null;Bt(i)||(i=[i,i,i,i]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:ue(i,function(o){return os(o,r)})}}var a0=Math.max,C1=Math.min,pE=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return Oe(t,n),t.prototype.render=function(e,i,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,i,r):this._renderNormal(e,i,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,i){this._progressiveEls=[],this._incrementalRenderLarge(e,i)},t.prototype.eachRendered=function(e){uu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e,i,r,o){var a,l=this.group,u=e.getData(),f=this._data,g=e.coordinateSystem,y=g.getBaseAxis();"cartesian2d"===g.type?a=y.isHorizontal():"polar"===g.type&&(a="angle"===y.dim);var w=e.isAnimationEnabled()?e:null,C=function(Ee,Re){var Je=Ee.get("realtimeSort",!0),st=Re.getBaseAxis();if(Je&&"category"===st.type&&"cartesian2d"===Re.type)return{baseAxis:st,otherAxis:Re.getOtherAxis(st)}}(e,g);C&&this._enableRealtimeSort(C,u,r);var M=e.get("clip",!0)||C,O=function(Ee,Re){var Je=Ee.getArea&&Ee.getArea();if(Zh(Ee,"cartesian2d")){var st=Ee.getBaseAxis();if("category"!==st.type||!st.onBand){var mt=Re.getLayout("bandWidth");st.isHorizontal()?(Je.x-=mt,Je.width+=2*mt):(Je.y-=mt,Je.height+=2*mt)}}return Je}(g,u);l.removeClipPath();var L=e.get("roundCap",!0),R=e.get("showBackground",!0),F=e.getModel("backgroundStyle"),Y=F.get("borderRadius")||0,q=[],Z=this._backgroundEls,Q=o&&o.isInitSort,ne=o&&"changeAxisOrder"===o.type;function oe(Ee){var st,Re=l0[g.type](u,Ee),Je=new("polar"===(st=g).type?fl:Zr)({shape:A1(a,Re,st),silent:!0,z2:0});return Je.useStyle(F.getItemStyle()),Je.setShape("cartesian2d"===g.type?"r":"cornerRadius",Y),q[Ee]=Je,Je}u.diff(f).add(function(Ee){var Re=u.getItemModel(Ee),Je=l0[g.type](u,Ee,Re);if(R&&oe(Ee),u.hasValue(Ee)&&rk[g.type](Je)){var st=!1;M&&(st=k1[g.type](O,Je));var mt=nk[g.type](e,u,Ee,Je,a,w,y.model,!1,L);C&&(mt.forceLabelAnimation=!0),mE(mt,u,Ee,Re,Je,e,a,"polar"===g.type),Q?mt.attr({shape:Je}):C?s0(C,w,mt,Je,Ee,a,!1,!1):Uo(mt,{shape:Je},e,Ee),u.setItemGraphicEl(Ee,mt),l.add(mt),mt.ignore=st}}).update(function(Ee,Re){var Je=u.getItemModel(Ee),st=l0[g.type](u,Ee,Je);if(R){var mt=void 0;0===Z.length?mt=oe(Re):((mt=Z[Re]).useStyle(F.getItemStyle()),mt.setShape("cartesian2d"===g.type?"r":"cornerRadius",Y),q[Ee]=mt);var St=l0[g.type](u,Ee);co(mt,{shape:A1(a,St,g)},w,Ee)}var Tt=f.getItemGraphicEl(Re);if(u.hasValue(Ee)&&rk[g.type](st)){var Lt=!1;if(M&&(Lt=k1[g.type](O,st))&&l.remove(Tt),Tt?Mc(Tt):Tt=nk[g.type](e,u,Ee,st,a,w,y.model,!!Tt,L),C&&(Tt.forceLabelAnimation=!0),ne){var $t=Tt.getTextContent();if($t){var nn=Cd($t);null!=nn.prevValue&&(nn.prevValue=nn.value)}}else mE(Tt,u,Ee,Je,st,e,a,"polar"===g.type);Q?Tt.attr({shape:st}):C?s0(C,w,Tt,st,Ee,a,!0,ne):co(Tt,{shape:st},e,Ee,null),u.setItemGraphicEl(Ee,Tt),Tt.ignore=Lt,l.add(Tt)}else l.remove(Tt)}).remove(function(Ee){var Re=f.getItemGraphicEl(Ee);Re&&Kv(Re,e,Ee)}).execute();var _e=this._backgroundGroup||(this._backgroundGroup=new Gi);_e.removeAll();for(var ke=0;ke<q.length;++ke)_e.add(q[ke]);l.add(_e),this._backgroundEls=q,this._data=u},t.prototype._renderLarge=function(e,i,r){this._clear(),ok(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,i){this._removeBackground(),ok(i,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var i=e.get("clip",!0)&&$m(e.coordinateSystem,!1,e),r=this.group;i?r.setClipPath(i):r.removeClipPath()},t.prototype._enableRealtimeSort=function(e,i,r){var o=this;if(i.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,e,r),this._isFirstFrame=!1;else{var l=function(u){var f=i.getItemGraphicEl(u),g=f&&f.shape;return g&&Math.abs(a.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,l,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,i,r){var o=[];return e.each(e.mapDimension(i.dim),function(a,l){var u=r(l);o.push({dataIndex:l,mappedValue:u=u??NaN,ordinalNumber:a})}),o.sort(function(a,l){return l.mappedValue-a.mappedValue}),{ordinalNumbers:ue(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,i,r){for(var o=r.scale,a=e.mapDimension(r.dim),l=Number.MAX_VALUE,u=0,f=o.getOrdinalMeta().categories.length;u<f;++u){var g=e.rawIndexOf(a,o.getRawOrdinalNumber(u)),y=g<0?Number.MIN_VALUE:i(e.indexOfRawIndex(g));if(y>l)return!0;l=y}return!1},t.prototype._isOrderDifferentInView=function(e,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),l=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=l;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,i,r,o){if(this._isOrderChangedWithinSameData(e,i,r)){var a=this._dataSort(e,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,i,r){var o=i.baseAxis,a=this._dataSort(e,o,function(l){return e.get(e.mapDimension(i.otherAxis.dim),l)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(e,i){this._clear(this._model),this._removeOnRenderedListener(i)},t.prototype.dispose=function(e,i){this._removeOnRenderedListener(i)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var i=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){Kv(o,e,_r(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ao),k1={cartesian2d:function(n,t){var e=t.width<0?-1:1,i=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=n.x+n.width,o=n.y+n.height,a=a0(t.x,n.x),l=C1(t.x+t.width,r),u=a0(t.y,n.y),f=C1(t.y+t.height,o),g=l<a,y=f<u;return t.x=g&&a>r?l:a,t.y=y&&u>o?f:u,t.width=g?0:l-a,t.height=y?0:f-u,e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),g||y},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}var r=C1(t.r,n.r),o=a0(t.r0,n.r0);t.r=r,t.r0=o;var a=r-o<0;return e<0&&(i=t.r,t.r=t.r0,t.r0=i),a}},nk={cartesian2d:function(n,t,e,i,r,o,a,l,u){var f=new Zr({shape:_t({},i),z2:1});return f.__dataIndex=e,f.name="item",o&&(f.shape[r?"height":"width"]=0),f},polar:function(n,t,e,i,r,o,a,l,u){var f=!r&&u?r0:fl,g=new f({shape:i,z2:1});g.name="item";var y,w,C=gE(r);if(g.calculateTextPosition=(y=C,w=f===r0,function(L,R,F){var Y=R.position;if(!Y||Y instanceof Array)return Vu(L,R,F);var q=y(Y),Z=null!=R.distance?R.distance:5,Q=this.shape,ne=Q.cx,oe=Q.cy,_e=Q.r,ke=Q.r0,Ee=(_e+ke)/2,Re=Q.startAngle,Je=Q.endAngle,st=(Re+Je)/2,mt=w?Math.abs(_e-ke)/2:0,St=Math.cos,Tt=Math.sin,Lt=ne+_e*St(Re),$t=oe+_e*Tt(Re),nn="left",an="top";switch(q){case"startArc":Lt=ne+(ke-Z)*St(st),$t=oe+(ke-Z)*Tt(st),nn="center",an="top";break;case"insideStartArc":Lt=ne+(ke+Z)*St(st),$t=oe+(ke+Z)*Tt(st),nn="center",an="bottom";break;case"startAngle":Lt=ne+Ee*St(Re)+o0(Re,Z+mt,!1),$t=oe+Ee*Tt(Re)+tv(Re,Z+mt,!1),nn="right",an="middle";break;case"insideStartAngle":Lt=ne+Ee*St(Re)+o0(Re,-Z+mt,!1),$t=oe+Ee*Tt(Re)+tv(Re,-Z+mt,!1),nn="left",an="middle";break;case"middle":Lt=ne+Ee*St(st),$t=oe+Ee*Tt(st),nn="center",an="middle";break;case"endArc":Lt=ne+(_e+Z)*St(st),$t=oe+(_e+Z)*Tt(st),nn="center",an="bottom";break;case"insideEndArc":Lt=ne+(_e-Z)*St(st),$t=oe+(_e-Z)*Tt(st),nn="center",an="top";break;case"endAngle":Lt=ne+Ee*St(Je)+o0(Je,Z+mt,!0),$t=oe+Ee*Tt(Je)+tv(Je,Z+mt,!0),nn="left",an="middle";break;case"insideEndAngle":Lt=ne+Ee*St(Je)+o0(Je,-Z+mt,!0),$t=oe+Ee*Tt(Je)+tv(Je,-Z+mt,!0),nn="right",an="middle";break;default:return Vu(L,R,F)}return(L=L||{}).x=Lt,L.y=$t,L.align=nn,L.verticalAlign=an,L}),o){var M=r?"r":"endAngle",O={};g.shape[M]=r?i.r0:i.startAngle,O[M]=i[M],(l?co:Uo)(g,{shape:O},o)}return g}};function s0(n,t,e,i,r,o,a,l){var u,f;o?(f={x:i.x,width:i.width},u={y:i.y,height:i.height}):(f={y:i.y,height:i.height},u={x:i.x,width:i.width}),l||(a?co:Uo)(e,{shape:u},t,r,null),(a?co:Uo)(e,{shape:f},t?n.baseAxis.model:null,r)}function ik(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var fE=["x","y","width","height"],zD=["cx","cy","r","startAngle","endAngle"],rk={cartesian2d:function(n){return!ik(n,fE)},polar:function(n){return!ik(n,zD)}},l0={cartesian2d:function(n,t,e){var i=n.getItemLayout(t),r=e?function(l,u){var f=l.get(["itemStyle","borderColor"]);if(!f||"none"===f)return 0;var g=l.get(["itemStyle","borderWidth"])||0,y=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),w=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height);return Math.min(g,y,w)}(e,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,t,e){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function gE(n){return function(t){var e=t?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+e;default:return i}}}(n)}function mE(n,t,e,i,r,o,a,l){var u=t.getItemVisual(e,"style");if(l){if(!o.get("roundCap")){var f=n.shape;_t(f,Yl(i.getModel("itemStyle"),f,!0)),n.setShape(f)}}else{var g=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",g)}n.useStyle(u);var y=i.getShallow("cursor");y&&n.attr("cursor",y);var w=l?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",C=us(i);tl(n,C,{labelFetcher:o,labelDataIndex:e,defaultText:tg(o.getData(),e),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:w});var M=n.getTextContent();if(l&&M){var O=i.get(["label","position"]);n.textConfig.inside="middle"===O||null,function(R,F,Y,q){if(En(q))R.setTextConfig({rotation:q});else if(Bt(F))R.setTextConfig({rotation:0});else{var Z,Q=R.shape,ne=Q.clockwise?Q.startAngle:Q.endAngle,oe=Q.clockwise?Q.endAngle:Q.startAngle,_e=(ne+oe)/2,ke=Y(F);switch(ke){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":Z=_e;break;case"startAngle":case"insideStartAngle":Z=ne;break;case"endAngle":case"insideEndAngle":Z=oe;break;default:return void R.setTextConfig({rotation:0})}var Ee=1.5*Math.PI-Z;"middle"===ke&&Ee>Math.PI/2&&Ee<1.5*Math.PI&&(Ee-=Math.PI),R.setTextConfig({rotation:Ee})}}(n,"outside"===O?w:O,gE(a),i.get(["label","rotate"]))}Fa(M,C,o.getRawValue(e),function(R){return aE(t,R)});var R,L=i.getModel(["emphasis"]);wa(n,L.get("focus"),L.get("blurScope"),L.get("disabled")),el(n,i),null!=(R=r).startAngle&&null!=R.endAngle&&R.startAngle===R.endAngle&&(n.style.fill="none",n.style.stroke="none",pe(n.states,function(R){R.style&&(R.style.fill=R.style.stroke="none")}))}var FD=function(){},c0=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeBar",i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new FD},t.prototype.buildPath=function(e,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,l=[],u=[],f=this.barWidth,g=0;g<r.length;g+=3)u[o]=f,u[a]=r[g+2],l[o]=r[g+o],l[a]=r[g+a],e.rect(l[0],l[1],u[0],u[1])},t}(hr);function ok(n,t,e,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),l=r.getLayout("size"),u=n.getModel("backgroundStyle"),f=r.getLayout("largeBackgroundPoints");if(f){var g=new c0({shape:{points:f},incremental:!!i,silent:!0,z2:0});g.baseDimIdx=o,g.largeDataIndices=a,g.barWidth=l,g.useStyle(u.getItemStyle()),t.add(g),e&&e.push(g)}var y=new c0({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});y.baseDimIdx=o,y.largeDataIndices=a,y.barWidth=l,t.add(y),y.useStyle(r.getVisual("style")),_r(y).seriesIndex=n.seriesIndex,n.get("silent")||(y.on("mousedown",ak),y.on("mousemove",ak)),e&&e.push(y)}var ak=cx(function(n){var t=function(e,i,r){for(var o=e.baseDimIdx,a=1-o,l=e.shape.points,u=e.largeDataIndices,f=[],g=[],y=e.barWidth,w=0,C=l.length/3;w<C;w++){var M=3*w;if(g[o]=y,g[a]=l[M+2],f[o]=l[M+o],f[a]=l[M+a],g[a]<0&&(f[a]+=g[a],g[a]=-g[a]),i>=f[0]&&i<=f[0]+g[0]&&r>=f[1]&&r<=f[1]+g[1])return u[w]}return-1}(this,n.offsetX,n.offsetY);_r(this).dataIndex=t>=0?t:null},30,!1);function A1(n,t,e){if(Zh(e,"cartesian2d")){var i=t,r=e.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}var o=t;return{cx:(r=e.getArea()).cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:2*Math.PI}}var u0=2*Math.PI,vE=Math.PI/180;function sk(n,t){return io(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function lk(n,t){var e=sk(n,t),i=n.get("center"),r=n.get("radius");Bt(r)||(r=[0,r]);var o,a,l=ri(e.width,t.getWidth()),u=ri(e.height,t.getHeight()),f=Math.min(l,u),g=ri(r[0],f/2),y=ri(r[1],f/2),w=n.coordinateSystem;if(w){var C=w.dataToPoint(i);o=C[0]||0,a=C[1]||0}else Bt(i)||(i=[i,i]),o=ri(i[0],l)+e.x,a=ri(i[1],u)+e.y;return{cx:o,cy:a,r0:g,r:y}}function VD(n,t,e){t.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=sk(i,e),l=lk(i,e),u=l.cx,f=l.cy,g=l.r,y=l.r0,w=-i.get("startAngle")*vE,C=i.get("minAngle")*vE,M=0;r.each(o,function(ke){!isNaN(ke)&&M++});var O=r.getSum(o),L=Math.PI/(O||M)*2,R=i.get("clockwise"),F=i.get("roseType"),Y=i.get("stillShowZeroSum"),q=r.getDataExtent(o);q[0]=0;var Z=u0,Q=0,ne=w,oe=R?1:-1;if(r.setLayout({viewRect:a,r:g}),r.each(o,function(ke,Ee){var Re;if(isNaN(ke))r.setItemLayout(Ee,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:R,cx:u,cy:f,r0:y,r:F?NaN:g});else{(Re="area"!==F?0===O&&Y?L:ke*L:u0/M)<C?(Re=C,Z-=C):Q+=ke;var Je=ne+oe*Re;r.setItemLayout(Ee,{angle:Re,startAngle:ne,endAngle:Je,clockwise:R,cx:u,cy:f,r0:y,r:F?oo(ke,q,[y,g]):g}),ne=Je}}),Z<u0&&M)if(Z<=.001){var _e=u0/M;r.each(o,function(ke,Ee){if(!isNaN(ke)){var Re=r.getItemLayout(Ee);Re.angle=_e,Re.startAngle=w+oe*Ee*_e,Re.endAngle=w+oe*(Ee+1)*_e}})}else L=Z/Q,ne=w,r.each(o,function(ke,Ee){if(!isNaN(ke)){var Re=r.getItemLayout(Ee),Je=Re.angle===C?C:ke*L;Re.startAngle=ne,Re.endAngle=ne+oe*Je,ne+=oe*Je}})})}function nv(n){return{seriesType:n,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var r=t.getData();r.filterSelf(function(o){for(var a=r.getName(o),l=0;l<i.length;l++)if(!i[l].isSelected(a))return!1;return!0})}}}}var yE=Math.PI/180;function bE(n,t,e,i,r,o,a,l,u,f){if(!(n.length<2)){for(var g=n.length,y=0;y<g;y++)"outer"===n[y].position&&"labelLine"===n[y].labelAlignTo&&(n[y].linePoints[1][0]+=n[y].label.x-f,n[y].label.x=f);Z2(n,u,u+a)&&function(M){for(var O={list:[],maxY:0},L={list:[],maxY:0},R=0;R<M.length;R++)if("none"===M[R].labelAlignTo){var F=M[R],Y=F.label.y>e?L:O,q=Math.abs(F.label.y-e);if(q>=Y.maxY){var Z=F.label.x-t-F.len2*r,Q=i+F.len,ne=Math.abs(Z)<Q?Math.sqrt(q*q/(1-Z*Z/Q/Q)):Q;Y.rB=ne,Y.maxY=q}Y.list.push(F)}C(O),C(L)}(n)}function C(M){for(var O=M.rB,L=O*O,R=0;R<M.list.length;R++){var F=M.list[R],Y=Math.abs(F.label.y-e),q=i+F.len,Z=q*q,Q=Math.sqrt((1-Math.abs(Y*Y/L))*Z),ne=t+(Q+F.len2)*r;M1(F,F.targetTextWidth-(ne-F.label.x)*r,!0),F.label.x=ne}}}function M1(n,t,e){if(void 0===e&&(e=!1),null==n.labelStyleWidth){var i=n.label,r=i.style,o=n.rect,a=r.backgroundColor,l=r.padding,u=l?l[1]+l[3]:0,f=r.overflow,g=o.width+(a?0:u);if(t<g||e){var y=o.height;if(f&&f.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",t-u);var w=i.getBoundingRect();i.setStyle("width",Math.ceil(w.width)),i.setStyle("backgroundColor",a)}else{var C=t-u;i.setStyle("width",t<g?C:e?C>n.unconstrainedWidth?null:C:null)}var O=i.getBoundingRect();o.width=O.width,o.height=O.height+((i.style.margin||0)+2.1),o.y-=(o.height-y)/2}}}function ck(n){return"center"===n.position}var uk=function(n){function t(e,i,r){var o=n.call(this)||this;o.z2=2;var a=new Qr;return o.setTextContent(a),o.updateData(e,i,r,!0),o}return Oe(t,n),t.prototype.updateData=function(e,i,r,o){var a=this,l=e.hostModel,u=e.getItemModel(i),f=u.getModel("emphasis"),g=e.getItemLayout(i),y=_t(Yl(u.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle))a.setShape(y);else{if(o){a.setShape(y);var w=l.getShallow("animationType");l.ecModel.ssr?(Uo(a,{scaleX:0,scaleY:0},l,{dataIndex:i,isFrom:!0}),a.originX=y.cx,a.originY=y.cy):"scale"===w?(a.shape.r=g.r0,Uo(a,{shape:{r:g.r}},l,i)):null!=r?(a.setShape({startAngle:r,endAngle:r}),Uo(a,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},l,i)):(a.shape.endAngle=g.startAngle,co(a,{shape:{endAngle:g.endAngle}},l,i))}else Mc(a),co(a,{shape:y},l,i);a.useStyle(e.getItemVisual(i,"style")),el(a,u);var C=(g.startAngle+g.endAngle)/2,M=l.get("selectedOffset"),O=Math.cos(C)*M,L=Math.sin(C)*M,R=u.getShallow("cursor");R&&a.attr("cursor",R),this._updateLabel(l,e,i),a.ensureState("emphasis").shape=_t({r:g.r+(f.get("scale")&&f.get("scaleSize")||0)},Yl(f.getModel("itemStyle"),g)),_t(a.ensureState("select"),{x:O,y:L,shape:Yl(u.getModel(["select","itemStyle"]),g)}),_t(a.ensureState("blur"),{shape:Yl(u.getModel(["blur","itemStyle"]),g)});var F=a.getTextGuideLine(),Y=a.getTextContent();F&&_t(F.ensureState("select"),{x:O,y:L}),_t(Y.ensureState("select"),{x:O,y:L}),wa(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))}},t.prototype._updateLabel=function(e,i,r){var o=this,a=i.getItemModel(r),l=a.getModel("labelLine"),u=i.getItemVisual(r,"style"),f=u&&u.fill,g=u&&u.opacity;tl(o,us(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:f,defaultOpacity:g,defaultText:e.getFormattedLabel(r,"normal")||i.getName(r)});var y=o.getTextContent();o.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var w=e.get(["label","position"]);if("outside"!==w&&"outer"!==w)o.removeTextGuideLine();else{var C=this.getTextGuideLine();C||(C=new ml,this.setTextGuideLine(C)),r1(this,IC(a),{stroke:f,opacity:fr(l.get(["lineStyle","opacity"]),g,1)})}},t}(fl),hk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return Oe(t,n),t.prototype.render=function(e,i,r,o){var a,l=e.getData(),u=this._data,f=this.group;if(!u&&l.count()>0){for(var g=l.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<l.count();++y)g=l.getItemLayout(y);g&&(a=g.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),0===l.count()&&e.get("showEmptyCircle")){var w=new fl({shape:lk(e,r)});w.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=w,f.add(w)}l.diff(u).add(function(C){var M=new uk(l,C,a);l.setItemGraphicEl(C,M),f.add(M)}).update(function(C,M){var O=u.getItemGraphicEl(M);O.updateData(l,C,a),O.off("click"),f.add(O),l.setItemGraphicEl(C,O)}).remove(function(C){Kv(u.getItemGraphicEl(C),e,C)}).execute(),function h0(n){var t,e,i=n.getData(),r=[],o=!1,a=(n.get("minShowLabelAngle")||0)*yE,l=i.getLayout("viewRect"),u=i.getLayout("r"),f=l.width,g=l.x,y=l.y,w=l.height;function C(Z){Z.ignore=!0}i.each(function(Z){var Q=i.getItemGraphicEl(Z),ne=Q.shape,oe=Q.getTextContent(),_e=Q.getTextGuideLine(),ke=i.getItemModel(Z),Ee=ke.getModel("label"),Re=Ee.get("position")||ke.get(["emphasis","label","position"]),Je=Ee.get("distanceToLabelLine"),st=Ee.get("alignTo"),mt=ri(Ee.get("edgeDistance"),f),St=Ee.get("bleedMargin"),Tt=ke.getModel("labelLine"),Lt=Tt.get("length");Lt=ri(Lt,f);var $t=Tt.get("length2");if($t=ri($t,f),Math.abs(ne.endAngle-ne.startAngle)<a)return pe(oe.states,C),oe.ignore=!0,void(_e&&(pe(_e.states,C),_e.ignore=!0));if(function(pa){if(!pa.ignore)return!0;for(var Os in pa.states)if(!1===pa.states[Os].ignore)return!0;return!1}(oe)){var nn,an,kn,jn,cn=(ne.startAngle+ne.endAngle)/2,Pn=Math.cos(cn),Yn=Math.sin(cn);t=ne.cx,e=ne.cy;var Zn="inside"===Re||"inner"===Re;if("center"===Re)nn=ne.cx,an=ne.cy,jn="center";else{var Wn=(Zn?(ne.r+ne.r0)/2*Pn:ne.r*Pn)+t,oi=(Zn?(ne.r+ne.r0)/2*Yn:ne.r*Yn)+e;if(nn=Wn+3*Pn,an=oi+3*Yn,!Zn){var Un=Wn+Pn*(Lt+u-ne.r),ui=oi+Yn*(Lt+u-ne.r),Ti=Un+(Pn<0?-1:1)*$t;nn="edge"===st?Pn<0?g+mt:g+f-mt:Ti+(Pn<0?-Je:Je),an=ui,kn=[[Wn,oi],[Un,ui],[Ti,ui]]}jn=Zn?"center":"edge"===st?Pn>0?"right":"left":Pn>0?"left":"right"}var yr=Math.PI,Er=0,Ao=Ee.get("rotate");if(En(Ao))Er=Ao*(yr/180);else if("center"===Re)Er=0;else if("radial"===Ao||!0===Ao)Er=Pn<0?-cn+yr:-cn;else if("tangential"===Ao&&"outside"!==Re&&"outer"!==Re){var Wr=Math.atan2(Pn,Yn);Wr<0&&(Wr=2*yr+Wr),Yn>0&&(Wr=yr+Wr),Er=Wr-yr}if(o=!!Er,oe.x=nn,oe.y=an,oe.rotation=Er,oe.setStyle({verticalAlign:"middle"}),Zn){oe.setStyle({align:jn});var ro=oe.states.select;ro&&(ro.x+=oe.x,ro.y+=oe.y)}else{var mo=oe.getBoundingRect().clone();mo.applyTransform(oe.getComputedTransform());var na=(oe.style.margin||0)+2.1;mo.y-=na/2,mo.height+=na,r.push({label:oe,labelLine:_e,position:Re,len:Lt,len2:$t,minTurnAngle:Tt.get("minTurnAngle"),maxSurfaceAngle:Tt.get("maxSurfaceAngle"),surfaceNormal:new si(Pn,Yn),linePoints:kn,textAlign:jn,labelDistance:Je,labelAlignTo:st,edgeDistance:mt,bleedMargin:St,rect:mo,unconstrainedWidth:mo.width,labelStyleWidth:oe.style.width})}Q.setTextConfig({inside:Zn})}}),!o&&n.get("avoidLabelOverlap")&&function(Z,Q,ne,oe,_e,ke,Ee,Re){for(var Je=[],st=[],mt=Number.MAX_VALUE,St=-Number.MAX_VALUE,Tt=0;Tt<Z.length;Tt++){var Lt=Z[Tt].label;ck(Z[Tt])||(Lt.x<Q?(mt=Math.min(mt,Lt.x),Je.push(Z[Tt])):(St=Math.max(St,Lt.x),st.push(Z[Tt])))}for(Tt=0;Tt<Z.length;Tt++)if(!ck(an=Z[Tt])&&an.linePoints){if(null!=an.labelStyleWidth)continue;Lt=an.label;var nn,$t=an.linePoints;an.targetTextWidth=nn="edge"===an.labelAlignTo?Lt.x<Q?$t[2][0]-an.labelDistance-Ee-an.edgeDistance:Ee+_e-an.edgeDistance-$t[2][0]-an.labelDistance:"labelLine"===an.labelAlignTo?Lt.x<Q?mt-Ee-an.bleedMargin:Ee+_e-St-an.bleedMargin:Lt.x<Q?Lt.x-Ee-an.bleedMargin:Ee+_e-Lt.x-an.bleedMargin,M1(an,nn)}for(bE(st,Q,ne,oe,1,0,ke,0,Re,St),bE(Je,Q,ne,oe,-1,0,ke,0,Re,mt),Tt=0;Tt<Z.length;Tt++){var an;if(!ck(an=Z[Tt])&&an.linePoints){var jn=(Lt=an.label).style.padding,Yn=an.rect.width+(Lt.style.backgroundColor?0:jn?jn[1]+jn[3]:0),Zn=($t=an.linePoints)[1][0]-$t[2][0];"edge"===an.labelAlignTo?$t[2][0]=Lt.x<Q?Ee+an.edgeDistance+Yn+an.labelDistance:Ee+_e-an.edgeDistance-Yn-an.labelDistance:($t[2][0]=Lt.x<Q?Lt.x+an.labelDistance:Lt.x-an.labelDistance,$t[1][0]=$t[2][0]+Zn),$t[1][1]=$t[2][1]=Lt.y}}}(r,t,e,u,f,w,g,y);for(var M=0;M<r.length;M++){var O=r[M],L=O.label,R=O.labelLine,F=isNaN(L.x)||isNaN(L.y);if(L){L.setStyle({align:O.textAlign}),F&&(pe(L.states,C),L.ignore=!0);var Y=L.states.select;Y&&(Y.x+=L.x,Y.y+=L.y)}if(R){var q=O.linePoints;F||!q?(pe(R.states,C),R.ignore=!0):($y(q,O.minTurnAngle),i1(q,O.surfaceNormal,O.maxSurfaceAngle),R.setShape({points:q}),L.__hostTarget.textGuideLineConfig={anchor:new si(q[0][0],q[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=l)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,l=Math.sqrt(o*o+a*a);return l<=r.r&&l>=r.r0}},t.type="pie",t}(ao);function Fp(n,t,e){t=Bt(t)&&{coordDimensions:t}||_t({encodeDefine:n.getEncode()},t);var i=n.getSource(),r=Dm(i,t).dimensions,o=new va(r,n);return o.initData(i,e),o}var iv=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}(),xE=nr(),_E=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new iv(Et(this.getData,this),Et(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Fp(this,{coordDimensions:["value"],encodeDefaulter:xn(Tf,this)})},t.prototype.getDataParams=function(e){var i=this.getData(),r=xE(i),o=r.seats;if(!o){var a=[];i.each(i.mapDimension("value"),function(u){a.push(u)}),o=r.seats=sf(a,i.hostModel.get("percentPrecision"))}var l=n.prototype.getDataParams.call(this,e);return l.percent=o[e]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(e){vr(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Io),wE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Oe(t,n),t.prototype.getInitialData=function(e,i){return Xh(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Io),SE=function(){},CE=function(n){function t(e){var i=n.call(this,e)||this;return i._off=0,i.hoverDataIdx=-1,i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new SE},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,i){var r,o=i.points,a=i.size,l=this.symbolProxy,u=l.shape,f=e.getContext?e.getContext():e,y=this.softClipShape;if(f&&a[0]<4)this._ctx=f;else{for(this._ctx=null,r=this._off;r<o.length;){var w=o[r++],C=o[r++];isNaN(w)||isNaN(C)||y&&!y.contain(w,C)||(u.x=w-a[0]/2,u.y=C-a[1]/2,u.width=a[0],u.height=a[1],l.buildPath(e,u,!0))}this.incremental&&(this._off=r,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,i=this.shape,r=i.points,o=i.size,a=this._ctx,l=this.softClipShape;if(a){for(e=this._off;e<r.length;){var u=r[e++],f=r[e++];isNaN(u)||isNaN(f)||l&&!l.contain(u,f)||a.fillRect(u-o[0]/2,f-o[1]/2,o[0],o[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,i){for(var r=this.shape,o=r.points,a=r.size,l=Math.max(a[0],4),u=Math.max(a[1],4),f=o.length/2-1;f>=0;f--){var g=2*f,y=o[g]-l/2,w=o[g+1]-u/2;if(e>=y&&i>=w&&e<=y+l&&i<=w+u)return f}return-1},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);return this.getBoundingRect().contain(e=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(e,i))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var i=this.shape,r=i.points,o=i.size,a=o[0],l=o[1],u=1/0,f=1/0,g=-1/0,y=-1/0,w=0;w<r.length;){var C=r[w++],M=r[w++];u=Math.min(C,u),g=Math.max(C,g),f=Math.min(M,f),y=Math.max(M,y)}e=this._rect=new lr(u-a/2,f-l/2,g-u+a,y-f+l)}return e},t}(hr),kE=function(){function n(){this.group=new Gi}return n.prototype.updateData=function(t,e){this._clear();var i=this._create();i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,e)},n.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(e=new Float32Array(e.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",e),i.reset()})},n.prototype.incrementalPrepareUpdate=function(t){this._clear()},n.prototype.incrementalUpdate=function(t,e,i){var r=this._newAdded[0],o=e.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var l=a.length,u=new Float32Array(l+o.length);u.set(a),u.set(o,l),r.endIndex=t.end,r.setShape({points:u})}else{this._newAdded=[];var f=this._create();f.startIndex=t.start,f.endIndex=t.end,f.incremental=!0,f.setShape({points:o}),this._setCommon(f,e,i)}},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new CE({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},n.prototype._setCommon=function(t,e,i){var r=e.hostModel;i=i||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=i.clipShape||null,t.symbolProxy=Da(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),u=l&&l.fill;u&&t.setColor(u);var f=_r(t);f.seriesIndex=r.seriesIndex,t.on("mousemove",function(g){f.dataIndex=null;var y=t.hoverDataIdx;y>=0&&(f.dataIndex=y+(t.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),AE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._symbolDraw.incrementalUpdate(e,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=e.end===i.getData().count()},t.prototype.updateTransform=function(e,i,r){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=Qm("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype._updateSymbolDraw=function(e,i){var r=this._symbolDraw,o=i.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new kE:new Um,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ao),HD=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(qr),T1=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",_o).models[0]},t.type="cartesian2dAxis",t}(qr);qe(T1,qf);var E1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},WD=rt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},E1),dk=rt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},E1),pk={category:WD,value:dk,time:rt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},dk),log:It({logBase:10},dk)},jD={value:1,category:1,time:1,log:1};function ig(n,t,e,i){pe(jD,function(r,o){var a=rt(rt({},pk[o],!0),i,!0),l=function(u){function f(){var g=null!==u&&u.apply(this,arguments)||this;return g.type=t+"Axis."+o,g}return Oe(f,u),f.prototype.mergeDefaultAndTheme=function(g,y){var w=im(this),C=w?nh(g):{};rt(g,y.getTheme().get(o+"Axis")),rt(g,this.getDefaultOption()),g.type=fk(g),w&&Vh(g,C,w)},f.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=dC.createByAxisModel(this))},f.prototype.getCategories=function(g){var y=this.option;if("category"===y.type)return g?y.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=t+"Axis."+o,f.defaultOption=a,f}(e);n.registerComponentModel(l)}),n.registerSubTypeDefaulter(t+"Axis",fk)}function fk(n){return n.type||(n.data?"category":"value")}var YD=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return ue(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),on(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),I1=["x","y"];function ME(n){return"interval"===n.type||"time"===n.type}var TE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=I1,e}return Oe(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,i=this.getAxis("y").scale;if(ME(e)&&ME(i)){var r=e.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),l=this.dataToPoint([r[1],o[1]]),u=r[1]-r[0],f=o[1]-o[0];if(u&&f){var g=(l[0]-a[0])/u,y=(l[1]-a[1])/f,M=this._transform=[g,0,0,y,a[0]-r[0]*g,a[1]-o[0]*y];this._invTransform=Bi([],M)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,i){var r=this.dataToPoint(e),o=this.dataToPoint(i),a=this.getArea(),l=new lr(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(l)},t.prototype.dataToPoint=function(e,i,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a))return Fn(r,e,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return r[0]=l.toGlobalCoord(l.dataToCoord(o,i)),r[1]=u.toGlobalCoord(u.dataToCoord(a,i)),r},t.prototype.clampData=function(e,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),l=o.getExtent(),u=r.parse(e[0]),f=o.parse(e[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),u),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(l[0],l[1]),f),Math.max(l[0],l[1])),i},t.prototype.pointToData=function(e,i){var r=[];if(this._invTransform)return Fn(r,e,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(e[0]),i),r[1]=a.coordToData(a.toLocalCoord(e[1]),i),r},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(e[0],e[1]),o=Math.min(i[0],i[1]),a=Math.max(e[0],e[1])-r,l=Math.max(i[0],i[1])-o;return new lr(r,o,a,l)},t}(YD),EE=function(n){function t(e,i,r,o,a){var l=n.call(this,e,i,r)||this;return l.index=0,l.type=o||"value",l.position=a||"bottom",l}return Oe(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),e&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(e,i){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),i)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Nc);function O1(n,t,e){e=e||{};var i=n.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],l=r.position,u=a?"onZero":l,f=r.dim,g=i.getRect(),y=[g.x,g.x+g.width,g.y,g.y+g.height],w={left:0,right:1,top:0,bottom:1,onZero:2},C=t.get("offset")||0,M="x"===f?[y[2]-C,y[3]+C]:[y[0]-C,y[1]+C];if(a){var O=a.toGlobalCoord(a.dataToCoord(0));M[w.onZero]=Math.max(Math.min(O,M[1]),M[0])}o.position=["y"===f?M[w[u]]:y[0],"x"===f?M[w[u]]:y[3]],o.rotation=Math.PI/2*("x"===f?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],o.labelOffset=a?M[w[l]]-M[w.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Wi(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var L=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===u?-L:L,o.z2=1,o}function gk(n){return"cartesian2d"===n.get("coordinateSystem")}function mk(n){var t={xAxisModel:null,yAxisModel:null};return pe(t,function(e,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,_o).models[0];t[i]=o}),t}var rv=Math.log;function IE(n,t,e){var i=ch.prototype,r=i.getTicks.call(e),o=i.getTicks.call(e,!0),a=r.length-1,l=i.getInterval.call(e),u=vC(n,t),f=u.extent,g=u.fixMin,y=u.fixMax;if("log"===n.type){var w=rv(n.base);f=[rv(f[0])/w,rv(f[1])/w]}n.setExtent(f[0],f[1]),n.calcNiceExtent({splitNumber:a,fixMin:g,fixMax:y});var C=i.getExtent.call(n);g&&(f[0]=C[0]),y&&(f[1]=C[1]);var M=i.getInterval.call(n),O=f[0],L=f[1];if(g&&y)M=(L-O)/a;else if(g)for(L=f[0]+M*a;L<f[1]&&isFinite(L)&&isFinite(f[1]);)M=uc(M),L=f[0]+M*a;else if(y)for(O=f[1]-M*a;O>f[0]&&isFinite(O)&&isFinite(f[0]);)M=uc(M),O=f[1]-M*a;else{n.getTicks().length-1>a&&(M=uc(M));var R=M*a;(O=lo((L=Math.ceil(f[1]/M)*M)-R))<0&&f[0]>=0?(O=0,L=lo(R)):L>0&&f[1]<=0&&(L=0,O=-lo(R))}var F=(r[0].value-o[0].value)/l,Y=(r[a].value-o[a].value)/l;i.setExtent.call(n,O+M*F,L+M*Y),i.setInterval.call(n,M),(F||Y)&&i.setNiceExtent.call(n,O+M,L-M)}var OE=function(){function n(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=I1,this._initCartesian(t,e,i),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var i=this._axesMap;function r(a){var l,u=Zt(a),f=u.length;if(f){for(var g=[],y=f-1;y>=0;y--){var w=a[+u[y]],C=w.model,M=w.scale;jf(M)&&C.get("alignTicks")&&null==C.get("interval")?g.push(w):(Op(M,C),jf(M)&&(l=w))}g.length&&(l||Op((l=g.pop()).scale,l.model),pe(g,function(O){IE(O.scale,O.model,l.scale)}))}}this._updateScale(t,this.model),r(i.x),r(i.y);var o={};pe(i.x,function(a){vk(i,"y",a,o)}),pe(i.y,function(a){vk(i,"x",a,o)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,i){var r=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),a=io(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var l=this._axesList;function u(){pe(l,function(f){var C,M,O,L,g=f.isHorizontal(),y=g?[0,a.width]:[0,a.height],w=f.inverse?1:0;f.setExtent(y[w],y[1-w]),M=g?a.x:a.y,O=(C=f).getExtent(),L=O[0]+O[1],C.toGlobalCoord="x"===C.dim?function(R){return R+M}:function(R){return L-R+M},C.toLocalCoord="x"===C.dim?function(R){return R-M}:function(R){return L-R+M}})}u(),o&&(pe(l,function(f){if(!f.model.get(["axisLabel","inside"])){var g=function(C){var O=C.scale;if(C.model.get(["axisLabel","show"])&&!O.isBlank()){var L,R,F=O.getExtent();R=O instanceof Rm?O.count():(L=O.getTicks()).length;var Y,q=C.getLabelModel(),Z=Fm(C),Q=1;R>40&&(Q=Math.ceil(R/40));for(var ne=0;ne<R;ne+=Q){var oe=Z(L?L[ne]:{value:F[0]+ne},ne),_e=P2(q.getTextRect(oe),q.get("rotate")||0);Y?Y.union(_e):Y=_e}return Y}}(f);if(g){var y=f.isHorizontal()?"height":"width",w=f.model.get(["axisLabel","margin"]);a[y]-=g[y]+w,"top"===f.position?a.y+=g.height+w:"left"===f.position&&(a.x+=g.width+w)}}}),u()),pe(this._coordsList,function(f){f.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];hi(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(t){var e,i,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",_o).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",_o).models[0],l=t.gridModel;return r?hn(this._coordsList,e=r.coordinateSystem)<0&&(e=null):o&&a?e=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):l&&l.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:i}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",f("x"),this),e.eachComponent("yAxis",f("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function f(g){return function(y,w){if(D1(y,t)){var C=y.get("position");"x"===g?"top"!==C&&"bottom"!==C&&(C=a.bottom?"top":"bottom"):"left"!==C&&"right"!==C&&(C=a.left?"right":"left"),a[C]=!0;var M=new EE(g,qh(y),[0,0],y.get("type"),C);M.onBand="category"===M.type&&y.get("boundaryGap"),M.inverse=y.get("inverse"),y.axis=M,M.model=y,M.grid=o,M.index=w,o._axesList.push(M),l[g][w]=M,u[g]++}}}this._axesMap=l,pe(l.x,function(g,y){pe(l.y,function(w,C){var M="x"+y+"y"+C,O=new TE(M);O.master=r,O.model=t,r._coordsMap[M]=O,r._coordsList.push(O),O.addAxis(g),O.addAxis(w)})})},n.prototype._updateScale=function(t,e){function i(r,o){pe(Vm(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}pe(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(gk(r)){var o=mk(r),a=o.xAxisModel,l=o.yAxisModel;if(!D1(a,e)||!D1(l,e))return;var u=this.getCartesian(a.componentIndex,l.componentIndex),f=r.getData(),g=u.getAxis("x"),y=u.getAxis("y");i(f,g),i(f,y)}},this)},n.prototype.getTooltipAxes=function(t){var e=[],i=[];return pe(this.getCartesians(),function(r){var o=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);hn(e,o)<0&&e.push(o),hn(i,a)<0&&i.push(a)}),{baseAxes:e,otherAxes:i}},n.create=function(t,e){var i=[];return t.eachComponent("grid",function(r,o){var a=new n(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,i.push(a)}),t.eachSeries(function(r){if(gk(r)){var o=mk(r),a=o.xAxisModel,l=o.yAxisModel,u=a.getCoordSysModel();r.coordinateSystem=u.coordinateSystem.getCartesian(a.componentIndex,l.componentIndex)}}),i},n.dimensions=I1,n}();function D1(n,t){return n.getCoordSysModel()===t}function vk(n,t,e,i){e.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=n[t],a=e.model,l=a.get(["axisLine","onZero"]),u=a.get(["axisLine","onZeroAxisIndex"]);if(l){if(null!=u)yk(o[u])&&(r=o[u]);else for(var f in o)if(o.hasOwnProperty(f)&&yk(o[f])&&!i[g(o[f])]){r=o[f];break}r&&(i[g(r)]=!0)}function g(y){return y.dim+"_"+y.index}}function yk(n){return n&&"category"!==n.type&&"time"!==n.type&&function(t){var e=t.scale.getExtent(),i=e[0],r=e[1];return!(i>0&&r>0||i<0&&r<0)}(n)}var Zi=Math.PI,Es=function(){function n(t,e){this.group=new Gi,this.opt=e,this.axisModel=t,It(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Gi({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(t){return!!bk[t]},n.prototype.add=function(t){bk[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,i){var r,o,a=Gu(e-t);return Xu(a)?(o=i>0?"top":"bottom",r="center"):Xu(a-Zi)?(o=i>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<Zi?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),bk={axisLine:function(n,t,e,i){var r=t.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=t.axis.getExtent(),a=i.transform,l=[o[0],0],u=[o[1],0],f=l[0]>u[0];a&&(Fn(l,l,a),Fn(u,u,a));var g=_t({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),y=new cs({shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:g,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});Sf(y.shape,y.style.lineWidth),y.anid="line",e.add(y);var w=t.get(["axisLine","symbol"]);if(null!=w){var C=t.get(["axisLine","symbolSize"]);On(w)&&(w=[w,w]),(On(C)||En(C))&&(C=[C,C]);var M=Ap(t.get(["axisLine","symbolOffset"])||0,C),O=C[0],L=C[1];pe([{rotate:n.rotation+Math.PI/2,offset:M[0],r:0},{rotate:n.rotation-Math.PI/2,offset:M[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(R,F){if("none"!==w[F]&&null!=w[F]){var Y=Da(w[F],-O/2,-L/2,O,L,g.stroke,!0),q=R.r+R.offset,Z=f?u:l;Y.attr({rotation:R.rotate,x:Z[0]+q*Math.cos(n.rotation),y:Z[1]-q*Math.sin(n.rotation),silent:!0,z2:11}),e.add(Y)}})}}},axisTickLabel:function(n,t,e,i){var r=function(a,l,u,f){var g=u.axis,y=u.getModel("axisTick"),w=y.get("show");if("auto"===w&&f.handleAutoShown&&(w=f.handleAutoShown("axisTick")),w&&!g.scale.isBlank()){for(var C=y.getModel("lineStyle"),M=f.tickDirection*y.get("length"),O=wk(g.getTicksCoords(),l.transform,M,It(C.getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])}),"ticks"),L=0;L<O.length;L++)a.add(O[L]);return O}}(e,i,t,n),o=function(a,l,u,f){var g=u.axis;if(Wi(f.axisLabelShow,u.get(["axisLabel","show"]))&&!g.scale.isBlank()){var w=u.getModel("axisLabel"),C=w.get("margin"),M=g.getViewLabels(),O=(Wi(f.labelRotate,w.get("rotate"))||0)*Zi/180,L=Es.innerTextLayout(f.rotation,O,f.labelDirection),R=u.getCategories&&u.getCategories(!0),F=[],Y=Es.isLabelSilent(u),q=u.get("triggerEvent");return pe(M,function(Z,Q){var ne="ordinal"===g.scale.type?g.scale.getRawOrdinalNumber(Z.tickValue):Z.tickValue,oe=Z.formattedLabel,_e=Z.rawLabel,ke=w;if(R&&R[ne]){var Ee=R[ne];hi(Ee)&&Ee.textStyle&&(ke=new ho(Ee.textStyle,w,u.ecModel))}var Re=ke.getTextColor()||u.get(["axisLine","lineStyle","color"]),Je=g.dataToCoord(ne),st=new Qr({x:Je,y:f.labelOffset+f.labelDirection*C,rotation:L.rotation,silent:Y,z2:10+(Z.level||0),style:Eo(ke,{text:oe,align:ke.getShallow("align",!0)||L.textAlign,verticalAlign:ke.getShallow("verticalAlign",!0)||ke.getShallow("baseline",!0)||L.textVerticalAlign,fill:Ht(Re)?Re("category"===g.type?_e:"value"===g.type?ne+"":ne,Q):Re})});if(st.anid="label_"+ne,q){var mt=Es.makeAxisEventDataBase(u);mt.targetType="axisLabel",mt.value=_e,mt.tickIndex=Q,"category"===g.type&&(mt.dataIndex=ne),_r(st).eventData=mt}l.add(st),st.updateTransform(),F.push(st),a.add(st),st.decomposeTransform()}),F}}(e,i,t,n);(function(a,l,u){if(!Zx(a.axis)){var f=a.get(["axisLabel","showMinLabel"]),g=a.get(["axisLabel","showMaxLabel"]),y=(l=l||[])[0],w=l[1],C=l[l.length-1],M=l[l.length-2],O=(u=u||[])[0],L=u[1],R=u[u.length-1],F=u[u.length-2];!1===f?(Rc(y),Rc(O)):xk(y,w)&&(f?(Rc(w),Rc(L)):(Rc(y),Rc(O))),!1===g?(Rc(C),Rc(R)):xk(M,C)&&(g?(Rc(M),Rc(F)):(Rc(C),Rc(R)))}})(t,o,r),function(a,l,u,f){var g=u.axis,y=u.getModel("minorTick");if(y.get("show")&&!g.scale.isBlank()){var w=g.getMinorTicksCoords();if(w.length)for(var C=y.getModel("lineStyle"),M=f*y.get("length"),O=It(C.getLineStyle(),It(u.getModel("axisTick").getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])})),L=0;L<w.length;L++)for(var R=wk(w[L],l.transform,M,O,"minorticks_"+L),F=0;F<R.length;F++)a.add(R[F])}}(e,i,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&OC(U2(ue(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(n,t,e,i){var Q,oe,_e,ke,Ee,Re,Je,r=Wi(n.axisName,t.get("name"));if(r){var o,a,l=t.get("nameLocation"),u=n.nameDirection,f=t.getModel("nameTextStyle"),g=t.get("nameGap")||0,y=t.axis.getExtent(),w=y[0]>y[1]?-1:1,C=["start"===l?y[0]-w*g:"end"===l?y[1]+w*g:(y[0]+y[1])/2,_k(l)?n.labelOffset+u*g:0],M=t.get("nameRotate");null!=M&&(M=M*Zi/180),_k(l)?o=Es.innerTextLayout(n.rotation,M??n.rotation,u):(Q=l,oe=y,Ee=Gu((M||0)-n.rotation),Re=oe[0]>oe[1],Je="start"===Q&&!Re||"start"!==Q&&Re,Xu(Ee-Zi/2)?(ke=Je?"bottom":"top",_e="center"):Xu(Ee-1.5*Zi)?(ke=Je?"top":"bottom",_e="center"):(ke="middle",_e=Ee<1.5*Zi&&Ee>Zi/2?Je?"left":"right":Je?"right":"left"),o={rotation:Ee,textAlign:_e,textVerticalAlign:ke},null!=(a=n.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var O=f.getFont(),L=t.get("nameTruncate",!0)||{},R=L.ellipsis,F=Wi(n.nameTruncateMaxWidth,L.maxWidth,a),Y=new Qr({x:C[0],y:C[1],rotation:o.rotation,silent:Es.isLabelSilent(t),style:Eo(f,{text:r,font:O,overflow:"truncate",width:F,ellipsis:R,fill:f.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:f.get("align")||o.textAlign,verticalAlign:f.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(cu({el:Y,componentModel:t,itemName:r}),Y.__fullText=r,Y.anid="name",t.get("triggerEvent")){var q=Es.makeAxisEventDataBase(t);q.targetType="axisName",q.name=r,_r(Y).eventData=q}i.add(Y),Y.updateTransform(),e.add(Y),Y.decomposeTransform()}}};function Rc(n){n&&(n.ignore=!0)}function xk(n,t){var e=n&&n.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(e&&i){var r=qt([]);return gi(r,r,-n.rotation),e.applyTransform(Mn([],r,n.getLocalTransform())),i.applyTransform(Mn([],r,t.getLocalTransform())),e.intersect(i)}}function _k(n){return"middle"===n||"center"===n}function wk(n,t,e,i,r){for(var o=[],a=[],l=[],u=0;u<n.length;u++){var f=n[u].coord;a[0]=f,a[1]=0,l[0]=f,l[1]=e,t&&(Fn(a,a,t),Fn(l,l,t));var g=new cs({shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});Sf(g.shape,g.style.lineWidth),g.anid=r+"_"+n[u].tickValue,o.push(g)}return o}function L1(n,t){return"all"===n||Bt(n)&&hn(n,t)>=0||n===t}function p0(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[ov(n)]}function P1(n){return!!n.get(["handle","show"])}function ov(n){return n.type+"||"+n.id}var LE={},rg=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r,o){this.axisPointerClass&&function DE(n){var t=p0(n);if(t){var e=t.axisPointerModel,i=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");null!=a&&(a=i.parse(a));var l=P1(e);null==o&&(r.status=l?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==a||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),r.value=a,l&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,i,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,i){var r=this._axisPointer;r&&r.remove(i)},t.prototype.dispose=function(e,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,r){var u,o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=(u=p0(e))&&u.axisPointerModel;a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,i,r):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,i){LE[e]=i},t.getAxisPointerClass=function(e){return e&&LE[e]},t.type="axis",t}(Bo),N1=nr();function PE(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),l=a.get("color"),u=i.coordinateSystem.getRect(),f=r.getTicksCoords({tickModel:o,clamp:!0});if(f.length){var g=l.length,y=N1(n).splitAreaColors,w=be(),C=0;if(y)for(var M=0;M<f.length;M++){var O=y.get(f[M].tickValue);if(null!=O){C=(O+(g-1)*M)%g;break}}var L=r.toGlobalCoord(f[0].coord),R=a.getAreaStyle();for(l=Bt(l)?l:[l],M=1;M<f.length;M++){var F=r.toGlobalCoord(f[M].coord),Y=void 0,q=void 0,Z=void 0,Q=void 0;r.isHorizontal()?(q=u.y,Q=u.height,L=(Y=L)+(Z=F-Y)):(Y=u.x,Z=u.width,L=(q=L)+(Q=F-q));var ne=f[M-1].tickValue;null!=ne&&w.set(ne,C),t.add(new Zr({anid:null!=ne?"area_"+ne:null,shape:{x:Y,y:q,width:Z,height:Q},style:It({fill:l[C]},R),autoBatch:!0,silent:!0})),C=(C+1)%g}N1(n).splitAreaColors=w}}}function NE(n){N1(n).splitAreaColors=null}var GD=["axisLine","axisTickLabel","axisName"],RE=["splitArea","splitLine","minorSplitLine"],BE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return Oe(t,n),t.prototype.render=function(e,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Gi,this.group.add(this._axisGroup),e.get("show")){var l=e.getCoordSysModel(),u=O1(l,e),f=new Es(e,_t({handleAutoShown:function(g){for(var y=l.coordinateSystem.getCartesians(),w=0;w<y.length;w++)if(jf(y[w].getOtherAxis(e.axis).scale))return!0;return!1}},u));pe(GD,f.add,f),this._axisGroup.add(f.getGroup()),pe(RE,function(g){e.get([g,"show"])&&zE[g](this,this._axisGroup,e,l)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||qg(a,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)}},t.prototype.remove=function(){NE(this)},t.type="cartesianAxis",t}(rg),zE={splitLine:function(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),l=a.get("color");l=Bt(l)?l:[l];for(var u=i.coordinateSystem.getRect(),f=r.isHorizontal(),g=0,y=r.getTicksCoords({tickModel:o}),w=[],C=[],M=a.getLineStyle(),O=0;O<y.length;O++){var L=r.toGlobalCoord(y[O].coord);f?(w[0]=L,w[1]=u.y,C[0]=L,C[1]=u.y+u.height):(w[0]=u.x,w[1]=L,C[0]=u.x+u.width,C[1]=L);var R=g++%l.length,Y=new cs({anid:null!=y[O].tickValue?"line_"+y[O].tickValue:null,autoBatch:!0,shape:{x1:w[0],y1:w[1],x2:C[0],y2:C[1]},style:It({stroke:l[R]},M),silent:!0});Sf(Y.shape,M.lineWidth),t.add(Y)}}},minorSplitLine:function(n,t,e,i){var r=e.axis,o=e.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var f=[],g=[],y=o.getLineStyle(),w=0;w<u.length;w++)for(var C=0;C<u[w].length;C++){var M=r.toGlobalCoord(u[w][C].coord);l?(f[0]=M,f[1]=a.y,g[0]=M,g[1]=a.y+a.height):(f[0]=a.x,f[1]=M,g[0]=a.x+a.width,g[1]=M);var O=new cs({anid:"minor_line_"+u[w][C].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},style:y,silent:!0});Sf(O.shape,y.lineWidth),t.add(O)}},splitArea:function(n,t,e,i){PE(n,t,e,i)}},Sk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="xAxis",t}(BE),Ck=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=Sk.type,e}return Oe(t,n),t.type="yAxis",t}(BE),FE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return Oe(t,n),t.prototype.render=function(e,i){this.group.removeAll(),e.get("show")&&this.group.add(new Zr({shape:e.coordinateSystem.getRect(),style:It({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Bo),kk={offset:0};function VE(n){n.registerComponentView(FE),n.registerComponentModel(HD),n.registerCoordinateSystem("cartesian2d",OE),ig(n,"x",T1,kk),ig(n,"y",T1,kk),n.registerComponentView(Sk),n.registerComponentView(Ck),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function HE(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),i=[],r=t.coordinateSystem;if(r){var o=r.getIndicatorAxes();pe(o,function(a,l){e.each(e.mapDimension(o[l].dim),function(u,f){i[f]=i[f]||[];var g=r.dataToPoint(u,l);i[f][l]=_u(g)?g:f0(r)})}),e.each(function(a){var l=jt(i[a],function(u){return _u(u)})||f0(r);i[a].push(l.slice()),e.setItemLayout(a,i[a])})}})}function _u(n){return!isNaN(n[0])&&!isNaN(n[1])}function f0(n){return[n.cx,n.cy]}function R1(n){var t=n.polar;if(t){Bt(t)||(t=[t]);var e=[];pe(t,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],Bt(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):e.push(i)}),n.polar=e}pe(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var Ak=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=e.coordinateSystem,a=this.group,l=e.getData(),u=this._data;function f(w,C){var M=w.getItemVisual(C,"symbol")||"circle";if("none"!==M){var O=kp(w.getItemVisual(C,"symbolSize")),L=Da(M,-1,-1,2,2),R=w.getItemVisual(C,"symbolRotate")||0;return L.attr({style:{strokeNoScale:!0},z2:100,scaleX:O[0]/2,scaleY:O[1]/2,rotation:R*Math.PI/180||0}),L}}function g(w,C,M,O,L,R){M.removeAll();for(var F=0;F<C.length-1;F++){var Y=f(O,L);Y&&(Y.__dimIdx=F,w[F]?(Y.setPosition(w[F]),hu[R?"initProps":"updateProps"](Y,{x:C[F][0],y:C[F][1]},e,L)):Y.setPosition(C[F]),M.add(Y))}}function y(w){return ue(w,function(C){return[o.cx,o.cy]})}l.diff(u).add(function(w){var C=l.getItemLayout(w);if(C){var M=new gl,O=new ml,L={shape:{points:C}};M.shape.points=y(C),O.shape.points=y(C),Uo(M,L,e,w),Uo(O,L,e,w);var R=new Gi,F=new Gi;R.add(O),R.add(M),R.add(F),g(O.shape.points,C,F,l,w,!0),l.setItemGraphicEl(w,R)}}).update(function(w,C){var M=u.getItemGraphicEl(C),O=M.childAt(0),L=M.childAt(1),R=M.childAt(2),F={shape:{points:l.getItemLayout(w)}};F.shape.points&&(g(O.shape.points,F.shape.points,R,l,w,!1),Mc(L),Mc(O),co(O,F,e),co(L,F,e),l.setItemGraphicEl(w,M))}).remove(function(w){a.remove(u.getItemGraphicEl(w))}).execute(),l.eachItemGraphicEl(function(w,C){var M=l.getItemModel(C),O=w.childAt(0),L=w.childAt(1),R=w.childAt(2),F=l.getItemVisual(C,"style"),Y=F.fill;a.add(w),O.useStyle(It(M.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Y})),el(O,M,"lineStyle"),el(L,M,"areaStyle");var q=M.getModel("areaStyle"),Z=q.isEmpty()&&q.parentModel.isEmpty();L.ignore=Z,pe(["emphasis","select","blur"],function(oe){var _e=M.getModel([oe,"areaStyle"]),ke=_e.isEmpty()&&_e.parentModel.isEmpty();L.ensureState(oe).ignore=ke&&Z}),L.useStyle(It(q.getAreaStyle(),{fill:Y,opacity:.7,decal:F.decal}));var Q=M.getModel("emphasis"),ne=Q.getModel("itemStyle").getItemStyle();R.eachChild(function(oe){if(oe instanceof ls){var _e=oe.style;oe.useStyle(_t({image:_e.image,x:_e.x,y:_e.y,width:_e.width,height:_e.height},F))}else oe.useStyle(F),oe.setColor(Y),oe.style.strokeNoScale=!0;oe.ensureState("emphasis").style=Qe(ne);var ke=l.getStore().get(l.getDimensionIndex(oe.__dimIdx),C);(null==ke||isNaN(ke))&&(ke=""),tl(oe,us(M),{labelFetcher:l.hostModel,labelDataIndex:C,labelDimIndex:oe.__dimIdx,defaultText:ke,inheritColor:Y,defaultOpacity:F.opacity})}),wa(w,Q.get("focus"),Q.get("blurScope"),Q.get("disabled"))}),this._data=l},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ao),Mk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Oe(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new iv(Et(this.getData,this),Et(this.getRawData,this))},t.prototype.getInitialData=function(e,i){return Fp(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(e),u=""===l?this.name:l,f=Pd(this,e);return hs("section",{header:u,sortBlocks:!0,blocks:ue(a,function(g){var y=o.get(o.mapDimension(g.dim),e);return hs("nameValue",{markerType:"subItem",markerColor:f,name:g.name,value:y,sortParam:y})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(ue(r.dimensions,function(f){return i.mapDimension(f)}),e),a=0,l=o.length;a<l;a++)if(!isNaN(o[a])){var u=r.getIndicatorAxes();return r.coordToPoint(u[a].dataToCoord(o[a]),a)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Io),av=pk.value;function sv(n,t){return It({show:t},n)}var WE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("axisName"),f=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),y=this.get("axisNameGap"),w=this.get("triggerEvent"),C=ue(this.get("indicator")||[],function(M){null!=M.max&&M.max>0&&!M.min?M.min=0:null!=M.min&&M.min<0&&!M.max&&(M.max=0);var O=u;null!=M.color&&(O=It({color:M.color},u));var L=rt(Qe(M),{boundaryGap:e,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:l,name:M.text,showName:f,nameLocation:"end",nameGap:y,nameTextStyle:O,triggerEvent:w},!1);On(g)?L.name=g.replace("{value}",L.name??""):Ht(g)&&(L.name=g(L.name,L));var F=new ho(L,null,this.ecModel);return qe(F,qf.prototype),F.mainType="radar",F.componentIndex=this.componentIndex,F},this);this._indicatorModels=C},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:rt({lineStyle:{color:"#bbb"}},av.axisLine),axisLabel:sv(av.axisLabel,!1),axisTick:sv(av.axisTick,!1),splitLine:sv(av.splitLine,!0),splitArea:sv(av.splitArea,!0),indicator:[]},t}(qr),jE=["axisLine","axisTickLabel","axisName"],Tk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var i=e.coordinateSystem;pe(ue(i.getIndicatorAxes(),function(r){var o=r.model.get("showName")?r.name:"";return new Es(r.model,{axisName:o,position:[i.cx,i.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){pe(jE,r.add,r),this.group.add(r.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var i=e.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=e.get("shape"),a=e.getModel("splitLine"),l=e.getModel("splitArea"),u=a.getModel("lineStyle"),f=l.getModel("areaStyle"),g=a.get("show"),y=l.get("show"),w=u.get("color"),C=f.get("color"),M=Bt(w)?w:[w],O=Bt(C)?C:[C],L=[],R=[];if("circle"===o)for(var F=r[0].getTicksCoords(),Y=i.cx,q=i.cy,Z=0;Z<F.length;Z++)g&&L[Je(L,M,Z)].push(new au({shape:{cx:Y,cy:q,r:F[Z].coord}})),y&&Z<F.length-1&&R[Je(R,O,Z)].push(new Hg({shape:{cx:Y,cy:q,r0:F[Z].coord,r:F[Z+1].coord}}));else{var Q,ne=ue(r,function(st,mt){var St=st.getTicksCoords();return Q=null==Q?St.length-1:Math.min(St.length-1,Q),ue(St,function(Tt){return i.coordToPoint(Tt.coord,mt)})}),oe=[];for(Z=0;Z<=Q;Z++){for(var _e=[],ke=0;ke<r.length;ke++)_e.push(ne[ke][Z]);_e[0]&&_e.push(_e[0].slice()),g&&L[Je(L,M,Z)].push(new ml({shape:{points:_e}})),y&&oe&&R[Je(R,O,Z-1)].push(new gl({shape:{points:_e.concat(oe)}})),oe=_e.slice().reverse()}}var Ee=u.getLineStyle(),Re=f.getAreaStyle();pe(R,function(st,mt){this.group.add(oc(st,{style:It({stroke:"none",fill:O[mt%O.length]},Re),silent:!0}))},this),pe(L,function(st,mt){this.group.add(oc(st,{style:It({fill:"none",stroke:M[mt%M.length]},Ee),silent:!0}))},this)}function Je(st,mt,St){var Tt=St%mt.length;return st[Tt]=st[Tt]||[],Tt}},t.type="radar",t}(Bo),YE=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return Oe(t,n),t}(Nc),GE=function(){function n(t,e,i){this.dimensions=[],this._model=t,this._indicatorAxes=ue(t.getIndicatorModels(),function(r,o){var a="indicator_"+o,l=new YE(a,new ch);return l.name=r.get("name"),l.model=r,r.axis=l,this.dimensions.push(a),l},this),this.resize(t,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=Math.sqrt(e*e+i*i);e/=r,i/=r;for(var o,a=Math.atan2(-i,e),l=1/0,u=-1,f=0;f<this._indicatorAxes.length;f++){var g=this._indicatorAxes[f],y=Math.abs(a-g.angle);y<l&&(o=g,u=f,l=y)}return[u,+(o&&o.coordToData(r))]},n.prototype.resize=function(t,e){var i=t.get("center"),r=e.getWidth(),o=e.getHeight(),a=Math.min(r,o)/2;this.cx=ri(i[0],r),this.cy=ri(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var l=t.get("radius");(On(l)||En(l))&&(l=[0,l]),this.r0=ri(l[0],a),this.r=ri(l[1],a),pe(this._indicatorAxes,function(u,f){u.setExtent(this.r0,this.r);var g=this.startAngle+f*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),u.angle=g},this)},n.prototype.update=function(t,e){var i=this._indicatorAxes,r=this._model;pe(i,function(l){l.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(l,u){if("radar"===l.get("coordinateSystem")&&t.getComponent("radar",l.get("radarIndex"))===r){var f=l.getData();pe(i,function(g){g.scale.unionExtentFromData(f,f.mapDimension(g.dim))})}},this);var o=r.get("splitNumber"),a=new ch;a.setExtent(0,o),a.setInterval(1),pe(i,function(l,u){IE(l.scale,l.model,a)})},n.prototype.convertToPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var i=[];return t.eachComponent("radar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();function XE(n){n.registerCoordinateSystem("radar",GE),n.registerComponentModel(WE),n.registerComponentView(Tk),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(i){e.setItemVisual(i,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var Ek="\0_ec_interaction_mutex";function vh(n,t){return!!g0(n)[t]}function g0(n){return n[Ek]||(n[Ek]={})}mu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},At);var Kh=function(n){function t(e){var i=n.call(this)||this;i._zr=e;var r=Et(i._mousedownHandler,i),o=Et(i._mousemoveHandler,i),a=Et(i._mouseupHandler,i),l=Et(i._mousewheelHandler,i),u=Et(i._pinchHandler,i);return i.enable=function(f,g){this.disable(),this._opt=It(Qe(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==f&&(f=!0),!0!==f&&"move"!==f&&"pan"!==f||(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),!0!==f&&"scale"!==f&&"zoom"!==f||(e.on("mousewheel",l),e.on("pinch",u))},i.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",l),e.off("pinch",u)},i}return Oe(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!De(e)){for(var i=e.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&lv("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!vh(this._zr,"globalPan")){var i=e.offsetX,r=e.offsetY,o=this._x,a=this._y,l=i-o,u=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&ae(e.event),qE(this,"pan","moveOnMouseMove",e,{dx:l,dy:u,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){De(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var i=lv("zoomOnMouseWheel",e,this._opt),r=lv("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),l=e.offsetX,u=e.offsetY;if(0!==o&&(i||r)){if(i){var f=a>3?1.4:a>1?1.2:1.1;og(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?f:1/f,originX:l,originY:u,isAvailableBehavior:null})}if(r){var g=Math.abs(o);og(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(g>3?.4:g>1?.15:.05),originX:l,originY:u,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){vh(this._zr,"globalPan")||og(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(h);function og(n,t,e,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(ae(i.event),qE(n,t,e,i,r))}function qE(n,t,e,i,r){r.isAvailableBehavior=Et(lv,null,e,i),n.trigger(t,r)}function lv(n,t,e){var i=e[n];return!n||i&&(!On(i)||t.event[i+"Key"])}function cv(n,t,e){var i=n.target;i.x+=t,i.y+=e,i.dirty()}function Ik(n,t,e,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=t,o){var l=o.min||0;a=Math.max(Math.min(o.max||1/0,a),l)}var f=a/n.zoom;n.zoom=a,r.x-=(e-r.x)*(f-1),r.y-=(i-r.y)*(f-1),r.scaleX*=f,r.scaleY*=f,r.dirty()}var B1,Ok={axisPointer:1,tooltip:1,brush:1};function m0(n,t,e){var i=t.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==e&&!Ok.hasOwnProperty(i.mainType)&&r&&r.model!==e}function UE(n){On(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var v0={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},z1=Zt(v0),F1={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Dk=Zt(F1),XD=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var i=UE(t);this._defsUsePending=[];var r=new Gi;this._root=r;var o=[],a=i.getAttribute("viewBox")||"",l=parseFloat(i.getAttribute("width")||e.width),u=parseFloat(i.getAttribute("height")||e.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),_l(i,r,null,!0,!1);for(var f,g,y=i.firstChild;y;)this._parseNode(y,r,o,null,!1,!1),y=y.nextSibling;if(function(M,O){for(var L=0;L<O.length;L++){var R=O[L];R[0].style[R[1]]=M[R[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var w=uv(a);w.length>=4&&(f={x:parseFloat(w[0]||0),y:parseFloat(w[1]||0),width:parseFloat(w[2]),height:parseFloat(w[3])})}if(f&&null!=l&&null!=u&&(g=Rk(f,{x:0,y:0,width:l,height:u}),!e.ignoreViewBox)){var C=r;(r=new Gi).add(C),C.scaleX=C.scaleY=g.scale,C.x=g.x,C.y=g.y}return e.ignoreRootClip||null==l||null==u||r.setClipPath(new Zr({shape:{x:0,y:0,width:l,height:u}})),{root:r,width:l,height:u,viewBoxRect:f,viewBoxTransform:g,named:o}},n.prototype._parseNode=function(t,e,i,r,o,a){var l,u=t.nodeName.toLowerCase(),f=r;if("defs"===u&&(o=!0),"text"===u&&(a=!0),"defs"===u||"switch"===u)l=e;else{if(!o){var g=B1[u];if(g&&ft(B1,u)){l=g.call(this,t,e);var y=t.getAttribute("name");if(y){var w={name:y,namedFrom:null,svgNodeTagLower:u,el:l};i.push(w),"g"===u&&(f=w)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:u,el:l});e.add(l)}}var C=V1[u];if(C&&ft(V1,u)){var M=C.call(this,t),O=t.getAttribute("id");O&&(this._defs[O]=M)}}if(l&&l.isGroup)for(var L=t.firstChild;L;)1===L.nodeType?this._parseNode(L,l,i,f,o,a):3===L.nodeType&&a&&this._parseText(L,l),L=L.nextSibling},n.prototype._parseText=function(t,e){var i=new As({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),function(u,f){var g=f.__selfStyle;if(g){var y=g.textBaseline,w=y;y&&"auto"!==y?"baseline"===y?w="alphabetic":"before-edge"===y||"text-before-edge"===y?w="top":"after-edge"===y||"text-after-edge"===y?w="bottom":"central"!==y&&"mathematical"!==y||(w="middle"):w="alphabetic",u.style.textBaseline=w}var C=f.__inheritedStyle;if(C){var M=C.textAlign,O=M;M&&("middle"===M&&(O="center"),u.style.textAlign=O)}}(i,e);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var l=i.getBoundingRect();return this._textX+=l.width,e.add(i),i},n.internalField=void(B1={g:function(t,e){var i=new Gi;return Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),i},rect:function(t,e){var i=new Zr;return Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,e){var i=new au;return Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,e){var i=new cs;return Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,e){var i=new Yv;return Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,e){var i,r=t.getAttribute("points");r&&(i=ZE(r));var o=new gl({shape:{points:i||[]},silent:!0});return Bc(e,o),_l(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,e){var i,r=t.getAttribute("points");r&&(i=ZE(r));var o=new ml({shape:{points:i||[]},silent:!0});return Bc(e,o),_l(t,o,this._defsUsePending,!1,!1),o},image:function(t,e){var i=new ls;return Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,e){var i=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var l=new Gi;return Bc(e,l),_l(t,l,this._defsUsePending,!1,!0),l},tspan:function(t,e){var i=t.getAttribute("x"),r=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",l=new Gi;return Bc(e,l),_l(t,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),l},path:function(t,e){var i=hb(t.getAttribute("d")||"");return Bc(e,i),_l(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),V1={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new jg(t,e,i,r);return Lk(n,o),$E(n,o),o},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new Tw(t,e,i);return Lk(n,r),$E(n,r),r}};function Lk(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function $E(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var r,i=e.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};Nk(e,o,o);var a=o.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:r,color:a})}e=e.nextSibling}}function Bc(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),It(t.__inheritedStyle,n.__inheritedStyle))}function ZE(n){for(var t=uv(n),e=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);e.push([r,o])}return e}function _l(n,t,e,i,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},l={};1===n.nodeType&&(function(u,f){var g=u.getAttribute("transform");if(g){g=g.replace(/,/g," ");var y=[],w=null;g.replace(b0,function(R,F,Y){return y.push(F,Y),""});for(var C=y.length-1;C>0;C-=2){var O=y[C-1],L=uv(y[C]);switch(w=w||[1,0,0,1,0,0],O){case"translate":Cn(w,w,[parseFloat(L[0]),parseFloat(L[1]||"0")]);break;case"scale":Ei(w,w,[parseFloat(L[0]),parseFloat(L[1]||L[0])]);break;case"rotate":gi(w,w,-parseFloat(L[0])*H1);break;case"skewX":Mn(w,[1,0,Math.tan(parseFloat(L[0])*H1),1,0,0],w);break;case"skewY":Mn(w,[1,Math.tan(parseFloat(L[0])*H1),0,1,0,0],w);break;case"matrix":w[0]=parseFloat(L[0]),w[1]=parseFloat(L[1]),w[2]=parseFloat(L[2]),w[3]=parseFloat(L[3]),w[4]=parseFloat(L[4]),w[5]=parseFloat(L[5])}}f.setLocalTransform(w)}}(n,t),Nk(n,a,l),i||function(u,f,g){for(var y=0;y<z1.length;y++){var w=z1[y];null!=(C=u.getAttribute(w))&&(f[v0[w]]=C)}for(y=0;y<Dk.length;y++){var C;null!=(C=u.getAttribute(w=Dk[y]))&&(g[F1[w]]=C)}}(n,a,l)),o.style=o.style||{},null!=a.fill&&(o.style.fill=y0(o,"fill",a.fill,e)),null!=a.stroke&&(o.style.stroke=y0(o,"stroke",a.stroke,e)),pe(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){null!=a[u]&&(o.style[u]=parseFloat(a[u]))}),pe(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){null!=a[u]&&(o.style[u]=a[u])}),r&&(o.__selfStyle=l),a.lineDash&&(o.style.lineDash=ue(uv(a.lineDash),function(u){return parseFloat(u)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var qD=/^url\(\s*#(.*?)\)/;function y0(n,t,e,i){var r=e&&e.match(qD);if(!r)return"none"===e&&(e=null),e;var o=Jr(r[1]);i.push([n,t,o])}var UD=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function uv(n){return n.match(UD)||[]}var b0=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,H1=Math.PI/180,Pk=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Nk(n,t,e){var i,r=n.getAttribute("style");if(r)for(Pk.lastIndex=0;null!=(i=Pk.exec(r));){var o=i[1],a=ft(v0,o)?v0[o]:null;a&&(t[a]=i[2]);var l=ft(F1,o)?F1[o]:null;l&&(e[l]=i[2])}}function Rk(n,t){var r=Math.min(t.width/n.width,t.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(t.x+t.width/2),y:-(n.y+n.height/2)*r+(t.y+t.height/2)}}for(var Bk=be(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),W1=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=be(),this._freedGraphics=[],this._mapName=t,this._parsedXML=UE(e)}return n.prototype.load=function(){var o,a,l,t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(o=t.named,a=[],l=be(),pe(o,function(u){if(null==u.namedFrom){var f=new Qx(u.name,u.el);a.push(f),l.set(u.name,f)}}),{regions:a,regionsMap:l}),r=e.regionsMap;this._regions=e.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,i,r,o;try{ir(null!=(i=(e=t&&(r=t,o={ignoreViewBox:!0,ignoreRootClip:!0},(new XD).parse(r,o))||{}).root))}catch(F){throw new Error("Invalid svg format\n"+F.message)}var a=new Gi;a.add(i),a.isGeoSVGGraphicRoot=!0;var l=e.width,u=e.height,f=e.viewBoxRect,g=this._boundingRect;if(!g){var y=void 0,w=void 0,C=void 0,M=void 0;if(null!=l?(y=0,C=l):f&&(y=f.x,C=f.width),null!=u?(w=0,M=u):f&&(w=f.y,M=f.height),null==y||null==w){var O=i.getBoundingRect();null==y&&(y=O.x,C=O.width),null==w&&(w=O.y,M=O.height)}g=this._boundingRect=new lr(y,w,C,M)}if(f){var L=Rk(f,g);i.scaleX=i.scaleY=L.scale,i.x=L.x,i.y=L.y}a.setClipPath(new Zr({shape:g.plain()}));var R=[];return pe(e.named,function(F){var Y;null!=Bk.get(F.svgNodeTagLower)&&(R.push(F),(Y=F.el).silent=!1,Y.isGroup&&Y.traverse(function(q){q.silent=!1}))}),{root:a,boundingRect:g,named:R}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,i),i)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);i&&(e.removeKey(t),this._freedGraphics.push(i))},n}(),Vp=[126,25],Hp=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],jd=0;jd<Hp.length;jd++)for(var Wp=0;Wp<Hp[jd].length;Wp++)Hp[jd][Wp][0]/=10.5,Hp[jd][Wp][1]/=-14,Hp[jd][Wp][0]+=Vp[0],Hp[jd][Wp][1]+=Vp[1];var $D={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},ZD=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Fk=function(){function n(t,e,i){var r;this.type="geoJSON",this._parsedMap=be(),this._mapName=t,this._specialAreas=i,this._geoJSON=On(r=e)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return n.prototype.load=function(t,e){var i=this._parsedMap.get(e=e||"name");if(!i){var r=this._parseToRegions(e);i=this._parsedMap.set(e,{regions:r,boundingRect:KD(r)})}var o=be(),a=[];return pe(i.regions,function(l){var u=l.name;t&&ft(t,u)&&(l=l.cloneShallow(u=t[u])),a.push(l),o.set(u,l)}),{regions:a,boundingRect:i.boundingRect||new lr(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(t){var e,i=this._mapName,r=this._geoJSON;try{e=r?_C(r,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function(o,a){if("china"===o){for(var l=0;l<a.length;l++)if("\u5357\u6d77\u8bf8\u5c9b"===a[l].name)return;a.push(new H2("\u5357\u6d77\u8bf8\u5c9b",ue(Hp,function(u){return{type:"polygon",exterior:u}}),Vp))}}(i,e),pe(e,function(o){var f,a=o.name;(function(u,f){if("china"===u){var g=$D[f.name];if(g){var y=f.getCenter();y[0]+=g[0]/10.5,y[1]+=-g[1]/14,f.setCenter(y)}}})(i,o),f=o,"china"===i&&"\u53f0\u6e7e"===f.name&&f.geometries.push({type:"polygon",exterior:ZD[0]});var l=this._specialAreas&&this._specialAreas[a];l&&o.transformTo(l.left,l.top,l.width,l.height)},this),e},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function KD(n){for(var t,e=0;e<n.length;e++){var i=n[e].getBoundingRect();(t=t||i.clone()).union(i)}return t}var x0=be(),QD=function(n,t,e){if(t.svg){var i=new W1(n,t.svg);x0.set(n,i)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?e=t.specialAreas:r=t,i=new Fk(n,r,e),x0.set(n,i)}},j1=function(n){return x0.get(n)},JD=function(n){var t=x0.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()},Vk=function(n,t,e){var i=x0.get(n);if(i)return i.load(t,e)},Hk=["rect","circle","line","ellipse","polygon","polyline","path"],KE=be(Hk),_0=be(Hk.concat(["g"])),eL=be(Hk.concat(["g"])),Wk=nr();function hv(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}function jk(n){var t=n.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var QE=function(){function n(t){var e=new Gi;this.uid=th("ec_map_draw"),this._controller=new Kh(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Gi),e.add(this._svgGroup=new Gi)}return n.prototype.draw=function(t,e,i,r,o){var a="geo"===t.mainType,l=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},function(L){l||L.getHostGeoModel()!==t||(l=L.getData())});var u=t.coordinateSystem,f=this._regionsGroup,g=this.group,y=u.getTransformInfo(),w=y.raw,C=y.roam;!f.childAt(0)||o?(g.x=C.x,g.y=C.y,g.scaleX=C.scaleX,g.scaleY=C.scaleY,g.dirty()):co(g,C,t);var M=l&&l.getVisual("visualMeta")&&l.getVisual("visualMeta").length>0,O={api:i,geo:u,mapOrGeoModel:t,data:l,isVisualEncodedByVisualMap:M,isGeo:a,transformInfoRaw:w};"geoJSON"===u.resourceType?this._buildGeoJSON(O):"geoSVG"===u.resourceType&&this._buildSVG(O),this._updateController(t,e,i),this._updateMapSelectHandler(t,f,i,r)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=be(),i=be(),r=this._regionsGroup,o=t.transformInfoRaw,a=t.mapOrGeoModel,l=t.data,u=t.geo.projection,f=u&&u.stream;function g(C,M){return M&&(C=M(C)),C&&[C[0]*o.scaleX+o.x,C[1]*o.scaleY+o.y]}function y(C){for(var M=[],O=!f&&u&&u.project,L=0;L<C.length;++L){var R=g(C[L],O);R&&M.push(R)}return M}function w(C){return{shape:{points:y(C)}}}r.removeAll(),pe(t.geo.regions,function(C){var M=C.name,O=e.get(M),L=i.get(M)||{},R=L.dataIdx,F=L.regionModel;O||(O=e.set(M,new Gi),r.add(O),R=l?l.indexOfName(M):null,F=t.isGeo?a.getRegionModel(M):l?l.getItemModel(R):null,i.set(M,{dataIdx:R,regionModel:F}));var Y=[],q=[];pe(C.geometries,function(ne){if("polygon"===ne.type){var oe=[ne.exterior].concat(ne.interiors||[]);f&&(oe=rI(oe,f)),pe(oe,function(ke){Y.push(new gl(w(ke)))})}else{var _e=ne.points;f&&(_e=rI(_e,f,!0)),pe(_e,function(ke){q.push(new ml(w(ke)))})}});var Z=g(C.getCenter(),u&&u.project);function Q(ne,oe){if(ne.length){var _e=new fb({culling:!0,segmentIgnoreThreshold:1,shape:{paths:ne}});O.add(_e),JE(t,_e,R,F),eI(t,_e,M,F,a,R,Z),oe&&(jk(_e),pe(_e.states,jk))}}Q(Y),Q(q,!0)}),e.each(function(C,M){var O=i.get(M),R=O.regionModel;tI(t,C,M,R,a,O.dataIdx),nI(t,C,M,R,a),iI(t,C,M,R,a)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,i=t.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=be(),o=!1;pe(this._svgGraphicRecord.named,function(a){var l=a.name,u=t.mapOrGeoModel,f=t.data,g=a.svgNodeTagLower,y=a.el,w=f?f.indexOfName(l):null,C=u.getRegionModel(l);null!=KE.get(g)&&y instanceof Vs&&JE(t,y,w,C),y instanceof Vs&&(y.culling=!0),y.z2EmphasisLift=0,a.namedFrom||(null!=eL.get(g)&&eI(t,y,l,C,u,w,null),tI(t,y,l,C,u,w),nI(t,y,l,C,u),null!=_0.get(g)&&("self"===iI(t,y,l,C,u)&&(o=!0),(r.get(l)||r.set(l,[])).push(y)))},this),this._enableBlurEntireSVG(o,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var i=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){ci(r);var o=r.ensureState("blur").style||{};null==o.opacity&&null!=i&&(o.opacity=i),r.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var i=e.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(t);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=j1(t);if(e&&"geoSVG"===e.type){var i=e.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=j1(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,i){var r=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var l=t.mainType;function u(){var f={type:"geoRoam",componentType:l};return f[l+"Id"]=t.id,f}o.off("pan").on("pan",function(f){this._mouseDownFlag=!1,cv(a,f.dx,f.dy),i.dispatchAction(_t(u(),{dx:f.dx,dy:f.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(f){this._mouseDownFlag=!1,Ik(a,f.scale,f.originX,f.originY),i.dispatchAction(_t(u(),{zoom:f.scale,originX:f.originX,originY:f.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(f,g,y){return r.containPoint([g,y])&&!m0(f,i,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=Wk(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,i,r){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){o._mouseDownFlag=!0}),e.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function JE(n,t,e,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),l=i.getModel(["select","itemStyle"]),u=hv(r),f=hv(o),g=hv(l),y=hv(a),w=n.data;if(w){var C=w.getItemVisual(e,"style"),M=w.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&C.fill&&(u.fill=C.fill),M&&(u.decal=Vf(M,n.api))}t.setStyle(u),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=f,t.ensureState("select").style=g,t.ensureState("blur").style=y,ci(t)}function eI(n,t,e,i,r,o,a){var l=n.data,u=n.isGeo,f=l&&isNaN(l.get(l.mapDimension("value"),o)),g=l&&l.getItemLayout(o);if(u||f||g&&g.showLabel){var y=u?e:o,w=void 0;(!l||o>=0)&&(w=r);var C=a?{normal:{align:"center",verticalAlign:"middle"}}:null;tl(t,us(i),{labelFetcher:w,labelDataIndex:y,defaultText:e},C);var M=t.getTextContent();if(M&&(Wk(M).ignore=M.ignore,t.textConfig&&a)){var O=t.getBoundingRect().clone();t.textConfig.layoutRect=O,t.textConfig.position=[(a[0]-O.x)/O.width*100+"%",(a[1]-O.y)/O.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function tI(n,t,e,i,r,o){n.data?n.data.setItemGraphicEl(o,t):_r(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:e,region:i&&i.option||{}}}function nI(n,t,e,i,r){n.data||cu({el:t,componentModel:r,itemName:e,itemTooltipOption:i.get("tooltip")})}function iI(n,t,e,i,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var u,f,g,o=i.getModel("emphasis"),a=o.get("focus");return wa(t,a,o.get("blurScope"),o.get("disabled")),n.isGeo&&(u=r,f=e,(g=_r(t)).componentMainType=u.mainType,g.componentIndex=u.componentIndex,g.componentHighDownName=f),a}function rI(n,t,e){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var l=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(u,f){isFinite(u)&&isFinite(f)&&i.push([u,f])},sphere:function(){}});return!e&&l.polygonStart(),pe(n,function(u){l.lineStart();for(var f=0;f<u.length;f++)l.point(u[f][0],u[f][1]);l.lineEnd()}),!e&&l.polygonEnd(),r}var tL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(l=this._mapDraw)&&a.add(l.group);else if(e.needsDrawMap){var l=this._mapDraw||new QE(r);a.add(l.group),l.draw(e,i,r,this,o),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(e,i,r)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,i,r){var o=e.originalData,a=this.group;o.each(o.mapDimension("value"),function(l,u){if(!isNaN(l)){var f=o.getItemLayout(u);if(f&&f.point){var g=f.point,y=f.offset,w=new au({style:{fill:e.getData().getVisual("style").fill},shape:{cx:g[0]+9*y,cy:g[1],r:3},silent:!0,z2:8+(y?0:11)});if(!y){var C=e.mainSeries.getData(),M=o.getName(u),O=C.indexOfName(M),L=o.getItemModel(u),R=L.getModel("label"),F=C.getItemGraphicEl(O);tl(w,us(L),{labelFetcher:{getFormattedLabel:function(Y,q){return e.getFormattedLabel(O,q)}},defaultText:M}),w.disableLabelAnimation=!0,R.get("position")||w.setTextConfig({position:"bottom"}),F.onHoverStateChange=function(Y){ob(w,Y)}}a.add(w)}}})},t.type="map",t}(ao),nL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},e}return Oe(t,n),t.prototype.getInitialData=function(e){for(var i=Fp(this,{coordDimensions:["value"],encodeDefaulter:xn(Tf,this)}),r=be(),o=[],a=0,l=i.count();a<l;a++){var u=i.getName(a);r.set(u,!0)}return pe(Vk(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(f){var g=f.name;r.get(g)||o.push(g)}),i.appendValues([],o),i},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var i=this.getData();return i.get(i.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var i=this.getData();return i.getItemModel(i.indexOfName(e))},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData(),a=this.getRawValue(e),l=o.getName(e),u=this.seriesGroup,f=[],g=0;g<u.length;g++){var y=u[g].originalData.indexOfName(l),w=o.mapDimension("value");isNaN(u[g].originalData.get(w,y))||f.push(u[g].name)}return hs("section",{header:f.join(", "),noHeader:!f.length,blocks:[hs("nameValue",{name:l,value:a})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var i=e.icon||"roundRect",r=Da(i,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return r.setStyle(e.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Io);function oI(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getHostGeoModel(),r=i?"o"+i.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),pe(t,function(e,i){for(var r,o,a,l=(r=ue(e,function(f){return f.getData()}),o=e[0].get("mapValueCalculation"),a={},pe(r,function(f){f.each(f.mapDimension("value"),function(g,y){var w="ec-"+f.getName(y);a[w]=a[w]||[],isNaN(g)||a[w].push(g)})}),r[0].map(r[0].mapDimension("value"),function(f,g){for(var y="ec-"+r[0].getName(g),w=0,C=1/0,M=-1/0,O=a[y].length,L=0;L<O;L++)C=Math.min(C,a[y][L]),M=Math.max(M,a[y][L]),w+=a[y][L];return 0===O?NaN:"min"===o?C:"max"===o?M:"average"===o?w/O:w})),u=0;u<e.length;u++)e[u].originalData=e[u].getData();for(u=0;u<e.length;u++)e[u].seriesGroup=e,e[u].needsDrawMap=0===u&&!e[u].getHostGeoModel(),e[u].setData(l.cloneShallow()),e[u].mainSeries=e[0]})}function aI(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getMapType();if(!e.getHostGeoModel()&&!t[i]){var r={};pe(e.seriesGroup,function(a){var l=a.coordinateSystem,u=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&u.each(u.mapDimension("value"),function(f,g){var y=u.getName(g),w=l.getRegion(y);if(w&&!isNaN(f)){var C=r[y]||0,M=l.dataToPoint(w.getCenter());r[y]=C+1,u.setItemLayout(g,{point:M,offset:C})}})});var o=e.getData();o.each(function(a){var l=o.getName(a),u=o.getItemLayout(a)||{};u.showLabel=!r[l],o.setItemLayout(a,u)}),t[i]=!0}})}var w0=Fn,dv=function(n){function t(e){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Ua,i._rawTransformable=new Ua,i.name=e,i}return Oe(t,n),t.prototype.setBoundingRect=function(e,i,r,o){return this._rect=new lr(e,i,r,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,i,r,o){this._transformTo(e,i,r,o),this._viewRect=new lr(e,i,r,o)},t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),l=this._rawTransformable;l.transform=a.calculateTransform(new lr(e,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,this._updateTransform()},t.prototype.setCenter=function(e,i){e&&(this._center=[ri(e[0],i.getWidth()),ri(e[1],i.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var i=this.zoomLimit;i&&(null!=i.max&&(e=Math.min(i.max,e)),null!=i.min&&(e=Math.max(i.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=Fn([],o,e),r=Fn([],r,e),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,i=this._rawTransformable;i.parent=e,e.updateTransform(),i.updateTransform(),Sn(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Bi(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,i=this._roamTransformable,r=new Ua;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?w0(r,e,o):Xn(r,e)},t.prototype.pointToData=function(e){var i=this.invTransform;return i?w0([],e,i):[e[0],e[1]]},t.prototype.convertToPixel=function(e,i,r){var o=Yk(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=Yk(i);return o===this?o.pointToData(r):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Ua);function Yk(n){var t=n.seriesModel;return t?t.coordinateSystem:null}var sI={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Gk=["lng","lat"],Xk=function(n){function t(e,i,r){var o=n.call(this,e)||this;o.dimensions=Gk,o.type="geo",o._nameCoordMap=be(),o.map=i;var a,l=r.projection,u=Vk(i,r.nameMap,r.nameProperty),f=j1(i),g=(o.resourceType=f?f.type:null,o.regions=u.regions),y=sI[f.type];if(o._regionsMap=u.regionsMap,o.regions=u.regions,o.projection=l,l)for(var w=0;w<g.length;w++){var C=g[w].getBoundingRect(l);(a=a||C.clone()).union(C)}else a=u.boundingRect;return o.setBoundingRect(a.x,a.y,a.width,a.height),o.aspectScale=l?1:yi(r.aspectScale,y.aspectScale),o._invertLongitute=!l&&y.invertLongitute,o}return Oe(t,n),t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),l=this._invertLongitute;a=a.clone(),l&&(a.y=-a.y-a.height);var u=this._rawTransformable;u.transform=a.calculateTransform(new lr(e,i,r,o));var f=u.parent;u.parent=null,u.decomposeTransform(),u.parent=f,l&&(u.scaleY=-u.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if("geoJSON"===o.type&&o.contain(e))return i[r]}},t.prototype.addGeoCoord=function(e,i){this._nameCoordMap.set(e,i)},t.prototype.getGeoCoord=function(e){var i=this._regionsMap.get(e);return this._nameCoordMap.get(e)||i&&i.getCenter()},t.prototype.dataToPoint=function(e,i,r){if(On(e)&&(e=this.getGeoCoord(e)),e){var o=this.projection;return o&&(e=o.project(e)),e&&this.projectedToPoint(e,i,r)}},t.prototype.pointToData=function(e){var i=this.projection;return i&&(e=i.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return n.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,i,r){return n.prototype.dataToPoint.call(this,e,i,r)},t.prototype.convertToPixel=function(e,i,r){var o=jp(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=jp(i);return o===this?o.pointToData(r):null},t}(dv);function jp(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",_o).models[0]||{}).coordinateSystem:null}function qk(n,t){var e=n.get("boundingCoords");if(null!=e){var i=e[0],r=e[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],l=i[1],u=r[0],f=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var g=function(Q,ne,oe,_e){for(var ke=oe-Q,Ee=_e-ne,Re=0;Re<=100;Re++){var Je=Re/100,st=o.project([Q+ke*Je,ne+Ee*Je]);ni(i,i,st),Jn(r,r,st)}};g(a,l,u,l),g(u,l,u,f),g(u,f,a,f),g(a,f,u,l)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var y,w,C,M=this.getBoundingRect(),O=n.get("layoutCenter"),L=n.get("layoutSize"),R=t.getWidth(),F=t.getHeight(),Y=M.width/M.height*this.aspectScale,q=!1;if(O&&L&&(y=[ri(O[0],R),ri(O[1],F)],w=ri(L,Math.min(R,F)),isNaN(y[0])||isNaN(y[1])||isNaN(w)||(q=!0)),q)C={},Y>1?(C.width=w,C.height=w/Y):(C.height=w,C.width=w*Y),C.y=y[1]-C.height/2,C.x=y[0]-C.width/2;else{var Z=n.getBoxLayoutParams();Z.aspect=Y,C=io(Z,{width:R,height:F})}this.setViewRect(C.x,C.y,C.width,C.height),this.setCenter(n.get("center"),t),this.setZoom(n.get("zoom"))}qe(Xk,dv);var S0=function(){function n(){this.dimensions=Gk}return n.prototype.create=function(t,e){var i=[];function r(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}t.eachComponent("geo",function(a,l){var u=a.get("map"),f=new Xk(u+l,u,_t({nameMap:a.get("nameMap")},r(a)));f.zoomLimit=a.get("scaleLimit"),i.push(f),a.coordinateSystem=f,f.model=a,f.resize=qk,f.resize(a,e)}),t.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var l=a.get("geoIndex")||0;a.coordinateSystem=i[l]}});var o={};return t.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var l=a.getMapType();o[l]=o[l]||[],o[l].push(a)}}),pe(o,function(a,l){var u=ue(a,function(g){return g.get("nameMap")}),f=new Xk(l,l,_t({nameMap:zt(u)},r(a[0])));f.zoomLimit=Wi.apply(null,ue(a,function(g){return g.get("scaleLimit")})),i.push(f),f.resize=qk,f.resize(a[0],e),pe(a,function(g){var y;g.coordinateSystem=f,y=f,pe(g.get("geoCoord"),function(C,M){y.addGeoCoord(M,C)})})}),i},n.prototype.getFilledRegions=function(t,e,i,r){for(var o=(t||[]).slice(),a=be(),l=0;l<o.length;l++)a.set(o[l].name,o[l]);return pe(Vk(e,i,r).regions,function(u){var f=u.name;!a.get(f)&&o.push({name:f})}),o},n}(),C0=new S0,lI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e,i,r){var o=j1(e.map);if(o&&"geoJSON"===o.type){var a=e.itemStyle=e.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(e,r),vr(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,i=this.option;i.regions=C0.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=ln(i.regions||[],function(o,a){var l=a.name;return l&&(o.set(l,new ho(a,e,e.ecModel)),a.selected&&(r[l]=!0)),o},be()),i.selectedMap||(i.selectedMap=r)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new ho(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,i){var o=this.getRegionModel(e).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),a={name:e};return Ht(o)?(a.status=i,o(a)):On(o)?o.replace("{a}",e??""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var i=this.option.selectedMap;i&&(i[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var i=this.option.selectedMap;return!(!i||!i[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(qr);function Uk(n,t){return n.pointToProjected?n.pointToProjected(t):n.pointToData(t)}function Y1(n,t,e,i){var r=n.getZoom(),o=n.getCenter(),a=t.zoom,l=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(l[0]-=t.dx,l[1]-=t.dy,n.setCenter(Uk(n,l),i)),null!=a){if(e){var u=e.min||0;a=Math.max(Math.min(r*a,e.max||1/0),u)/r}n.scaleX*=a,n.scaleY*=a;var y=(t.originY-n.y)*(a-1);n.x-=(t.originX-n.x)*(a-1),n.y-=y,n.updateTransform(),n.setCenter(Uk(n,l),i),n.setZoom(a*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var iL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return Oe(t,n),t.prototype.init=function(e,i){this._api=i},t.prototype.render=function(e,i,r,o){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new QE(r));var a=this._mapDraw;a.draw(e,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=e.get("silent"),this.group.add(a.group),this.updateSelectStatus(e,i,r)},t.prototype._handleRegionClick=function(e){var i;Bd(e.target,function(r){return null!=(i=_r(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},t.prototype.updateSelectStatus=function(e,i,r){var o=this;this._mapDraw.group.traverse(function(a){var l=_r(a).eventData;if(l)return o._model.isSelected(l.name)?r.enterSelect(a):r.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Bo);function pv(n,t,e){QD(n,t,e)}function fv(n){function t(e,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},l=[];return o.eachComponent({mainType:"geo",query:r},function(u){u[e](r.name),pe(u.coordinateSystem.regions,function(g){a[g.name]=u.isSelected(g.name)||!1});var f=[];pe(a,function(g,y){a[y]&&f.push(y)}),l.push({geoIndex:u.componentIndex,name:f})}),{selected:a,allSelected:l,name:r.name}})}n.registerCoordinateSystem("geo",C0),n.registerComponentModel(lI),n.registerComponentView(iL),n.registerImpl("registerMap",pv),n.registerImpl("getMap",function(e){return JD(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,i,r){var o=e.componentType||"series";i.eachComponent({mainType:o,query:e},function(a){var l=a.coordinateSystem;if("geo"===l.type){var u=Y1(l,e,a.get("scaleLimit"),r);a.setCenter&&a.setCenter(u.center),a.setZoom&&a.setZoom(u.zoom),"series"===o&&pe(a.seriesGroup,function(f){f.setCenter(u.center),f.setZoom(u.zoom)})}})})}function $k(n,t){var e=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(e.length){!function(a){for(var l=a.children,u=l.length,f=0,g=0;--u>=0;){var y=l[u];y.hierNode.prelim+=f,y.hierNode.modifier+=f,f+=y.hierNode.shift+(g+=y.hierNode.change)}}(n);var o=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+t(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+t(n,r));n.parentNode.hierNode.defaultAncestor=function(a,l,u,f){if(l){for(var g=a,y=a,w=y.parentNode.children[0],C=l,M=g.hierNode.modifier,O=y.hierNode.modifier,L=w.hierNode.modifier,R=C.hierNode.modifier;C=G1(C),y=X1(y),C&&y;){g=G1(g),w=X1(w),g.hierNode.ancestor=a;var F=C.hierNode.prelim+R-y.hierNode.prelim-O+f(C,y);F>0&&(q1(Kk(C,a,u),a,F),O+=F,M+=F),R+=C.hierNode.modifier,O+=y.hierNode.modifier,M+=g.hierNode.modifier,L+=w.hierNode.modifier}C&&!G1(g)&&(g.hierNode.thread=C,g.hierNode.modifier+=R-M),y&&!X1(w)&&(w.hierNode.thread=y,w.hierNode.modifier+=O-L,u=a)}return u}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],t)}function Zk(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function gv(n){return arguments.length?n:U1}function mv(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function G1(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function X1(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function Kk(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function q1(n,t,e){var i=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=i}function U1(n,t){return n.parentNode===t.parentNode?1:2}var cI=function(){this.parentPoint=[],this.childPoints=[]},rL=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new cI},t.prototype.buildPath=function(e,i){var r=i.childPoints,o=r.length,a=i.parentPoint,l=r[0],u=r[o-1];if(1===o)return e.moveTo(a[0],a[1]),void e.lineTo(l[0],l[1]);var f=i.orient,g="TB"===f||"BT"===f?0:1,y=1-g,w=ri(i.forkPosition,1),C=[];C[g]=a[g],C[y]=a[y]+(u[y]-a[y])*w,e.moveTo(a[0],a[1]),e.lineTo(C[0],C[1]),e.moveTo(l[0],l[1]),C[g]=l[g],e.lineTo(C[0],C[1]),C[g]=u[g],e.lineTo(C[0],C[1]),e.lineTo(u[0],u[1]);for(var M=1;M<o-1;M++){var O=r[M];e.moveTo(O[0],O[1]),C[g]=O[g],e.lineTo(C[0],C[1])}},t}(hr),Qk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Gi,e}return Oe(t,n),t.prototype.init=function(e,i){this._controller=new Kh(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,i,r){var o=e.getData(),a=e.layoutInfo,l=this._mainGroup;"radial"===e.get("layout")?(l.x=a.x+a.width/2,l.y=a.y+a.height/2):(l.x=a.x,l.y=a.y),this._updateViewCoordSys(e,r),this._updateController(e,i,r);var u=this._data;o.diff(u).add(function(f){$1(o,f)&&Z1(o,f,null,l,e)}).update(function(f,g){var y=u.getItemGraphicEl(g);$1(o,f)?Z1(o,f,y,l,e):y&&uI(u,g,y,l,e)}).remove(function(f){var g=u.getItemGraphicEl(f);g&&uI(u,f,g,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&o.eachItemGraphicEl(function(f,g){f.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:g})})}),this._data=o},t.prototype._updateViewCoordSys=function(e,i){var r=e.getData(),o=[];r.each(function(y){var w=r.getItemLayout(y);!w||isNaN(w.x)||isNaN(w.y)||o.push([+w.x,+w.y])});var a=[],l=[];gf(o,a,l);var u=this._min,f=this._max;l[0]-a[0]==0&&(a[0]=u?u[0]:a[0]-1,l[0]=f?f[0]:l[0]+1),l[1]-a[1]==0&&(a[1]=u?u[1]:a[1]-1,l[1]=f?f[1]:l[1]+1);var g=e.coordinateSystem=new dv;g.zoomLimit=e.get("scaleLimit"),g.setBoundingRect(a[0],a[1],l[0]-a[0],l[1]-a[1]),g.setCenter(e.get("center"),i),g.setZoom(e.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=a,this._max=l},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,l=this._controllerHost,u=this.group;a.setPointerChecker(function(f,g,y){var w=u.getBoundingRect();return w.applyTransform(u.transform),w.contain(g,y)&&!m0(f,r,e)}),a.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(f){cv(l,f.dx,f.dy),r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){Ik(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(e),r.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var i=e.getData(),r=this._getNodeGlobalScale(e);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype._getNodeGlobalScale=function(e){var i=e.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ao);function $1(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function Z1(n,t,e,i,r){var o=!e,a=n.tree.getNodeByDataIndex(t),l=a.getModel(),u=a.getVisual("style").fill,f=!1===a.isExpand&&0!==a.children.length?u:"#fff",g=n.tree.root,y=a.parentNode===g?a:a.parentNode||a,w=n.getItemGraphicEl(y.dataIndex),C=y.getLayout(),M=w?{x:w.__oldX,y:w.__oldY,rawX:w.__radialOldRawX,rawY:w.__radialOldRawY}:C,O=a.getLayout();o?((e=new n0(n,t,null,{symbolInnerColor:f,useNameLabel:!0})).x=M.x,e.y=M.y):e.updateData(n,t,null,{symbolInnerColor:f,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=O.rawX,e.__radialRawY=O.rawY,i.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,co(e,{x:O.x,y:O.y},r);var L=e.getSymbolPath();if("radial"===r.get("layout")){var R=g.children[0],F=R.getLayout(),Y=R.children.length,q=void 0,Z=void 0;if(O.x===F.x&&!0===a.isExpand&&R.children.length){var Q={x:(R.children[0].getLayout().x+R.children[Y-1].getLayout().x)/2,y:(R.children[0].getLayout().y+R.children[Y-1].getLayout().y)/2};(q=Math.atan2(Q.y-F.y,Q.x-F.x))<0&&(q=2*Math.PI+q),(Z=Q.x<F.x)&&(q-=Math.PI)}else(q=Math.atan2(O.y-F.y,O.x-F.x))<0&&(q=2*Math.PI+q),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(Z=O.x<F.x)&&(q-=Math.PI):(Z=O.x>F.x)||(q-=Math.PI);var ne=Z?"left":"right",oe=l.getModel("label"),_e=oe.get("rotate"),ke=_e*(Math.PI/180),Ee=L.getTextContent();Ee&&(L.setTextConfig({position:oe.get("position")||ne,rotation:null==_e?-q:ke,origin:"center"}),Ee.setStyle("verticalAlign","middle"))}var Re=l.get(["emphasis","focus"]),Je="relative"===Re?at(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===Re?a.getAncestorsIndices():"descendant"===Re?a.getDescendantIndices():null;Je&&(_r(e).focus=Je),function(st,mt,St,Tt,Lt,$t,nn,an){var kn=mt.getModel(),jn=st.get("edgeShape"),cn=st.get("layout"),Pn=st.getOrient(),Yn=st.get(["lineStyle","curveness"]),Zn=st.get("edgeForkPosition"),Wn=kn.getModel("lineStyle").getLineStyle(),oi=Tt.__edge;if("curve"===jn)mt.parentNode&&mt.parentNode!==St&&(oi||(oi=Tt.__edge=new Wg({shape:tA(cn,Pn,Yn,Lt,Lt)})),co(oi,{shape:tA(cn,Pn,Yn,$t,nn)},st));else if("polyline"===jn&&"orthogonal"===cn&&mt!==St&&mt.children&&0!==mt.children.length&&!0===mt.isExpand){for(var Un=mt.children,ui=[],Ti=0;Ti<Un.length;Ti++){var yr=Un[Ti].getLayout();ui.push([yr.x,yr.y])}oi||(oi=Tt.__edge=new rL({shape:{parentPoint:[nn.x,nn.y],childPoints:[[nn.x,nn.y]],orient:Pn,forkPosition:Zn}})),co(oi,{shape:{parentPoint:[nn.x,nn.y],childPoints:ui}},st)}oi&&("polyline"!==jn||mt.isExpand)&&(oi.useStyle(It({strokeNoScale:!0,fill:null},Wn)),el(oi,kn,"lineStyle"),ci(oi),an.add(oi))}(r,a,g,e,M,C,O,i),e.__edge&&(e.onHoverStateChange=function(st){if("blur"!==st){var mt=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);mt&&1===mt.hoverState||ob(e.__edge,st)}})}function Jk(n,t,e,i,r){var o=eA(t.tree.root,n),a=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(n.dataIndex);if(u){var f=t.getItemGraphicEl(a.dataIndex).__edge,g=u.__edge||(!1===a.isExpand||1===a.children.length?f:void 0),y=i.get("edgeShape"),w=i.get("layout"),C=i.get("orient"),M=i.get(["lineStyle","curveness"]);g&&("curve"===y?pp(g,{shape:tA(w,C,M,l,l),style:{opacity:0}},i,{cb:function(){e.remove(g)},removeOpt:r}):"polyline"===y&&"orthogonal"===i.get("layout")&&pp(g,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){e.remove(g)},removeOpt:r}))}}function eA(n,t){for(var e,i=t.parentNode===n?t:t.parentNode||t;null==(e=i.getLayout());)i=i.parentNode===n?i:i.parentNode||i;return{source:i,sourceLayout:e}}function uI(n,t,e,i,r){var o=n.tree.getNodeByDataIndex(t),a=eA(n.tree.root,o).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};pp(e,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(e),n.setItemGraphicEl(t,null)},removeOpt:l}),e.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(u){Jk(u,n,i,r,l)}),Jk(o,n,i,r,l)}function tA(n,t,e,i,r){var o,a,l,u,f,g,y,w;if("radial"===n){g=r.rawX,w=r.rawY;var C=mv(f=i.rawX,y=i.rawY),M=mv(f,y+(w-y)*e),O=mv(g,w+(y-w)*e),L=mv(g,w);return{x1:C.x||0,y1:C.y||0,x2:L.x||0,y2:L.y||0,cpx1:M.x||0,cpy1:M.y||0,cpx2:O.x||0,cpy2:O.y||0}}return f=i.x,y=i.y,g=r.x,w=r.y,"LR"!==t&&"RL"!==t||(o=f+(g-f)*e,a=y,l=g+(f-g)*e,u=w),"TB"!==t&&"BT"!==t||(o=f,a=y+(w-y)*e,l=g,u=w+(y-w)*e),{x1:f,y1:y,x2:g,y2:w,cpx1:o,cpy1:a,cpx2:l,cpy2:u}}var wu=nr();function nA(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,pI(t,e,n),pe(e,function(i){pe(t.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,xn(oL,n))})}),t.wrapMethod("cloneShallow",xn(hI,n)),pe(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,xn(aL,n))}),ir(e[t.dataType]===t)}function oL(n,t){if(wu(this).mainData===this){var e=_t({},wu(this).datas);e[this.dataType]=t,pI(t,e,n)}else K1(t,this.dataType,wu(this).mainData,n);return t}function aL(n,t){return n.struct&&n.struct.update(),t}function hI(n,t){return pe(wu(t).datas,function(e,i){e!==t&&K1(e.cloneShallow(),i,t,n)}),t}function dI(n){var t=wu(this).mainData;return null==n||null==t?t:wu(t).datas[n]}function pc(){var n=wu(this).mainData;return null==n?[{data:n}]:ue(Zt(wu(n).datas),function(t){return{type:t,data:wu(n).datas[t]}})}function pI(n,t,e){wu(n).datas={},pe(t,function(i,r){K1(i,r,n,e)})}function K1(n,t,e,i){wu(e).datas[t]=n,wu(n).mainData=e,n.dataType=t,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=n),n.getLinkedData=dI,n.getLinkedDataAll=pc}var fI=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,i){Ht(t)&&(i=e,e=t,t=null),On(t=t||{})&&(t={order:t});var r,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(r=e.call(i,this));for(var l=0;!r&&l<a.length;l++)a[l].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].getNodeById(t);if(o)return o}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].contains(t);if(o)return o}},n.prototype.getAncestors=function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),iA=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,i){this.root.eachNode(t,e,i)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,i=0,r=e.length;i<r;i++)e[i].dataIndex=-1;for(i=0,r=t.count();i<r;i++)e[t.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,i){var r=new n(e),o=[],a=1;(function f(g,y){var w=g.value;a=Math.max(a,Bt(w)?w.length:1),o.push(g);var L,R,C=new fI(Ar(g.name,""),r);y?(L=C).parentNode!==(R=y)&&(R.children.push(L),L.parentNode=R):r.root=C,r._nodes.push(C);var M=g.children;if(M)for(var O=0;O<M.length;O++)f(M[O],C)})(t),r.root.updateDepthAndHeight(0);var l=Dm(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new va(l,e);return u.initData(o),i&&i(u),nA({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},n}();function Yd(n,t,e){if(n&&hn(t,n.type)>=0){var i=e.getData().tree.root,r=n.targetNode;if(On(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function k0(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function rA(n,t){return hn(k0(n),t)>=0}function ag(n,t){for(var e=[];n;){var i=n.dataIndex;e.push({name:n.name,dataIndex:i,value:t.getRawValue(i)}),n=n.parentNode}return e.reverse(),e}var sL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Oe(t,n),t.prototype.getInitialData=function(e){var i={name:e.name,children:e.data},o=new ho(e.leaves||{},this,this.ecModel),a=iA.createTree(i,this,function(f){f.wrapMethod("getItemModel",function(g,y){var w=a.getNodeByDataIndex(y);return w&&w.children.length&&w.isExpand||(g.parentModel=o),g})}),l=0;a.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:l;return a.root.eachNode("preorder",function(f){var g=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=g&&null!=g.collapsed?!g.collapsed:f.depth<=u}),a.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData().tree,a=o.root.children[0],l=o.getNodeByDataIndex(e),u=l.getValue(),f=l.name;l&&l!==a;)f=l.parentNode.name+"."+f,l=l.parentNode;return hs("nameValue",{name:f,value:u,noValue:isNaN(u)||null==u})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=ag(r,this),i.collapsed=!r.isExpand,i},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Io);function A0(n,t){for(var e,i=[n];e=i.pop();)if(t(e),e.isExpand){var r=e.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function zc(n,t){n.eachSeriesByType("tree",function(e){!function(i,r){var ne,o=(ne=r,io(i.getBoxLayoutParams(),{width:ne.getWidth(),height:ne.getHeight()}));i.layoutInfo=o;var a=i.get("layout"),l=0,u=0,f=null;"radial"===a?(l=2*Math.PI,u=Math.min(o.height,o.width)/2,f=gv(function(Q,ne){return(Q.parentNode===ne.parentNode?1:2)/Q.depth})):(l=o.width,u=o.height,f=gv());var g=i.getData().tree.root,y=g.children[0];if(y){(function(Q){var ne=Q;ne.hierNode={defaultAncestor:null,ancestor:ne,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var oe,_e,ke=[ne];oe=ke.pop();)if(_e=oe.children,oe.isExpand&&_e.length)for(var Ee=_e.length-1;Ee>=0;Ee--){var Re=_e[Ee];Re.hierNode={defaultAncestor:null,ancestor:Re,prelim:0,modifier:0,change:0,shift:0,i:Ee,thread:null},ke.push(Re)}})(g),function(Q,ne,oe){for(var _e,ke=[Q],Ee=[];_e=ke.pop();)if(Ee.push(_e),_e.isExpand){var Re=_e.children;if(Re.length)for(var Je=0;Je<Re.length;Je++)ke.push(Re[Je])}for(;_e=Ee.pop();)ne(_e,oe)}(y,$k,f),g.hierNode.modifier=-y.hierNode.prelim,A0(y,Zk);var w=y,C=y,M=y;A0(y,function(Q){var ne=Q.getLayout().x;ne<w.getLayout().x&&(w=Q),ne>C.getLayout().x&&(C=Q),Q.depth>M.depth&&(M=Q)});var O=w===C?1:f(w,C)/2,L=O-w.getLayout().x,R=0,F=0,Y=0,q=0;if("radial"===a)R=l/(C.getLayout().x+O+L),F=u/(M.depth-1||1),A0(y,function(Q){var ne=mv(Y=(Q.getLayout().x+L)*R,q=(Q.depth-1)*F);Q.setLayout({x:ne.x,y:ne.y,rawX:Y,rawY:q},!0)});else{var Z=i.getOrient();"RL"===Z||"LR"===Z?(F=u/(C.getLayout().x+O+L),R=l/(M.depth-1||1),A0(y,function(Q){q=(Q.getLayout().x+L)*F,Q.setLayout({x:Y="LR"===Z?(Q.depth-1)*R:l-(Q.depth-1)*R,y:q},!0)})):"TB"!==Z&&"BT"!==Z||(R=l/(C.getLayout().x+O+L),F=u/(M.depth-1||1),A0(y,function(Q){Y=(Q.getLayout().x+L)*R,Q.setLayout({x:Y,y:q="TB"===Z?(Q.depth-1)*F:u-(Q.depth-1)*F},!0)}))}}}(e,t)})}function Q1(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();_t(e.ensureUniqueItemVisual(i.dataIndex,"style"),r)})})}var oA=["treemapZoomToNode","treemapRender","treemapMove"];function aA(n){var t=n.getData().tree,e={};t.eachNode(function(i){for(var r=i;r&&r.depth>1;)r=r.parentNode;var o=om(n.ecModel,r.name||r.dataIndex+"",e);i.setVisual("decal",o)})}var lL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return Oe(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};sA(r);var o=e.levels||[],a=this.designatedVisualItemStyle={},l=new ho({itemStyle:a},this,i),u=ue((o=e.levels=function(g,y){var w,C,M=Xi(y.get("color")),O=Xi(y.get(["aria","decal","decals"]));if(M){pe(g=g||[],function(R){var F=new ho(R),Y=F.get("color"),q=F.get("decal");(F.get(["itemStyle","color"])||Y&&"none"!==Y)&&(w=!0),(F.get(["itemStyle","decal"])||q&&"none"!==q)&&(C=!0)});var L=g[0]||(g[0]={});return w||(L.color=M.slice()),!C&&O&&(L.decal=O.slice()),g}}(o,i))||[],function(g){return new ho(g,l,i)},this),f=iA.createTree(r,this,function(g){g.wrapMethod("getItemModel",function(y,w){var C=f.getNodeByDataIndex(w);return y.parentModel=(C?u[C.depth]:null)||l,y})});return f.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e);return hs("nameValue",{name:o.getName(e),value:a})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=ag(r,this),i.treePathInfo=i.treeAncestors,i},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},_t(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var i=this._idIndexMap;i||(i=this._idIndexMap=be(),this._idIndexMapCount=0);var r=i.get(e);return null==r&&i.set(e,r=this._idIndexMapCount++),r},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){aA(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Io);function sA(n){var t=0;pe(n.children,function(i){sA(i);var r=i.value;Bt(r)&&(r=r[0]),t+=r});var e=n.value;Bt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),Bt(n.value)?n.value[0]=e:n.value=e}var cL=function(){function n(t){this.group=new Gi,t.add(this.group)}return n.prototype.render=function(t,e,i,r){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var l=o.getModel("itemStyle"),u=o.getModel("emphasis"),f=l.getModel("textStyle"),g=u.getModel(["itemStyle","textStyle"]),y={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,y,f),this._renderContent(t,y,l,u,f,g,r),nm(a,y.pos,y.box)}},n.prototype._prepare=function(t,e,i){for(var r=t;r;r=r.parentNode){var o=Ar(r.getModel().get("name"),""),a=i.getTextRect(o),l=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=l+8,e.renderList.push({node:r,text:o,width:l})}},n.prototype._renderContent=function(t,e,i,r,o,a,l){for(var u,f,g,y,w,C,M,O,L,R=0,F=e.emptyItemWidth,Y=t.get(["breadcrumb","height"]),q=(w=(f=e.box).height,C=ri((u=e.pos).left,y=f.width),M=ri(u.top,w),O=ri(u.right,y),L=ri(u.bottom,w),(isNaN(C)||isNaN(parseFloat(u.left)))&&(C=0),(isNaN(O)||isNaN(parseFloat(u.right)))&&(O=y),(isNaN(M)||isNaN(parseFloat(u.top)))&&(M=0),(isNaN(L)||isNaN(parseFloat(u.bottom)))&&(L=w),g=Id(g||0),{width:Math.max(O-C-g[1]-g[3],0),height:Math.max(L-M-g[0]-g[2],0)}),Z=e.totalWidth,Q=e.renderList,ne=r.getModel("itemStyle").getItemStyle(),oe=Q.length-1;oe>=0;oe--){var _e=Q[oe],ke=_e.node,Ee=_e.width,Re=_e.text;Z>q.width&&(Z-=Ee-F,Ee=F,Re=null);var Je=new gl({shape:{points:gI(R,0,Ee,Y,oe===Q.length-1,0===oe)},style:It(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Qr({style:Eo(o,{text:Re})}),textConfig:{position:"inside"},z2:1e5,onclick:xn(l,ke)});Je.disableLabelAnimation=!0,Je.getTextContent().ensureState("emphasis").style=Eo(a,{text:Re}),Je.ensureState("emphasis").style=ne,wa(Je,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(Je),mI(Je,t,ke),R+=Ee+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function gI(n,t,e,i,r,o){var a=[[r?n:n-5,t],[n+e,t],[n+e,t+i],[r?n:n-5,t+i]];return!o&&a.splice(2,0,[n+e+5,t+i/2]),!r&&a.push([n,t+i/2]),a}function mI(n,t,e){_r(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&ag(e,t)}}var vI=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,i,r,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,i=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),J1=Gi,lA=Zr,cA="label",uA="upperLabel",sg=tc([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),yI=function(n){var t=sg(n);return t.stroke=t.fill=t.lineWidth=null,t},e_=nr(),uL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return Oe(t,n),t.prototype.render=function(e,i,r,o){if(!(hn(i.findComponents({mainType:"series",subType:"treemap",query:o}),e)<0)){this.seriesModel=e,this.api=r,this.ecModel=i;var a=Yd(o,["treemapZoomToNode","treemapRootToNode"],e),l=o&&o.type,u=e.layoutInfo,f=!this._oldTree,g=this._storage,y="treemapRootToNode"===l&&a&&g?{rootNodeGroup:g.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,w=this._giveContainerGroup(u),C=e.get("animation"),M=this._doRender(w,e,y);!C||f||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?M.renderFinally():this._doAnimation(w,M,e,y),this._resetController(r),this._renderBreadcrumb(e,r,a)}},t.prototype._giveContainerGroup=function(e){var i=this._containerGroup;return i||(i=this._containerGroup=new J1,this._initEvents(i),this.group.add(i)),i.x=e.x,i.y=e.y,i},t.prototype._doRender=function(e,i,r){var o=i.getData().tree,a=this._oldTree,l={nodeGroup:[],background:[],content:[]},u={nodeGroup:[],background:[],content:[]},f=this._storage,g=[];!function C(M,O,L,R,F){function Y(Z){return Z.getId()}function q(Z,Q){var ne=null!=Z?M[Z]:null,oe=null!=Q?O[Q]:null,_e=function y(C,M,O,L){return function(R,F,Y,q,Z,Q,ne,oe,_e,ke){if(ne){var Ee=ne.getLayout(),Re=R.getData(),Je=ne.getModel();if(Re.setItemGraphicEl(ne.dataIndex,null),Ee&&Ee.isInView){var st=Ee.width,mt=Ee.height,St=Ee.borderWidth,Tt=Ee.invisible,Lt=ne.getRawIndex(),$t=oe&&oe.getRawIndex(),nn=ne.viewChildren,an=Ee.upperHeight,kn=nn&&nn.length,jn=Je.getModel("itemStyle"),cn=Je.getModel(["emphasis","itemStyle"]),Pn=Je.getModel(["blur","itemStyle"]),Yn=Je.getModel(["select","itemStyle"]),Zn=jn.get("borderRadius")||0,Wn=Os("nodeGroup",J1);if(Wn){if(_e.add(Wn),Wn.x=Ee.x||0,Wn.y=Ee.y||0,Wn.markRedraw(),e_(Wn).nodeWidth=st,e_(Wn).nodeHeight=mt,Ee.isAboveViewRoot)return Wn;var oi=Os("background",lA,ke,20);oi&&function Wr(vo,Hr,br){var ia=_r(Hr);if(ia.dataIndex=ne.dataIndex,ia.seriesIndex=R.seriesIndex,Hr.setShape({x:0,y:0,width:st,height:mt,r:Zn}),Tt)mo(Hr);else{Hr.invisible=!1;var Ia=ne.getVisual("style"),gs=Ia.stroke,ms=yI(jn);ms.fill=gs;var vs=sg(cn);vs.fill=cn.get("borderColor");var Zd=sg(Pn);Zd.fill=Pn.get("borderColor");var Ag=sg(Yn);Ag.fill=Yn.get("borderColor"),br?na(Hr,gs,Ia.opacity,{x:St,y:0,width:st-2*St,height:an}):Hr.removeTextContent(),Hr.setStyle(ms),Hr.ensureState("emphasis").style=vs,Hr.ensureState("blur").style=Zd,Hr.ensureState("select").style=Ag,ci(Hr)}vo.add(Hr)}(Wn,oi,kn&&Ee.upperLabelHeight);var Un=Je.getModel("emphasis"),ui=Un.get("focus"),Ti=Un.get("blurScope"),yr=Un.get("disabled"),Er="ancestor"===ui?ne.getAncestorsIndices():"descendant"===ui?ne.getDescendantIndices():ui;if(kn)Wv(Wn)&&bf(Wn,!1),oi&&(bf(oi,!yr),Re.setItemGraphicEl(ne.dataIndex,oi),lb(oi,Er,Ti));else{var Ao=Os("content",lA,ke,30);Ao&&function ro(vo,Hr){var br=_r(Hr);br.dataIndex=ne.dataIndex,br.seriesIndex=R.seriesIndex;var ia=Math.max(st-2*St,0),Ia=Math.max(mt-2*St,0);if(Hr.culling=!0,Hr.setShape({x:St,y:St,width:ia,height:Ia,r:Zn}),Tt)mo(Hr);else{Hr.invisible=!1;var gs=ne.getVisual("style"),ms=gs.fill,vs=yI(jn);vs.fill=ms,vs.decal=gs.decal;var Zd=sg(cn),Ag=sg(Pn),ew=sg(Yn);na(Hr,ms,gs.opacity,null),Hr.setStyle(vs),Hr.ensureState("emphasis").style=Zd,Hr.ensureState("blur").style=Ag,Hr.ensureState("select").style=ew,ci(Hr)}vo.add(Hr)}(Wn,Ao),oi.disableMorphing=!0,oi&&Wv(oi)&&bf(oi,!1),bf(Wn,!yr),Re.setItemGraphicEl(ne.dataIndex,Wn),lb(Wn,Er,Ti)}return Wn}}}function mo(vo){!vo.invisible&&Q.push(vo)}function na(vo,Hr,br,ia){var Ia=Je.getModel(ia?uA:cA),gs=Ar(Je.get("name"),null),ms=Ia.getShallow("show");tl(vo,us(Je,ia?uA:cA),{defaultText:ms?gs:null,inheritColor:Hr,defaultOpacity:br,labelFetcher:R,labelDataIndex:ne.dataIndex});var vs=vo.getTextContent();if(vs){var Zd=vs.style,Ag=Fr(Zd.padding||0);ia&&(vo.setTextConfig({layoutRect:ia}),vs.disableLabelLayout=!0),vs.beforeUpdate=function(){var DB=Math.max((ia?ia.width:vo.shape.width)-Ag[1]-Ag[3],0),LB=Math.max((ia?ia.height:vo.shape.height)-Ag[0]-Ag[2],0);Zd.width===DB&&Zd.height===LB||vs.setStyle({width:DB,height:LB})},Zd.truncateMinChar=2,Zd.lineOverflow="truncate",pa(Zd,ia,Ee);var ew=vs.getState("emphasis");pa(ew?ew.style:null,ia,Ee)}}function pa(vo,Hr,br){var ia=vo?vo.text:null;if(!Hr&&br.isLeafRoot&&null!=ia){var Ia=R.get("drillDownIcon",!0);vo.text=Ia?Ia+" "+ia:ia}}function Os(vo,Hr,br,ia){var Ia=null!=$t&&Y[vo][$t],gs=Z[vo];return Ia?(Y[vo][$t]=null,function Su(vo,Hr){var br=vo[Lt]={};Hr instanceof J1?(br.oldX=Hr.x,br.oldY=Hr.y):br.oldShape=_t({},Hr.shape)}(gs,Ia)):Tt||((Ia=new Hr)instanceof Vs&&(Ia.z2=100*br+ia),function tf(vo,Hr){var br=vo[Lt]={},ia=ne.parentNode,Ia=Hr instanceof Gi;if(ia&&(!q||"drillDown"===q.direction)){var gs=0,ms=0,vs=Z.background[ia.getRawIndex()];!q&&vs&&vs.oldShape&&(gs=vs.oldShape.width,ms=vs.oldShape.height),Ia?(br.oldX=0,br.oldY=ms):br.oldShape={x:gs,y:ms,width:0,height:0}}br.fadein=!Ia}(gs,Ia)),F[vo][Lt]=Ia}}(i,u,f,r,l,g,C,M,O,L)}(ne,oe,L,F);_e&&C(ne&&ne.viewChildren||[],oe&&oe.viewChildren||[],_e,R,F+1)}R?(O=M,pe(M,function(Z,Q){!Z.isRemoved()&&q(Q,Q)})):new Gh(O,M,Y,Y).add(q).update(q).remove(xn(q,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var C,M,w=(M={nodeGroup:[],background:[],content:[]},(C=f)&&pe(C,function(O,L){var R=M[L];pe(O,function(F){F&&(R.push(F),e_(F).willDelete=!0)})}),M);return this._oldTree=o,this._storage=u,{lastsForAnimation:l,willDeleteEls:w,renderFinally:function(){pe(w,function(C){pe(C,function(M){M.parent&&M.parent.remove(M)})}),pe(g,function(C){C.invisible=!0,C.dirty()})}}},t.prototype._doAnimation=function(e,i,r,o){var a=r.get("animationDurationUpdate"),l=r.get("animationEasing"),u=(Ht(a)?0:a)||0,f=(Ht(l)?null:l)||"cubicOut",g=new vI;pe(i.willDeleteEls,function(y,w){pe(y,function(C,M){if(!C.invisible){var O,L=C.parent,R=e_(L);if(o&&"drillDown"===o.direction)O=L===o.rootNodeGroup?{shape:{x:0,y:0,width:R.nodeWidth,height:R.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var F=0,Y=0;R.willDelete||(F=R.nodeWidth/2,Y=R.nodeHeight/2),O="nodeGroup"===w?{x:F,y:Y,style:{opacity:0}}:{shape:{x:F,y:Y,width:0,height:0},style:{opacity:0}}}O&&g.add(C,O,u,0,f)}})}),pe(this._storage,function(y,w){pe(y,function(C,M){var O=i.lastsForAnimation[w][M],L={};O&&(C instanceof Gi?null!=O.oldX&&(L.x=C.x,L.y=C.y,C.x=O.oldX,C.y=O.oldY):(O.oldShape&&(L.shape=_t({},C.shape),C.setShape(O.oldShape)),O.fadein?(C.setStyle("opacity",0),L.style={opacity:1}):1!==C.style.opacity&&(L.style={opacity:1})),g.add(C,L,u,0,f))})},this),this._state="animating",g.finished(Et(function(){this._state="ready",i.renderFinally()},this)).start()},t.prototype._resetController=function(e){var i=this._controller;i||((i=this._controller=new Kh(e.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",Et(this._onPan,this)),i.on("zoom",Et(this._onZoom,this)));var r=new lr(0,0,e.getWidth(),e.getHeight());i.setPointerChecker(function(o,a,l){return r.contain(a,l)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},t.prototype._onZoom=function(e){var i=e.originX,r=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var l=new lr(a.x,a.y,a.width,a.height),u=this.seriesModel.layoutInfo,f=[1,0,0,1,0,0];Cn(f,f,[-(i-=u.x),-(r-=u.y)]),Ei(f,f,[e.scale,e.scale]),Cn(f,f,[i,r]),l.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var i=this;e.on("click",function(r){if("ready"===i._state){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var l=a.node;if(l.getLayout().isLeafRoot)i._rootToNode(a);else if("zoomToNode"===o)i._zoomToNode(a);else if("link"===o){var u=l.hostTree.data.getItemModel(l.dataIndex),f=u.get("link",!0),g=u.get("target",!0)||"blank";f&&Af(f,g)}}}}},this)},t.prototype._renderBreadcrumb=function(e,i,r){var o=this;r||(r=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new cL(this.group))).render(e,i,r.node,function(a){"animating"!==o._state&&(rA(e.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var l=a.transformCoordToLocal(e,i),u=a.shape;if(!(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height))return!1;r={node:o,offsetX:l[0],offsetY:l[1]}}},this),r},t.type="treemap",t}(ao),M0=pe,bI=hi,T0=-1,Wa=function(){function n(t){var e=t.mappingMethod,i=t.type,r=this.option=Qe(t);this.type=i,this.mappingMethod=e,this._normalizeData=hL[e];var a,l,o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[e],"piecewise"===e?(t_(r),l=(a=r).pieceList,a.hasSpecialVisual=!1,pe(l,function(u,f){u.originIndex=f,null!=u.visual&&(a.hasSpecialVisual=!0)})):"category"===e?r.categories?function(a){var l=a.categories,u=a.categoryMap={},f=a.visual;if(M0(l,function(w,C){u[w]=C}),!Bt(f)){var g=[];hi(f)?M0(f,function(w,C){g[u[C]??T0]=w}):g[-1]=f,f=o_(a,g)}for(var y=l.length-1;y>=0;y--)null==f[y]&&(delete u[l[y]],l.pop())}(r):t_(r,!0):(ir("linear"!==e||r.dataExtent),t_(r))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return Et(this._normalizeData,this)},n.listVisualTypes=function(){return Zt(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,i){hi(t)?pe(t,e,i):e.call(i,t)},n.mapVisual=function(t,e,i){var r,o=Bt(t)?[]:hi(t)?{}:(r=!0,null);return n.eachVisual(t,function(a,l){var u=e.call(i,a,l);r?o=u:o[l]=u}),o},n.retrieveVisuals=function(t){var e,i={};return t&&M0(n.visualHandlers,function(r,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},n.prepareVisualTypes=function(t){if(Bt(t))t=t.slice();else{if(!bI(t))return[];var e=[];M0(t,function(i,r){e.push(r)}),t=e}return t.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,i){for(var r,o=1/0,a=0,l=e.length;a<l;a++){var u=e[a].value;if(null!=u){if(u===t||On(u)&&u===t+"")return a;i&&w(u,a)}}for(a=0,l=e.length;a<l;a++){var f=e[a],g=f.interval,y=f.close;if(g){if(g[0]===-1/0){if(I0(y[1],t,g[1]))return a}else if(g[1]===1/0){if(I0(y[0],g[0],t))return a}else if(I0(y[0],g[0],t)&&I0(y[1],t,g[1]))return a;i&&w(g[0],a),i&&w(g[1],a)}}if(i)return t===1/0?e.length-1:t===-1/0?0:r;function w(C,M){var O=Math.abs(C-t);O<o&&(o=O,r=M)}},n.visualHandlers={color:{applyVisual:E0("color"),getColorMapper:function(){var t=this.option;return Et("category"===t.mappingMethod?function(e,i){return!i&&(e=this._normalizeData(e)),lg.call(this,e)}:function(e,i,r){var o=!!r;return!i&&(e=this._normalizeData(e)),r=Na(e,t.parsedVisual,r),o?r:rs(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return rs(Na(t,this.option.parsedVisual),"rgba")},category:lg,piecewise:function(t,e){var i=r_.call(this,e);return null==i&&(i=rs(Na(t,this.option.parsedVisual),"rgba")),i},fixed:Qh}},colorHue:n_(function(t,e){return al(t,e)}),colorSaturation:n_(function(t,e){return al(t,null,e)}),colorLightness:n_(function(t,e){return al(t,null,null,e)}),colorAlpha:n_(function(t,e){return El(t,e)}),decal:{applyVisual:E0("decal"),_normalizedToVisual:{linear:null,category:lg,piecewise:null,fixed:null}},opacity:{applyVisual:E0("opacity"),_normalizedToVisual:i_([0,1])},liftZ:{applyVisual:E0("liftZ"),_normalizedToVisual:{linear:Qh,category:Qh,piecewise:Qh,fixed:Qh}},symbol:{applyVisual:function(t,e,i){i("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:xI,category:lg,piecewise:function(t,e){var i=r_.call(this,e);return null==i&&(i=xI.call(this,t)),i},fixed:Qh}},symbolSize:{applyVisual:E0("symbolSize"),_normalizedToVisual:i_([0,1])}},n}();function t_(n,t){var e=n.visual,i=[];hi(e)?M0(e,function(r){i.push(r)}):null!=e&&i.push(e),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(i[1]=i[0]),o_(n,i)}function n_(n){return{applyVisual:function(t,e,i){var r=this.mapValueToVisual(t);i("color",n(e("color"),r))},_normalizedToVisual:i_([0,1])}}function xI(n){var t=this.option.visual;return t[Math.round(oo(n,[0,1],[0,t.length-1],!0))]||{}}function E0(n){return function(t,e,i){i(n,this.mapValueToVisual(t))}}function lg(n){var t=this.option.visual;return t[this.option.loop&&n!==T0?n%t.length:n]}function Qh(){return this.option.visual[0]}function i_(n){return{linear:function(t){return oo(t,n,this.option.visual,!0)},category:lg,piecewise:function(t,e){var i=r_.call(this,e);return null==i&&(i=oo(t,n,this.option.visual,!0)),i},fixed:Qh}}function r_(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var i=e[Wa.findPieceIndex(n,e)];if(i&&i.visual)return i.visual[this.type]}}function o_(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=ue(t,function(e){return _a(e)||[0,0,0,1]})),t}var hL={linear:function(n){return oo(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=Wa.findPieceIndex(n,t,!0);if(null!=e)return oo(e,[0,t.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??T0},fixed:At};function I0(n,t,e){return n?t<=e:t<e}var cg=nr(),_I={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||wI(t,{},n.getViewRoot().getAncestors(),n)}};function wI(n,t,e,i){var O,L,R,F,Y,r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var l,u=r.getModel("itemStyle"),f=(O=u,R=i,F=_t({},L=t),Y=R.designatedVisualItemStyle,pe(["color","colorAlpha","colorSaturation"],function(q){Y[q]=L[q];var Z=O.get(q);Y[q]=null,null!=Z&&(F[q]=Z)}),F),g=a.ensureUniqueItemVisual(n.dataIndex,"style"),y=u.get("borderColor"),w=u.get("borderColorSaturation");null!=w&&(y=function(O,L){return null!=L?al(L,null,null,O):null}(w,l=SI(f))),g.stroke=y;var C=n.viewChildren;if(C&&C.length){var M=function(O,L,R,F,Y,q){if(q&&q.length){var Z=a_(L,"color")||null!=Y.color&&"none"!==Y.color&&(a_(L,"colorAlpha")||a_(L,"colorSaturation"));if(Z){var Q=L.get("visualMin"),ne=L.get("visualMax"),oe=R.dataExtent.slice();null!=Q&&Q<oe[0]&&(oe[0]=Q),null!=ne&&ne>oe[1]&&(oe[1]=ne);var _e=L.get("colorMappingBy"),ke={type:Z.name,dataExtent:oe,visual:Z.range};"color"!==ke.type||"index"!==_e&&"id"!==_e?ke.mappingMethod="linear":(ke.mappingMethod="category",ke.loop=!0);var Ee=new Wa(ke);return cg(Ee).drColorMappingBy=_e,Ee}}}(0,r,o,0,f,C);pe(C,function(O,L){if(O.depth>=e.length||O===e[O.depth]){var R=function(F,Y,q,Z,Q,ne){var oe=_t({},Y);if(Q){var _e=Q.type,ke="color"===_e&&cg(Q).drColorMappingBy,Ee="index"===ke?Z:"id"===ke?ne.mapIdToIndex(q.getId()):q.getValue(F.get("visualDimension"));oe[_e]=Q.mapValueToVisual(Ee)}return oe}(r,f,O,L,M,i);wI(O,R,e,i)}})}else l=SI(f),g.fill=l}}function SI(n){var t=O0(n,"color");if(t){var e=O0(n,"colorAlpha"),i=O0(n,"colorSaturation");return i&&(t=al(t,null,null,i)),e&&(t=El(t,e)),t}}function O0(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function a_(n,t){var e=n.get(t);return Bt(e)&&e.length?{name:t,range:e}:null}var vv=Math.max,ug=Math.min,s_=Wi,hA=pe,dA=["itemStyle","borderWidth"],CI=["itemStyle","gapWidth"],pA=["upperLabel","show"],dL=["upperLabel","height"],kI={seriesType:"treemap",reset:function(n,t,e,i){var r=e.getWidth(),o=e.getHeight(),a=n.option,l=io(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),u=a.size||[],f=ri(s_(l.width,u[0]),r),g=ri(s_(l.height,u[1]),o),y=i&&i.type,w=Yd(i,["treemapZoomToNode","treemapRootToNode"],n),C="treemapRender"===y||"treemapMove"===y?i.rootRect:null,M=n.getViewRoot(),O=k0(M);if("treemapMove"!==y){var L="treemapZoomToNode"===y?function(Z,Q,ne,oe,_e){var ke,Ee=(Q||{}).node,Re=[oe,_e];if(!Ee||Ee===ne)return Re;for(var Je=oe*_e,st=Je*Z.option.zoomToNodeRatio;ke=Ee.parentNode;){for(var mt=0,St=ke.children,Tt=0,Lt=St.length;Tt<Lt;Tt++)mt+=St[Tt].getValue();var $t=Ee.getValue();if(0===$t)return Re;st*=mt/$t;var nn=ke.getModel(),an=nn.get(dA);(st+=4*an*an+(3*an+Math.max(an,c_(nn)))*Math.pow(st,.5))>zs&&(st=zs),Ee=ke}st<Je&&(st=Je);var kn=Math.pow(st/Je,.5);return[oe*kn,_e*kn]}(n,w,M,f,g):C?[C.width,C.height]:[f,g],R=a.sort;R&&"asc"!==R&&"desc"!==R&&(R="desc");var F={squareRatio:a.squareRatio,sort:R,leafDepth:a.leafDepth};M.hostTree.clearLayouts();var Y={x:0,y:0,width:L[0],height:L[1],area:L[0]*L[1]};M.setLayout(Y),fA(M,F,!1,0),Y=M.getLayout(),hA(O,function(Z,Q){var ne=(O[Q+1]||M).getValue();Z.setLayout(_t({dataExtent:[ne,ne],borderWidth:0,upperHeight:0},Y))})}var q=n.getData().tree.root;q.setLayout(function(Z,Q,ne){if(Q)return{x:Q.x,y:Q.y};var oe={x:0,y:0};if(!ne)return oe;var _e=ne.node,ke=_e.getLayout();if(!ke)return oe;for(var Ee=[ke.width/2,ke.height/2],Re=_e;Re;){var Je=Re.getLayout();Ee[0]+=Je.x,Ee[1]+=Je.y,Re=Re.parentNode}return{x:Z.width/2-Ee[0],y:Z.height/2-Ee[1]}}(l,C,w),!0),n.setLayoutInfo(l),l_(q,new lr(-l.x,-l.y,r,o),O,M,0)}};function fA(n,t,e,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var l=n.getModel(),u=l.get(dA),f=l.get(CI)/2,g=c_(l),y=Math.max(u,g),w=u-f,C=y-f;n.setLayout({borderWidth:u,upperHeight:y,upperLabelHeight:g},!0);var M=(r=vv(r-2*w,0))*(o=vv(o-w-C,0)),O=function(_e,ke,Ee,Re,Je,st){var mt=_e.children||[],St=Re.sort;"asc"!==St&&"desc"!==St&&(St=null);var jn,Tt=null!=Re.leafDepth&&Re.leafDepth<=st;if(Je&&!Tt)return _e.viewChildren=[];mt=on(mt,function(kn){return!kn.isRemoved()}),(jn=St)&&mt.sort(function(cn,Pn){var Yn="asc"===jn?cn.getValue()-Pn.getValue():Pn.getValue()-cn.getValue();return 0===Yn?"asc"===jn?cn.dataIndex-Pn.dataIndex:Pn.dataIndex-cn.dataIndex:Yn});var Lt=function(kn,jn,cn){for(var Pn=0,Yn=0,Zn=jn.length;Yn<Zn;Yn++)Pn+=jn[Yn].getValue();var Wn,oi=kn.get("visualDimension");return jn&&jn.length?"value"===oi&&cn?(Wn=[jn[jn.length-1].getValue(),jn[0].getValue()],"asc"===cn&&Wn.reverse()):(Wn=[1/0,-1/0],hA(jn,function(Un){var ui=Un.getValue(oi);ui<Wn[0]&&(Wn[0]=ui),ui>Wn[1]&&(Wn[1]=ui)})):Wn=[NaN,NaN],{sum:Pn,dataExtent:Wn}}(ke,mt,St);if(0===Lt.sum)return _e.viewChildren=[];if(Lt.sum=function(kn,jn,cn,Pn,Yn){if(!Pn)return cn;for(var Zn=kn.get("visibleMin"),Wn=Yn.length,oi=Wn,Un=Wn-1;Un>=0;Un--){var ui=Yn["asc"===Pn?Wn-Un-1:Un].getValue();ui/cn*jn<Zn&&(oi=Un,cn-=ui)}return Yn.splice("asc"===Pn?0:oi,Wn-oi),cn}(ke,Ee,Lt.sum,St,mt),0===Lt.sum)return _e.viewChildren=[];for(var $t=0,nn=mt.length;$t<nn;$t++){var an=mt[$t].getValue()/Lt.sum*Ee;mt[$t].setLayout({area:an})}return Tt&&(mt.length&&_e.setLayout({isLeafRoot:!0},!0),mt.length=0),_e.viewChildren=mt,_e.setLayout({dataExtent:Lt.dataExtent},!0),mt}(n,l,M,t,e,i);if(O.length){var L={x:w,y:C,width:r,height:o},R=ug(r,o),F=1/0,Y=[];Y.area=0;for(var q=0,Z=O.length;q<Z;){var Q=O[q];Y.push(Q),Y.area+=Q.getLayout().area;var ne=AI(Y,R,t.squareRatio);ne<=F?(q++,F=ne):(Y.area-=Y.pop().getLayout().area,gA(Y,R,L,f,!1),R=ug(L.width,L.height),Y.length=Y.area=0,F=1/0)}if(Y.length&&gA(Y,R,L,f,!0),!e){var oe=l.get("childrenVisibleMin");null!=oe&&M<oe&&(e=!0)}for(q=0,Z=O.length;q<Z;q++)fA(O[q],t,e,i+1)}}}function AI(n,t,e){for(var i=0,r=1/0,o=0,a=void 0,l=n.length;o<l;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var u=n.area*n.area,f=t*t*e;return u?vv(f*i/u,u/(f*r)):1/0}function gA(n,t,e,i,r){var o=t===e.width?0:1,a=1-o,l=["x","y"],u=["width","height"],f=e[l[o]],g=t?n.area/t:0;(r||g>e[u[a]])&&(g=e[u[a]]);for(var y=0,w=n.length;y<w;y++){var C=n[y],M={},O=g?C.getLayout().area/g:0,L=M[u[a]]=vv(g-2*i,0),R=e[l[o]]+e[u[o]]-f,F=y===w-1||R<O?R:O,Y=M[u[o]]=vv(F-2*i,0);M[l[a]]=e[l[a]]+ug(i,L/2),M[l[o]]=f+ug(i,Y/2),f+=F,C.setLayout(M,!0)}e[l[a]]+=g,e[u[a]]-=g}function l_(n,t,e,i,r){var o=n.getLayout(),a=e[r],l=a&&a===n;if(!(a&&!l||r===e.length&&n!==i)){n.setLayout({isInView:!0,invisible:!l&&!t.intersect(o),isAboveViewRoot:l},!0);var u=new lr(t.x-o.x,t.y-o.y,t.width,t.height);hA(n.viewChildren||[],function(f){l_(f,u,e,i,r+1)})}}function c_(n){return n.get(pA)?n.get(dL):0}function pL(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(a){var l=r.getItemModel(a).getShallow("category");if(null!=l){En(l)&&(l=o[l]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(l))return!1}return!0})})}function fL(n){var t={};n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getData(),o={};i.each(function(a){var l=i.getName(a);o["ec-"+l]=a;var u=i.getItemModel(a),f=u.getModel("itemStyle").getItemStyle();f.fill||(f.fill=e.getColorFromPalette(l,t)),i.setItemVisual(a,"style",f);for(var g=["symbol","symbolSize","symbolKeepAspect"],y=0;y<g.length;y++){var w=u.getShallow(g[y],!0);null!=w&&i.setItemVisual(a,g[y],w)}}),i.count()&&r.each(function(a){var l=r.getItemModel(a).getShallow("category");if(null!=l){On(l)&&(l=o["ec-"+l]);var u=i.getItemVisual(l,"style");_t(r.ensureUniqueItemVisual(a,"style"),u);for(var f=["symbol","symbolSize","symbolKeepAspect"],g=0;g<f.length;g++)r.setItemVisual(a,f[g],i.getItemVisual(l,f[g]))}})})}function u_(n){return n instanceof Array||(n=[n,n]),n}function gL(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),i=t.getEdgeData(),r=u_(t.get("edgeSymbol")),o=u_(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each(function(a){var l=i.getItemModel(a),u=e.getEdgeByIndex(a),f=u_(l.getShallow("symbol",!0)),g=u_(l.getShallow("symbolSize",!0)),y=l.getModel("lineStyle").getLineStyle(),w=i.ensureUniqueItemVisual(a,"style");switch(_t(w,y),w.stroke){case"source":var C=u.node1.getVisual("style");w.stroke=C&&C.fill;break;case"target":C=u.node2.getVisual("style"),w.stroke=C&&C.fill}f[0]&&u.setVisual("fromSymbol",f[0]),f[1]&&u.setVisual("toSymbol",f[1]),g[0]&&u.setVisual("fromSymbolSize",g[0]),g[1]&&u.setVisual("toSymbolSize",g[1])})})}var hg=function(n){return n.get("autoCurveness")||null},d_=function(n,t){var e=hg(n),i=20,r=[];if(En(e))i=e;else if(Bt(e))return void(n.__curvenessList=e);t>i&&(i=t);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},yv=function(n,t,e){var i=[n.id,n.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[e.uid,i,r].join("--\x3e")},Gd=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},p_=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function f_(n,t,e,i){var r=hg(t),o=Bt(r);if(!r)return null;var L,R,F,a=(F=yv((L=n).node1,L.node2,R=t),R.__edgeMap[F]);if(!a)return null;for(var l=-1,u=0;u<a.length;u++)if(a[u]===e){l=u;break}var f=function(L,R){return p_(yv(L.node1,L.node2,R),R)+p_(yv(L.node2,L.node1,R),R)}(n,t);d_(t,f),n.lineStyle=n.lineStyle||{};var g=yv(n.node1,n.node2,t),y=t.__curvenessList,w=o||f%2?0:1;if(a.isForward)return y[w+l];var C=Gd(g),M=p_(C,t),O=y[l+M+w];return i?o?r&&0===r[0]?(M+w)%2?O:-O:((M%2?0:1)+w)%2?O:-O:(M+w)%2?O:-O:y[l+M+w]}function g_(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),mA(e,n)}}function mA(n,t){n.eachEdge(function(e,i){var r=fr(e.getModel().get(["lineStyle","curveness"]),-f_(e,t,i,!0),0),o=ei(e.node1.getLayout()),a=ei(e.node2.getLayout()),l=[o,a];+r&&l.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),e.setLayout(l)})}function MI(n,t){n.eachSeriesByType("graph",function(e){var i=e.get("layout"),r=e.coordinateSystem;if(r&&"view"!==r.type){var o=e.getData(),a=[];pe(r.dimensions,function(w){a=a.concat(o.mapDimensionsAll(w))});for(var l=0;l<o.count();l++){for(var u=[],f=!1,g=0;g<a.length;g++){var y=o.get(a[g],l);isNaN(y)||(f=!0),u.push(y)}o.setItemLayout(l,f?r.dataToPoint(u):[NaN,NaN])}mA(o.graph,e)}else i&&"none"!==i||g_(e)})}function bv(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*e+1)/i}function xv(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var vA=Math.PI,m_=[];function v_(n,t,e,i){var r=n.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),a=n.getData(),l=a.graph,u=o.width/2+o.x,f=o.height/2+o.y,g=Math.min(o.width,o.height)/2,y=a.count();if(a.setLayout({cx:u,cy:f}),y){if(e){var w=r.pointToData(i),O=[w[0]-u,w[1]-f];tr(O,O),wr(O,O,g),e.setLayout([u+O[0],f+O[1]],!0),yA(e,n.get(["circular","rotateLabel"]),u,f)}mL[t](n,l,a,g,u,f,y),l.eachEdge(function(L,R){var F,Y=fr(L.getModel().get(["lineStyle","curveness"]),f_(L,n,R),0),q=ei(L.node1.getLayout()),Z=ei(L.node2.getLayout());+Y&&(F=[u*(Y*=3)+(q[0]+Z[0])/2*(1-Y),f*Y+(q[1]+Z[1])/2*(1-Y)]),L.setLayout([q,Z,F])})}}}var mL={value:function(n,t,e,i,r,o,a){var l=0,u=e.getSum("value"),f=2*Math.PI/(u||a);t.eachNode(function(g){var y=g.getValue("value"),w=f*(u?y:1)/2;l+=w,g.setLayout([i*Math.cos(l)+r,i*Math.sin(l)+o]),l+=w})},symbolSize:function(n,t,e,i,r,o,a){var l=0;m_.length=a;var u=bv(n);t.eachNode(function(y){var w=xv(y);isNaN(w)&&(w=2),w<0&&(w=0),w*=u;var C=Math.asin(w/2/i);isNaN(C)&&(C=vA/2),m_[y.dataIndex]=C,l+=2*C});var f=(2*vA-l)/a/2,g=0;t.eachNode(function(y){var w=f+m_[y.dataIndex];g+=w,(!y.getLayout()||!y.getLayout().fixed)&&y.setLayout([i*Math.cos(g)+r,i*Math.sin(g)+o]),g+=w})}};function yA(n,t,e,i){var r=n.getGraphicEl();if(r){var o=n.getModel().get(["label","rotate"])||0,a=r.getSymbolPath();if(t){var l=n.getLayout(),u=Math.atan2(l[1]-i,l[0]-e);u<0&&(u=2*Math.PI+u);var f=l[0]<e;f&&(u-=Math.PI);var g=f?"left":"right";a.setTextConfig({rotation:-u,position:g,origin:"center"});var y=a.ensureState("emphasis");_t(y.textConfig||(y.textConfig={}),{position:g})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function vL(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&v_(t,"symbolSize")})}var _v=Qi;function yL(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},r=t.getGraph(),o=r.data,a=r.edgeData,l=t.getModel("force"),u=l.get("initLayout");t.preservedPoints?o.each(function(Y){var q=o.getId(Y);o.setItemLayout(Y,i[q]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&v_(t,"value"):g_(t);var f=o.getDataExtent("value"),g=a.getDataExtent("value"),y=l.get("repulsion"),w=l.get("edgeLength"),C=Bt(y)?y:[y,y],M=Bt(w)?w:[w,w];M=[M[1],M[0]];var O=o.mapArray("value",function(Y,q){var Z=o.getItemLayout(q),Q=oo(Y,f,C);return isNaN(Q)&&(Q=(C[0]+C[1])/2),{w:Q,rep:Q,fixed:o.getItemModel(q).get("fixed"),p:!Z||isNaN(Z[0])||isNaN(Z[1])?null:Z}}),L=a.mapArray("value",function(Y,q){var Z=r.getEdgeByIndex(q),Q=oo(Y,g,M);isNaN(Q)&&(Q=(M[0]+M[1])/2);var ne=Z.getModel(),oe=fr(Z.getModel().get(["lineStyle","curveness"]),-f_(Z,t,q,!0),0);return{n1:O[Z.node1.dataIndex],n2:O[Z.node2.dataIndex],d:Q,curveness:oe,ignoreForceLayout:ne.get("ignoreForceLayout")}}),R=e.getBoundingRect(),F=function(Y,q,Z){for(var Q=Y,ne=q,oe=Z.rect,_e=oe.width,ke=oe.height,Ee=[oe.x+_e/2,oe.y+ke/2],Re=null==Z.gravity?.1:Z.gravity,Je=0;Je<Q.length;Je++){var st=Q[Je];st.p||(st.p=zn(_e*(Math.random()-.5)+Ee[0],ke*(Math.random()-.5)+Ee[1])),st.pp=ei(st.p),st.edges=null}var mt,St,Tt=null==Z.friction?.6:Z.friction,Lt=Tt;return{warmUp:function(){Lt=.8*Tt},setFixed:function($t){Q[$t].fixed=!0},setUnfixed:function($t){Q[$t].fixed=!1},beforeStep:function($t){mt=$t},afterStep:function($t){St=$t},step:function($t){mt&&mt(Q,ne);for(var nn=[],an=Q.length,kn=0;kn<ne.length;kn++){var jn=ne[kn];if(!jn.ignoreForceLayout){var cn=jn.n1;Ui(nn,(Wn=jn.n2).p,cn.p);var Pn=gr(nn)-jn.d,Yn=Wn.w/(cn.w+Wn.w);isNaN(Yn)&&(Yn=0),tr(nn,nn),!cn.fixed&&_v(cn.p,cn.p,nn,Yn*Pn*Lt),!Wn.fixed&&_v(Wn.p,Wn.p,nn,-(1-Yn)*Pn*Lt)}}for(kn=0;kn<an;kn++)(ui=Q[kn]).fixed||(Ui(nn,Ee,ui.p),_v(ui.p,ui.p,nn,Re*Lt));for(kn=0;kn<an;kn++){cn=Q[kn];for(var Zn=kn+1;Zn<an;Zn++){var Wn;Ui(nn,(Wn=Q[Zn]).p,cn.p),0===(Pn=gr(nn))&&(Qn(nn,Math.random()-.5,Math.random()-.5),Pn=1);var oi=(cn.rep+Wn.rep)/Pn/Pn;!cn.fixed&&_v(cn.pp,cn.pp,nn,oi),!Wn.fixed&&_v(Wn.pp,Wn.pp,nn,-oi)}}var Un=[];for(kn=0;kn<an;kn++){var ui;(ui=Q[kn]).fixed||(Ui(Un,ui.p,ui.pp),_v(ui.p,ui.p,Un,Lt),Xn(ui.pp,ui.p))}var Ti=(Lt*=.992)<.01;St&&St(Q,ne,Ti),$t&&$t(Ti)}}}(O,L,{rect:R,gravity:l.get("gravity"),friction:l.get("friction")});F.beforeStep(function(Y,q){for(var Z=0,Q=Y.length;Z<Q;Z++)Y[Z].fixed&&Xn(Y[Z].p,r.getNodeByIndex(Z).getLayout())}),F.afterStep(function(Y,q,Z){for(var Q=0,ne=Y.length;Q<ne;Q++)Y[Q].fixed||r.getNodeByIndex(Q).setLayout(Y[Q].p),i[o.getId(Q)]=Y[Q].p;for(Q=0,ne=q.length;Q<ne;Q++){var oe=q[Q],_e=r.getEdgeByIndex(Q),ke=oe.n1.p,Ee=oe.n2.p,Re=_e.getLayout();(Re=Re?Re.slice():[])[0]=Re[0]||[],Re[1]=Re[1]||[],Xn(Re[0],ke),Xn(Re[1],Ee),+oe.curveness&&(Re[2]=[(ke[0]+Ee[0])/2-(ke[1]-Ee[1])*oe.curveness,(ke[1]+Ee[1])/2-(Ee[0]-ke[0])*oe.curveness]),_e.setLayout(Re)}}),t.forceLayout=F,t.preservedPoints=i,F.step()}else t.forceLayout=null})}function TI(n,t){var e=[];return n.eachSeriesByType("graph",function(i){var L,R,r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),a=[],l=[];gf(o.mapArray(function(O){var L=o.getItemModel(O);return[+L.get("x"),+L.get("y")]}),a,l),l[0]-a[0]==0&&(l[0]+=1,a[0]-=1),l[1]-a[1]==0&&(l[1]+=1,a[1]-=1);var u=(l[0]-a[0])/(l[1]-a[1]),f=(L=t,R=u,io(_t(i.getBoxLayoutParams(),{aspect:R}),{width:L.getWidth(),height:L.getHeight()}));isNaN(u)&&(a=[f.x,f.y],l=[f.x+f.width,f.y+f.height]);var g=l[0]-a[0],y=l[1]-a[1],w=f.width,C=f.height,M=i.coordinateSystem=new dv;M.zoomLimit=i.get("scaleLimit"),M.setBoundingRect(a[0],a[1],g,y),M.setViewRect(f.x,f.y,w,C),M.setCenter(i.get("center"),t),M.setZoom(i.get("zoom")),e.push(M)}}),e}var EI=cs.prototype,y_=Wg.prototype,bA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function b_(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){Oe(function t(){return null!==n&&n.apply(this,arguments)||this},n)}(bA);var bL=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-line",i}return Oe(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new bA},t.prototype.buildPath=function(e,i){b_(i)?EI.buildPath.call(this,e,i):y_.buildPath.call(this,e,i)},t.prototype.pointAt=function(e){return b_(this.shape)?EI.pointAt.call(this,e):y_.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var i=this.shape,r=b_(i)?[i.x2-i.x1,i.y2-i.y1]:y_.tangentAt.call(this,e);return tr(r,r)},t}(hr),Yp=["fromSymbol","toSymbol"];function II(n){return"_"+n+"Type"}function OI(n,t,e){var i=t.getItemVisual(e,n);if(!i||"none"===i)return i;var r=t.getItemVisual(e,n+"Size"),o=t.getItemVisual(e,n+"Rotate"),a=t.getItemVisual(e,n+"Offset"),l=t.getItemVisual(e,n+"KeepAspect"),u=kp(r);return i+u+Ap(a||0,u)+(o||"")+(l||"")}function DI(n,t,e){var i=t.getItemVisual(e,n);if(i&&"none"!==i){var r=t.getItemVisual(e,n+"Size"),o=t.getItemVisual(e,n+"Rotate"),a=t.getItemVisual(e,n+"Offset"),l=t.getItemVisual(e,n+"KeepAspect"),u=kp(r),f=Ap(a||0,u),g=Da(i,-u[0]/2+f[0],-u[1]/2+f[1],u[0],u[1],null,l);return g.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,g.name=n,g}}function xA(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var D0=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createLine(e,i,r),o}return Oe(t,n),t.prototype._createLine=function(e,i,r){var l,u,o=e.hostModel,a=(l=e.getItemLayout(i),xA((u=new bL({name:"line",subPixelOptimize:!0})).shape,l),u);a.shape.percent=0,Uo(a,{shape:{percent:1}},o,i),this.add(a),pe(Yp,function(l){var u=DI(l,e,i);this.add(u),this[II(l)]=OI(l,e,i)},this),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),l=e.getItemLayout(i),u={shape:{}};xA(u.shape,l),co(a,u,o,i),pe(Yp,function(f){var g=OI(f,e,i),y=II(f);if(this[y]!==g){this.remove(this.childOfName(f));var w=DI(f,e,i);this.add(w)}this[y]=g},this),this._updateCommonStl(e,i,r)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),l=r&&r.emphasisLineStyle,u=r&&r.blurLineStyle,f=r&&r.selectLineStyle,g=r&&r.labelStatesModels,y=r&&r.emphasisDisabled,w=r&&r.focus,C=r&&r.blurScope;if(!r||e.hasItemOption){var M=e.getItemModel(i),O=M.getModel("emphasis");l=O.getModel("lineStyle").getLineStyle(),u=M.getModel(["blur","lineStyle"]).getLineStyle(),f=M.getModel(["select","lineStyle"]).getLineStyle(),y=O.get("disabled"),w=O.get("focus"),C=O.get("blurScope"),g=us(M)}var L=e.getItemVisual(i,"style"),R=L.stroke;a.useStyle(L),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=l,a.ensureState("blur").style=u,a.ensureState("select").style=f,pe(Yp,function(Q){var ne=this.childOfName(Q);if(ne){ne.setColor(R),ne.style.opacity=L.opacity;for(var oe=0;oe<Qs.length;oe++){var _e=Qs[oe],ke=a.getState(_e);if(ke){var Ee=ke.style||{},Re=ne.ensureState(_e),Je=Re.style||(Re.style={});null!=Ee.stroke&&(Je[ne.__isEmptyBrush?"stroke":"fill"]=Ee.stroke),null!=Ee.opacity&&(Je.opacity=Ee.opacity)}}ne.markRedraw()}},this);var F=o.getRawValue(i);tl(this,g,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(Q,ne){return o.getFormattedLabel(Q,ne,e.dataType)}},inheritColor:R||"#000",defaultOpacity:L.opacity,defaultText:(null==F?e.getName(i):isFinite(F)?lo(F):F)+""});var Y=this.getTextContent();if(Y){var q=g.normal;Y.__align=Y.style.align,Y.__verticalAlign=Y.style.verticalAlign,Y.__position=q.get("position")||"middle";var Z=q.get("distance");Bt(Z)||(Z=[Z,Z]),Y.__labelDistance=Z}this.setTextConfig({position:null,local:!0,inside:!1}),wa(this,w,C,y)},t.prototype.highlight=function(){_d(this)},t.prototype.downplay=function(){wd(this)},t.prototype.updateLayout=function(e,i){this.setLinePoints(e.getItemLayout(i))},t.prototype.setLinePoints=function(e){var i=this.childOfName("line");xA(i.shape,e),i.dirty()},t.prototype.beforeUpdate=function(){var e=this,i=e.childOfName("fromSymbol"),r=e.childOfName("toSymbol"),o=e.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,l=this.parent;l;)l.scaleX&&(a/=l.scaleX),l=l.parent;var u=e.childOfName("line");if(this.__dirty||u.__dirty){var f=u.shape.percent,g=u.pointAt(0),y=u.pointAt(f),w=Ui([],y,g);if(tr(w,w),i&&(i.setPosition(g),_e(i,0),i.scaleX=i.scaleY=a*f,i.markRedraw()),r&&(r.setPosition(y),_e(r,1),r.scaleX=r.scaleY=a*f,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var C=void 0,M=void 0,O=o.__labelDistance,L=O[0]*a,R=O[1]*a,F=f/2,Y=u.tangentAt(F),q=[Y[1],-Y[0]],Z=u.pointAt(F);q[1]>0&&(q[0]=-q[0],q[1]=-q[1]);var Q=Y[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var ne=-Math.atan2(Y[1],Y[0]);y[0]<g[0]&&(ne=Math.PI+ne),o.rotation=ne}var oe=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":oe=-R,M="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":oe=R,M="top";break;default:oe=0,M="middle"}switch(o.__position){case"end":o.x=w[0]*L+y[0],o.y=w[1]*R+y[1],C=w[0]>.8?"left":w[0]<-.8?"right":"center",M=w[1]>.8?"top":w[1]<-.8?"bottom":"middle";break;case"start":o.x=-w[0]*L+g[0],o.y=-w[1]*R+g[1],C=w[0]>.8?"right":w[0]<-.8?"left":"center",M=w[1]>.8?"bottom":w[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=L*Q+g[0],o.y=g[1]+oe,C=Y[0]<0?"right":"left",o.originX=-L*Q,o.originY=-oe;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=Z[0],o.y=Z[1]+oe,C="center",o.originY=-oe;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-L*Q+y[0],o.y=y[1]+oe,C=Y[0]>=0?"right":"left",o.originX=L*Q,o.originY=-oe}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||M,align:o.__align||C})}}}function _e(ke,Ee){var Re=ke.__specifiedRotation;if(null==Re){var Je=u.tangentAt(Ee);ke.attr("rotation",(1===Ee?-1:1)*Math.PI/2-Math.atan2(Je[1],Je[0]))}else ke.attr("rotation",Re)}},t}(Gi),x_=function(){function n(t){this.group=new Gi,this._LineCtor=t||D0}return n.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var i=this,r=i.group,o=i._lineData;i._lineData=t,o||r.removeAll();var a=_A(t);t.diff(o).add(function(l){e._doAdd(t,l,a)}).update(function(l,u){e._doUpdate(o,t,u,l,a)}).remove(function(l){r.remove(o.getItemGraphicEl(l))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=_A(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function i(a){var l;a.isGroup||(l=a).animators&&l.animators.length>0||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=t.start;r<t.end;r++)if(SA(e.getItemLayout(r))){var o=new this._LineCtor(e,r,this._seriesScope);o.traverse(i),this.group.add(o),e.setItemGraphicEl(r,o),this._progressiveEls.push(o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(t){uu(this._progressiveEls||this.group,t)},n.prototype._doAdd=function(t,e,i){if(SA(t.getItemLayout(e))){var r=new this._LineCtor(t,e,i);t.setItemGraphicEl(e,r),this.group.add(r)}},n.prototype._doUpdate=function(t,e,i,r,o){var a=t.getItemGraphicEl(i);SA(e.getItemLayout(r))?(a?a.updateData(e,r,o):a=new this._LineCtor(e,r,o),e.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function _A(n){var t=n.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:us(t)}}function wA(n){return isNaN(n[0])||isNaN(n[1])}function SA(n){return n&&!wA(n[0])&&!wA(n[1])}var __=[],CA=[],kA=[],Xd=$r,w_=Yr,AA=Math.abs;function MA(n,t,e){for(var i,r=n[0],o=n[1],a=n[2],l=1/0,u=e*e,f=.1,g=.1;g<=.9;g+=.1)__[0]=Xd(r[0],o[0],a[0],g),__[1]=Xd(r[1],o[1],a[1],g),(C=AA(w_(__,t)-u))<l&&(l=C,i=g);for(var y=0;y<32;y++){var w=i+f;CA[0]=Xd(r[0],o[0],a[0],i),CA[1]=Xd(r[1],o[1],a[1],i),kA[0]=Xd(r[0],o[0],a[0],w),kA[1]=Xd(r[1],o[1],a[1],w);var C=w_(CA,t)-u;if(AA(C)<.01)break;var M=w_(kA,t)-u;f/=2,C<0?M>=0?i+=f:i-=f:M>=0?i-=f:i+=f}return i}function S_(n,t){var e=[],i=Ul,r=[[],[],[]],o=[[],[]],a=[];t/=2,n.eachEdge(function(l,u){var f=l.getLayout(),g=l.getVisual("fromSymbol"),y=l.getVisual("toSymbol");f.__original||(f.__original=[ei(f[0]),ei(f[1])],f[2]&&f.__original.push(ei(f[2])));var w=f.__original;if(null!=f[2]){if(Xn(r[0],w[0]),Xn(r[1],w[2]),Xn(r[2],w[1]),g&&"none"!==g){var C=xv(l.node1),M=MA(r,w[0],C*t);i(r[0][0],r[1][0],r[2][0],M,e),r[0][0]=e[3],r[1][0]=e[4],i(r[0][1],r[1][1],r[2][1],M,e),r[0][1]=e[3],r[1][1]=e[4]}y&&"none"!==y&&(C=xv(l.node2),M=MA(r,w[1],C*t),i(r[0][0],r[1][0],r[2][0],M,e),r[1][0]=e[1],r[2][0]=e[2],i(r[0][1],r[1][1],r[2][1],M,e),r[1][1]=e[1],r[2][1]=e[2]),Xn(f[0],r[0]),Xn(f[1],r[2]),Xn(f[2],r[1])}else Xn(o[0],w[0]),Xn(o[1],w[1]),Ui(a,o[1],o[0]),tr(a,a),g&&"none"!==g&&(C=xv(l.node1),Qi(o[0],o[0],a,C*t)),y&&"none"!==y&&(C=xv(l.node2),Qi(o[1],o[1],a,-C*t)),Xn(f[0],o[0]),Xn(f[1],o[1])})}function TA(n){return"view"===n.type}var L0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e,i){var r=new Um,o=new x_,a=this.group;this._controller=new Kh(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem;this._model=e;var l=this._symbolDraw,u=this._lineDraw,f=this.group;if(TA(a)){var g={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?f.attr(g):co(f,g,e)}S_(e.getGraph(),bv(e));var y=e.getData();l.updateData(y);var w=e.getEdgeData();u.updateData(w),this._updateNodeAndLinkScale(),this._updateController(e,i,r),clearTimeout(this._layoutTimeout);var C=e.forceLayout,M=e.get(["force","layoutAnimation"]);C&&this._startForceLayoutIteration(C,M);var O=e.get("layout");y.graph.eachNode(function(Y){var q=Y.dataIndex,Z=Y.getGraphicEl(),Q=Y.getModel();if(Z){Z.off("drag").off("dragend");var ne=Q.get("draggable");ne&&Z.on("drag",function(oe){switch(O){case"force":C.warmUp(),!o._layouting&&o._startForceLayoutIteration(C,M),C.setFixed(q),y.setItemLayout(q,[Z.x,Z.y]);break;case"circular":y.setItemLayout(q,[Z.x,Z.y]),Y.setLayout({fixed:!0},!0),v_(e,"symbolSize",Y,[oe.offsetX,oe.offsetY]),o.updateLayout(e);break;default:y.setItemLayout(q,[Z.x,Z.y]),mA(e.getGraph(),e),o.updateLayout(e)}}).on("dragend",function(){C&&C.setUnfixed(q)}),Z.setDraggable(ne,!!Q.get("cursor")),"adjacency"===Q.get(["emphasis","focus"])&&(_r(Z).focus=Y.getAdjacentDataIndices())}}),y.graph.eachEdge(function(Y){var q=Y.getGraphicEl(),Z=Y.getModel().get(["emphasis","focus"]);q&&"adjacency"===Z&&(_r(q).focus={edge:[Y.dataIndex],node:[Y.node1.dataIndex,Y.node2.dataIndex]})});var L="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),R=y.getLayout("cx"),F=y.getLayout("cy");y.graph.eachNode(function(Y){yA(Y,L,R,F)}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,i){var r=this;!function o(){e.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})}()},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,l=this._controllerHost,u=this.group;a.setPointerChecker(function(f,g,y){var w=u.getBoundingRect();return w.applyTransform(u.transform),w.contain(g,y)&&!m0(f,r,e)}),TA(e.coordinateSystem)?(a.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(f){cv(l,f.dx,f.dy),r.dispatchAction({seriesId:e.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){Ik(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(),S_(e.getGraph(),bv(e)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,i=e.getData(),r=bv(e);i.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(r)})},t.prototype.updateLayout=function(e){S_(e.getGraph(),bv(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ao);function wv(n){return"_EC_"+n}var LI=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var i=this._nodesMap;if(!i[wv(t=null==t?""+e:""+t)]){var r=new Gp(t,e);return r.hostGraph=this,this.nodes.push(r),i[wv(t)]=r,r}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[wv(t)]},n.prototype.addEdge=function(t,e,i){var r=this._nodesMap,o=this._edgesMap;if(En(t)&&(t=this.nodes[t]),En(e)&&(e=this.nodes[e]),t instanceof Gp||(t=r[wv(t)]),e instanceof Gp||(e=r[wv(e)]),t&&e){var a=t.id+"-"+e.id,l=new PI(t,e,i);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),o[a]=l,l}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof Gp&&(t=t.id),e instanceof Gp&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},n.prototype.eachEdge=function(t,e){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},n.prototype.breadthFirstTraverse=function(t,e,i,r){if(e instanceof Gp||(e=this._nodesMap[wv(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var l=[e];l.length;){var u=l.shift(),f=u[o];for(a=0;a<f.length;a++){var g=f[a],y=g.node1===u?g.node2:g.node1;if(!y.__visited){if(t.call(r,y,u))return;l.push(y),y.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf(function(l){var u=r[e.getRawIndex(l)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,i=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},n}(),Gp=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var i=this.edges[e];i.dataIndex<0||(t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex))}return t},n.prototype.getTrajectoryDataIndices=function(){for(var t=be(),e=be(),i=0;i<this.edges.length;i++){var r=this.edges[i];if(!(r.dataIndex<0)){t.set(r.dataIndex,!0);for(var o=[r.node1],a=[r.node2],l=0;l<o.length;){var u=o[l];l++,e.set(u.dataIndex,!0);for(var f=0;f<u.inEdges.length;f++)t.set(u.inEdges[f].dataIndex,!0),o.push(u.inEdges[f].node1)}for(l=0;l<a.length;){var g=a[l];for(l++,e.set(g.dataIndex,!0),f=0;f<g.outEdges.length;f++)t.set(g.outEdges[f].dataIndex,!0),a.push(g.outEdges[f].node2)}}}return{edge:t.keys(),node:e.keys()}},n}(),PI=function(){function n(t,e,i){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=i??-1}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var t=be(),e=be();t.set(this.dataIndex,!0);for(var i=[this.node1],r=[this.node2],o=0;o<i.length;){var a=i[o];o++,e.set(a.dataIndex,!0);for(var l=0;l<a.inEdges.length;l++)t.set(a.inEdges[l].dataIndex,!0),i.push(a.inEdges[l].node1)}for(o=0;o<r.length;){var u=r[o];for(o++,e.set(u.dataIndex,!0),l=0;l<u.outEdges.length;l++)t.set(u.outEdges[l].dataIndex,!0),r.push(u.outEdges[l].node2)}return{edge:t.keys(),node:e.keys()}},n}();function Sv(n,t){return{getValue:function(e){var i=this[n][t];return i.getStore().get(i.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,i){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,i)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,i){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,i)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}function EA(n,t,e,i,r){for(var o=new LI(i),a=0;a<n.length;a++)o.addNode(Wi(n[a].id,n[a].name,a),a);var l=[],u=[],f=0;for(a=0;a<t.length;a++){var g=t[a],y=g.source,w=g.target;o.addEdge(y,w,f)&&(u.push(g),l.push(Wi(Ar(g.id,null),y+" > "+w)),f++)}var C,M=e.get("coordinateSystem");if("cartesian2d"===M||"polar"===M)C=Xh(n,e);else{var O=sc.get(M),L=O&&O.dimensions||[];hn(L,"value")<0&&L.concat(["value"]);var R=Dm(n,{coordDimensions:L,encodeDefine:e.getEncode()}).dimensions;(C=new va(R,e)).initData(n)}var F=new va(["value"],e);return F.initData(u,l),r&&r(C,F),nA({mainData:C,struct:o,structAttr:"graph",datas:{node:C,edge:F},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}qe(Gp,Sv("hostGraph","data")),qe(PI,Sv("hostGraph","edgeData"));var xL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Oe(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new iv(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),vr(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,i){var r,o=e.edges||e.links||[],a=e.data||e.nodes||[],l=this;if(a&&o){hg(r=this)&&(r.__curvenessList=[],r.__edgeMap={},d_(r));var u=EA(a,o,this,!0,function(f,g){f.wrapMethod("getItemModel",function(M){var O=l._categoriesModels[M.getShallow("category")];return O&&(O.parentModel=M.parentModel,M.parentModel=O),M});var y=ho.prototype.getModel;function w(M,O){var L=y.call(this,M,O);return L.resolveParentPath=C,L}function C(M){if(M&&("label"===M[0]||"label"===M[1])){var O=M.slice();return"label"===M[0]?O[0]="edgeLabel":"label"===M[1]&&(O[1]="edgeLabel"),O}return M}g.wrapMethod("getItemModel",function(M){return M.resolveParentPath=C,M.getModel=w,M})});return pe(u.edges,function(f){!function(g,y,w,C){if(hg(w)){var M=yv(g,y,w),O=w.__edgeMap,L=O[Gd(M)];O[M]&&!L?O[M].isForward=!0:L&&O[M]&&(L.isForward=!0,O[M].isForward=!1),O[M]=O[M]||[],O[M].push(C)}}(f.node1,f.node2,this,f.dataIndex)},this),u.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,i,r){if("edge"===r){var o=this.getData(),a=this.getDataParams(e,r),l=o.graph.getEdgeByIndex(e),u=o.getName(l.node1.dataIndex),f=o.getName(l.node2.dataIndex),g=[];return null!=u&&g.push(u),null!=f&&g.push(f),hs("nameValue",{name:g.join(" > "),value:a.value,noValue:null==a.value})}return sx({series:this,dataIndex:e,multipleSeries:i})},t.prototype._updateCategoriesData=function(){var e=ue(this.option.categories||[],function(r){return null!=r.value?r:_t({value:0},r)}),i=new va(["value"],this);i.initData(e),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Io),_L={type:"graphRoam",event:"graphRoam",update:"none"},NI=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},IA=function(n){function t(e){var i=n.call(this,e)||this;return i.type="pointer",i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new NI},t.prototype.buildPath=function(e,i){var r=Math.cos,o=Math.sin,a=i.r,l=i.width,u=i.angle,f=i.x-r(u)*l*(l>=a/3?1:2),g=i.y-o(u)*l*(l>=a/3?1:2);u=i.angle-Math.PI/2,e.moveTo(f,g),e.lineTo(i.x+r(u)*l,i.y+o(u)*l),e.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),e.lineTo(i.x-r(u)*l,i.y-o(u)*l),e.lineTo(f,g)},t}(hr);function P0(n,t){var e=null==n?"":n+"";return t&&(On(t)?e=t.replace("{value}",e):Ht(t)&&(e=t(n))),e}var RI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){this.group.removeAll();var l,u,f,g,y,w,o=e.get(["axisLine","lineStyle","color"]),a=(u=r,f=(l=e).get("center"),g=u.getWidth(),y=u.getHeight(),w=Math.min(g,y),{cx:ri(f[0],u.getWidth()),cy:ri(f[1],u.getHeight()),r:ri(l.get("radius"),w/2)});this._renderMain(e,i,r,o,a),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,i,r,o,a){var l=this.group,u=e.get("clockwise"),f=-e.get("startAngle")/180*Math.PI,g=-e.get("endAngle")/180*Math.PI,y=e.getModel("axisLine"),w=y.get("roundCap")?r0:fl,C=y.get("show"),M=y.getModel("lineStyle"),O=M.get("width"),L=[f,g];bn(L,!u);for(var R=(g=L[1])-(f=L[0]),F=f,Y=[],q=0;C&&q<o.length;q++){var Z=new w({shape:{startAngle:F,endAngle:g=f+R*Math.min(Math.max(o[q][0],0),1),cx:a.cx,cy:a.cy,clockwise:u,r0:a.r-O,r:a.r},silent:!0});Z.setStyle({fill:o[q][1]}),Z.setStyle(M.getLineStyle(["color","width"])),Y.push(Z),F=g}Y.reverse(),pe(Y,function(ne){return l.add(ne)});var Q=function(ne){if(ne<=0)return o[0][1];var oe;for(oe=0;oe<o.length;oe++)if(o[oe][0]>=ne&&(0===oe?0:o[oe-1][0])<ne)return o[oe][1];return o[oe-1][1]};this._renderTicks(e,i,r,Q,a,f,g,u,O),this._renderTitleAndDetail(e,i,r,Q,a),this._renderAnchor(e,a),this._renderPointer(e,i,r,Q,a,f,g,u,O)},t.prototype._renderTicks=function(e,i,r,o,a,l,u,f,g){for(var y,w,C=this.group,M=a.cx,O=a.cy,L=a.r,R=+e.get("min"),F=+e.get("max"),Y=e.getModel("splitLine"),q=e.getModel("axisTick"),Z=e.getModel("axisLabel"),Q=e.get("splitNumber"),ne=q.get("splitNumber"),oe=ri(Y.get("length"),L),_e=ri(q.get("length"),L),ke=l,Ee=(u-l)/Q,Re=Ee/ne,Je=Y.getModel("lineStyle").getLineStyle(),st=q.getModel("lineStyle").getLineStyle(),mt=Y.get("distance"),St=0;St<=Q;St++){if(y=Math.cos(ke),w=Math.sin(ke),Y.get("show")){var Tt=new cs({shape:{x1:y*(L-(Lt=mt?mt+g:g))+M,y1:w*(L-Lt)+O,x2:y*(L-oe-Lt)+M,y2:w*(L-oe-Lt)+O},style:Je,silent:!0});"auto"===Je.stroke&&Tt.setStyle({stroke:o(St/Q)}),C.add(Tt)}if(Z.get("show")){var Lt=Z.get("distance")+mt,$t=P0(lo(St/Q*(F-R)+R),Z.get("formatter")),nn=o(St/Q),an=y*(L-oe-Lt)+M,kn=w*(L-oe-Lt)+O,jn=Z.get("rotate"),cn=0;"radial"===jn?(cn=-ke+2*Math.PI)>Math.PI/2&&(cn+=Math.PI):"tangential"===jn?cn=-ke-Math.PI/2:En(jn)&&(cn=jn*Math.PI/180),C.add(new Qr(0===cn?{style:Eo(Z,{text:$t,x:an,y:kn,verticalAlign:w<-.8?"top":w>.8?"bottom":"middle",align:y<-.4?"left":y>.4?"right":"center"},{inheritColor:nn}),silent:!0}:{style:Eo(Z,{text:$t,x:an,y:kn,verticalAlign:"middle",align:"center"},{inheritColor:nn}),silent:!0,originX:an,originY:kn,rotation:cn}))}if(q.get("show")&&St!==Q){Lt=(Lt=q.get("distance"))?Lt+g:g;for(var Pn=0;Pn<=ne;Pn++){y=Math.cos(ke),w=Math.sin(ke);var Yn=new cs({shape:{x1:y*(L-Lt)+M,y1:w*(L-Lt)+O,x2:y*(L-_e-Lt)+M,y2:w*(L-_e-Lt)+O},silent:!0,style:st});"auto"===st.stroke&&Yn.setStyle({stroke:o((St+Pn/ne)/Q)}),C.add(Yn),ke+=Re}ke-=Re}else ke+=Ee}},t.prototype._renderPointer=function(e,i,r,o,a,l,u,f,g){var y=this.group,w=this._data,C=this._progressEls,M=[],O=e.get(["pointer","show"]),L=e.getModel("progress"),R=L.get("show"),F=e.getData(),Y=F.mapDimension("value"),q=+e.get("min"),Z=+e.get("max"),Q=[q,Z],ne=[l,u];function oe(ke,Ee){var Re,Je=F.getItemModel(ke).getModel("pointer"),st=ri(Je.get("width"),a.r),mt=ri(Je.get("length"),a.r),St=e.get(["pointer","icon"]),Tt=Je.get("offsetCenter"),Lt=ri(Tt[0],a.r),$t=ri(Tt[1],a.r),nn=Je.get("keepAspect");return(Re=St?Da(St,Lt-st/2,$t-mt,st,mt,null,nn):new IA({shape:{angle:-Math.PI/2,width:st,r:mt,x:Lt,y:$t}})).rotation=-(Ee+Math.PI/2),Re.x=a.cx,Re.y=a.cy,Re}function _e(ke,Ee){var Re=L.get("roundCap")?r0:fl,Je=L.get("overlap"),st=Je?L.get("width"):g/F.count(),Tt=new Re({shape:{startAngle:l,endAngle:Ee,cx:a.cx,cy:a.cy,clockwise:f,r0:Je?a.r-st:a.r-(ke+1)*st,r:Je?a.r:a.r-ke*st}});return Je&&(Tt.z2=Z-F.get(Y,ke)%Z),Tt}(R||O)&&(F.diff(w).add(function(ke){var Ee=F.get(Y,ke);if(O){var Re=oe(ke,l);Uo(Re,{rotation:-((isNaN(+Ee)?ne[0]:oo(Ee,Q,ne,!0))+Math.PI/2)},e),y.add(Re),F.setItemGraphicEl(ke,Re)}if(R){var Je=_e(ke,l),st=L.get("clip");Uo(Je,{shape:{endAngle:oo(Ee,Q,ne,st)}},e),y.add(Je),nb(e.seriesIndex,F.dataType,ke,Je),M[ke]=Je}}).update(function(ke,Ee){var Re=F.get(Y,ke);if(O){var Je=w.getItemGraphicEl(Ee),st=Je?Je.rotation:l,mt=oe(ke,st);mt.rotation=st,co(mt,{rotation:-((isNaN(+Re)?ne[0]:oo(Re,Q,ne,!0))+Math.PI/2)},e),y.add(mt),F.setItemGraphicEl(ke,mt)}if(R){var St=C[Ee],Tt=_e(ke,St?St.shape.endAngle:l),Lt=L.get("clip");co(Tt,{shape:{endAngle:oo(Re,Q,ne,Lt)}},e),y.add(Tt),nb(e.seriesIndex,F.dataType,ke,Tt),M[ke]=Tt}}).execute(),F.each(function(ke){var Ee=F.getItemModel(ke),Re=Ee.getModel("emphasis"),Je=Re.get("focus"),st=Re.get("blurScope"),mt=Re.get("disabled");if(O){var St=F.getItemGraphicEl(ke),Tt=F.getItemVisual(ke,"style"),Lt=Tt.fill;if(St instanceof ls){var $t=St.style;St.useStyle(_t({image:$t.image,x:$t.x,y:$t.y,width:$t.width,height:$t.height},Tt))}else St.useStyle(Tt),"pointer"!==St.type&&St.setColor(Lt);St.setStyle(Ee.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===St.style.fill&&St.setStyle("fill",o(oo(F.get(Y,ke),Q,[0,1],!0))),St.z2EmphasisLift=0,el(St,Ee),wa(St,Je,st,mt)}if(R){var nn=M[ke];nn.useStyle(F.getItemVisual(ke,"style")),nn.setStyle(Ee.getModel(["progress","itemStyle"]).getItemStyle()),nn.z2EmphasisLift=0,el(nn,Ee),wa(nn,Je,st,mt)}}),this._progressEls=M)},t.prototype._renderAnchor=function(e,i){var r=e.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),f=Da(a,i.cx-o/2+ri(l[0],i.r),i.cy-o/2+ri(l[1],i.r),o,o,null,u);f.z2=r.get("showAbove")?1:0,f.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(f)}},t.prototype._renderTitleAndDetail=function(e,i,r,o,a){var l=this,u=e.getData(),f=u.mapDimension("value"),g=+e.get("min"),y=+e.get("max"),w=new Gi,C=[],M=[],O=e.isAnimationEnabled(),L=e.get(["pointer","showAbove"]);u.diff(this._data).add(function(R){C[R]=new Qr({silent:!0}),M[R]=new Qr({silent:!0})}).update(function(R,F){C[R]=l._titleEls[F],M[R]=l._detailEls[F]}).execute(),u.each(function(R){var F=u.getItemModel(R),Y=u.get(f,R),q=new Gi,Z=o(oo(Y,[g,y],[0,1],!0)),Q=F.getModel("title");if(Q.get("show")){var ne=Q.get("offsetCenter"),oe=a.cx+ri(ne[0],a.r),_e=a.cy+ri(ne[1],a.r);(Tt=C[R]).attr({z2:L?0:2,style:Eo(Q,{x:oe,y:_e,text:u.getName(R),align:"center",verticalAlign:"middle"},{inheritColor:Z})}),q.add(Tt)}var ke=F.getModel("detail");if(ke.get("show")){var Ee=ke.get("offsetCenter"),Re=a.cx+ri(Ee[0],a.r),Je=a.cy+ri(Ee[1],a.r),st=ri(ke.get("width"),a.r),mt=ri(ke.get("height"),a.r),St=e.get(["progress","show"])?u.getItemVisual(R,"style").fill:Z,Tt=M[R],Lt=ke.get("formatter");Tt.attr({z2:L?0:2,style:Eo(ke,{x:Re,y:Je,text:P0(Y,Lt),width:isNaN(st)?null:st,height:isNaN(mt)?null:mt,align:"center",verticalAlign:"middle"},{inheritColor:St})}),Fa(Tt,{normal:ke},Y,function($t){return P0($t,Lt)}),O&&qM(Tt,R,u,e,{getFormattedLabel:function($t,nn,an,kn,jn,cn){return P0(cn?cn.interpolatedValue:Y,Lt)}}),q.add(Tt)}w.add(q)}),this.group.add(w),this._titleEls=C,this._detailEls=M},t.type="gauge",t}(ao),Cv=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return Oe(t,n),t.prototype.getInitialData=function(e,i){return Fp(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Io),C_=["itemStyle","opacity"],OA=function(n){function t(e,i){var r=n.call(this)||this,o=r,a=new ml,l=new Qr;return o.setTextContent(l),r.setTextGuideLine(a),r.updateData(e,i,!0),r}return Oe(t,n),t.prototype.updateData=function(e,i,r){var o=this,a=e.hostModel,l=e.getItemModel(i),u=e.getItemLayout(i),f=l.getModel("emphasis"),g=l.get(C_);g=g??1,r||Mc(o),o.useStyle(e.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:u.points}),o.style.opacity=0,Uo(o,{style:{opacity:g}},a,i)):co(o,{style:{opacity:g},shape:{points:u.points}},a,i),el(o,l),this._updateLabel(e,i),wa(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(e,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),l=e.hostModel,u=e.getItemModel(i),f=e.getItemLayout(i).label,g=e.getItemVisual(i,"style"),y=g.fill;tl(a,us(u),{labelFetcher:e.hostModel,labelDataIndex:i,defaultOpacity:g.opacity,defaultText:e.getName(i)},{normal:{align:f.textAlign,verticalAlign:f.verticalAlign}}),r.setTextConfig({local:!0,inside:!!f.inside,insideStroke:y,outsideFill:y});var w=f.linePoints;o.setShape({points:w}),r.textGuideLineConfig={anchor:w?new si(w[0][0],w[0][1]):null},co(a,{style:{x:f.x,y:f.y}},l,i),a.attr({rotation:f.rotation,originX:f.x,originY:f.y,z2:10}),r1(r,IC(u),{stroke:y})},t}(gl),BI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._data,l=this.group;o.diff(a).add(function(u){var f=new OA(o,u);o.setItemGraphicEl(u,f),l.add(f)}).update(function(u,f){var g=a.getItemGraphicEl(f);g.updateData(o,u),l.add(g),o.setItemGraphicEl(u,g)}).remove(function(u){Kv(a.getItemGraphicEl(u),e,u)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ao),zI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new iv(Et(this.getData,this),Et(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,i){return Fp(this,{coordDimensions:["value"],encodeDefaulter:xn(Tf,this)})},t.prototype._defaultLabelLine=function(e){vr(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var i=this.getData(),r=n.prototype.getDataParams.call(this,e),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,e)/a*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Io);function FI(n,t){n.eachSeriesByType("funnel",function(e){var st,i=e.getData(),r=i.mapDimension("value"),o=e.get("sort"),a=(st=t,io(e.getBoxLayoutParams(),{width:st.getWidth(),height:st.getHeight()})),l=e.get("orient"),u=a.width,f=a.height,g=function(Je,st){for(var mt=Je.mapDimension("value"),St=Je.mapArray(mt,function(an){return an}),Tt=[],Lt="ascending"===st,$t=0,nn=Je.count();$t<nn;$t++)Tt[$t]=$t;return Ht(st)?Tt.sort(st):"none"!==st&&Tt.sort(function(an,kn){return Lt?St[an]-St[kn]:St[kn]-St[an]}),Tt}(i,o),y=a.x,w=a.y,C="horizontal"===l?[ri(e.get("minSize"),f),ri(e.get("maxSize"),f)]:[ri(e.get("minSize"),u),ri(e.get("maxSize"),u)],M=i.getDataExtent(r),O=e.get("min"),L=e.get("max");null==O&&(O=Math.min(M[0],0)),null==L&&(L=M[1]);var R=e.get("funnelAlign"),F=e.get("gap"),Y=(("horizontal"===l?u:f)-F*(i.count()-1))/i.count(),q=function(Je,st){if("horizontal"===l){var mt=oo(i.get(r,Je)||0,[O,L],C,!0),St=void 0;switch(R){case"top":St=w;break;case"center":St=w+(f-mt)/2;break;case"bottom":St=w+(f-mt)}return[[st,St],[st,St+mt]]}var Tt,Lt=oo(i.get(r,Je)||0,[O,L],C,!0);switch(R){case"left":Tt=y;break;case"center":Tt=y+(u-Lt)/2;break;case"right":Tt=y+u-Lt}return[[Tt,st],[Tt+Lt,st]]};"ascending"===o&&(Y=-Y,F=-F,"horizontal"===l?y+=u:w+=f,g=g.reverse());for(var Z=0;Z<g.length;Z++){var Q=g[Z],ne=g[Z+1],oe=i.getItemModel(Q);if("horizontal"===l){var _e=oe.get(["itemStyle","width"]);null==_e?_e=Y:(_e=ri(_e,u),"ascending"===o&&(_e=-_e));var ke=q(Q,y),Ee=q(ne,y+_e);y+=_e+F,i.setItemLayout(Q,{points:ke.concat(Ee.slice().reverse())})}else{var Re=oe.get(["itemStyle","height"]);null==Re?Re=Y:(Re=ri(Re,f),"ascending"===o&&(Re=-Re)),ke=q(Q,w),Ee=q(ne,w+Re),w+=Re+F,i.setItemLayout(Q,{points:ke.concat(Ee.slice().reverse())})}}!function(Je){var st=Je.hostModel.get("orient");Je.each(function(mt){var St,Tt,Lt,$t,nn=Je.getItemModel(mt),an=nn.getModel("label").get("position"),kn=nn.getModel("labelLine"),jn=Je.getItemLayout(mt),cn=jn.points,Pn="inner"===an||"inside"===an||"center"===an||"insideLeft"===an||"insideRight"===an;if(Pn)"insideLeft"===an?(Tt=(cn[0][0]+cn[3][0])/2+5,Lt=(cn[0][1]+cn[3][1])/2,St="left"):"insideRight"===an?(Tt=(cn[1][0]+cn[2][0])/2-5,Lt=(cn[1][1]+cn[2][1])/2,St="right"):(Tt=(cn[0][0]+cn[1][0]+cn[2][0]+cn[3][0])/4,Lt=(cn[0][1]+cn[1][1]+cn[2][1]+cn[3][1])/4,St="center"),$t=[[Tt,Lt],[Tt,Lt]];else{var Yn=void 0,Zn=void 0,Wn=void 0,oi=void 0,Un=kn.get("length");"left"===an?(Zn=(cn[3][1]+cn[0][1])/2,Tt=(Wn=(Yn=(cn[3][0]+cn[0][0])/2)-Un)-5,St="right"):"right"===an?(Zn=(cn[1][1]+cn[2][1])/2,Tt=(Wn=(Yn=(cn[1][0]+cn[2][0])/2)+Un)+5,St="left"):"top"===an?(Yn=(cn[3][0]+cn[0][0])/2,Lt=(oi=(Zn=(cn[3][1]+cn[0][1])/2)-Un)-5,St="center"):"bottom"===an?(Yn=(cn[1][0]+cn[2][0])/2,Lt=(oi=(Zn=(cn[1][1]+cn[2][1])/2)+Un)+5,St="center"):"rightTop"===an?(Yn="horizontal"===st?cn[3][0]:cn[1][0],Zn="horizontal"===st?cn[3][1]:cn[1][1],"horizontal"===st?(Lt=(oi=Zn-Un)-5,St="center"):(Tt=(Wn=Yn+Un)+5,St="top")):"rightBottom"===an?(Yn=cn[2][0],Zn=cn[2][1],"horizontal"===st?(Lt=(oi=Zn+Un)+5,St="center"):(Tt=(Wn=Yn+Un)+5,St="bottom")):"leftTop"===an?(Yn=cn[0][0],Zn="horizontal"===st?cn[0][1]:cn[1][1],"horizontal"===st?(Lt=(oi=Zn-Un)-5,St="center"):(Tt=(Wn=Yn-Un)-5,St="right")):"leftBottom"===an?(Yn="horizontal"===st?cn[1][0]:cn[3][0],Zn="horizontal"===st?cn[1][1]:cn[2][1],"horizontal"===st?(Lt=(oi=Zn+Un)+5,St="center"):(Tt=(Wn=Yn-Un)-5,St="right")):(Yn=(cn[1][0]+cn[2][0])/2,Zn=(cn[1][1]+cn[2][1])/2,"horizontal"===st?(Lt=(oi=Zn+Un)+5,St="center"):(Tt=(Wn=Yn+Un)+5,St="left")),"horizontal"===st?Tt=Wn=Yn:Lt=oi=Zn,$t=[[Yn,Zn],[Wn,oi]]}jn.label={linePoints:$t,x:Tt,y:Lt,verticalAlign:"middle",textAlign:St,inside:Pn}})}(i)})}var VI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Gi,e._initialized=!1,e}return Oe(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,i,r,o){this._progressiveEls=null;var C,M,L,R,F,Y,a=this._dataGroup,l=e.getData(),u=this._data,f=e.coordinateSystem,g=f.dimensions,y=LA(e);if(l.diff(u).add(function(C){R0(DA(l,a,C,g,f),l,C,y)}).update(function(C,M){var O=u.getItemGraphicEl(M),L=N0(l,C,g,f);l.setItemGraphicEl(C,O),co(O,{shape:{points:L}},e,C),Mc(O),R0(O,l,C,y)}).remove(function(C){var M=u.getItemGraphicEl(C);a.remove(M)}).execute(),!this._initialized){this._initialized=!0;var w=(M=e,L=(C=f).model,R=C.getRect(),F=new Zr({shape:{x:R.x,y:R.y,width:R.width,height:R.height}}),Y="horizontal"===L.get("layout")?"width":"height",F.setShape(Y,0),Uo(F,{shape:{width:R.width,height:R.height}},M,function(){setTimeout(function(){a.removeClipPath()})}),F);a.setClipPath(w)}this._data=l},t.prototype.incrementalPrepareRender=function(e,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,i,r){for(var o=i.getData(),a=i.coordinateSystem,l=a.dimensions,u=LA(i),f=this._progressiveEls=[],g=e.start;g<e.end;g++){var y=DA(o,this._dataGroup,g,l,a);y.incremental=!0,R0(y,o,g,u),f.push(y)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ao);function N0(n,t,e,i){for(var r,o=[],a=0;a<e.length;a++){var l=e[a],u=n.get(n.mapDimension(l),t);r=u,("category"===i.getAxis(l).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(u,l))}return o}function DA(n,t,e,i,r){var o=N0(n,e,i,r),a=new ml({shape:{points:o},z2:10});return t.add(a),n.setItemGraphicEl(e,a),a}function LA(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),ai(t=ze(t))&&(t=0),{smooth:t}}function R0(n,t,e,i){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=t.getItemModel(e),o=r.getModel("emphasis");el(n,r,"lineStyle"),wa(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var HI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return Oe(t,n),t.prototype.getInitialData=function(e,i){return Xh(null,this,{useEncodeDefaulter:Et(wL,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,l){e===a&&o.push(r.getRawIndex(l))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Io);function wL(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return pe(t.dimensions,function(i){var r=+i.replace("dim","");e[i]=r}),e}}var k_=["lineStyle","opacity"],WI={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){e.eachActiveState(o,function(a,l){var u=i[a];if("normal"===a&&o.hasItemOption){var f=o.getItemModel(l).get(k_,!0);null!=f&&(u=f)}o.ensureUniqueItemVisual(l,"style").opacity=u},r.start,r.end)}}}};function jI(n){(function(t){if(!t.parallel){var e=!1;pe(t.series,function(i){i&&"parallel"===i.type&&(e=!0)}),e&&(t.parallel=[{}])}})(n),function(t){pe(Xi(t.parallelAxis),function(i){if(hi(i)){var r=i.parallelIndex||0,o=Xi(t.parallel)[r];o&&o.parallelAxisDefault&&rt(i,o.parallelAxisDefault,!1)}})}(n)}var YI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){this._model=e,this._api=r,this._handlers||(this._handlers={},pe(SL,function(o,a){r.getZr().on(a,this._handlers[a]=Et(o,this))},this)),pm(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,i){yy(this,"_throttledDispatchExpand"),pe(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(_t({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Bo),SL={mousedown:function(n){A_(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(A_(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&A_(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=e.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function A_(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var CL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&rt(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,i){var r=e.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},t.prototype.setAxisExpand=function(e){pe(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){e.hasOwnProperty(i)&&(this.option[i]=e[i])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],i=this.parallelAxisIndex=[];pe(on(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){e.push("dim"+r.get("dim")),i.push(r.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(qr),PA=function(n){function t(e,i,r,o,a){var l=n.call(this,e,i,r)||this;return l.type=o||"value",l.axisIndex=a,l}return Oe(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Nc);function dg(n,t,e,i,r,o){n=n||0;var a=e[1]-e[0];if(null!=r&&(r=pg(r,[0,a])),null!=o&&(o=Math.max(o,r??0)),"all"===i){var l=Math.abs(t[1]-t[0]);l=pg(l,[0,a]),r=o=pg(l,[r,o]),i=0}t[0]=pg(t[0],e),t[1]=pg(t[1],e);var u=B0(t,i);t[i]+=n;var f,g=r||0,y=e.slice();return u.sign<0?y[0]+=g:y[1]-=g,t[i]=pg(t[i],y),f=B0(t,i),null!=r&&(f.sign!==u.sign||f.span<r)&&(t[1-i]=t[i]+u.sign*r),f=B0(t,i),null!=o&&f.span>o&&(t[1-i]=t[i]+f.sign*o),t}function B0(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function pg(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var M_=pe,T_=Math.min,NA=Math.max,E_=Math.floor,GI=Math.ceil,XI=lo,RA=Math.PI,qI=function(){function n(t,e,i){this.type="parallel",this._axesMap=be(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=t.parallelAxisIndex;M_(t.dimensions,function(a,l){var u=o[l],f=e.getComponent("parallelAxis",u),g=this._axesMap.set(a,new PA(a,qh(f),[0,0],f.get("type"),u));g.onBand="category"===g.type&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.coordinateSystem=f.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),i=e.axisBase,r=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],l=t[o];return a>=i&&a<=i+e.axisLength&&l>=r&&l<=r+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var r=i.getData();M_(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),Op(a.scale,a.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=io(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var t,e=this._model,i=this._rect,r=["x","y"],o=["width","height"],a=e.get("layout"),l="horizontal"===a?0:1,u=i[o[l]],f=[0,u],g=this.dimensions.length,y=z0(e.get("axisExpandWidth"),f),w=z0(e.get("axisExpandCount")||0,[0,g]),C=e.get("axisExpandable")&&g>3&&g>w&&w>1&&y>0&&u>0,M=e.get("axisExpandWindow");M?(t=z0(M[1]-M[0],f),M[1]=M[0]+t):(t=z0(y*(w-1),f),(M=[y*(e.get("axisExpandCenter")||E_(g/2))-t/2])[1]=M[0]+t);var O=(u-t)/(g-w);O<3&&(O=0);var L=[E_(XI(M[0]/y,1))+1,GI(XI(M[1]/y,1))-1];return{layout:a,pixelDimIndex:l,layoutBase:i[r[l]],layoutLength:u,axisBase:i[r[1-l]],axisLength:i[o[1-l]],axisExpandable:C,axisExpandWidth:y,axisCollapseWidth:O,axisExpandWindow:M,axisCount:g,winInnerIndices:L,axisExpandWindow0Pos:O/y*M[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;e.each(function(a){var l=[0,r.axisLength],u=a.inverse?1:0;a.setExtent(l[u],l[1-u])}),M_(i,function(a,l){var u=(r.axisExpandable?kL:UI)(l,r),f={horizontal:{x:u.position,y:r.axisLength},vertical:{x:0,y:u.position}},y=[f[o].x+t.x,f[o].y+t.y],w={horizontal:RA/2,vertical:0}[o],C=[1,0,0,1,0,0];gi(C,C,w),Cn(C,C,y),this._axesLayout[a]={position:y,rotation:w,transform:C,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,i,r){null==i&&(i=0),null==r&&(r=t.count());var o=this._axesMap,a=this.dimensions,l=[],u=[];pe(a,function(O){l.push(t.mapDimension(O)),u.push(o.get(O).model)});for(var f=this.hasAxisBrushed(),g=i;g<r;g++){var y=void 0;if(f){y="active";for(var w=t.getValues(l,g),C=0,M=a.length;C<M;C++)if("inactive"===u[C].getActiveState(w[C])){y="inactive";break}}else y="normal";e(y,g)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,i=!1,r=0,o=t.length;r<o;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(t,e){return Ju([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return Qe(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,r=e.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var l,u=t[i]-e.layoutBase-e.axisExpandWindow0Pos,f="slide",g=e.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),w=null!=y[0];if(g)w&&g&&u<o*y[0]?(f="jump",l=u-o*y[2]):w&&g&&u>o*(1-y[0])?(f="jump",l=u-o*(1-y[2])):(l=u-o*y[1])>=0&&(l=u-o*(1-y[1]))<=0&&(l=0),(l*=e.axisExpandWidth/g)?dg(l,r,a,"all"):f="none";else{var C=r[1]-r[0];(r=[NA(0,a[1]*u/C-C/2)])[1]=T_(a[1],r[0]+C),r[0]=r[1]-C}return{axisExpandWindow:r,behavior:f}},n}();function z0(n,t){return T_(NA(n,t[0]),t[1])}function UI(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function kL(n,t){var e,i,o=t.axisExpandWidth,l=t.axisCollapseWidth,u=t.winInnerIndices,f=l,g=!1;return n<u[0]?(e=n*l,i=l):n<=u[1]?(e=t.axisExpandWindow0Pos+n*o-t.axisExpandWindow[0],f=o,g=!0):(e=t.layoutLength-(t.axisCount-1-n)*l,i=l),{position:e,axisNameAvailableWidth:f,axisLabelShow:g,nameTruncateMaxWidth:i}}var fg={create:function(n,t){var e=[];return n.eachComponent("parallel",function(i,r){var o=new qI(i,n,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,e.push(o)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",_o).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},I_=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return Oe(t,n),t.prototype.getAreaSelectStyle=function(){return tc([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var i=this.activeIntervals=Qe(e);if(i)for(var r=i.length-1;r>=0;r--)as(i[r])},t.prototype.getActiveState=function(e){var i=this.activeIntervals;if(!i.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=e&&e<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=e&&e<=i[o][1])return"active";return"inactive"},t}(qr);qe(I_,qf);var Xp=!0,F0=Math.min,gg=Math.max,$I=Math.pow,ZI="globalPan",V0={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},AL={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},O_={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},ML=0,BA=function(n){function t(e){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new Gi,i._uid="brushController_"+ML++,pe(j0,function(r,o){this._handlers[o]=Et(r,this)},i),i}return Oe(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var o,a,i=this._zr;this._enableGlobalPan||(o=ZI,a=this._uid,g0(i)[o]=a),pe(this._handlers,function(r,o){i.on(o,r)}),this._brushType=e.brushType,this._brushOption=rt(Qe(O_),e,!0)},t.prototype._doDisableBrush=function(){var r,o,a,e=this._zr;r=ZI,o=this._uid,(a=g0(e))[r]===o&&(a[r]=null),pe(this._handlers,function(i,r){e.off(r,i)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var i=this._panels={};pe(e,function(r){i[r.panelId]=Qe(r)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=i.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=ue(e,function(f){return rt(Qe(O_),f,!0)});var i=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new Gh(i,e,function(f,g){return l(f.__brushOption,g)},l).add(u).update(u).remove(function(f){i[f]!==a&&o.group.remove(i[f])}).execute(),this;function l(f,g){return(null!=f.id?f.id:"\0-brush-index-"+g)+"-"+f.brushType}function u(f,g){var y=e[f];if(null!=g&&i[g]===a)r[f]=i[g];else{var w=r[f]=null!=g?(i[g].__brushOption=y,i[g]):QI(o,KI(o,y));zA(o,w)}}},t.prototype.unmount=function(){return this.enableBrush(!1),VA(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(h);function KI(n,t){var e=vg[t.brushType].createCover(n,t);return e.__brushOption=t,H0(e,t),n.group.add(e),e}function QI(n,t){var e=FA(t);return e.endCreating&&(e.endCreating(n,t),H0(t,t.__brushOption)),t}function JI(n,t){var e=t.__brushOption;FA(t).updateCoverShape(n,t,e.range,e)}function H0(n,t){var e=t.z;null==e&&(e=1e4),n.traverse(function(i){i.z=e,i.z2=e})}function zA(n,t){FA(t).updateCommon(n,t),JI(n,t)}function FA(n){return vg[n.__brushOption.brushType]}function D_(n,t,e){var i,r=n._panels;if(!r)return Xp;var o=n._transform;return pe(r,function(a){a.isTargetByCursor(t,e,o)&&(i=a)}),i}function eO(n,t){var e=n._panels;if(!e)return Xp;var i=t.__brushOption.panelId;return null!=i?e[i]:Xp}function VA(n){var t=n._covers,e=t.length;return pe(t,function(i){n.group.remove(i)},n),t.length=0,!!e}function mg(n,t){var e=ue(n._covers,function(i){var r=i.__brushOption,o=Qe(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function L_(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function HA(n,t,e,i){var r=new Gi;return r.add(new Zr({name:"main",style:WA(e),silent:!0,draggable:!0,cursor:"move",drift:xn(qp,n,t,r,["n","s","w","e"]),ondragend:xn(mg,t,{isEnd:!0})})),pe(i,function(o){r.add(new Zr({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:xn(qp,n,t,r,o),ondragend:xn(mg,t,{isEnd:!0})}))}),r}function tO(n,t,e,i){var r=i.brushStyle.lineWidth||0,o=gg(r,6),a=e[0][0],l=e[1][0],u=a-r/2,f=l-r/2,g=e[0][1],y=e[1][1],w=g-o+r/2,C=y-o+r/2,M=g-a,O=y-l,L=M+r,R=O+r;qd(n,t,"main",a,l,M,O),i.transformable&&(qd(n,t,"w",u,f,o,R),qd(n,t,"e",w,f,o,R),qd(n,t,"n",u,f,L,o),qd(n,t,"s",u,C,L,o),qd(n,t,"nw",u,f,o,o),qd(n,t,"ne",w,f,o,o),qd(n,t,"sw",u,C,o,o),qd(n,t,"se",w,C,o,o))}function P_(n,t){var e=t.__brushOption,i=e.transformable,r=t.childAt(0);r.useStyle(WA(e)),r.attr({silent:!i,cursor:i?"move":"default"}),pe([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var u,f,g,a=t.childOfName(o.join("")),l=1===o.length?N_(n,o[0]):(("e"===(g=[N_(u=n,(f=o)[0]),N_(u,f[1])])[0]||"w"===g[0])&&g.reverse(),g.join(""));a&&a.attr({silent:!i,invisible:!i,cursor:i?AL[l]+"-resize":null})})}function qd(n,t,e,i,r,o,a){var u,f,g,l=t.childOfName(e);l&&l.setShape((u=Ud(n,t,[[i,r],[i+o,r+a]]),{x:f=F0(u[0][0],u[1][0]),y:g=F0(u[0][1],u[1][1]),width:gg(u[0][0],u[1][0])-f,height:gg(u[0][1],u[1][1])-g}))}function WA(n){return It({strokeNoScale:!0},n.brushStyle)}function jA(n,t,e,i){var r=[F0(n,e),F0(t,i)],o=[gg(n,e),gg(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function N_(n,t){return{left:"w",right:"e",top:"n",bottom:"s"}[Xg({w:"left",e:"right",n:"top",s:"bottom"}[t],lu(n.group))]}function qp(n,t,e,i,r,o){var a=e.__brushOption,l=n.toRectRange(a.range),u=W0(t,r,o);pe(i,function(f){var g=V0[f];l[g[0]][g[1]]+=u[g[0]]}),a.range=n.fromRectRange(jA(l[0][0],l[1][0],l[0][1],l[1][1])),zA(t,e),mg(t,{isEnd:!1})}function YA(n,t,e,i){var r=t.__brushOption.range,o=W0(n,e,i);pe(r,function(a){a[0]+=o[0],a[1]+=o[1]}),zA(n,t),mg(n,{isEnd:!1})}function W0(n,t,e){var i=n.group,r=i.transformCoordToLocal(t,e),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function Ud(n,t,e){var i=eO(n,t);return i&&i!==Xp?i.clipPath(e,n._transform):Qe(e)}function R_(n){var t=n.event;t.preventDefault&&t.preventDefault()}function GA(n,t,e){return n.childOfName("main").contain(t,e)}function nO(n,t,e,i){var r,o=n._creatingCover,a=n._creatingPanel,l=n._brushOption;if(n._track.push(e.slice()),function(g){var y=g._track;if(!y.length)return!1;var w=y[y.length-1],C=y[0],M=w[0]-C[0],O=w[1]-C[1];return $I(M*M+O*O,.5)>6}(n)||o){if(a&&!o){"single"===l.brushMode&&VA(n);var u=Qe(l);u.brushType=B_(u.brushType,a),u.panelId=a===Xp?null:a.panelId,o=n._creatingCover=KI(n,u),n._covers.push(o)}if(o){var f=vg[B_(n._brushType,a)];o.__brushOption.range=f.getCreatingRange(Ud(n,o,n._track)),i&&(QI(n,o),f.updateCommon(n,o)),JI(n,o),r={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&D_(n,t,e)&&VA(n)&&(r={isEnd:i,removeOnClick:!0});return r}function B_(n,t){return"auto"===n?t.defaultBrushType:n}var j0={mousedown:function(n){if(this._dragging)z_(this,n);else if(!n.target||!n.target.draggable){R_(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=D_(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(o,a,l){if(o._brushType&&(O=a.offsetY,L=o._zr,!((M=a.offsetX)<0||M>L.getWidth()||O<0||O>L.getHeight()))){var u=o._zr,f=o._covers,g=D_(o,a,l);if(!o._dragging)for(var y=0;y<f.length;y++){var w=f[y].__brushOption;if(g&&(g===Xp||w.panelId===g.panelId)&&vg[w.brushType].contain(f[y],l[0],l[1]))return}g&&u.setCursorStyle("crosshair")}var M,O,L}(this,n,i),this._dragging){R_(n);var r=nO(this,n,i,!1);r&&mg(this,r)}},mouseup:function(n){z_(this,n)}};function z_(n,t){if(n._dragging){R_(t);var r=n.group.transformCoordToLocal(t.offsetX,t.offsetY),o=nO(n,t,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&mg(n,o)}}var vg={lineX:Up(0),lineY:Up(1),rect:{createCover:function(n,t){function e(i){return i}return HA({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=L_(n);return jA(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,i){tO(n,t,e,i)},updateCommon:P_,contain:GA},polygon:{createCover:function(n,t){var e=new Gi;return e.add(new ml({name:"main",style:WA(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new gl({name:"main",draggable:!0,drift:xn(YA,n,t),ondragend:xn(mg,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,i){t.childAt(0).setShape({points:Ud(n,t,e)})},updateCommon:P_,contain:GA}};function Up(n){return{createCover:function(t,e){return HA({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=L_(t);return[F0(e[0][n],e[1][n]),gg(e[0][n],e[1][n])]},updateCoverShape:function(t,e,i,r){var o,a=eO(t,e);if(a!==Xp&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var l=t._zr;o=[0,[l.getWidth(),l.getHeight()][1-n]]}var u=[i,o];n&&u.reverse(),tO(t,e,u,r)},updateCommon:P_,contain:GA}}function Y0(n){return n=F_(n),function(t){return bb(t,n)}}function XA(n,t){return n=F_(n),function(e){var i=t??e,o=i?n.x:n.y;return[o,o+((i?n.width:n.height)||0)]}}function qA(n,t,e){var i=F_(n);return function(r,o){return i.contain(o[0],o[1])&&!m0(r,t,e)}}function F_(n){return lr.create(n)}var TL=["axisLine","axisTickLabel","axisName"],iO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e,i){n.prototype.init.apply(this,arguments),(this._brushController=new BA(i.getZr())).on("brush",Et(this._onBrush,this))},t.prototype.render=function(e,i,r,o){if(M=e,!(L=o)||"axisAreaSelect"!==L.type||i.findComponents({mainType:"parallelAxis",query:L})[0]!==M){this.axisModel=e,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Gi,this.group.add(this._axisGroup),e.get("show")){var l=function(M,O){return O.getComponent("parallel",M.get("parallelIndex"))}(e,i),u=l.coordinateSystem,f=e.getAreaSelectStyle(),g=f.width,w=_t({strokeContainThreshold:g},u.getAxisLayout(e.axis.dim)),C=new Es(e,w);pe(TL,C.add,C),this._axisGroup.add(C.getGroup()),this._refreshBrushController(w,f,e,l,g,r),qg(a,this._axisGroup,e)}}var M,L},t.prototype._refreshBrushController=function(e,i,r,o,a,l){var w,C,u=r.axis.getExtent(),f=u[1]-u[0],g=Math.min(30,.1*Math.abs(f)),y=lr.create({x:u[0],y:-a/2,width:f,height:a});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:Y0(y),isTargetByCursor:qA(y,l,o),getLinearBrushOtherExtent:XA(y,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers((C=(w=r).axis,ue(w.activeIntervals,function(M){return{brushType:"lineX",panelId:"pl",range:[C.dataToCoord(M[0],!0),C.dataToCoord(M[1],!0)]}})))},t.prototype._onBrush=function(e){var r=this.axisModel,o=r.axis,a=ue(e.areas,function(l){return[o.coordToData(l.range[0],!0),o.coordToData(l.range[1],!0)]});(!r.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Bo),rO={type:"axisAreaSelect",event:"axisAreaSelected"},UA={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function oO(n){n.registerComponentView(YI),n.registerComponentModel(CL),n.registerCoordinateSystem("parallel",fg),n.registerPreprocessor(jI),n.registerComponentModel(I_),n.registerComponentView(iO),ig(n,"parallel",I_,UA),function(t){t.registerAction(rO,function(e,i){i.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,i){i.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}(n)}var aO=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},$A=function(n){function t(e){return n.call(this,e)||this}return Oe(t,n),t.prototype.getDefaultShape=function(){return new aO},t.prototype.buildPath=function(e,i){var r=i.extent;e.moveTo(i.x1,i.y1),e.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(e.lineTo(i.x2+r,i.y2),e.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(e.lineTo(i.x2,i.y2+r),e.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),e.closePath()},t.prototype.highlight=function(){_d(this)},t.prototype.downplay=function(){wd(this)},t}(hr),ZA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return Oe(t,n),t.prototype.render=function(e,i,r){var M,O,R,o=this,a=e.getGraph(),l=this.group,u=e.layoutInfo,f=u.width,g=u.height,y=e.getData(),w=e.getData("edge"),C=e.get("orient");this._model=e,l.removeAll(),l.x=u.x,l.y=u.y,a.eachEdge(function(M){var O=new $A,L=_r(O);L.dataIndex=M.dataIndex,L.seriesIndex=e.seriesIndex,L.dataType="edge";var R,F,Y,q,Z,Q,ne,oe,_e=M.getModel(),ke=_e.getModel("lineStyle"),Ee=ke.get("curveness"),Re=M.node1.getLayout(),Je=M.node1.getModel(),st=Je.get("localX"),mt=Je.get("localY"),St=M.node2.getLayout(),Tt=M.node2.getModel(),Lt=Tt.get("localX"),$t=Tt.get("localY"),nn=M.getLayout();O.shape.extent=Math.max(1,nn.dy),O.shape.orient=C,"vertical"===C?(Z=R=(null!=st?st*f:Re.x)+nn.sy,Q=(F=(null!=mt?mt*g:Re.y)+Re.dy)*(1-Ee)+(q=null!=$t?$t*g:St.y)*Ee,ne=Y=(null!=Lt?Lt*f:St.x)+nn.ty,oe=F*Ee+q*(1-Ee)):(Z=(R=(null!=st?st*f:Re.x)+Re.dx)*(1-Ee)+(Y=null!=Lt?Lt*f:St.x)*Ee,Q=F=(null!=mt?mt*g:Re.y)+nn.sy,ne=R*Ee+Y*(1-Ee),oe=q=(null!=$t?$t*g:St.y)+nn.ty),O.setShape({x1:R,y1:F,x2:Y,y2:q,cpx1:Z,cpy1:Q,cpx2:ne,cpy2:oe}),O.useStyle(ke.getItemStyle()),sO(O.style,C,M);var an=""+_e.get("value"),kn=us(_e,"edgeLabel");tl(O,kn,{labelFetcher:{getFormattedLabel:function(Pn,Yn,Zn,Wn,oi,Un){return e.getFormattedLabel(Pn,Yn,"edge",Wn,fr(oi,kn.normal&&kn.normal.get("formatter"),an),Un)}},labelDataIndex:M.dataIndex,defaultText:an}),O.setTextConfig({position:"inside"});var jn=_e.getModel("emphasis");el(O,_e,"lineStyle",function(Pn){var Yn=Pn.getItemStyle();return sO(Yn,C,M),Yn}),l.add(O),w.setItemGraphicEl(M.dataIndex,O);var cn=jn.get("focus");wa(O,"adjacency"===cn?M.getAdjacentDataIndices():"trajectory"===cn?M.getTrajectoryDataIndices():cn,jn.get("blurScope"),jn.get("disabled"))}),a.eachNode(function(M){var O=M.getLayout(),L=M.getModel(),R=L.get("localX"),F=L.get("localY"),Y=L.getModel("emphasis"),q=new Zr({shape:{x:null!=R?R*f:O.x,y:null!=F?F*g:O.y,width:O.dx,height:O.dy},style:L.getModel("itemStyle").getItemStyle(),z2:10});tl(q,us(L),{labelFetcher:{getFormattedLabel:function(Q,ne){return e.getFormattedLabel(Q,ne,"node")}},labelDataIndex:M.dataIndex,defaultText:M.id}),q.disableLabelAnimation=!0,q.setStyle("fill",M.getVisual("color")),q.setStyle("decal",M.getVisual("style").decal),el(q,L),l.add(q),y.setItemGraphicEl(M.dataIndex,q),_r(q).dataType="node";var Z=Y.get("focus");wa(q,"adjacency"===Z?M.getAdjacentDataIndices():"trajectory"===Z?M.getTrajectoryDataIndices():Z,Y.get("blurScope"),Y.get("disabled"))}),y.eachItemGraphicEl(function(M,O){y.getItemModel(O).get("draggable")&&(M.drift=function(L,R){o._focusAdjacencyDisabled=!0,this.shape.x+=L,this.shape.y+=R,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:y.getRawIndex(O),localX:this.shape.x/f,localY:this.shape.y/g})},M.ondragend=function(){o._focusAdjacencyDisabled=!1},M.draggable=!0,M.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath((M=l.getBoundingRect(),O=e,Uo(R=new Zr({shape:{x:M.x-10,y:M.y-10,width:0,height:M.height+20}}),{shape:{width:M.width+20}},O,function(){l.removeClipPath()}),R)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ao);function sO(n,t,e){switch(n.fill){case"source":n.fill=e.node1.getVisual("color"),n.decal=e.node1.getVisual("style").decal;break;case"target":n.fill=e.node2.getVisual("color"),n.decal=e.node2.getVisual("style").decal;break;case"gradient":var i=e.node1.getVisual("color"),r=e.node2.getVisual("color");On(i)&&On(r)&&(n.fill=new jg(0,0,+("horizontal"===t),+("vertical"===t),[{color:i,offset:0},{color:r,offset:1}]))}}var lO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.getInitialData=function(e,i){var r=e.edges||e.links,o=e.data||e.nodes,a=e.levels;this.levelModels=[];for(var l=this.levelModels,u=0;u<a.length;u++)null!=a[u].depth&&a[u].depth>=0&&(l[a[u].depth]=new ho(a[u],this,i));if(o&&r)return EA(o,r,this,!0,function(g,y){g.wrapMethod("getItemModel",function(w,C){var M=w.parentModel,O=M.getData().getItemLayout(C);if(O){var R=M.levelModels[O.depth];R&&(w.parentModel=R)}return w}),y.wrapMethod("getItemModel",function(w,C){var M=w.parentModel,O=M.getGraph().getEdgeByIndex(C).node1.getLayout();if(O){var R=M.levelModels[O.depth];R&&(w.parentModel=R)}return w})}).data},t.prototype.setNodePosition=function(e,i){var r=(this.option.data||this.option.nodes)[e];r.localX=i[0],r.localY=i[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,i,r){function o(y){return isNaN(y)||null==y}if("edge"===r){var a=this.getDataParams(e,r),l=a.data,u=a.value;return hs("nameValue",{name:l.source+" -- "+l.target,value:u,noValue:o(u)})}var f=this.getGraph().getNodeByIndex(e).getLayout().value,g=this.getDataParams(e,r).data.name;return hs("nameValue",{name:null!=g?g+"":null,value:f,noValue:o(f)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,i){var r=n.prototype.getDataParams.call(this,e,i);if(null==r.value&&"node"===i){var o=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=o}return r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Io);function EL(n,t){n.eachSeriesByType("sankey",function(e){var w,i=e.get("nodeWidth"),r=e.get("nodeGap"),o=(w=t,io(e.getBoxLayoutParams(),{width:w.getWidth(),height:w.getHeight()}));e.layoutInfo=o;var a=o.width,l=o.height,u=e.getGraph(),f=u.nodes,g=u.edges;pe(f,function(w){var C=$d(w.outEdges,bg),M=$d(w.inEdges,bg),O=w.getValue()||0,L=Math.max(C,M,O);w.setLayout({value:L},!0)}),function(y,w,C,M,O,L,R,F,Y){var q,Q;(function(q,Z,Q,ne,oe,_e,ke){for(var Ee=[],Re=[],Je=[],st=[],mt=0,St=0;St<Z.length;St++)Ee[St]=1;for(St=0;St<q.length;St++)Re[St]=q[St].inEdges.length,0===Re[St]&&Je.push(q[St]);for(var Tt=-1;Je.length;){for(var Lt=0;Lt<Je.length;Lt++){var $t=Je[Lt],nn=$t.hostGraph.data.getRawDataItem($t.dataIndex),an=null!=nn.depth&&nn.depth>=0;an&&nn.depth>Tt&&(Tt=nn.depth),$t.setLayout({depth:an?nn.depth:mt},!0),$t.setLayout("vertical"===_e?{dy:Q}:{dx:Q},!0);for(var kn=0;kn<$t.outEdges.length;kn++){var jn=$t.outEdges[kn];Ee[Z.indexOf(jn)]=0;var cn=jn.node2;0==--Re[q.indexOf(cn)]&&st.indexOf(cn)<0&&st.push(cn)}}++mt,Je=st,st=[]}for(St=0;St<Ee.length;St++)if(1===Ee[St])throw new Error("Sankey is a DAG, the original data has cycle!");var Wn,oi,Pn=Tt>mt-1?Tt:mt-1;ke&&"left"!==ke&&function(Zn,Wn,oi,Un){if("right"===Wn){for(var ui=[],Ti=Zn,yr=0;Ti.length;){for(var Er=0;Er<Ti.length;Er++){var Ao=Ti[Er];Ao.setLayout({skNodeHeight:yr},!0);for(var Wr=0;Wr<Ao.inEdges.length;Wr++){var ro=Ao.inEdges[Wr];ui.indexOf(ro.node1)<0&&ui.push(ro.node1)}}Ti=ui,ui=[],++yr}pe(Zn,function(mo){KA(mo)||mo.setLayout({depth:Math.max(0,Un-mo.getLayout().skNodeHeight)},!0)})}else"justify"===Wn&&(na=Un,pe(Zn,function(pa){KA(pa)||pa.outEdges.length||pa.setLayout({depth:na},!0)}));var na}(q,ke,0,Pn),Wn="vertical"===_e?(oe-Q)/Pn:(ne-Q)/Pn,oi=_e,pe(q,function(Un){var ui=Un.getLayout().depth*Wn;Un.setLayout("vertical"===oi?{y:ui}:{x:ui},!0)})})(y,w,C,O,L,F,Y),function(q,Z,Q,ne,oe,_e,ke){var mt,St,Tt,Ee=(mt=[],St="vertical"===ke?"y":"x",(Tt=jo(q,function(Lt){return Lt.getLayout()[St]})).keys.sort(function(Lt,$t){return Lt-$t}),pe(Tt.keys,function(Lt){mt.push(Tt.buckets.get(Lt))}),mt);(function(Je,st,mt,St,Tt,Lt){var $t=1/0;pe(Je,function(nn){var an=nn.length,kn=0;pe(nn,function(cn){kn+=cn.getLayout().value});var jn="vertical"===Lt?(St-(an-1)*Tt)/kn:(mt-(an-1)*Tt)/kn;jn<$t&&($t=jn)}),pe(Je,function(nn){pe(nn,function(an,kn){var jn=an.getLayout().value*$t;"vertical"===Lt?(an.setLayout({x:kn},!0),an.setLayout({dx:jn},!0)):(an.setLayout({y:kn},!0),an.setLayout({dy:jn},!0))})}),pe(st,function(nn){var an=+nn.getValue()*$t;nn.setLayout({dy:an},!0)})})(Ee,Z,Q,ne,oe,ke),QA(Ee,oe,Q,ne,ke);for(var Re=1;_e>0;_e--)yg(Ee,Re*=.99,ke),QA(Ee,oe,Q,ne,ke),wl(Ee,Re,ke),QA(Ee,oe,Q,ne,ke)}(y,w,L,O,M,R,F),Q="vertical"===F?"x":"y",pe(q=y,function(ne){ne.outEdges.sort(function(oe,_e){return oe.node2.getLayout()[Q]-_e.node2.getLayout()[Q]}),ne.inEdges.sort(function(oe,_e){return oe.node1.getLayout()[Q]-_e.node1.getLayout()[Q]})}),pe(q,function(ne){var oe=0,_e=0;pe(ne.outEdges,function(ke){ke.setLayout({sy:oe},!0),oe+=ke.getLayout().dy}),pe(ne.inEdges,function(ke){ke.setLayout({ty:_e},!0),_e+=ke.getLayout().dy})})}(f,g,i,r,a,l,0!==on(f,function(y){return 0===y.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function KA(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function QA(n,t,e,i,r){var o="vertical"===r?"x":"y";pe(n,function(a){var l,u,f;a.sort(function(M,O){return M.getLayout()[o]-O.getLayout()[o]});for(var g=0,y=a.length,w="vertical"===r?"dx":"dy",C=0;C<y;C++)(f=g-(u=a[C]).getLayout()[o])>0&&(l=u.getLayout()[o]+f,u.setLayout("vertical"===r?{x:l}:{y:l},!0)),g=u.getLayout()[o]+u.getLayout()[w]+t;if((f=g-t-("vertical"===r?i:e))>0)for(l=u.getLayout()[o]-f,u.setLayout("vertical"===r?{x:l}:{y:l},!0),g=l,C=y-2;C>=0;--C)(f=(u=a[C]).getLayout()[o]+u.getLayout()[w]+t-g)>0&&(l=u.getLayout()[o]-f,u.setLayout("vertical"===r?{x:l}:{y:l},!0)),g=u.getLayout()[o]})}function yg(n,t,e){pe(n.slice().reverse(),function(i){pe(i,function(r){if(r.outEdges.length){var o=$d(r.outEdges,cO,e)/$d(r.outEdges,bg);if(isNaN(o)){var a=r.outEdges.length;o=a?$d(r.outEdges,IL,e)/a:0}if("vertical"===e){var l=r.getLayout().x+(o-yh(r,e))*t;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-yh(r,e))*t;r.setLayout({y:u},!0)}}})})}function cO(n,t){return yh(n.node2,t)*n.getValue()}function IL(n,t){return yh(n.node2,t)}function V_(n,t){return yh(n.node1,t)*n.getValue()}function kv(n,t){return yh(n.node1,t)}function yh(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function bg(n){return n.getValue()}function $d(n,t,e){for(var i=0,r=n.length,o=-1;++o<r;){var a=+t(n[o],e);isNaN(a)||(i+=a)}return i}function wl(n,t,e){pe(n,function(i){pe(i,function(r){if(r.inEdges.length){var o=$d(r.inEdges,V_,e)/$d(r.inEdges,bg);if(isNaN(o)){var a=r.inEdges.length;o=a?$d(r.inEdges,kv,e)/a:0}if("vertical"===e){var l=r.getLayout().x+(o-yh(r,e))*t;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-yh(r,e))*t;r.setLayout({y:u},!0)}}})})}function H_(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph(),i=e.nodes,r=e.edges;if(i.length){var o=1/0,a=-1/0;pe(i,function(l){var u=l.getLayout().value;u<o&&(o=u),u>a&&(a=u)}),pe(i,function(l){var u=new Wa({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:t.get("color")}).mapValueToVisual(l.getLayout().value),f=l.getModel().get(["itemStyle","color"]);null!=f?(l.setVisual("color",f),l.setVisual("style",{fill:f})):(l.setVisual("color",u),l.setVisual("style",{fill:u}))})}r.length&&pe(r,function(l){var u=l.getModel().get("lineStyle");l.setVisual("style",u)})})}var JA=function(){function n(){}return n.prototype.getInitialData=function(t,e){var i,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),l=o.get("type"),u=a.get("type");"category"===l?(t.layout="horizontal",i=o.getOrdinalMeta(),r=!0):"category"===u?(t.layout="vertical",i=a.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var f=["x","y"],g="horizontal"===t.layout?0:1,y=this._baseAxisDim=f[g],w=f[1-g],C=[o,a],M=C[g].get("type"),O=C[1-g].get("type"),L=t.data;if(L&&r){var R=[];pe(L,function(q,Z){var Q;Bt(q)?(Q=q.slice(),q.unshift(Z)):Bt(q.value)?((Q=_t({},q)).value=Q.value.slice(),q.value.unshift(Z)):Q=q,R.push(Q)}),t.data=R}var F=this.defaultValueDimensions,Y=[{name:y,type:By(M),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:w,type:By(O),dimsDef:F.slice()}];return Fp(this,{coordDimensions:Y,dimensionsCount:F.length+1,encodeDefaulter:xn(Uw,Y,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),eM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return Oe(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Io);qe(eM,JA,!0);var OL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this.group,l=this._data;this._data||a.removeAll();var u="horizontal"===e.get("layout")?1:0;o.diff(l).add(function(f){if(o.hasValue(f)){var g=tM(o.getItemLayout(f),o,f,u,!0);o.setItemGraphicEl(f,g),a.add(g)}}).update(function(f,g){var y=l.getItemGraphicEl(g);if(o.hasValue(f)){var w=o.getItemLayout(f);y?(Mc(y),xg(w,y,o,f)):y=tM(w,o,f,u),a.add(y),o.setItemGraphicEl(f,y)}else a.remove(y)}).remove(function(f){var g=l.getItemGraphicEl(f);g&&a.remove(g)}).execute(),this._data=o},t.prototype.remove=function(e){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},t.type="boxplot",t}(ao),$p=function(){},DL=function(n){function t(e){var i=n.call(this,e)||this;return i.type="boxplotBoxPath",i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new $p},t.prototype.buildPath=function(e,i){var r=i.points,o=0;for(e.moveTo(r[o][0],r[o][1]),o++;o<4;o++)e.lineTo(r[o][0],r[o][1]);for(e.closePath();o<r.length;o++)e.moveTo(r[o][0],r[o][1]),o++,e.lineTo(r[o][0],r[o][1])},t}(hr);function tM(n,t,e,i,r){var o=n.ends,a=new DL({shape:{points:r?W_(o,i,n):o}});return xg(n,a,t,e,r),a}function xg(n,t,e,i,r){(0,hu[r?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,i),t.useStyle(e.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=e.getItemModel(i),l=a.getModel("emphasis");el(t,a),wa(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function W_(n,t,e){return ue(n,function(i){return(i=i.slice())[t]=e.initBaseline,i})}var Av=pe;function Mv(n){var i,r,t=(i=[],r=[],n.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),l=hn(r,a);l<0&&(r[l=r.length]=a,i[l]={axis:a,seriesModels:[]}),i[l].seriesModels.push(o)}),i);Av(t,function(e){var i=e.seriesModels;i.length&&(function(r){var o,a=r.axis,l=r.seriesModels,u=l.length,f=r.boxWidthList=[],g=r.boxOffsetList=[],y=[];if("category"===a.type)o=a.getBandWidth();else{var w=0;Av(l,function(F){w=Math.max(w,F.getData().count())});var C=a.getExtent();o=Math.abs(C[1]-C[0])/w}Av(l,function(F){var Y=F.get("boxWidth");Bt(Y)||(Y=[Y,Y]),y.push([ri(Y[0],o)||0,ri(Y[1],o)||0])});var M=.8*o-2,O=M/u*.3,L=(M-O*(u-1))/u,R=L/2-M/2;Av(l,function(F,Y){g.push(R),R+=O+L,f.push(Math.min(Math.max(L,y[Y][0]),y[Y][1]))})}(e),Av(i,function(r,o){!function(a,l,u){var f=a.coordinateSystem,g=a.getData(),y=u/2,w="horizontal"===a.get("layout")?0:1,C=1-w,M=["x","y"],O=g.mapDimension(M[w]),L=g.mapDimensionsAll(M[C]);if(!(null==O||L.length<5))for(var R=0;R<g.count();R++){var F=g.get(O,R),Y=_e(F,L[2],R),q=_e(F,L[0],R),Z=_e(F,L[1],R),Q=_e(F,L[3],R),ne=_e(F,L[4],R),oe=[];ke(oe,Z,!1),ke(oe,Q,!0),oe.push(q,Z,ne,Q),Ee(oe,q),Ee(oe,ne),Ee(oe,Y),g.setItemLayout(R,{initBaseline:Y[C],ends:oe})}function _e(Re,Je,st){var mt,St=g.get(Je,st),Tt=[];return Tt[w]=Re,Tt[C]=St,isNaN(Re)||isNaN(St)?mt=[NaN,NaN]:(mt=f.dataToPoint(Tt))[w]+=l,mt}function ke(Re,Je,st){var mt=Je.slice(),St=Je.slice();mt[w]+=y,St[w]-=y,st?Re.push(mt,St):Re.push(St,mt)}function Ee(Re,Je){var st=Je.slice(),mt=Je.slice();st[w]-=y,mt[w]+=y,Re.push(st,mt)}}(r,e.boxOffsetList[o],e.boxWidthList[o])}))})}var LL={type:"echarts:boxplot",transform:function(n){var t=n.upstream;t.sourceFormat!==nl&&qn("");var i=function(r,o){for(var a=[],l=[],u=(o=o||{}).boundIQR,f="none"===u||0===u,g=0;g<r.length;g++){var y=as(r[g].slice()),w=ht(y,.25),C=ht(y,.5),M=ht(y,.75),O=y[0],L=y[y.length-1],R=(u??1.5)*(M-w),F=f?O:Math.max(O,w-R),Y=f?L:Math.min(L,M+R),q=o.itemNameFormatter,Z=Ht(q)?q({value:g}):On(q)?q.replace("{value}",g+""):g+"";a.push([Z,F,w,C,M,Y]);for(var Q=0;Q<y.length;Q++){var ne=y[Q];(ne<F||ne>Y)&&l.push([Z,ne])}}return{boxData:a,outliers:l}}(t.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},PL=["color","borderColor"],G0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,i,r){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,i,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,i):this._incrementalRenderNormal(e,i)},t.prototype.eachRendered=function(e){uu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e){var i=e.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),l=e.get("clip",!0),u=e.coordinateSystem,f=u.getArea&&u.getArea();this._data||o.removeAll(),i.diff(r).add(function(g){if(i.hasValue(g)){var y=i.getItemLayout(g);if(l&&c(f,y))return;var w=s(y,0,!0);Uo(w,{shape:{points:y.ends}},e,g),p(w,i,g,a),o.add(w),i.setItemGraphicEl(g,w)}}).update(function(g,y){var w=r.getItemGraphicEl(y);if(i.hasValue(g)){var C=i.getItemLayout(g);l&&c(f,C)?o.remove(w):(w?(co(w,{shape:{points:C.ends}},e,g),Mc(w)):w=s(C),p(w,i,g,a),o.add(w),i.setItemGraphicEl(g,w))}else o.remove(w)}).remove(function(g){var y=r.getItemGraphicEl(g);y&&o.remove(y)}).execute(),this._data=i},t.prototype._renderLarge=function(e){this._clear(),k(e,this.group);var i=e.get("clip",!0)?$m(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,i){for(var r,o=i.getData(),a=o.getLayout("isSimpleBox");null!=(r=e.next());){var l=s(o.getItemLayout(r));p(l,o,r,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(e,i){k(i,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ao),NL=function(){},uO=function(n){function t(e){var i=n.call(this,e)||this;return i.type="normalCandlestickBox",i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new NL},t.prototype.buildPath=function(e,i){var r=i.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))},t}(hr);function s(n,t,e){var i=n.ends;return new uO({shape:{points:e?m(i,n):i},z2:100})}function c(n,t){for(var e=!0,i=0;i<t.ends.length;i++)if(n.contain(t.ends[i][0],t.ends[i][1])){e=!1;break}return e}function p(n,t,e,i){var r=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,el(n,r)}function m(n,t){return ue(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var b=function(){},_=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeCandlestickBox",i}return Oe(t,n),t.prototype.getDefaultShape=function(){return new b},t.prototype.buildPath=function(e,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];e.moveTo(a,r[o++]),e.lineTo(a,r[o++])}else o+=3},t}(hr);function k(n,t,e,i){var r=n.getData().getLayout("largePoints"),o=new _({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});t.add(o);var a=new _({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});t.add(a);var l=new _({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});t.add(l),D(1,o,n),D(-1,a,n),D(0,l,n),i&&(o.incremental=!0,a.incremental=!0),e&&e.push(o,a)}function D(n,t,e,i){var r=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]);0===n&&(r=e.get(["itemStyle","borderColorDoji"]));var o=e.getModel("itemStyle").getItemStyle(PL);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var z=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return Oe(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,i,r){var o=i.getItemLayout(e);return o&&r.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Io);function H(n){n&&Bt(n.series)&&pe(n.series,function(t){hi(t)&&"k"===t.type&&(t.type="candlestick")})}qe(z,JA,!0);var X=["itemStyle","borderColor"],$=["itemStyle","borderColor0"],re=["itemStyle","borderColorDoji"],he=["itemStyle","color"],se=["itemStyle","color0"],xe={seriesType:"candlestick",plan:Rf(),performRawSeries:!0,reset:function(n,t){function e(r,o){return o.get(r>0?he:se)}function i(r,o){return o.get(0===r?re:r>0?X:$)}if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,o){for(var a;null!=(a=r.next());){var l=o.getItemModel(a),u=o.getItemLayout(a).sign,f=l.getItemStyle();f.fill=e(u,l),f.stroke=i(u,l)||f.fill,_t(o.ensureUniqueItemVisual(a,"style"),f)}}}}},ce={seriesType:"candlestick",plan:Rf(),reset:function(n){var y,w,C,M,O,L,R,F,t=n.coordinateSystem,e=n.getData(),i=(w=e,O="category"===(M=(y=n).getBaseAxis()).type?M.getBandWidth():(C=M.getExtent(),Math.abs(C[1]-C[0])/w.count()),L=ri(yi(y.get("barMaxWidth"),O),O),R=ri(yi(y.get("barMinWidth"),1),O),null!=(F=y.get("barWidth"))?ri(F,O):Math.max(Math.min(O/2,L),R)),r=["x","y"],o=e.getDimensionIndex(e.mapDimension(r[0])),a=ue(e.mapDimensionsAll(r[1]),e.getDimensionIndex,e),l=a[0],u=a[1],f=a[2],g=a[3];if(e.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||a.length<4))return{progress:n.pipelineContext.large?function(y,w){for(var C,M,O=uh(4*y.count),L=0,R=[],F=[],Y=w.getStore(),q=!!n.get(["itemStyle","borderColorDoji"]);null!=(M=y.next());){var Z=Y.get(o,M),Q=Y.get(l,M),ne=Y.get(u,M),oe=Y.get(f,M),_e=Y.get(g,M);isNaN(Z)||isNaN(oe)||isNaN(_e)?(O[L++]=NaN,L+=3):(O[L++]=Me(Y,M,Q,ne,u,q),R[0]=Z,R[1]=oe,C=t.dataToPoint(R,null,F),O[L++]=C?C[0]:NaN,O[L++]=C?C[1]:NaN,R[1]=_e,C=t.dataToPoint(R,null,F),O[L++]=C?C[1]:NaN)}w.setLayout("largePoints",O)}:function(y,w){for(var C,M=w.getStore();null!=(C=y.next());){var O=M.get(o,C),L=M.get(l,C),R=M.get(u,C),F=M.get(f,C),Y=M.get(g,C),q=Math.min(L,R),Z=Math.max(L,R),Q=Re(q,O),ne=Re(Z,O),oe=Re(F,O),_e=Re(Y,O),ke=[];Je(ke,ne,0),Je(ke,Q,1),ke.push(mt(_e),mt(ne),mt(oe),mt(Q));var Ee=!!w.getItemModel(C).get(["itemStyle","borderColorDoji"]);w.setItemLayout(C,{sign:Me(M,C,L,R,u,Ee),initBaseline:L>R?ne[1]:Q[1],ends:ke,brushRect:(St=F,Tt=Y,Lt=O,$t=void 0,nn=void 0,$t=Re(St,Lt),nn=Re(Tt,Lt),$t[0]-=i/2,nn[0]-=i/2,{x:$t[0],y:$t[1],width:i,height:nn[1]-$t[1]})})}var St,Tt,Lt,$t,nn;function Re(St,Tt){var Lt=[];return Lt[0]=Tt,Lt[1]=St,isNaN(Tt)||isNaN(St)?[NaN,NaN]:t.dataToPoint(Lt)}function Je(St,Tt,Lt){var $t=Tt.slice(),nn=Tt.slice();$t[0]=fp($t[0]+i/2,1,!1),nn[0]=fp(nn[0]-i/2,1,!0),Lt?St.push($t,nn):St.push(nn,$t)}function mt(St){return St[0]=fp(St[0],1),St}}}}};function Me(n,t,e,i,r,o){return e>i?-1:e<i?1:o?0:t>0?n.get(r,t-1)<=i?1:-1:1}function He(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(i){i.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var Xe=function(n){function t(e,i){var r=n.call(this)||this,o=new n0(e,i),a=new Gi;return r.add(o),r.add(a),r.updateData(e,i),r}return Oe(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var i=e.symbolType,r=e.color,o=e.rippleNumber,a=this.childAt(1),l=0;l<o;l++){var u=Da(i,-1,-1,2,2,r);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-l/o*e.period+e.effectOffset;u.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(f).start(),u.animateStyle(!0).when(e.period,{opacity:0}).delay(f).start(),a.add(u)}He(a,e)},t.prototype.updateEffectAnimation=function(e){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var l=o[a];if(i[l]!==e[l])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}He(r,e)},t.prototype.highlight=function(){_d(this)},t.prototype.downplay=function(){wd(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,i){var r=this,o=e.hostModel;this.childAt(0).updateData(e,i);var a=this.childAt(1),l=e.getItemModel(i),u=e.getItemVisual(i,"symbol"),f=kp(e.getItemVisual(i,"symbolSize")),g=e.getItemVisual(i,"style"),y=g&&g.fill,w=l.getModel("emphasis");a.setScale(f),a.traverse(function(L){L.setStyle("fill",y)});var C=Ap(e.getItemVisual(i,"symbolOffset"),f);C&&(a.x=C[0],a.y=C[1]);var M=e.getItemVisual(i,"symbolRotate");a.rotation=(M||0)*Math.PI/180||0;var O={};O.showEffectOn=o.get("showEffectOn"),O.rippleScale=l.get(["rippleEffect","scale"]),O.brushType=l.get(["rippleEffect","brushType"]),O.period=1e3*l.get(["rippleEffect","period"]),O.effectOffset=i/e.count(),O.z=o.getShallow("z")||0,O.zlevel=o.getShallow("zlevel")||0,O.symbolType=u,O.color=y,O.rippleEffectColor=l.get(["rippleEffect","color"]),O.rippleNumber=l.get(["rippleEffect","number"]),"render"===O.showEffectOn?(this._effectCfg?this.updateEffectAnimation(O):this.startEffectAnimation(O),this._effectCfg=O):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(L){"emphasis"===L?"render"!==O.showEffectOn&&r.startEffectAnimation(O):"normal"===L&&"render"!==O.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=O,wa(this,w.get("focus"),w.get("blurScope"),w.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Gi),pt=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(){this._symbolDraw=new Um(Xe)},t.prototype.render=function(e,i,r){var o=e.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(a.group)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype.updateTransform=function(e,i,r){var o=e.getData();this.group.dirty();var a=Qm("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var i=e.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=sr(i.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ao),ut=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Oe(t,n),t.prototype.getInitialData=function(e,i){return Xh(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Io),Rt=function(n){function t(e,i,r){var o=n.call(this)||this;return o.add(o.createLine(e,i,r)),o._updateEffectSymbol(e,i),o}return Oe(t,n),t.prototype.createLine=function(e,i,r){return new D0(e,i,r)},t.prototype._updateEffectSymbol=function(e,i){var r=e.getItemModel(i).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");Bt(o)||(o=[o,o]);var l=e.getItemVisual(i,"style"),u=r.get("color")||l&&l.stroke,f=this.childAt(1);this._symbolType!==a&&(this.remove(f),(f=Da(a,-.5,-.5,1,1,u)).z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",u),f.setStyle(r.getItemStyle(["color"])),f.scaleX=o[0],f.scaleY=o[1],f.setColor(u),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(e,r,i))},t.prototype._updateEffectAnimation=function(e,i,r){var o=this.childAt(1);if(o){var a=e.getItemLayout(r),l=1e3*i.get("period"),u=i.get("loop"),f=i.get("roundTrip"),g=i.get("constantSpeed"),y=Wi(i.get("delay"),function(C){return C/e.count()*l/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),g>0&&(l=this._getLineLength(o)/g*1e3),l!==this._period||u!==this._loop||f!==this._roundTrip){o.stopAnimation();var w=void 0;w=Ht(y)?y(r):y,o.__t>0&&(w=-l*o.__t),this._animateSymbol(o,l,w,u,f)}this._period=l,this._loop=u,this._roundTrip=f}},t.prototype._animateSymbol=function(e,i,r,o,a){if(i>0){e.__t=0;var l=this,u=e.animate("",o).when(a?2*i:i,{__t:a?2:1}).delay(r).during(function(){l._updateSymbolPosition(e)});o||u.done(function(){l.remove(e)}),u.start()}},t.prototype._getLineLength=function(e){return or(e.__p1,e.__cp1)+or(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,i){e.__p1=i[0],e.__p2=i[1],e.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},t.prototype.updateData=function(e,i,r){this.childAt(0).updateData(e,i,r),this._updateEffectSymbol(e,i)},t.prototype._updateSymbolPosition=function(e){var i=e.__p1,r=e.__p2,o=e.__cp1,a=e.__t<1?e.__t:2-e.__t,l=[e.x,e.y],u=l.slice(),f=$r,g=oa;l[0]=f(i[0],o[0],r[0],a),l[1]=f(i[1],o[1],r[1],a);var y=e.__t<1?g(i[0],o[0],r[0],a):g(r[0],o[0],i[0],1-a),w=e.__t<1?g(i[1],o[1],r[1],a):g(r[1],o[1],i[1],1-a);e.rotation=-Math.atan2(w,y)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*or(u,l),1===a&&(l[0]=u[0]+(l[0]-u[0])/2,l[1]=u[1]+(l[1]-u[1])/2)):e.scaleY=1===e.__lastT?2*or(i,l):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=l[0],e.y=l[1]},t.prototype.updateLayout=function(e,i){this.childAt(0).updateLayout(e,i);var r=e.getItemModel(i).getModel("effect");this._updateEffectAnimation(e,r,i)},t}(Gi),Jt=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createPolyline(e,i,r),o}return Oe(t,n),t.prototype._createPolyline=function(e,i,r){var o=e.getItemLayout(i),a=new ml({shape:{points:o}});this.add(a),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel;co(this.childAt(0),{shape:{points:e.getItemLayout(i)}},o,i),this._updateCommonStl(e,i,r)},t.prototype._updateCommonStl=function(e,i,r){var o=this.childAt(0),a=e.getItemModel(i),l=r&&r.emphasisLineStyle,u=r&&r.focus,f=r&&r.blurScope,g=r&&r.emphasisDisabled;if(!r||e.hasItemOption){var y=a.getModel("emphasis");l=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),u=y.get("focus"),f=y.get("blurScope")}o.useStyle(e.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=l,wa(this,u,f,g)},t.prototype.updateLayout=function(e,i){this.childAt(0).setShape("points",e.getItemLayout(i))},t}(Gi),rn=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return Oe(t,n),t.prototype.createLine=function(e,i,r){return new Jt(e,i,r)},t.prototype._updateAnimationPoints=function(e,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++)o+=or(i[a-1],i[a]),r.push(o);if(0!==o){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var i=e.__t<1?e.__t:2-e.__t,r=this._points,o=this._offsets,a=r.length;if(o){var l,u=this._lastFrame;if(i<this._lastFramePercent){for(l=Math.min(u+1,a-1);l>=0&&!(o[l]<=i);l--);l=Math.min(l,a-2)}else{for(l=u;l<a&&!(o[l]>i);l++);l=Math.min(l-1,a-2)}var f=(i-o[l])/(o[l+1]-o[l]),g=r[l],y=r[l+1];e.x=g[0]*(1-f)+f*y[0],e.y=g[1]*(1-f)+f*y[1],e.rotation=-Math.atan2(e.__t<1?y[1]-g[1]:g[1]-y[1],e.__t<1?y[0]-g[0]:g[0]-y[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,e.ignore=!1}},t}(Rt),sn=function(){this.polyline=!1,this.curveness=0,this.segs=[]},fn=function(n){function t(e){var i=n.call(this,e)||this;return i._off=0,i.hoverDataIdx=-1,i}return Oe(t,n),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new sn},t.prototype.buildPath=function(e,i){var r,o=i.segs,a=i.curveness;if(i.polyline)for(r=this._off;r<o.length;){var l=o[r++];if(l>0){e.moveTo(o[r++],o[r++]);for(var u=1;u<l;u++)e.lineTo(o[r++],o[r++])}}else for(r=this._off;r<o.length;){var f=o[r++],g=o[r++],y=o[r++],w=o[r++];e.moveTo(f,g),a>0?e.quadraticCurveTo((f+y)/2-(g-w)*a,(g+w)/2-(y-f)*a,y,w):e.lineTo(y,w)}this.incremental&&(this._off=r,this.notClear=!0)},t.prototype.findDataIndex=function(e,i){var r=this.shape,o=r.segs,a=r.curveness,l=this.style.lineWidth;if(r.polyline)for(var u=0,f=0;f<o.length;){var g=o[f++];if(g>0)for(var y=o[f++],w=o[f++],C=1;C<g;C++)if(mn(y,w,M=o[f++],O=o[f++],l,e,i))return u;u++}else for(u=0,f=0;f<o.length;){y=o[f++],w=o[f++];var M=o[f++],O=o[f++];if(a>0){if(Kn(y,w,(y+M)/2-(w-O)*a,(w+O)/2-(M-y)*a,M,O,l,e,i))return u}else if(mn(y,w,M,O,l,e,i))return u;u++}return-1},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);return this.getBoundingRect().contain(e=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(e,i))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var i=this.shape.segs,r=1/0,o=1/0,a=-1/0,l=-1/0,u=0;u<i.length;){var f=i[u++],g=i[u++];r=Math.min(f,r),a=Math.max(f,a),o=Math.min(g,o),l=Math.max(g,l)}e=this._rect=new lr(r,o,a,l)}return e},t}(hr),Wt=function(){function n(){this.group=new Gi}return n.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(t,e){var i=this._newAdded[0],r=e.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var a=o.length,l=new Float32Array(a+r.length);l.set(o),l.set(r,a),i.setShape({segs:l})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:r}),this._setCommon(u,e),u.__startIndex=t.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new fn({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},n.prototype._setCommon=function(t,e,i){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var a=_r(t);a.seriesIndex=r.seriesIndex,t.on("mousemove",function(l){a.dataIndex=null;var u=t.hoverDataIdx;u>0&&(a.dataIndex=u+t.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),en={seriesType:"lines",plan:Rf(),reset:function(n){var t=n.coordinateSystem;if(t){var e=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var l=void 0,u=r.end-r.start;if(e){for(var f=0,g=r.start;g<r.end;g++)f+=n.getLineCoordsCount(g);l=new Float32Array(u+2*f)}else l=new Float32Array(4*u);var y=0,w=[];for(g=r.start;g<r.end;g++){var C=n.getLineCoords(g,a);e&&(l[y++]=C);for(var M=0;M<C;M++)w=t.dataToPoint(a[M],!1,w),l[y++]=w[0],l[y++]=w[1]}o.setLayout("linesPoints",l)}else for(g=r.start;g<r.end;g++){var O=o.getItemModel(g),L=(C=n.getLineCoords(g,a),[]);if(e)for(var R=0;R<C;R++)L.push(t.dataToPoint(a[R]));else{L[0]=t.dataToPoint(a[0]),L[1]=t.dataToPoint(a[1]);var F=O.get(["lineStyle","curveness"]);+F&&(L[2]=[(L[0][0]+L[1][0])/2-(L[0][1]-L[1][1])*F,(L[0][1]+L[1][1])/2-(L[1][0]-L[0][0])*F])}o.setItemLayout(g,L)}}}}}},un=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._updateLineDraw(o,e),l=e.get("zlevel"),u=e.get(["effect","trailLength"]),f=r.getZr(),g="svg"===f.painter.getType();g||f.painter.getLayer(l).clear(!0),null==this._lastZlevel||g||f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&u>0&&(g||f.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),a.updateData(o);var y=e.get("clip",!0)&&$m(e.coordinateSystem,!1,e);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._lineDraw.incrementalUpdate(e,i.getData()),this._finished=e.end===i.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,i,r){var o=e.getData(),a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var l=en.reset(e,i,r);l.progress&&l.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},t.prototype._updateLineDraw=function(e,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),l=i.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&l===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=l?new Wt:new x_(a?o?rn:Jt:o?Rt:D0),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=l),this.group.add(r.group),r},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var i=e.getZr();"svg"===i.painter.getType()||null==this._lastZlevel||i.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.type="lines",t}(ao),An=typeof Uint32Array>"u"?Array:Uint32Array,li=typeof Float64Array>"u"?Array:Float64Array;function $n(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=ue(t,function(e){var i={coords:[e[0].coord,e[1].coord]};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),zt([i,e[0],e[1]])}))}var zi=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return Oe(t,n),t.prototype.init=function(e){e.data=e.data||[],$n(e);var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if($n(e),e.data){var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var i=this._processFlatCoordsArray(e.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=at(this._flatCoords,i.flatCoords),this._flatCoordsOffset=at(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),e.data=new Float32Array(i.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var i=this.getData().getItemModel(e);return i.option instanceof Array?i.option:i.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var l=this._getCoordsFromItemModel(e);for(a=0;a<l.length;a++)i[a]=i[a]||[],i[a][0]=l[a][0],i[a][1]=l[a][1];return l.length},t.prototype._processFlatCoordsArray=function(e){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),En(e[0])){for(var r=e.length,o=new An(r),a=new li(r),l=0,u=0,f=0,g=0;g<r;){f++;var y=e[g++];o[u++]=l+i,o[u++]=y;for(var w=0;w<y;w++){var C=e[g++],M=e[g++];a[l++]=C,a[l++]=M}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,u),flatCoords:a,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,i){var r=new va(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(o,a,l,u){if(o instanceof Array)return NaN;r.hasItemOption=!0;var f=o.value;return null!=f?f instanceof Array?f[u]:f:void 0}),r},t.prototype.formatTooltip=function(e,i,r){var o=this.getData().getItemModel(e),a=o.get("name");if(a)return a;var l=o.get("fromName"),u=o.get("toName"),f=[];return null!=l&&f.push(l),null!=u&&f.push(u),hs("nameValue",{name:f.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),i=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&i>0?i+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Io);function Ii(n){return n instanceof Array||(n=[n,n]),n}var Ji={seriesType:"lines",reset:function(n){var t=Ii(n.get("symbol")),e=Ii(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",e&&e[0]),i.setVisual("toSymbolSize",e&&e[1]),{dataEach:i.hasItemOption?function(r,o){var a=r.getItemModel(o),l=Ii(a.getShallow("symbol",!0)),u=Ii(a.getShallow("symbolSize",!0));l[0]&&r.setItemVisual(o,"fromSymbol",l[0]),l[1]&&r.setItemVisual(o,"toSymbol",l[1]),u[0]&&r.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&r.setItemVisual(o,"toSymbolSize",u[1])}:null}}},Hi=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ge.createCanvas();this.canvas=t}return n.prototype.update=function(t,e,i,r,o,a){var l=this._getBrush(),u=this._getGradient(o,"inRange"),f=this._getGradient(o,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,w=y.getContext("2d"),C=t.length;y.width=e,y.height=i;for(var M=0;M<C;++M){var O=t[M],L=O[0],R=O[1],F=r(O[2]);w.globalAlpha=F,w.drawImage(l,L-g,R-g)}if(!y.width||!y.height)return y;for(var Y=w.getImageData(0,0,y.width,y.height),q=Y.data,Z=0,Q=q.length,ne=this.minOpacity,oe=this.maxOpacity-ne;Z<Q;){F=q[Z+3]/256;var _e=4*Math.floor(255*F);if(F>0){var ke=a(F)?u:f;F>0&&(F=F*oe+ne),q[Z++]=ke[_e],q[Z++]=ke[_e+1],q[Z++]=ke[_e+2],q[Z++]=ke[_e+3]*F*256}else Z+=4}return w.putImageData(Y,0,0),y},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ge.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var r=t.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},n.prototype._getGradient=function(t,e){for(var i=this._gradientPixels,r=i[e]||(i[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,l=0;l<256;l++)t[e](l/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();function mi(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Ai=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o;i.eachComponent("visualMap",function(l){l.eachTargetSeries(function(u){u===e&&(o=l)})}),this._progressiveEls=null,this.group.removeAll();var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):mi(a)&&this._renderOnGeo(a,e,o,r)},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,i,r,o){var a=i.coordinateSystem;a&&(mi(a)?this.render(i,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,o,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){uu(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,i,r,o,a){var l,u,f,g,y=e.coordinateSystem,w=Zh(y,"cartesian2d");if(w){var C=y.getAxis("x"),M=y.getAxis("y");l=C.getBandWidth()+.5,u=M.getBandWidth()+.5,f=C.scale.getExtent(),g=M.scale.getExtent()}for(var O=this.group,L=e.getData(),R=e.getModel(["emphasis","itemStyle"]).getItemStyle(),F=e.getModel(["blur","itemStyle"]).getItemStyle(),Y=e.getModel(["select","itemStyle"]).getItemStyle(),q=e.get(["itemStyle","borderRadius"]),Z=us(e),Q=e.getModel("emphasis"),ne=Q.get("focus"),oe=Q.get("blurScope"),_e=Q.get("disabled"),ke=w?[L.mapDimension("x"),L.mapDimension("y"),L.mapDimension("value")]:[L.mapDimension("time"),L.mapDimension("value")],Ee=r;Ee<o;Ee++){var Re=void 0,Je=L.getItemVisual(Ee,"style");if(w){var st=L.get(ke[0],Ee),mt=L.get(ke[1],Ee);if(isNaN(L.get(ke[2],Ee))||isNaN(st)||isNaN(mt)||st<f[0]||st>f[1]||mt<g[0]||mt>g[1])continue;var St=y.dataToPoint([st,mt]);Re=new Zr({shape:{x:St[0]-l/2,y:St[1]-u/2,width:l,height:u},style:Je})}else{if(isNaN(L.get(ke[1],Ee)))continue;Re=new Zr({z2:1,shape:y.dataToRect([L.get(ke[0],Ee)]).contentShape,style:Je})}if(L.hasItemOption){var Tt=L.getItemModel(Ee),Lt=Tt.getModel("emphasis");R=Lt.getModel("itemStyle").getItemStyle(),F=Tt.getModel(["blur","itemStyle"]).getItemStyle(),Y=Tt.getModel(["select","itemStyle"]).getItemStyle(),q=Tt.get(["itemStyle","borderRadius"]),ne=Lt.get("focus"),oe=Lt.get("blurScope"),_e=Lt.get("disabled"),Z=us(Tt)}Re.shape.r=q;var $t=e.getRawValue(Ee),nn="-";$t&&null!=$t[2]&&(nn=$t[2]+""),tl(Re,Z,{labelFetcher:e,labelDataIndex:Ee,defaultOpacity:Je.opacity,defaultText:nn}),Re.ensureState("emphasis").style=R,Re.ensureState("blur").style=F,Re.ensureState("select").style=Y,wa(Re,ne,oe,_e),Re.incremental=a,a&&(Re.states.emphasis.hoverLayer=!0),O.add(Re),L.setItemGraphicEl(Ee,Re),this._progressiveEls&&this._progressiveEls.push(Re)}},t.prototype._renderOnGeo=function(e,i,r,o){var a=r.targetVisuals.inRange,l=r.targetVisuals.outOfRange,u=i.getData(),f=this._hmLayer||this._hmLayer||new Hi;f.blurSize=i.get("blurSize"),f.pointSize=i.get("pointSize"),f.minOpacity=i.get("minOpacity"),f.maxOpacity=i.get("maxOpacity");var g=e.getViewRect().clone(),y=e.getRoamTransform();g.applyTransform(y);var ne,oe,_e,w=Math.max(g.x,0),C=Math.max(g.y,0),M=Math.min(g.width+g.x,o.getWidth()),O=Math.min(g.height+g.y,o.getHeight()),L=M-w,R=O-C,F=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],Y=u.mapArray(F,function(ne,oe,_e){var ke=e.dataToPoint([ne,oe]);return ke[0]-=w,ke[1]-=C,ke.push(_e),ke}),q=r.getExtent(),Z="visualMap.continuous"===r.type?(oe=[((oe=r.option.range)[0]-(ne=q)[0])/(_e=ne[1]-ne[0]),(oe[1]-ne[0])/_e],function(ke){return ke>=oe[0]&&ke<=oe[1]}):function(ne,oe,_e){var ke=ne[1]-ne[0],Ee=(oe=ue(oe,function(Je){return{interval:[(Je.interval[0]-ne[0])/ke,(Je.interval[1]-ne[0])/ke]}})).length,Re=0;return function(Je){var st;for(st=Re;st<Ee;st++)if((mt=oe[st].interval)[0]<=Je&&Je<=mt[1]){Re=st;break}if(st===Ee)for(st=Re-1;st>=0;st--){var mt;if((mt=oe[st].interval)[0]<=Je&&Je<=mt[1]){Re=st;break}}return st>=0&&st<Ee&&_e[st]}}(q,r.getPieceList(),r.option.selected);f.update(Y,L,R,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:l.color.getColorMapper()},Z);var Q=new ls({style:{width:L,height:R,x:w,y:C,image:f.canvas},silent:!0});this.group.add(Q)},t.type="heatmap",t}(ao),cr=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.getInitialData=function(e,i){return Xh(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=sc.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Io),Qt=["itemStyle","borderWidth"],tn=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Tn=new au,In=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=this.group,a=e.getData(),l=this._data,u=e.coordinateSystem,f=u.getBaseAxis().isHorizontal(),g=u.master.getRect(),y={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:u,coordSysExtent:[[g.x,g.x+g.width],[g.y,g.y+g.height]],isHorizontal:f,valueDim:tn[+f],categoryDim:tn[1-+f]};return a.diff(l).add(function(w){if(a.hasValue(w)){var C=kr(a,w),M=Nn(a,w,C,y),O=Lr(a,y,M);a.setItemGraphicEl(w,O),o.add(O),Ta(O,y,M)}}).update(function(w,C){var F,Y,q,M=l.getItemGraphicEl(C);if(a.hasValue(w)){var O=kr(a,w),L=Nn(a,w,O,y),R=Fi(a,L);M&&R!==M.__pictorialShapeStr&&(o.remove(M),a.setItemGraphicEl(w,null),M=null),M?(Y=y,co((F=M).__pictorialBundle,{x:(q=L).bundlePosition[0],y:q.bundlePosition[1]},q.animationModel,q.dataIndex),q.symbolRepeat?ur(F,Y,q,!0):er(F,0,q,!0),ko(F,q,!0),Oi(F,Y,q,!0)):M=Lr(a,y,L,!0),a.setItemGraphicEl(w,M),M.__pictorialSymbolMeta=L,o.add(M),Ta(M,y,L)}else o.remove(M)}).remove(function(w){var C=l.getItemGraphicEl(w);C&&La(l,w,C.__pictorialSymbolMeta.animationModel,C)}).execute(),this._data=a,this.group},t.prototype.remove=function(e,i){var r=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(a){La(o,_r(a).dataIndex,e,a)}):r.removeAll()},t.type="pictorialBar",t}(ao);function Nn(n,t,e,i){var M,O,R,Y,q,Z,Q,ne,oe,_e,ke,Ee,Re,r=n.getItemLayout(t),o=e.get("symbolRepeat"),a=e.get("symbolClip"),l=e.get("symbolPosition")||"start",u=(e.get("symbolRotate")||0)*Math.PI/180||0,f=e.get("symbolPatternSize")||2,g=e.isAnimationEnabled(),y={dataIndex:t,layout:r,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:g?e:null,hoverScale:g&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(M,O,L,R,F){var Y,q=R.valueDim,Z=M.get("symbolBoundingData"),Q=R.coordSys.getOtherAxis(R.coordSys.getBaseAxis()),ne=Q.toGlobalCoord(Q.dataToCoord(0)),oe=1-+(L[q.wh]<=0);if(Bt(Z)){var _e=[Ci(Q,Z[0])-ne,Ci(Q,Z[1])-ne];_e[1]<_e[0]&&_e.reverse(),Y=_e[oe]}else Y=null!=Z?Ci(Q,Z)-ne:O?R.coordSysExtent[q.index][oe]-ne:L[q.wh];F.boundingLength=Y,O&&(F.repeatCutLength=L[q.wh]),F.pxSign=Y>0?1:-1})(e,o,r,i,y),M=n,O=t,R=o,Y=y.boundingLength,q=y.pxSign,Z=f,ne=y,_e=(Q=i).valueDim,ke=Q.categoryDim,Ee=Math.abs(r[ke.wh]),(oe=Bt(Re=M.getItemVisual(O,"symbolSize"))?Re.slice():null==Re?["100%","100%"]:[Re,Re])[ke.index]=ri(oe[ke.index],Ee),oe[_e.index]=ri(oe[_e.index],R?Ee:Math.abs(Y)),ne.symbolSize=oe,(ne.symbolScale=[oe[0]/Z,oe[1]/Z])[_e.index]*=(Q.isHorizontal?-1:1)*q,function(M,O,L,R,F){var Y=M.get(Qt)||0;Y&&(Tn.attr({scaleX:O[0],scaleY:O[1],rotation:L}),Tn.updateTransform(),Y/=Tn.getLineScale(),Y*=O[R.valueDim.index]),F.valueLineWidth=Y||0}(e,y.symbolScale,u,i,y);var w=y.symbolSize,C=Ap(e.get("symbolOffset"),w);return function(M,O,L,R,F,Y,q,Z,Q,ne,oe,_e){var ke=oe.categoryDim,Ee=oe.valueDim,Re=_e.pxSign,Je=Math.max(O[Ee.index]+Z,0),st=Je;if(R){var mt=Math.abs(Q),St=Wi(M.get("symbolMargin"),"15%")+"",Tt=!1;St.lastIndexOf("!")===St.length-1&&(Tt=!0,St=St.slice(0,St.length-1));var Lt=ri(St,O[Ee.index]),$t=Math.max(Je+2*Lt,0),nn=Tt?0:2*Lt,an=Dt(R),kn=an?R:ts((mt+nn)/$t);$t=Je+2*(Lt=(mt-kn*Je)/2/(Tt?kn:Math.max(kn-1,1))),nn=Tt?0:2*Lt,an||"fixed"===R||(kn=ne?ts((Math.abs(ne)+nn)/$t):0),st=kn*$t-nn,_e.repeatTimes=kn,_e.symbolMargin=Lt}var jn=Re*(st/2),cn=_e.pathPosition=[];cn[ke.index]=L[ke.wh]/2,cn[Ee.index]="start"===q?jn:"end"===q?Q-jn:Q/2,Y&&(cn[0]+=Y[0],cn[1]+=Y[1]);var Pn=_e.bundlePosition=[];Pn[ke.index]=L[ke.xy],Pn[Ee.index]=L[Ee.xy];var Yn=_e.barRectShape=_t({},L);Yn[Ee.wh]=Re*Math.max(Math.abs(L[Ee.wh]),Math.abs(cn[Ee.index]+jn)),Yn[ke.wh]=L[ke.wh];var Zn=_e.clipShape={};Zn[ke.xy]=-L[ke.xy],Zn[ke.wh]=oe.ecSize[ke.wh],Zn[Ee.xy]=0,Zn[Ee.wh]=L[Ee.wh]}(e,w,r,o,0,C,l,y.valueLineWidth,y.boundingLength,y.repeatCutLength,i,y),y}function Ci(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function Yi(n){var t=n.symbolPatternSize,e=Da(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function ur(n,t,e,i){var r=n.__pictorialBundle,l=e.pathPosition,u=t.valueDim,f=e.repeatTimes||0,g=0,y=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(Mr(n,function(O){O.__pictorialAnimationIndex=g,O.__pictorialRepeatTimes=f,g<f?Oo(O,null,M(g),e,i):Oo(O,null,{scaleX:0,scaleY:0},e,i,function(){r.remove(O)}),g++});g<f;g++){var w=Yi(e);w.__pictorialAnimationIndex=g,w.__pictorialRepeatTimes=f,r.add(w);var C=M(g);Oo(w,{x:C.x,y:C.y,scaleX:0,scaleY:0},{scaleX:C.scaleX,scaleY:C.scaleY,rotation:C.rotation},e,i)}function M(O){var L=l.slice(),R=e.pxSign,F=O;return("start"===e.symbolRepeatDirection?R>0:R<0)&&(F=f-1-O),L[u.index]=y*(F-f/2+.5)+l[u.index],{x:L[0],y:L[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function er(n,t,e,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?Oo(o,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,i):(o=n.__pictorialMainPath=Yi(e),r.add(o),Oo(o,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,i))}function ko(n,t,e){var i=_t({},t.barRectShape),r=n.__pictorialBarRect;r?Oo(r,null,{shape:i},t,e):((r=n.__pictorialBarRect=new Zr({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function Oi(n,t,e,i){if(e.symbolClip){var r=n.__pictorialClipPath,o=_t({},e.clipShape),a=t.valueDim,l=e.animationModel,u=e.dataIndex;if(r)co(r,{shape:o},l,u);else{o[a.wh]=0,r=new Zr({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var f={};f[a.wh]=e.clipShape[a.wh],hu[i?"updateProps":"initProps"](r,{shape:f},l,u)}}}function kr(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=Dr,e.isAnimationEnabled=dr,e}function Dr(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function dr(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Lr(n,t,e,i){var r=new Gi,o=new Gi;return r.add(o),r.__pictorialBundle=o,o.x=e.bundlePosition[0],o.y=e.bundlePosition[1],e.symbolRepeat?ur(r,t,e):er(r,0,e),ko(r,e,i),Oi(r,t,e,i),r.__pictorialShapeStr=Fi(n,e),r.__pictorialSymbolMeta=e,r}function La(n,t,e,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];Mr(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(e=null),pe(o,function(a){pp(a,{scaleX:0,scaleY:0},e,t,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(t,null)}function Fi(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Mr(n,t,e){pe(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&t.call(e,i)})}function Oo(n,t,e,i,r,o){t&&n.attr(t),i.symbolClip&&!r?e&&n.attr(e):e&&hu[r?"updateProps":"initProps"](n,e,i.animationModel,i.dataIndex,o)}function Ta(n,t,e){var i=e.dataIndex,r=e.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),l=r.getModel(["blur","itemStyle"]).getItemStyle(),u=r.getModel(["select","itemStyle"]).getItemStyle(),f=r.getShallow("cursor"),g=o.get("focus"),y=o.get("blurScope"),w=o.get("scale");Mr(n,function(M){if(M instanceof ls){var O=M.style;M.useStyle(_t({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},e.style))}else M.useStyle(e.style);var L=M.ensureState("emphasis");L.style=a,w&&(L.scaleX=1.1*M.scaleX,L.scaleY=1.1*M.scaleY),M.ensureState("blur").style=l,M.ensureState("select").style=u,f&&(M.cursor=f),M.z2=e.z2});var C=t.valueDim.posDesc[+(e.boundingLength>0)];tl(n.__pictorialBarRect,us(r),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:tg(t.seriesModel.getData(),i),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:C}),wa(n,g,y,o.get("disabled"))}function ts(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}var rl=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return Oe(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=kd(ev.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(ev),Fc=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this,l=this.group,u=e.getLayerSeries(),f=o.getLayout("layoutInfo"),g=f.rect,y=f.boundaryGap;function w(L){return L.name}l.x=0,l.y=g.y+y[0];var C=new Gh(this._layersSeries||[],u,w,w),M=[];function O(L,R,F){var $t,nn,kn,Y=a._layers;if("remove"!==L){for(var q,Z,Q=[],ne=[],oe=u[R].indices,_e=0;_e<oe.length;_e++){var ke=o.getItemLayout(oe[_e]),Ee=ke.x,Re=ke.y0,Je=ke.y;Q.push(Ee,Re),ne.push(Ee,Re+Je),q=o.getItemVisual(oe[_e],"style")}var st=o.getItemLayout(oe[0]),mt=e.getModel("label").get("margin"),St=e.getModel("emphasis");if("add"===L){var Tt=M[R]=new Gi;Z=new sE({shape:{points:Q,stackedOnPoints:ne,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Tt.add(Z),l.add(Tt),e.isAnimationEnabled()&&Z.setClipPath(($t=Z.getBoundingRect(),nn=e,Uo(kn=new Zr({shape:{x:$t.x-10,y:$t.y-10,width:0,height:$t.height+20}}),{shape:{x:$t.x-50,width:$t.width+100,height:$t.height+20}},nn,function(){Z.removeClipPath()}),kn))}else Z=(Tt=Y[F]).childAt(0),l.add(Tt),M[R]=Tt,co(Z,{shape:{points:Q,stackedOnPoints:ne}},e),Mc(Z);tl(Z,us(e),{labelDataIndex:oe[_e-1],defaultText:o.getName(oe[_e-1]),inheritColor:q.fill},{normal:{verticalAlign:"middle"}}),Z.setTextConfig({position:null,local:!0});var Lt=Z.getTextContent();Lt&&(Lt.x=st.x-mt,Lt.y=st.y0+st.y/2),Z.useStyle(q),o.setItemGraphicEl(R,Z),el(Z,e),wa(Z,St.get("focus"),St.get("blurScope"),St.get("disabled"))}else l.remove(Y[R])}C.add(Et(O,this,"add")).update(Et(O,this,"update")).remove(Et(O,this,"remove")).execute(),this._layersSeries=u,this._layers=M},t.type="themeRiver",t}(ao),Is=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new iv(Et(this.getData,this),Et(this.getRawData,this))},t.prototype.fixData=function(e){var i=e.length,r={},o=jo(e,function(w){return r.hasOwnProperty(w[0]+"")||(r[w[0]+""]=-1),w[2]}),a=[];o.buckets.each(function(w,C){a.push({name:C,dataList:w})});for(var l=a.length,u=0;u<l;++u){for(var f=a[u].name,g=0;g<a[u].dataList.length;++g)r[y=a[u].dataList[g][0]+""]=u;for(var y in r)r.hasOwnProperty(y)&&r[y]!==u&&(r[y]=u,e[i]=[y,0,f],i++)}return e},t.prototype.getInitialData=function(e,i){for(var r=this.getReferringComponents("singleAxis",_o).models[0].get("type"),o=on(e.data,function(C){return void 0!==C[2]}),a=this.fixData(o||[]),l=[],u=this.nameMap=be(),f=0,g=0;g<a.length;++g)l.push(a[g][2]),u.get(a[g][2])||(u.set(a[g][2],f),f++);var y=Dm(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:By(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,w=new va(y,this);return w.initData(a),w},t.prototype.getLayerSeries=function(){for(var e=this.getData(),i=e.count(),r=[],o=0;o<i;++o)r[o]=o;var a=e.mapDimension("single"),l=jo(r,function(f){return e.get("name",f)}),u=[];return l.buckets.each(function(f,g){f.sort(function(y,w){return e.get(a,y)-e.get(a,w)}),u.push({name:g,indices:f})}),u},t.prototype.getAxisTooltipData=function(e,i,r){Bt(e)||(e=e?[e]:[]);for(var o,a=this.getData(),l=this.getLayerSeries(),u=[],f=l.length,g=0;g<f;++g){for(var y=Number.MAX_VALUE,w=-1,C=l[g].indices.length,M=0;M<C;++M){var O=a.get(e[0],l[g].indices[M]),L=Math.abs(O-i);L<=y&&(o=O,y=L,w=l[g].indices[M])}u.push(w)}return{dataIndices:u,nestestValue:o}},t.prototype.formatTooltip=function(e,i,r){var o=this.getData();return hs("nameValue",{name:o.getName(e),value:o.get(o.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Io);function Vc(n,t){n.eachSeriesByType("themeRiver",function(e){var i=e.getData(),r=e.coordinateSystem,o={},a=r.getRect();o.rect=a;var l=e.get("boundaryGap"),u=r.getAxis();o.boundaryGap=l,"horizontal"===u.orient?(l[0]=ri(l[0],a.height),l[1]=ri(l[1],a.height),Ea(i,e,a.height-l[0]-l[1])):(l[0]=ri(l[0],a.width),l[1]=ri(l[1],a.width),Ea(i,e,a.width-l[0]-l[1])),i.setLayout("layoutInfo",o)})}function Ea(n,t,e){if(n.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=n.mapDimension("single"),l=n.mapDimension("value"),u=ue(o,function(L){return ue(L.indices,function(R){var F=r.dataToPoint(n.get(a,R));return F[1]=n.get(l,R),F})}),f=function(L){for(var R=L.length,F=L[0].length,Y=[],q=[],Z=0,Q=0;Q<F;++Q){for(var ne=0,oe=0;oe<R;++oe)ne+=L[oe][Q][1];ne>Z&&(Z=ne),Y.push(ne)}for(var _e=0;_e<F;++_e)q[_e]=(Z-Y[_e])/2;Z=0;for(var ke=0;ke<F;++ke){var Ee=Y[ke]+q[ke];Ee>Z&&(Z=Ee)}return{y0:q,max:Z}}(u),g=f.y0,y=e/f.max,w=o.length,C=o[0].indices.length,M=0;M<C;++M){n.setItemLayout(o[0].indices[M],{layerIndex:0,x:u[0][M][0],y0:i=g[M]*y,y:u[0][M][1]*y});for(var O=1;O<w;++O)n.setItemLayout(o[O].indices[M],{layerIndex:O,x:u[O][M][0],y0:i+=u[O-1][M][1]*y,y:u[O][M][1]*y})}}var Jh=function(n){function t(e,i,r,o){var a=n.call(this)||this;a.z2=2,a.textConfig={inside:!0},_r(a).seriesIndex=i.seriesIndex;var l=new Qr({z2:4,silent:e.getModel().get(["label","silent"])});return a.setTextContent(l),a.updateData(!0,e,i,r,o),a}return Oe(t,n),t.prototype.updateData=function(e,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var l=this;_r(l).dataIndex=i.dataIndex;var u=i.getModel(),f=u.getModel("emphasis"),g=i.getLayout(),y=_t({},g);y.label=null;var w=i.getVisual("style");w.lineJoin="bevel";var C=i.getVisual("decal");C&&(w.decal=Vf(C,a));var M=Yl(u.getModel("itemStyle"),y,!0);_t(y,M),pe(Qs,function(R){var F=l.ensureState(R),Y=u.getModel([R,"itemStyle"]);F.style=Y.getItemStyle();var q=Yl(Y,y);q&&(F.shape=q)}),e?(l.setShape(y),l.shape.r=g.r0,Uo(l,{shape:{r:g.r}},r,i.dataIndex)):(co(l,{shape:y},r),Mc(l)),l.useStyle(w),this._updateLabel(r);var O=u.getShallow("cursor");O&&l.attr("cursor",O),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var L=f.get("focus");wa(this,"ancestor"===L?i.getAncestorsIndices():"descendant"===L?i.getDescendantIndices():L,f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(e){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),l=a.endAngle-a.startAngle,u=(a.startAngle+a.endAngle)/2,f=Math.cos(u),g=Math.sin(u),y=this,w=y.getTextContent(),C=this.node.dataIndex,M=o.get("minAngle")/180*Math.PI,O=o.get("show")&&!(null!=M&&Math.abs(l)<M);function L(R,F){return R.get(F)??o.get(F)}w.ignore=!O,pe(Rg,function(R){var F=r.getModel("normal"===R?"label":[R,"label"]),Y="normal"===R,q=Y?w:w.ensureState(R),Z=e.getFormattedLabel(C,R);Y&&(Z=Z||i.node.name),q.style=Eo(F,{},null,"normal"!==R,!0),Z&&(q.style.text=Z);var Q=F.get("show");null==Q||Y||(q.ignore=!Q);var ne,oe=L(F,"position"),_e=Y?y:y.states[R],ke=_e.style.fill;_e.textConfig={outsideFill:"inherit"===F.get("color")?ke:null,inside:"outside"!==oe};var Ee=L(F,"distance")||0,Re=L(F,"align");"outside"===oe?(ne=a.r+Ee,Re=u>Math.PI/2?"right":"left"):Re&&"center"!==Re?"left"===Re?(ne=a.r0+Ee,u>Math.PI/2&&(Re="right")):"right"===Re&&(ne=a.r-Ee,u>Math.PI/2&&(Re="left")):(ne=l===2*Math.PI&&0===a.r0?0:(a.r+a.r0)/2,Re="center"),q.style.align=Re,q.style.verticalAlign=L(F,"verticalAlign")||"middle",q.x=ne*f+a.cx,q.y=ne*g+a.cy;var Je=L(F,"rotate"),st=0;"radial"===Je?(st=wi(-u))>Math.PI/2&&st<1.5*Math.PI&&(st+=Math.PI):"tangential"===Je?(st=Math.PI/2-u)>Math.PI/2?st-=Math.PI:st<-Math.PI/2&&(st+=Math.PI):En(Je)&&(st=Je*Math.PI/180),q.rotation=wi(st)}),w.dirtyStyle()},t}(fl),Gl="sunburstRootToNode",Hc="sunburstHighlight",_g=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r,o){var a=this;this.seriesModel=e,this.api=r,this.ecModel=i;var M,O,l=e.getData(),u=l.tree.root,f=e.getViewRoot(),g=this.group,y=e.get("renderLabelForZeroData"),w=[];f.eachNode(function(M){w.push(M)}),function(M,O){function L(F){return F.getId()}function R(F,Y){!function(q,Z){if(y||!q||q.getValue()||(q=null),q!==u&&Z!==u)if(Z&&Z.piece)q?(Z.piece.updateData(!1,q,e,i,r),l.setItemGraphicEl(q.dataIndex,Z.piece)):(ne=Z)&&ne.piece&&(g.remove(ne.piece),ne.piece=null);else if(q){var Q=new Jh(q,e,i,r);g.add(Q),l.setItemGraphicEl(q.dataIndex,Q)}var ne}(null==F?null:M[F],null==Y?null:O[Y])}0===M.length&&0===O.length||new Gh(O,M,L,L).add(R).update(R).remove(xn(R,null)).execute()}(w,this._oldChildren||[]),M=u,(O=f).depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,M,e,i,r):(a.virtualPiece=new Jh(M,e,i,r),g.add(a.virtualPiece)),O.piece.off("click"),a.virtualPiece.on("click",function(L){a._rootToNode(O.parentNode)})):a.virtualPiece&&(g.remove(a.virtualPiece),a.virtualPiece=null),this._initEvents(),this._oldChildren=w},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(o);else if("link"===a){var l=o.getModel(),u=l.get("link");u&&Af(u,l.get("target",!0)||"_blank")}r=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Gl,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,l=Math.sqrt(o*o+a*a);return l<=r.r&&l>=r.r0}},t.type="sunburst",t}(ao),X0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return Oe(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};Zp(r);var o=this._levelModels=ue(e.levels||[],function(l){return new ho(l,this,i)},this),a=iA.createTree(r,this,function(l){l.wrapMethod("getItemModel",function(u,f){var g=a.getNodeByDataIndex(f),y=o[g.depth];return y&&(u.parentModel=y),u})});return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treePathInfo=ag(r,this),i},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){aA(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Io);function Zp(n){var t=0;pe(n.children,function(i){Zp(i);var r=i.value;Bt(r)&&(r=r[0]),t+=r});var e=n.value;Bt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),Bt(n.value)?n.value[0]=e:n.value=e}var fc=Math.PI/180;function j_(n,t,e){t.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");Bt(o)||(o=[0,o]),Bt(r)||(r=[r,r]);var a=e.getWidth(),l=e.getHeight(),u=Math.min(a,l),f=ri(r[0],a),g=ri(r[1],l),y=ri(o[0],u/2),w=ri(o[1],u/2),C=-i.get("startAngle")*fc,M=i.get("minAngle")*fc,O=i.getData().tree.root,L=i.getViewRoot(),R=L.depth,F=i.get("sort");null!=F&&Yo(L,F);var Y=0;pe(L.children,function(St){!isNaN(St.getValue())&&Y++});var q=L.getValue(),Z=Math.PI/(q||Y)*2,Q=L.depth>0,oe=(w-y)/(L.height-(Q?-1:1)||1),_e=i.get("clockwise"),ke=i.get("stillShowZeroSum"),Ee=_e?1:-1,Re=function(St,Tt){if(St){var Lt=Tt;if(St!==O){var $t=St.getValue(),nn=0===q&&ke?Z:$t*Z;nn<M&&(nn=M),Lt=Tt+Ee*nn;var an=St.depth-R-(Q?-1:1),kn=y+oe*an,jn=y+oe*(an+1),cn=i.getLevelModel(St);if(cn){var Pn=cn.get("r0",!0),Yn=cn.get("r",!0),Zn=cn.get("radius",!0);null!=Zn&&(Pn=Zn[0],Yn=Zn[1]),null!=Pn&&(kn=ri(Pn,u/2)),null!=Yn&&(jn=ri(Yn,u/2))}St.setLayout({angle:nn,startAngle:Tt,endAngle:Lt,clockwise:_e,cx:f,cy:g,r0:kn,r:jn})}if(St.children&&St.children.length){var Wn=0;pe(St.children,function(oi){Wn+=Re(oi,Tt+Wn)})}return Lt-Tt}};if(Q){var mt=2*Math.PI;O.setLayout({angle:mt,startAngle:C,endAngle:C+mt,clockwise:_e,cx:f,cy:g,r0:y,r:y+oe})}Re(L,C)})}function Yo(n,t){var e=n.children||[];n.children=function(i,r){if(Ht(r)){var o=ue(i,function(l,u){var f=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return f}},index:u}});return o.sort(function(l,u){return r(l.params,u.params)}),ue(o,function(l){return i[l.index]})}var a="asc"===r;return i.sort(function(l,u){var f=(l.getValue()-u.getValue())*(a?1:-1);return 0===f?(l.dataIndex-u.dataIndex)*(a?-1:1):f})}(e,t),e.length&&pe(n.children,function(i){Yo(i,t)})}function bh(n){var t={};n.eachSeriesByType("sunburst",function(e){var i=e.getData(),r=i.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(l,u,f){for(var g=l;g&&g.depth>1;)g=g.parentNode;var y=u.getColorFromPalette(g.name||g.dataIndex+"",t);return l.depth>1&&On(y)&&(y=Ps(y,(l.depth-1)/(f-1)*.5)),y}(o,e,r.root.height)),_t(i.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}var Kp={color:"fill",borderColor:"stroke"},q0={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},xh=nr(),hO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,i){return Xh(null,this)},t.prototype.getDataParams=function(e,i,r){var o=n.prototype.getDataParams.call(this,e,i);return r&&(o.info=xh(r).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Io);function dO(n,t){return t=t||[0,0],ue(["x","y"],function(e,i){var r=this.getAxis(e),o=t[i],a=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function RL(n,t){return t=t||[0,0],ue([0,1],function(e){var i=t[e],r=n[e]/2,o=[],a=[];return o[e]=i-r,a[e]=i+r,o[1-e]=a[1-e]=t[1-e],Math.abs(this.dataToPoint(o)[e]-this.dataToPoint(a)[e])},this)}function Y_(n,t){var e=this.getAxis(),i=t instanceof Array?t[0]:t,r=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(i-r)-e.dataToCoord(i+r))}function nM(n,t){return t=t||[0,0],ue(["Radius","Angle"],function(e,i){var r=this["get"+e+"Axis"](),o=t[i],a=n[i]/2,l="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===e&&(l=l*Math.PI/180),l},this)}function Qp(n,t,e,i){return n&&(n.legacy||!1!==n.legacy&&!e&&!i&&"tspan"!==t&&("text"===t||ft(n,"text")))}function Tv(n,t,e){var i,r,o,a=n;if("text"===t)o=a;else{o={},ft(a,"text")&&(o.text=a.text),ft(a,"rich")&&(o.rich=a.rich),ft(a,"textFill")&&(o.fill=a.textFill),ft(a,"textStroke")&&(o.stroke=a.textStroke),ft(a,"fontFamily")&&(o.fontFamily=a.fontFamily),ft(a,"fontSize")&&(o.fontSize=a.fontSize),ft(a,"fontStyle")&&(o.fontStyle=a.fontStyle),ft(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var l=ft(a,"textPosition");e?i.position=l?a.textPosition:"inside":l&&(i.position=a.textPosition),ft(a,"textPosition")&&(i.position=a.textPosition),ft(a,"textOffset")&&(i.offset=a.textOffset),ft(a,"textRotation")&&(i.rotation=a.textRotation),ft(a,"textDistance")&&(i.distance=a.textDistance)}return iM(o,n),pe(o.rich,function(u){iM(u,u)}),{textConfig:i,textContent:r}}function iM(n,t){t&&(t.font=t.textFont||t.font,ft(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),ft(t,"textAlign")&&(n.align=t.textAlign),ft(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),ft(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),ft(t,"textWidth")&&(n.width=t.textWidth),ft(t,"textHeight")&&(n.height=t.textHeight),ft(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),ft(t,"textPadding")&&(n.padding=t.textPadding),ft(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),ft(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),ft(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),ft(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),ft(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),ft(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),ft(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function rM(n,t,e){var i=n;i.textPosition=i.textPosition||e.position||"inside",null!=e.offset&&(i.textOffset=e.offset),null!=e.rotation&&(i.textRotation=e.rotation),null!=e.distance&&(i.textDistance=e.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";U0(i,t);var a=null==i.textFill;return r?a&&(i.textFill=e.insideFill||"#fff",!i.textStroke&&e.insideStroke&&(i.textStroke=e.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||e.outsideFill||"#000"),!i.textStroke&&e.outsideStroke&&(i.textStroke=e.outsideStroke)),i.text=t.text,i.rich=t.rich,pe(t.rich,function(l){U0(l,l)}),i}function U0(n,t){t&&(ft(t,"fill")&&(n.textFill=t.fill),ft(t,"stroke")&&(n.textStroke=t.fill),ft(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),ft(t,"font")&&(n.font=t.font),ft(t,"fontStyle")&&(n.fontStyle=t.fontStyle),ft(t,"fontWeight")&&(n.fontWeight=t.fontWeight),ft(t,"fontSize")&&(n.fontSize=t.fontSize),ft(t,"fontFamily")&&(n.fontFamily=t.fontFamily),ft(t,"align")&&(n.textAlign=t.align),ft(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),ft(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),ft(t,"width")&&(n.textWidth=t.width),ft(t,"height")&&(n.textHeight=t.height),ft(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),ft(t,"padding")&&(n.textPadding=t.padding),ft(t,"borderColor")&&(n.textBorderColor=t.borderColor),ft(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),ft(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),ft(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),ft(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),ft(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),ft(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),ft(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),ft(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),ft(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),ft(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var ed={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},oM=Zt(ed),$0=(ln(go,function(n,t){return n[t]=1,n},{}),go.join(", "),["","style","shape","extra"]),wg=nr();function G_(n,t,e,i,r){var o=n+"Animation",a=Yg(n,i,r)||{},l=wg(t).userDuring;return a.duration>0&&(a.during=l?Et(ta,{el:t,userDuring:l}):null,a.setToFinal=!0,a.scope=n),_t(a,e[o]),a}function X_(n,t,e,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,l=e.isAnimationEnabled(),u=wg(n),f=t.style;u.userDuring=t.during;var M,O,g={},y={};if(function(M,O,L){for(var R=0;R<oM.length;R++){var F=oM[R],Y=ed[F],q=O[F];q&&(L[Y[0]]=q[0],L[Y[1]]=q[1])}for(R=0;R<go.length;R++){var Z=go[R];null!=O[Z]&&(L[Z]=O[Z])}}(0,t,y),da("shape",t,y),da("extra",t,y),!o&&l&&(function(M,O,L){for(var R=O.transition,F=Ki(R)?go:Xi(R||[]),Y=0;Y<F.length;Y++){var q=F[Y];"style"!==q&&"shape"!==q&&"extra"!==q&&(L[q]=M[q])}}(n,t,g),Xo("shape",n,t,g),Xo("extra",n,t,g),function(M,O,L,R){if(L){var F,Y=M.style;if(Y){var q=L.transition,Z=O.transition;if(q&&!Ki(q)){var Q=Xi(q);!F&&(F=R.style={});for(var ne=0;ne<Q.length;ne++){var oe=Y[Re=Q[ne]];F[Re]=oe}}else if(M.getAnimationStyleProps&&(Ki(Z)||Ki(q)||hn(Z,"style")>=0)){var _e=M.getAnimationStyleProps(),ke=_e?_e.style:null;if(ke){!F&&(F=R.style={});var Ee=Zt(L);for(ne=0;ne<Ee.length;ne++){var Re;ke[Re=Ee[ne]]&&(F[Re]=oe=Y[Re])}}}}}}(n,t,f,g)),y.style=f,function(M,O,L){var R=O.style;if(!M.isGroup&&R){if(L){M.useStyle({});for(var F=M.animators,Y=0;Y<F.length;Y++){var q=F[Y];"style"===q.targetName&&q.changeTarget(M.style)}}M.setStyle(R)}O&&(O.style=null,O&&M.attr(O),O.style=R)}(n,y,a),M=n,ft(O=t,"silent")&&(M.silent=O.silent),ft(O,"ignore")&&(M.ignore=O.ignore),M instanceof Vs&&ft(O,"invisible")&&(M.invisible=O.invisible),M instanceof hr&&ft(O,"autoBatch")&&(M.autoBatch=O.autoBatch),l)if(o){var w={};pe($0,function(M){var O=M?t[M]:t;O&&O.enterFrom&&(M&&(w[M]=w[M]||{}),_t(M?w[M]:w,O.enterFrom))});var C=G_("enter",n,t,e,r);C.duration>0&&n.animateFrom(w,C)}else!function(M,O,L,R,F){if(F){var Y=G_("update",M,O,R,L);Y.duration>0&&M.animateFrom(F,Y)}}(n,t,r||0,e,g);vn(n,t),f?n.dirty():n.markRedraw()}function vn(n,t){for(var e=wg(n).leaveToProps,i=0;i<$0.length;i++){var r=$0[i],o=r?t[r]:t;o&&o.leaveTo&&(e||(e=wg(n).leaveToProps={}),r&&(e[r]=e[r]||{}),_t(r?e[r]:e,o.leaveTo))}}function Di(n,t,e,i){if(n){var r=n.parent,o=wg(n).leaveToProps;if(o){var a=G_("update",n,t,e,0);a.done=function(){r.remove(n),i&&i()},n.animateTo(o,a)}else r.remove(n),i&&i()}}function Ki(n){return"all"===n}var Kr={},Go={setTransform:function(n,t){return Kr.el[n]=t,this},getTransform:function(n){return Kr.el[n]},setShape:function(n,t){var e=Kr.el;return(e.shape||(e.shape={}))[n]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var t=Kr.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=Kr.el,i=e.style;return i&&(i[n]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var t=Kr.el.style;if(t)return t[n]},setExtra:function(n,t){return(Kr.el.extra||(Kr.el.extra={}))[n]=t,this},getExtra:function(n){var t=Kr.el.extra;if(t)return t[n]}};function ta(){var n=this,t=n.el;if(t){var e=wg(t).userDuring,i=n.userDuring;e===i?(Kr.el=t,i(Go)):n.el=n.userDuring=null}}function Xo(n,t,e,i){var r=e[n];if(r){var o,a=t[n];if(a){var l=e.transition,u=r.transition;if(u)if(!o&&(o=i[n]={}),Ki(u))_t(o,a);else for(var f=Xi(u),g=0;g<f.length;g++){var y=a[C=f[g]];o[C]=y}else if(Ki(l)||hn(l,n)>=0){!o&&(o=i[n]={});var w=Zt(a);for(g=0;g<w.length;g++){var C;y=a[C=w[g]],Ev(r[C],y)&&(o[C]=y)}}}}}function da(n,t,e){var i=t[n];if(i)for(var r=e[n]={},o=Zt(i),a=0;a<o.length;a++){var l=o[a];r[l]=Nl(i[l])}}function Ev(n,t){return Vt(n)?n!==t:null!=n&&isFinite(n)}var pO=nr(),fO=["percent","easing","shape","style","extra"];function BL(n){n.stopAnimation("keyframe"),n.attr(pO(n))}function gO(n,t,e){if(e.isAnimationEnabled()&&t)if(Bt(t))pe(t,function(l){gO(n,l,e)});else{var i=t.keyframes,r=t.duration;if(e&&null==r){var o=Yg("enter",e,0);r=o&&o.duration}if(i&&r){var a=pO(n);pe($0,function(l){var u;l&&!n[l]||(i.sort(function(f,g){return f.percent-g.percent}),pe(i,function(f){var g=n.animators,y=l?f[l]:f;if(y){var w=Zt(y);if(l||(w=on(w,function(O){return hn(fO,O)<0})),w.length){u||((u=n.animate(l,t.loop,!0)).scope="keyframe");for(var C=0;C<g.length;C++)g[C]!==u&&g[C].targetName===u.targetName&&g[C].stopTracks(w);l&&(a[l]=a[l]||{});var M=l?a[l]:a;pe(w,function(O){M[O]=((l?n[l]:n)||{})[O]}),u.whenWithKeys(r*f.percent,y,w,f.easing)}}}),u&&u.delay(t.delay||0).duration(r).start(t.easing))})}}}var Sg="emphasis",Iv="normal",zL="blur",FL="select",Ov=[Iv,Sg,zL,FL],VL={normal:["itemStyle"],emphasis:[Sg,"itemStyle"],blur:[zL,"itemStyle"],select:[FL,"itemStyle"]},HL={normal:["label"],emphasis:[Sg,"label"],blur:[zL,"label"],select:[FL,"label"]},PB=["x","y"],td={normal:{},emphasis:{},blur:{},select:{}},NB={cartesian2d:function(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:Et(dO,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:Et(RL,n)}}},single:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:Et(Y_,n)}}},polar:function(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=t.dataToRadius(r[0]),a=e.dataToAngle(r[1]),l=n.coordToPoint([o,a]);return l.push(o,a*Math.PI/180),l},size:Et(nM,n)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function WL(n){return n instanceof hr}function jL(n){return n instanceof Vs}var RB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r,o){this._progressiveEls=null;var a=this._data,l=e.getData(),u=this.group,f=KP(e,l,i,r);a||u.removeAll(),l.diff(a).add(function(y){XL(r,null,y,f(y,o),e,u,l)}).remove(function(y){var w=a.getItemGraphicEl(y);w&&Di(w,xh(w).option,e)}).update(function(y,w){var C=a.getItemGraphicEl(w);XL(r,C,y,f(y,o),e,u,l)}).execute();var g=e.get("clip",!0)?$m(e.coordinateSystem,!1,e):null;g?u.setClipPath(g):u.removeClipPath(),this._data=l},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,i,r,o,a){var l=i.getData(),u=KP(i,l,r,o),f=this._progressiveEls=[];function g(C){C.isGroup||(C.incremental=!0,C.ensureState("emphasis").hoverLayer=!0)}for(var y=e.start;y<e.end;y++){var w=XL(null,null,y,u(y,a),i,this.group,l);w&&(w.traverse(g),f.push(w))}},t.prototype.eachRendered=function(e){uu(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,i,r,o){var a=i.element;if(null==a||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},t.type="custom",t}(ao);function YL(n){var t,e=n.type;if("path"===e){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=nN(i);t=Jv(o,null,r,i.layout||"center"),xh(t).customPathData=o}else if("image"===e)t=new ls({}),xh(t).customImagePath=n.style.image;else if("text"===e)t=new Qr({});else if("group"===e)t=new Gi;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var a=zh(e);a||qn(""),t=new a}return xh(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function GL(n,t,e,i,r,o,a){BL(t);var l=r&&r.normal.cfg;l&&t.setTextConfig(l),i&&null==i.transition&&(i.transition=PB);var u=i&&i.style;if(u){if("text"===t.type){var f=u;ft(f,"textFill")&&(f.fill=f.textFill),ft(f,"textStroke")&&(f.stroke=f.textStroke)}var g=void 0,y=WL(t)?u.decal:null;n&&y&&(y.dirty=!0,g=Vf(y,n)),u.__decalPattern=g}jL(t)&&u&&(g=u.__decalPattern)&&(u.decal=g),X_(t,i,o,{dataIndex:e,isInit:a,clearStyle:!0}),gO(t,i.keyframeAnimation,o)}function ZP(n,t,e,i,r){var o=t.isGroup?null:t,a=r&&r[n].cfg;if(o){var l=o.ensureState(n);if(!1===i){var u=o.getState(n);u&&(u.style=null)}else l.style=i||null;a&&(l.textConfig=a),ci(o)}}function BB(n,t,e){var i=e===Iv,r=i?t:mO(t,e),o=r?r.z2:null;null!=o&&((i?n:n.ensureState(e)).z2=o||0)}function KP(n,t,e,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):NB[o.type](o));for(var l,u,f=It({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(Q,ne){return null==ne&&(ne=l),t.getStore().get(t.getDimensionIndex(Q||0),ne)},style:function(Q,ne){null==ne&&(ne=l);var oe=t.getItemVisual(ne,"style"),_e=oe&&oe.fill,ke=oe&&oe.opacity,Ee=F(ne,Iv).getItemStyle();null!=_e&&(Ee.fill=_e),null!=ke&&(Ee.opacity=ke);var Re={inheritColor:On(_e)?_e:"#000"},Je=Y(ne,Iv),st=Eo(Je,null,Re,!1,!0);st.text=Je.getShallow("show")?yi(n.getFormattedLabel(ne,Iv),tg(t,ne)):null;var mt=mp(Je,Re,!1);return Z(Q,Ee),Ee=rM(Ee,st,mt),Q&&q(Ee,Q),Ee.legacy=!0,Ee},ordinalRawValue:function(Q,ne){null==ne&&(ne=l);var oe=t.getDimensionInfo(Q=Q||0);if(!oe){var _e=t.getDimensionIndex(Q);return _e>=0?t.getStore().get(_e,ne):void 0}var ke=t.get(oe.name,ne),Ee=oe&&oe.ordinalMeta;return Ee?Ee.categories[ke]:ke},styleEmphasis:function(Q,ne){null==ne&&(ne=l);var oe=F(ne,Sg).getItemStyle(),_e=Y(ne,Sg),ke=Eo(_e,null,null,!0,!0);ke.text=_e.getShallow("show")?fr(n.getFormattedLabel(ne,Sg),n.getFormattedLabel(ne,Iv),tg(t,ne)):null;var Ee=mp(_e,null,!0);return Z(Q,oe),oe=rM(oe,ke,Ee),Q&&q(oe,Q),oe.legacy=!0,oe},visual:function(Q,ne){if(null==ne&&(ne=l),ft(Kp,Q)){var oe=t.getItemVisual(ne,"style");return oe?oe[Kp[Q]]:null}if(ft(q0,Q))return t.getItemVisual(ne,Q)},barLayout:function(Q){if("cartesian2d"===o.type)return function(ne){var oe=[],_e=ne.axis;if("category"===_e.type){for(var Ee=_e.getBandWidth(),Re=0;Re<ne.count;Re++)oe.push(It({bandWidth:Ee,axisKey:"axis0",stackId:jy+Re},ne));var Je=C2(oe),st=[];for(Re=0;Re<ne.count;Re++){var mt=Je.axis0[jy+Re];mt.offsetCenter=mt.offset+mt.width/2,st.push(mt)}return st}}(It({axis:o.getBaseAxis()},Q))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(Q){return Sb(Q,e)}},a.api||{}),g={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:zB(n.getData())},y={},w={},C={},M={},O=0;O<Ov.length;O++){var L=Ov[O];C[L]=n.getModel(VL[L]),M[L]=n.getModel(HL[L])}function R(Q){return Q===l?u||(u=t.getItemModel(Q)):t.getItemModel(Q)}function F(Q,ne){return t.hasItemOption?Q===l?y[ne]||(y[ne]=R(Q).getModel(VL[ne])):R(Q).getModel(VL[ne]):C[ne]}function Y(Q,ne){return t.hasItemOption?Q===l?w[ne]||(w[ne]=R(Q).getModel(HL[ne])):R(Q).getModel(HL[ne]):M[ne]}return function(Q,ne){return l=Q,u=null,y={},w={},r&&r(It({dataIndexInside:Q,dataIndex:t.getRawIndex(Q),actionType:ne?ne.type:null},g),f)};function q(Q,ne){for(var oe in ne)ft(ne,oe)&&(Q[oe]=ne[oe])}function Z(Q,ne){Q&&(Q.textFill&&(ne.textFill=Q.textFill),Q.textPosition&&(ne.textPosition=Q.textPosition))}}function zB(n){var t={};return pe(n.dimensions,function(e){var i=n.getDimensionInfo(e);if(!i.isExtraCoord){var r=i.coordDim;(t[r]=t[r]||[])[i.coordDimIndex]=n.getDimensionIndex(e)}}),t}function XL(n,t,e,i,r,o,a){if(i){var l=qL(n,t,e,i,r,o);return l&&a.setItemGraphicEl(e,l),l&&wa(l,i.focus,i.blurScope,i.emphasisDisabled),l}o.remove(t)}function qL(n,t,e,i,r,o){var a=-1,l=t;t&&QP(t,i,r)&&(a=hn(o.childrenRef(),t),t=null);var u,f,g=!t,y=t;y?y.clearStates():(y=YL(i),l&&((f=y).copyTransform(u=l),jL(f)&&jL(u)&&(f.setStyle(u.style),f.z=u.z,f.z2=u.z2,f.zlevel=u.zlevel,f.invisible=u.invisible,f.ignore=u.ignore,WL(f)&&WL(u)&&f.setShape(u.shape)))),!1===i.morph?y.disableMorphing=!0:y.disableMorphing&&(y.disableMorphing=!1),td.normal.cfg=td.normal.conOpt=td.emphasis.cfg=td.emphasis.conOpt=td.blur.cfg=td.blur.conOpt=td.select.cfg=td.select.conOpt=null,td.isLegacy=!1,function(O,L,R,F,Y,q){if(!O.isGroup){JP(R,null,q),JP(R,Sg,q);var Z=q.normal.conOpt;if(null!=Z||null!=q.emphasis.conOpt||null!=q.select.conOpt||null!=q.blur.conOpt){var _e=O.getTextContent();if(!1===Z)_e&&O.removeTextContent();else{Z=q.normal.conOpt=Z||{type:"text"},_e?_e.clearStates():(_e=YL(Z),O.setTextContent(_e)),GL(null,_e,L,Z,null,F,Y);for(var ke=Z&&Z.style,Ee=0;Ee<Ov.length;Ee++){var Re=Ov[Ee];Re!==Iv&&ZP(Re,_e,0,UL(Z,q[Re].conOpt,Re),null)}ke?_e.dirty():_e.markRedraw()}}}}(y,e,i,r,g,td),function(O,L,R,F,Y){var q=R.clipPath;if(!1===q)O&&O.getClipPath()&&O.removeClipPath();else if(q){var Z=O.getClipPath();Z&&QP(Z,q,F)&&(Z=null),Z||(Z=YL(q),O.setClipPath(Z)),GL(null,Z,L,q,null,F,Y)}}(y,e,i,r,g),GL(n,y,e,i,td,r,g),ft(i,"info")&&(xh(y).info=i.info);for(var w=0;w<Ov.length;w++){var C=Ov[w];C!==Iv&&ZP(C,y,0,UL(i,mO(i,C),C),td)}return function(O,L,R){if(!O.isGroup){var F=O,q=R.currentZLevel;F.z=R.currentZ,F.zlevel=q;var Z=L.z2;null!=Z&&(F.z2=Z||0);for(var Q=0;Q<Ov.length;Q++)BB(F,L,Ov[Q])}}(y,i,r),"group"===i.type&&function(O,L,R,F,Y){var q=F.children,Z=q?q.length:0,Q=F.$mergeChildren,ne="byName"===Q||F.diffChildrenByName,oe=!1===Q;if(Z||ne||oe){if(ne)return _e={api:O,oldChildren:L.children()||[],newChildren:q||[],dataIndex:R,seriesModel:Y,group:L},void new Gh(_e.oldChildren,_e.newChildren,eN,eN,_e).add(tN).update(tN).remove(VB).execute();var _e;oe&&L.removeAll();for(var ke=0;ke<Z;ke++){var Ee=q[ke],Re=L.childAt(ke);Ee?(null==Ee.ignore&&(Ee.ignore=!1),qL(O,Re,R,Ee,Y,L)):Re.ignore=!0}for(var Je=L.childCount()-1;Je>=ke;Je--){var st=L.childAt(Je);FB(L,st,Y)}}}(n,y,e,i,r),a>=0?o.replaceAt(y,a):o.add(y),y}function QP(n,t,e){var i,r=xh(n),o=t.type,a=t.shape,l=t.style;return e.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&(i=a)&&(ft(i,"pathData")||ft(i,"d"))&&nN(a)!==r.customPathData||"image"===o&&ft(l,"image")&&l.image!==r.customImagePath}function JP(n,t,e){var i=t?mO(n,t):n,r=t?UL(n,i,Sg):n.style,o=n.type,a=i?i.textConfig:null,l=n.textContent,u=l?t?mO(l,t):l:null;if(r&&(e.isLegacy||Qp(r,o,!!a,!!u))){e.isLegacy=!0;var f=Tv(r,o,!t);!a&&f.textConfig&&(a=f.textConfig),!u&&f.textContent&&(u=f.textContent)}!t&&u&&!u.type&&(u.type="text");var y=t?e[t]:e.normal;y.cfg=a,y.conOpt=u}function mO(n,t){return t?n?n[t]:null:n}function UL(n,t,e){var i=t&&t.style;return null==i&&e===Sg&&n&&(i=n.styleEmphasis),i}function FB(n,t,e){t&&Di(t,xh(n).option,e)}function eN(n,t){return(n&&n.name)??"e\0\0"+t}function tN(n,t){var e=this.context;qL(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function VB(n){var t=this.context,e=t.oldChildren[n];e&&Di(e,xh(e).option,t.seriesModel)}function nN(n){return n&&(n.pathData||n.d)}var Z0=nr(),iN=Qe,$L=Et,ZL=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,i,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var l=this._group,u=this._handle;if(!a||"hide"===a)return l&&l.hide(),void(u&&u.hide());l&&l.show(),u&&u.show();var f={};this.makeElOption(f,o,t,e,i);var g=f.graphicKey;g!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(t,e);if(l){var w=xn(rN,e,y);this.updatePointerEl(l,f,w),this.updateLabelEl(l,f,w,e)}else l=this._group=new Gi,this.createPointerEl(l,f,t,e),this.createLabelEl(l,f,t,e),i.getZr().add(l);sN(l,e,!0),this._renderHandle(o)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var i=e.get("animation"),r=t.axis,o="category"===r.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var l=this.animationThreshold;if(o&&r.getBandWidth()>l)return!0;if(a){var u=p0(t).seriesDataCount,f=r.getExtent();return Math.abs(f[0]-f[1])/u>l}return!1}return!0===i},n.prototype.makeElOption=function(t,e,i,r,o){},n.prototype.createPointerEl=function(t,e,i,r){var o=e.pointer;if(o){var a=Z0(t).pointerEl=new hu[o.type](iN(e.pointer));t.add(a)}},n.prototype.createLabelEl=function(t,e,i,r){if(e.label){var o=Z0(t).labelEl=new Qr(iN(e.label));t.add(o),aN(o,r)}},n.prototype.updatePointerEl=function(t,e,i){var r=Z0(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),i(r,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,i,r){var o=Z0(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),aN(o,r))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=i.getModel("handle"),l=i.get("status");if(!a.get("show")||!l||"hide"===l)return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Ug(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){ae(f.event)},onmousedown:$L(this._onHandleDragMove,this,0,0),drift:$L(this._onHandleDragMove,this),ondragend:$L(this._onHandleDragEnd,this)}),r.add(o)),sN(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");Bt(u)||(u=[u,u]),o.scaleX=u[0]/2,o.scaleY=u[1]/2,pm(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},n.prototype._moveHandleToValue=function(t,e){rN(this._axisPointerModel,!e&&this._moveAnimation,this._handle,KL(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(KL(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(KL(r)),Z0(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,r=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),yy(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},n}();function rN(n,t,e,i){oN(Z0(e).lastProp,i)||(Z0(e).lastProp=i,t?co(e,i,n):(e.stopAnimation(),e.attr(i)))}function oN(n,t){if(hi(n)&&hi(t)){var e=!0;return pe(t,function(i,r){e=e&&oN(n[r],i)}),!!e}return n===t}function aN(n,t){n[t.get(["label","show"])?"show":"hide"]()}function KL(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function sN(n,t,e){var i=t.get("z"),r=t.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=e)})}function QL(n){var t,e=n.get("type"),i=n.getModel(e+"Style");return"line"===e?(t=i.getLineStyle()).fill=null:"shadow"===e&&((t=i.getAreaStyle()).stroke=null),t}function lN(n,t,e,i,r){var o=cN(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),a=e.getModel("label"),l=Id(a.get("padding")||0),u=a.getFont(),f=Bl(o,u),g=r.position,y=f.width+l[1]+l[3],w=f.height+l[0]+l[2],C=r.align;"right"===C&&(g[0]-=y),"center"===C&&(g[0]-=y/2);var L,R,F,Y,q,Z,M=r.verticalAlign;"bottom"===M&&(g[1]-=w),"middle"===M&&(g[1]-=w/2),L=g,R=y,F=w,q=(Y=i).getWidth(),Z=Y.getHeight(),L[0]=Math.min(L[0]+R,q)-R,L[1]=Math.min(L[1]+F,Z)-F,L[0]=Math.max(L[0],0),L[1]=Math.max(L[1],0);var O=a.get("backgroundColor");O&&"auto"!==O||(O=t.get(["axisLine","lineStyle","color"])),n.label={x:g[0],y:g[1],style:Eo(a,{text:o,font:u,fill:a.getTextColor(),padding:l,backgroundColor:O}),z2:10}}function cN(n,t,e,i,r){n=t.scale.parse(n);var o=t.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var l={value:$x(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};pe(i,function(u){var f=e.getSeriesByIndex(u.seriesIndex),y=f&&f.getDataParams(u.dataIndexInside);y&&l.seriesData.push(y)}),On(a)?o=a.replace("{value}",o):Ht(a)&&(o=a(l))}return o}function JL(n,t,e){var i=[1,0,0,1,0,0];return gi(i,i,e.rotation),Cn(i,i,e.position),Ju([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],i)}function uN(n,t,e,i,r,o){var a=Es.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),lN(t,i,r,o,{position:JL(i.axis,n,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function eP(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function hN(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function dN(n,t,e,i,r,o){return{cx:n,cy:t,r0:e,r:i,startAngle:r,endAngle:o,clockwise:!0}}var HB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var l=r.axis,u=l.grid,f=o.get("type"),g=pN(u,l).getOtherAxis(l).getGlobalExtent(),y=l.toGlobalCoord(l.dataToCoord(i,!0));if(f&&"none"!==f){var w=QL(o),C=WB[f](l,y,g);C.style=w,e.graphicKey=C.type,e.pointer=C}uN(i,e,O1(u.model,r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=O1(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=JL(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,l=a.grid,u=a.getGlobalExtent(!0),f=pN(l,a).getOtherAxis(a).getGlobalExtent(),g="x"===a.dim?0:1,y=[e.x,e.y];y[g]+=i[g],y[g]=Math.min(u[1],y[g]),y[g]=Math.max(u[0],y[g]);var w=(f[1]+f[0])/2,C=[w,w];return C[g]=y[g],{x:y[0],y:y[1],rotation:e.rotation,cursorPoint:C,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][g]}},t}(ZL);function pN(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var WB={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:eP([t,e[0]],[t,e[1]],fN(n))}},shadow:function(n,t,e){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:hN([t-i/2,e[0]],[i,e[1]-e[0]],fN(n))}}};function fN(n){return"x"===n.dim?0:1}var jB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(qr),Cg=nr(),YB=pe;function gN(n,t,e){if(!Nt.node){var i=t.getZr();Cg(i).records||(Cg(i).records={}),function(r,o){function a(l,u){r.on(l,function(f){var y,w,C,g=(y=o,{dispatchAction:C=function(M){var O=w[M.type];O?O.push(M):(M.dispatchAction=C,y.dispatchAction(M))},pendings:w={showTip:[],hideTip:[]}});YB(Cg(r).records,function(y){y&&u(y,f,g.dispatchAction)}),function(y,w){var C,M=y.showTip.length,O=y.hideTip.length;M?C=y.showTip[M-1]:O&&(C=y.hideTip[O-1]),C&&(C.dispatchAction=null,w.dispatchAction(C))}(g.pendings,o)})}Cg(r).initialized||(Cg(r).initialized=!0,a("click",xn(mN,"click")),a("mousemove",xn(mN,"mousemove")),a("globalout",GB))}(i,t),(Cg(i).records[n]||(Cg(i).records[n]={})).handler=e}}function GB(n,t,e){n.handler("leave",null,e)}function mN(n,t,e,i){t.handler(n,e,i)}function tP(n,t){if(!Nt.node){var e=t.getZr();(Cg(e).records||{})[n]&&(Cg(e).records[n]=null)}}var XB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=i.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";gN("axisPointer",r,function(l,u,f){"none"!==a&&("leave"===l||a.indexOf(l)>=0)&&f({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},t.prototype.remove=function(e,i){tP("axisPointer",i)},t.prototype.dispose=function(e,i){tP("axisPointer",i)},t.type="axisPointer",t}(Bo);function vN(n,t){var e,i=[],r=n.seriesIndex;if(null==r||!(e=t.getSeriesByIndex(r)))return{point:[]};var o=e.getData(),a=no(o,n);if(null==a||a<0||Bt(a))return{point:[]};var l=o.getItemGraphicEl(a),u=e.coordinateSystem;if(e.getTooltipPosition)i=e.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)if(n.isStacked){var f=u.getBaseAxis(),g=u.getOtherAxis(f).dim,w="x"===g||"radius"===g?1:0,C=o.mapDimension(f.dim),M=[];M[w]=o.get(C,a),M[1-w]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=u.dataToPoint(M)||[]}else i=u.dataToPoint(o.getValues(ue(u.dimensions,function(L){return o.mapDimension(L)}),a))||[];else if(l){var O=l.getBoundingRect().clone();O.applyTransform(l.transform),i=[O.x+O.width/2,O.y+O.height/2]}return{point:i,el:l}}var yN=nr();function qB(n,t,e){var R,F,q,i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||Et(e.dispatchAction,e),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){vO(r)&&(r=vN({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var u=vO(r),f=o.axesInfo,g=l.axesInfo,y="leave"===i||vO(r),w={},C={},M={list:[],map:{}},O={showPointer:xn(UB,C),showTooltip:xn($B,M)};pe(l.coordSysMap,function(R,F){var Y=u||R.containPoint(r);pe(l.coordSysAxesInfo[F],function(q,Z){var Q=q.axis,ne=function(_e,ke){for(var Ee=0;Ee<(_e||[]).length;Ee++){var Re=_e[Ee];if(ke.axis.dim===Re.axisDim&&ke.axis.model.componentIndex===Re.axisIndex)return Re}}(f,q);if(!y&&Y&&(!f||ne)){var oe=ne&&ne.value;null!=oe||u||(oe=Q.pointToData(r)),null!=oe&&bN(q,oe,O,!1,w)}})});var L={};return pe(g,function(R,F){var Y=R.linkGroup;Y&&!C[F]&&pe(Y.axesInfo,function(q,Z){var Q=C[Z];if(q!==R&&Q){var ne=Q.value;Y.mapper&&(ne=R.axis.scale.parse(Y.mapper(ne,xN(q),xN(R)))),L[R.key]=ne}})}),pe(L,function(R,F){bN(g[F],R,O,!0,w)}),R=C,F=g,q=w.axesInfo=[],pe(F,function(Z,Q){var ne=Z.axisPointerModel.option,oe=R[Q];oe?(!Z.useHandle&&(ne.status="show"),ne.value=oe.value,ne.seriesDataIndices=(oe.payloadBatch||[]).slice()):!Z.useHandle&&(ne.status="hide"),"show"===ne.status&&q.push({axisDim:Z.axis.dim,axisIndex:Z.axis.model.componentIndex,value:ne.value})}),function(R,F,Y,q){if(!vO(F)&&R.list.length){var Z=((R.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};q({type:"showTip",escapeConnect:!0,x:F[0],y:F[1],tooltipOption:Y.tooltipOption,position:Y.position,dataIndexInside:Z.dataIndexInside,dataIndex:Z.dataIndex,seriesIndex:Z.seriesIndex,dataByCoordSys:R.list})}else q({type:"hideTip"})}(M,r,n,a),function(R,F,Y){var q=Y.getZr(),Z="axisPointerLastHighlights",Q=yN(q)[Z]||{},ne=yN(q)[Z]={};pe(R,function(ke,Ee){var Re=ke.axisPointerModel.option;"show"===Re.status&&ke.triggerEmphasis&&pe(Re.seriesDataIndices,function(Je){ne[Je.seriesIndex+" | "+Je.dataIndex]=Je})});var oe=[],_e=[];pe(Q,function(ke,Ee){!ne[Ee]&&_e.push(ke)}),pe(ne,function(ke,Ee){!Q[Ee]&&oe.push(ke)}),_e.length&&Y.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:_e}),oe.length&&Y.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:oe})}(g,0,e),w}}function bN(n,t,e,i,r){var f,g,y,w,C,M,O,L,o=n.axis;if(!o.scale.isBlank()&&o.containData(t))if(n.involveSeries){var a=(w=(y=(g=n).axis).dim,C=f=t,M=[],O=Number.MAX_VALUE,L=-1,pe(g.seriesModels,function(R,F){var Y,q,Z=R.getData().mapDimensionsAll(w);if(R.getAxisTooltipData){var Q=R.getAxisTooltipData(Z,f,y);q=Q.dataIndices,Y=Q.nestestValue}else{if(!(q=R.getData().indicesOfNearest(Z[0],f,"category"===y.type?.5:null)).length)return;Y=R.getData().get(Z[0],q[0])}if(null!=Y&&isFinite(Y)){var ne=f-Y,oe=Math.abs(ne);oe<=O&&((oe<O||ne>=0&&L<0)&&(O=oe,L=ne,C=Y,M.length=0),pe(q,function(_e){M.push({seriesIndex:R.seriesIndex,dataIndexInside:_e,dataIndex:R.getData().getRawIndex(_e)})}))}}),{payloadBatch:M,snapToValue:C}),l=a.payloadBatch,u=a.snapToValue;l[0]&&null==r.seriesIndex&&_t(r,l[0]),!i&&n.snap&&o.containData(u)&&null!=u&&(t=u),e.showPointer(n,t,l),e.showTooltip(n,a,u)}else e.showPointer(n,t)}function UB(n,t,e,i){n[t.key]={value:e,payloadBatch:i}}function $B(n,t,e,i){var r=e.payloadBatch,o=t.axis,a=o.model,l=t.axisPointerModel;if(t.triggerTooltip&&r.length){var u=t.coordSys.model,f=ov(u),g=n.map[f];g||(g=n.map[f]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(g)),g.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function xN(n){var t=n.axis.model,e={},i=e.axisDim=n.axis.dim;return e.axisIndex=e[i+"AxisIndex"]=t.componentIndex,e.axisName=e[i+"AxisName"]=t.name,e.axisId=e[i+"AxisId"]=t.id,e}function vO(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function aM(n){rg.registerAxisPointerClass("CartesianAxisPointer",HB),n.registerComponentModel(jB),n.registerComponentView(XB),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Bt(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function d0(n,t){var i,r,o,a,l,u,f,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i=e,o=t,a=(r=n).getComponent("tooltip"),l=r.getComponent("axisPointer"),u=l.get("link",!0)||[],f=[],pe(o.getCoordinateSystems(),function(g){if(g.axisPointerEnabled){var y=ov(g.model),w=i.coordSysAxesInfo[y]={};i.coordSysMap[y]=g;var C=g.model.getModel("tooltip",a);if(pe(g.getAxes(),xn(R,!1,null)),g.getTooltipAxes&&a&&C.get("show")){var M="axis"===C.get("trigger"),O="cross"===C.get(["axisPointer","type"]),L=g.getTooltipAxes(C.get(["axisPointer","axis"]));(M||O)&&pe(L.baseAxes,xn(R,!O||"cross",M)),O&&pe(L.otherAxes,xn(R,"cross",!1))}}function R(F,Y,q){var Z=q.model.getModel("axisPointer",l),Q=Z.get("show");if(Q&&("auto"!==Q||F||P1(Z))){null==Y&&(Y=Z.get("triggerTooltip"));var ne=(Z=F?function(st,mt,St,Tt,Lt,$t){var nn=mt.getModel("axisPointer"),an={};pe(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(Pn){an[Pn]=Qe(nn.get(Pn))}),an.snap="category"!==st.type&&!!$t,"cross"===nn.get("type")&&(an.type="line");var kn=an.label||(an.label={});if(null==kn.show&&(kn.show=!1),"cross"===Lt){var jn=nn.get(["label","show"]);if(kn.show=null==jn||jn,!$t){var cn=an.lineStyle=nn.get("crossStyle");cn&&It(kn,cn.textStyle)}}return st.model.getModel("axisPointer",new ho(an,St,Tt))}(q,C,l,r,F,Y):Z).get("snap"),oe=Z.get("triggerEmphasis"),_e=ov(q.model),ke=Y||ne||"category"===q.type,Ee=i.axesInfo[_e]={key:_e,axis:q,coordSys:g,axisPointerModel:Z,triggerTooltip:Y,triggerEmphasis:oe,involveSeries:ke,snap:ne,useHandle:P1(Z),seriesModels:[],linkGroup:null};w[_e]=Ee,i.seriesInvolved=i.seriesInvolved||ke;var Re=function(st,mt){for(var St=mt.model,Tt=mt.dim,Lt=0;Lt<st.length;Lt++){var $t=st[Lt]||{};if(L1($t[Tt+"AxisId"],St.id)||L1($t[Tt+"AxisIndex"],St.componentIndex)||L1($t[Tt+"AxisName"],St.name))return Lt}}(u,q);if(null!=Re){var Je=f[Re]||(f[Re]={axesInfo:{}});Je.axesInfo[_e]=Ee,Je.mapper=u[Re].mapper,Ee.linkGroup=Je}}}}),e.seriesInvolved&&function(i,r){r.eachSeries(function(o){var a=o.coordinateSystem,l=o.get(["tooltip","trigger"],!0),u=o.get(["tooltip","show"],!0);a&&"none"!==l&&!1!==l&&"item"!==l&&!1!==u&&!1!==o.get(["axisPointer","show"],!0)&&pe(i.coordSysAxesInfo[ov(a.model)],function(f){var g=f.axis;a.getAxis(g.dim)===g&&(f.seriesModels.push(o),null==f.seriesDataCount&&(f.seriesDataCount=0),f.seriesDataCount+=o.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},qB)}var ZB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var l=r.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var u=l.polar,f=u.getOtherAxis(l).getExtent(),g=l.dataToCoord(i),y=o.get("type");if(y&&"none"!==y){var w=QL(o),C=KB[y](l,u,g,f);C.style=w,e.graphicKey=C.type,e.pointer=C}var M=function(O,L,R,F,Y){var q=L.axis,Z=q.dataToCoord(O),Q=F.getAngleAxis().getExtent()[0];Q=Q/180*Math.PI;var ne,oe,_e,ke=F.getRadiusAxis().getExtent();if("radius"===q.dim){var Ee=[1,0,0,1,0,0];gi(Ee,Ee,Q),Cn(Ee,Ee,[F.cx,F.cy]),ne=Ju([Z,-Y],Ee);var Re=L.getModel("axisLabel").get("rotate")||0,Je=Es.innerTextLayout(Q,Re*Math.PI/180,-1);oe=Je.textAlign,_e=Je.textVerticalAlign}else{var st=ke[1];ne=F.coordToPoint([st+Y,Z]);var mt=F.cx,St=F.cy;oe=Math.abs(ne[0]-mt)/st<.3?"center":ne[0]>mt?"left":"right",_e=Math.abs(ne[1]-St)/st<.3?"middle":ne[1]>St?"top":"bottom"}return{position:ne,align:oe,verticalAlign:_e}}(i,r,0,u,o.get(["label","margin"]));lN(e,r,o,a,M)},t}(ZL),KB={line:function(n,t,e,i){return"angle"===n.dim?{type:"Line",shape:eP(t.coordToPoint([i[0],e]),t.coordToPoint([i[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:dN(t.cx,t.cy,i[0],i[1],(-e-r/2)*o,(r/2-e)*o)}:{type:"Sector",shape:dN(t.cx,t.cy,e-r/2,e+r/2,0,2*Math.PI)}}},QB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.findAxisModel=function(e){var i;return this.ecModel.eachComponent(e,function(r){r.getCoordSysModel()===this&&(i=r)},this),i},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(qr),nP=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",_o).models[0]},t.type="polarAxis",t}(qr);qe(nP,qf);var JB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="angleAxis",t}(nP),ez=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="radiusAxis",t}(nP),iP=function(n){function t(e,i){return n.call(this,"radius",e,i)||this}return Oe(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t}(Nc);iP.prototype.dataToRadius=Nc.prototype.dataToCoord,iP.prototype.radiusToData=Nc.prototype.coordToData;var tz=nr(),rP=function(n){function t(e,i){return n.call(this,"angle",e,i||[0,360])||this}return Oe(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,i=e.getLabelModel(),r=e.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var l=o[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),f=Math.abs(u),g=Bl(null==l?"":l+"",i.getFont(),"center","top"),y=Math.max(g.height,7)/f;isNaN(y)&&(y=1/0);var w=Math.max(0,Math.floor(y)),C=tz(e.model),M=C.lastAutoInterval,O=C.lastTickCount;return null!=M&&null!=O&&Math.abs(M-w)<=1&&Math.abs(O-a)<=1&&M>w?w=M:(C.lastTickCount=a,C.lastAutoInterval=w),w},t}(Nc);rP.prototype.dataToAngle=Nc.prototype.dataToCoord,rP.prototype.angleToData=Nc.prototype.coordToData;var _N=["radius","angle"],nz=function(){function n(t){this.dimensions=_N,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new iP,this._angleAxis=new rP,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===t&&e.push(i),r.scale.type===t&&e.push(r),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]);r.inverse?a=l-360:l=a+360;var u=Math.sqrt(e*e+i*i);e/=u,i/=u;for(var f=Math.atan2(-i,e)/Math.PI*180,g=f<a?1:-1;f<a||f>l;)f+=360*g;return[u,f]},n.prototype.coordToPoint=function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:t.inverse,contain:function(o,a){var l=o-this.cx,u=a-this.cy,f=l*l+u*u-1e-4,g=this.r,y=this.r0;return f<=g*g&&f>=y*y}}},n.prototype.convertToPixel=function(t,e,i){return wN(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return wN(e)===this?this.pointToData(i):null},n}();function wN(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function iz(n,t){var e=this,i=e.getAngleAxis(),r=e.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(l){if(l.coordinateSystem===e){var u=l.getData();pe(Vm(u,"radius"),function(f){r.scale.unionExtentFromData(u,f)}),pe(Vm(u,"angle"),function(f){i.scale.unionExtentFromData(u,f)})}}),Op(i.scale,i.model),Op(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function SN(n,t){if(n.type=t.get("type"),n.scale=qh(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),"angleAxis"===t.mainType){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var rz={dimensions:_N,create:function(n,t){var e=[];return n.eachComponent("polar",function(i,r){var o=new nz(r+"");o.update=iz;var a=o.getRadiusAxis(),l=o.getAngleAxis(),u=i.findAxisModel("radiusAxis"),f=i.findAxisModel("angleAxis");SN(a,u),SN(l,f),function(g,y,w){var C=y.get("center"),M=w.getWidth(),O=w.getHeight();g.cx=ri(C[0],M),g.cy=ri(C[1],O);var L=g.getRadiusAxis(),R=Math.min(M,O)/2,F=y.get("radius");null==F?F=[0,"100%"]:Bt(F)||(F=[0,F]);var Y=[ri(F[0],R),ri(F[1],R)];L.inverse?L.setExtent(Y[1],Y[0]):L.setExtent(Y[0],Y[1])}(o,i,t),e.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",_o).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},oz=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function yO(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var i=n.coordToPoint([t[0],e]),r=n.coordToPoint([t[1],e]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function bO(n){return n.getRadiusAxis().inverse?0:1}function CN(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var az=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return Oe(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=e.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),l=r.getTicksCoords(),u=r.getMinorTicksCoords(),f=ue(r.getViewLabels(),function(g){g=Qe(g);var y=r.scale,w="ordinal"===y.type?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=r.dataToCoord(w),g});CN(f),CN(l),pe(oz,function(g){!e.get([g,"show"])||r.scale.isBlank()&&"axisLine"!==g||sz[g](this.group,e,o,l,u,a,f)},this)}},t.type="angleAxis",t}(rg),sz={axisLine:function(n,t,e,i,r,o){var a,l=t.getModel(["axisLine","lineStyle"]),u=bO(e),f=u?0:1;(a=0===o[f]?new au({shape:{cx:e.cx,cy:e.cy,r:o[u]},style:l.getLineStyle(),z2:1,silent:!0}):new Hg({shape:{cx:e.cx,cy:e.cy,r:o[u],r0:o[f]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(a)},axisTick:function(n,t,e,i,r,o){var a=t.getModel("axisTick"),l=(a.get("inside")?-1:1)*a.get("length"),u=o[bO(e)],f=ue(i,function(g){return new cs({shape:yO(e,[u,u+l],g.coord)})});n.add(oc(f,{style:It(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("axisTick"),l=t.getModel("minorTick"),u=(a.get("inside")?-1:1)*l.get("length"),f=o[bO(e)],g=[],y=0;y<r.length;y++)for(var w=0;w<r[y].length;w++)g.push(new cs({shape:yO(e,[f,f+u],r[y][w].coord)}));n.add(oc(g,{style:It(l.getModel("lineStyle").getLineStyle(),It(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,i,r,o,a){var l=t.getCategories(!0),u=t.getModel("axisLabel"),f=u.get("margin"),g=t.get("triggerEvent");pe(a,function(y,w){var C=u,M=y.tickValue,O=o[bO(e)],L=e.coordToPoint([O+f,y.coord]),R=e.cx,F=e.cy,Y=Math.abs(L[0]-R)/O<.3?"center":L[0]>R?"left":"right",q=Math.abs(L[1]-F)/O<.3?"middle":L[1]>F?"top":"bottom";if(l&&l[M]){var Z=l[M];hi(Z)&&Z.textStyle&&(C=new ho(Z.textStyle,u,u.ecModel))}var Q=new Qr({silent:Es.isLabelSilent(t),style:Eo(C,{x:L[0],y:L[1],fill:C.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:Y,verticalAlign:q})});if(n.add(Q),g){var ne=Es.makeAxisEventDataBase(t);ne.targetType="axisLabel",ne.value=y.rawLabel,_r(Q).eventData=ne}},this)},splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=0;g<i.length;g++){var y=u++%l.length;f[y]=f[y]||[],f[y].push(new cs({shape:yO(e,o,i[g].coord)}))}for(g=0;g<f.length;g++)n.add(oc(f[g],{style:It({stroke:l[g%l.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var f=0;f<r[u].length;f++)l.push(new cs({shape:yO(e,o,r[u][f].coord)}));n.add(oc(l,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,i,r,o){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=Math.PI/180,y=-i[0].coord*g,w=Math.min(o[0],o[1]),C=Math.max(o[0],o[1]),M=t.get("clockwise"),O=1,L=i.length;O<=L;O++){var R=O===L?i[0].coord:i[O].coord,F=u++%l.length;f[F]=f[F]||[],f[F].push(new fl({shape:{cx:e.cx,cy:e.cy,r0:w,r:C,startAngle:y,endAngle:-R*g,clockwise:M},silent:!0})),y=-R*g}for(O=0;O<f.length;O++)n.add(oc(f[O],{style:It({fill:l[O%l.length]},a.getAreaStyle()),silent:!0}))}}},lz=["axisLine","axisTickLabel","axisName"],cz=["splitLine","splitArea","minorSplitLine"],uz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return Oe(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=this._axisGroup,o=this._axisGroup=new Gi;this.group.add(o);var a=e.axis,l=a.polar,u=l.getAngleAxis(),f=a.getTicksCoords(),g=a.getMinorTicksCoords(),y=u.getExtent()[0],w=a.getExtent(),C={position:[(O=l).cx,O.cy],rotation:y/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},M=new Es(e,C);pe(lz,M.add,M),o.add(M.getGroup()),qg(r,o,e),pe(cz,function(O){e.get([O,"show"])&&!a.scale.isBlank()&&hz[O](this.group,e,l,y,w,f,g)},this)}var O},t.type="radiusAxis",t}(rg),hz={splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=0;g<o.length;g++){var y=u++%l.length;f[y]=f[y]||[],f[y].push(new au({shape:{cx:e.cx,cy:e.cy,r:Math.max(o[g].coord,0)}}))}for(g=0;g<f.length;g++)n.add(oc(f[g],{style:It({stroke:l[g%l.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,i,r,o,a){if(a.length){for(var l=t.getModel("minorSplitLine").getModel("lineStyle"),u=[],f=0;f<a.length;f++)for(var g=0;g<a[f].length;g++)u.push(new au({shape:{cx:e.cx,cy:e.cy,r:a[f][g].coord}}));n.add(oc(u,{style:It({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,i,r,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=o[0].coord,y=1;y<o.length;y++){var w=u++%l.length;f[w]=f[w]||[],f[w].push(new fl({shape:{cx:e.cx,cy:e.cy,r0:g,r:o[y].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),g=o[y].coord}for(y=0;y<f.length;y++)n.add(oc(f[y],{style:It({fill:l[y%l.length]},a.getAreaStyle()),silent:!0}))}}};function kN(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function AN(n,t){return t.dim+n.model.componentIndex}function dz(n,t,e){var i={},r=function(o){var a={};pe(o,function(u,f){var g=u.getData(),y=u.coordinateSystem,w=y.getBaseAxis(),C=AN(y,w),M=w.getExtent(),O="category"===w.type?w.getBandWidth():Math.abs(M[1]-M[0])/g.count(),L=a[C]||{bandWidth:O,remainedWidth:O,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},R=L.stacks;a[C]=L;var F=kN(u);R[F]||L.autoWidthCount++,R[F]=R[F]||{width:0,maxWidth:0};var Y=ri(u.get("barWidth"),O),q=ri(u.get("barMaxWidth"),O),Z=u.get("barGap"),Q=u.get("barCategoryGap");Y&&!R[F].width&&(Y=Math.min(L.remainedWidth,Y),R[F].width=Y,L.remainedWidth-=Y),q&&(R[F].maxWidth=q),null!=Z&&(L.gap=Z),null!=Q&&(L.categoryGap=Q)});var l={};return pe(a,function(u,f){l[f]={};var g=u.stacks,w=ri(u.categoryGap,u.bandWidth),C=ri(u.gap,1),M=u.remainedWidth,O=u.autoWidthCount,L=(M-w)/(O+(O-1)*C);L=Math.max(L,0),pe(g,function(q,Z){var Q=q.maxWidth;Q&&Q<L&&(Q=Math.min(Q,M),q.width&&(Q=Math.min(Q,q.width)),M-=Q,q.width=Q,O--)}),L=(M-w)/(O+(O-1)*C),L=Math.max(L,0);var R,F=0;pe(g,function(q,Z){q.width||(q.width=L),R=q,F+=q.width*(1+C)}),R&&(F-=R.width*C);var Y=-F/2;pe(g,function(q,Z){l[f][Z]=l[f][Z]||{offset:Y,width:q.width},Y+=q.width*(1+C)})}),l}(on(t.getSeriesByType(n),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));t.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var a=o.getData(),l=o.coordinateSystem,u=l.getBaseAxis(),f=AN(l,u),g=kN(o),y=r[f][g],w=y.offset,C=y.width,M=l.getOtherAxis(u),O=o.coordinateSystem.cx,L=o.coordinateSystem.cy,R=o.get("barMinHeight")||0,F=o.get("barMinAngle")||0;i[g]=i[g]||[];for(var Y=a.mapDimension(M.dim),q=a.mapDimension(u.dim),Z=vu(a,Y),Q="radius"!==u.dim||!o.get("roundCap",!0),ne=M.dataToCoord(0),oe=0,_e=a.count();oe<_e;oe++){var ke=a.get(Y,oe),Ee=a.get(q,oe),Re=ke>=0?"p":"n",Je=ne;Z&&(i[g][Ee]||(i[g][Ee]={p:ne,n:ne}),Je=i[g][Ee][Re]);var st=void 0,mt=void 0,St=void 0,Tt=void 0;if("radius"===M.dim){var Lt=M.dataToCoord(ke)-ne,$t=u.dataToCoord(Ee);Math.abs(Lt)<R&&(Lt=(Lt<0?-1:1)*R),st=Je,mt=Je+Lt,Tt=(St=$t-w)-C,Z&&(i[g][Ee][Re]=mt)}else{var nn=M.dataToCoord(ke,Q)-ne,an=u.dataToCoord(Ee);Math.abs(nn)<F&&(nn=(nn<0?-1:1)*F),mt=(st=an+w)+C,St=Je,Tt=Je+nn,Z&&(i[g][Ee][Re]=Tt)}a.setItemLayout(oe,{cx:O,cy:L,r0:st,r:mt,startAngle:-St*Math.PI/180,endAngle:-Tt*Math.PI/180,clockwise:St>=Tt})}}})}var pz={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},fz={splitNumber:5},gz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="polar",t}(Bo);function oP(n,t){t=t||{};var i=n.axis,r={},o=i.position,a=i.orient,l=n.coordinateSystem.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],f={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};r.position=["vertical"===a?f.vertical[o]:u[0],"horizontal"===a?f.horizontal[o]:u[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Wi(t.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var g=t.rotate;return null==g&&(g=n.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-g:g,r.z2=1,r}var mz=["axisLine","axisTickLabel","axisName"],vz=["splitArea","splitLine"],yz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return Oe(t,n),t.prototype.render=function(e,i,r,o){var a=this.group;a.removeAll();var l=this._axisGroup;this._axisGroup=new Gi;var u=oP(e),f=new Es(e,u);pe(mz,f.add,f),a.add(this._axisGroup),a.add(f.getGroup()),pe(vz,function(g){e.get([g,"show"])&&bz[g](this,this.group,this._axisGroup,e)},this),qg(l,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)},t.prototype.remove=function(){NE(this)},t.type="singleAxis",t}(rg),bz={splitLine:function(n,t,e,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),l=a.get("color");l=l instanceof Array?l:[l];for(var u=a.get("width"),f=i.coordinateSystem.getRect(),g=r.isHorizontal(),y=[],w=0,C=r.getTicksCoords({tickModel:o}),M=[],O=[],L=0;L<C.length;++L){var R=r.toGlobalCoord(C[L].coord);g?(M[0]=R,M[1]=f.y,O[0]=R,O[1]=f.y+f.height):(M[0]=f.x,M[1]=R,O[0]=f.x+f.width,O[1]=R);var F=new cs({shape:{x1:M[0],y1:M[1],x2:O[0],y2:O[1]},silent:!0});Sf(F.shape,u);var Y=w++%l.length;y[Y]=y[Y]||[],y[Y].push(F)}var q=a.getLineStyle(["color"]);for(L=0;L<y.length;++L)t.add(oc(y[L],{style:It({stroke:l[L%l.length]},q),silent:!0}))}},splitArea:function(n,t,e,i){PE(n,e,i,i)}},xO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(qr);qe(xO,qf.prototype);var xz=function(n){function t(e,i,r,o,a){var l=n.call(this,e,i,r)||this;return l.type=o||"value",l.position=a||"bottom",l}return Oe(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,i){return this.coordinateSystem.pointToData(e)[0]},t}(Nc),MN=["single"],_z=function(){function n(t,e,i){this.type="single",this.dimension="single",this.dimensions=MN,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=new xz(this.dimension,qh(t),[0,0],t.get("type"),t.get("position"));o.onBand="category"===o.type&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(t,e){t.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();pe(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),Op(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=io({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),r=i?[0,t.width]:[0,t.height],o=e.inverse?1:0;e.setExtent(r[o],r[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var i=t.getExtent(),r=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(a){return a+e}:function(a){return r-a+e},t.toLocalCoord=o?function(a){return a-e}:function(a){return r-a+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),i=this.getRect(),r=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[o]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(t,e,i){return TN(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return TN(e)===this?this.pointToData(i):null},n}();function TN(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var wz={create:function(n,t){var e=[];return n.eachComponent("singleAxis",function(i,r){var o=new _z(i,n,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,e.push(o)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",_o).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),e},dimensions:MN},EN=["x","y"],Sz=["width","height"],Cz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var l=r.axis,u=l.coordinateSystem,f=aP(u,1-_O(l)),g=u.dataToPoint(i)[0],y=o.get("type");if(y&&"none"!==y){var w=QL(o),C=kz[y](l,g,f);C.style=w,e.graphicKey=C.type,e.pointer=C}uN(i,e,oP(r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=oP(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=JL(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,l=a.coordinateSystem,u=_O(a),f=aP(l,u),g=[e.x,e.y];g[u]+=i[u],g[u]=Math.min(f[1],g[u]),g[u]=Math.max(f[0],g[u]);var y=aP(l,1-u),w=(y[1]+y[0])/2,C=[w,w];return C[u]=g[u],{x:g[0],y:g[1],rotation:e.rotation,cursorPoint:C,tooltipOption:{verticalAlign:"middle"}}},t}(ZL),kz={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:eP([t,e[0]],[t,e[1]],_O(n))}},shadow:function(n,t,e){var i=n.getBandWidth();return{type:"Rect",shape:hN([t-i/2,e[0]],[i,e[1]-e[0]],_O(n))}}};function _O(n){return n.isHorizontal()?0:1}function aP(n,t){var e=n.getRect();return[e[EN[t]],e[EN[t]]+e[Sz[t]]]}var Az=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="single",t}(Bo),Mz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e,i,r){var o=nh(e);n.prototype.init.apply(this,arguments),IN(e,o)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),IN(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(qr);function IN(n,t){var e,i=n.cellSize;1===(e=Bt(i)?i:n.cellSize=[i,i]).length&&(e[1]=e[0]);var r=ue([0,1],function(o){return(null!=(a=t)[Dd[l=o][0]]||null!=a[Dd[l][1]]&&null!=a[Dd[l][2]])&&(e[o]="auto"),null!=e[o]&&"auto"!==e[o];var a,l});Vh(n,t,{type:"box",ignoreSize:r})}var Tz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){var o=this.group;o.removeAll();var a=e.coordinateSystem,l=a.getRangeInfo(),u=a.getOrient(),f=i.getLocaleModel();this._renderDayRect(e,l,o),this._renderLines(e,l,u,o),this._renderYearText(e,l,u,o),this._renderMonthText(e,f,u,o),this._renderWeekText(e,f,l,u,o)},t.prototype._renderDayRect=function(e,i,r){for(var o=e.coordinateSystem,a=e.getModel("itemStyle").getItemStyle(),l=o.getCellWidth(),u=o.getCellHeight(),f=i.start.time;f<=i.end.time;f=o.getNextNDay(f,1).time){var g=o.dataToRect([f],!1).tl,y=new Zr({shape:{x:g[0],y:g[1],width:l,height:u},cursor:"default",style:a});r.add(y)}},t.prototype._renderLines=function(e,i,r,o){var a=this,l=e.coordinateSystem,u=e.getModel(["splitLine","lineStyle"]).getLineStyle(),f=e.get(["splitLine","show"]),g=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=i.start,w=0;y.time<=i.end.time;w++){M(y.formatedDate),0===w&&(y=l.getDateInfo(i.start.y+"-"+i.start.m));var C=y.date;C.setMonth(C.getMonth()+1),y=l.getDateInfo(C)}function M(O){a._firstDayOfMonth.push(l.getDateInfo(O)),a._firstDayPoints.push(l.dataToRect([O],!1).tl);var L=a._getLinePointsOfOneWeek(e,O,r);a._tlpoints.push(L[0]),a._blpoints.push(L[L.length-1]),f&&a._drawSplitline(L,u,o)}M(l.getNextNDay(i.end.time,1).formatedDate),f&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,g,r),u,o),f&&this._drawSplitline(a._getEdgesPoints(a._blpoints,g,r),u,o)},t.prototype._getEdgesPoints=function(e,i,r){var o=[e[0].slice(),e[e.length-1].slice()],a="horizontal"===r?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},t.prototype._drawSplitline=function(e,i,r){var o=new ml({z2:20,shape:{points:e},style:i});r.add(o)},t.prototype._getLinePointsOfOneWeek=function(e,i,r){for(var o=e.coordinateSystem,a=o.getDateInfo(i),l=[],u=0;u<7;u++){var f=o.getNextNDay(a.time,u),g=o.dataToRect([f.time],!1);l[2*f.day]=g.tl,l[2*f.day+1]=g["horizontal"===r?"bl":"tr"]}return l},t.prototype._formatterLabel=function(e,i){return On(e)&&e?(r=e,pe(i,function(a,l){r=r.replace("{"+l+"}",a)}),r):Ht(e)?e(i):i.nameMap;var r},t.prototype._yearTextPositionControl=function(e,i,r,o,a){var l=i[0],u=i[1],f=["center","bottom"];"bottom"===o?(u+=a,f=["center","top"]):"left"===o?l-=a:"right"===o?(l+=a,f=["center","top"]):u-=a;var g=0;return"left"!==o&&"right"!==o||(g=Math.PI/2),{rotation:g,x:l,y:u,style:{align:f[0],verticalAlign:f[1]}}},t.prototype._renderYearText=function(e,i,r,o){var a=e.getModel("yearLabel");if(a.get("show")){var l=a.get("margin"),u=a.get("position");u||(u="horizontal"!==r?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(f[0][0]+f[1][0])/2,y=(f[0][1]+f[1][1])/2,w="horizontal"===r?0:1,C={top:[g,f[w][1]],bottom:[g,f[1-w][1]],left:[f[1-w][0],y],right:[f[w][0],y]},M=i.start.y;+i.end.y>+i.start.y&&(M=M+"-"+i.end.y);var O=a.get("formatter"),R=this._formatterLabel(O,{start:i.start.y,end:i.end.y,nameMap:M}),F=new Qr({z2:30,style:Eo(a,{text:R})});F.attr(this._yearTextPositionControl(F,C[u],r,u,l)),o.add(F)}},t.prototype._monthTextPositionControl=function(e,i,r,o,a){var l="left",u="top",f=e[0],g=e[1];return"horizontal"===r?(g+=a,i&&(l="center"),"start"===o&&(u="bottom")):(f+=a,i&&(u="middle"),"start"===o&&(l="right")),{x:f,y:g,align:l,verticalAlign:u}},t.prototype._renderMonthText=function(e,i,r,o){var a=e.getModel("monthLabel");if(a.get("show")){var l=a.get("nameMap"),u=a.get("margin"),f=a.get("position"),g=a.get("align"),y=[this._tlpoints,this._blpoints];l&&!On(l)||(l&&(i=Md(l)||i),l=i.get(["time","monthAbbr"])||[]);var w="start"===f?0:1,C="horizontal"===r?0:1;u="start"===f?-u:u;for(var M="center"===g,O=0;O<y[w].length-1;O++){var L=y[w][O].slice(),R=this._firstDayOfMonth[O];M&&(L[C]=(this._firstDayPoints[O][C]+y[0][O+1][C])/2);var Y=a.get("formatter"),q=l[+R.m-1],Z={yyyy:R.y,yy:(R.y+"").slice(2),MM:R.m,M:+R.m,nameMap:q},Q=this._formatterLabel(Y,Z),ne=new Qr({z2:30,style:_t(Eo(a,{text:Q}),this._monthTextPositionControl(L,M,r,f,u))});o.add(ne)}}},t.prototype._weekTextPositionControl=function(e,i,r,o,a){var l="center",u="middle",f=e[0],g=e[1],y="start"===r;return"horizontal"===i?(f=f+o+(y?1:-1)*a[0]/2,l=y?"right":"left"):(g=g+o+(y?1:-1)*a[1]/2,u=y?"bottom":"top"),{x:f,y:g,align:l,verticalAlign:u}},t.prototype._renderWeekText=function(e,i,r,o,a){var l=e.getModel("dayLabel");if(l.get("show")){var u=e.coordinateSystem,f=l.get("position"),g=l.get("nameMap"),y=l.get("margin"),w=u.getFirstDayOfWeek();(!g||On(g))&&(g&&(i=Md(g)||i),g=i.get(["time","dayOfWeekShort"])||ue(i.get(["time","dayOfWeekAbbr"]),function(q){return q[0]}));var C=u.getNextNDay(r.end.time,7-r.lweek).time,M=[u.getCellWidth(),u.getCellHeight()];y=ri(y,Math.min(M[1],M[0])),"start"===f&&(C=u.getNextNDay(r.start.time,-(7+r.fweek)).time,y=-y);for(var O=0;O<7;O++){var L,R=u.getNextNDay(C,O),F=u.dataToRect([R.time],!1).center;L=Math.abs((O+w)%7);var Y=new Qr({z2:30,style:_t(Eo(l,{text:g[L]}),this._weekTextPositionControl(F,o,f,y,M))});a.add(Y)}}},t.type="calendar",t}(Bo),sP=864e5,Ez=function(){function n(t,e,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=Wo(t)).getFullYear(),i=t.getMonth()+1,r=i<10?"0"+i:""+i,o=t.getDate(),a=o<10?"0"+o:""+o,l=t.getDay();return{y:e+"",m:r,d:a,day:l=Math.abs((l+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+a,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[i,7]:[7,i];pe([0,1],function(y){g(o,y)&&(a[r[y]]=o[y]*l[y])});var u={width:e.getWidth(),height:e.getHeight()},f=this._rect=io(a,u);function g(y,w){return null!=y[w]&&"auto"!==y[w]}pe([0,1],function(y){g(o,y)||(o[y]=f[r[y]]/l[y])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(t,e){Bt(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),r=this._rangeInfo;if(e&&!(i.time>=r.start.time&&i.time<r.end.time+sP))return[NaN,NaN];var a=i.day,l=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,r):this._getDateByWeeksAndDay(e,i-1,r)},n.prototype.convertToPixel=function(t,e,i){var r=ON(e);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){var r=ON(e);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(Bt(e)&&1===e.length&&(e=e[0]),Bt(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var l=this._getRangeInfo(t);return l.start.time>l.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(t){var e,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(e=!0,i.reverse());var r=Math.floor(i[1].time/sP)-Math.floor(i[0].time/sP)+1,o=new Date(i[0].time),a=o.getDate(),l=i[1].date.getDate();o.setDate(a+r-1);var u=o.getDate();if(u!==l)for(var f=o.getTime()-i[1].time>0?1:-1;(u=o.getDate())!==l&&(o.getTime()-i[1].time)*f>0;)r-=f,o.setDate(u-f);var g=Math.floor((r+i[0].day+6)/7),y=e?1-g:g-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:g,nthWeek:y,fweek:i[0].day,lweek:i[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,i){var r=this._getRangeInfo(i);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var o=7*(t-1)-r.fweek+e,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(t,e){var i=[];return t.eachComponent("calendar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function ON(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}function DN(n,t){var e;return pe(t,function(i){null!=n[i]&&"auto"!==n[i]&&(e=!0)}),e}var LN=["transition","enterFrom","leaveTo"],Iz=LN.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function wO(n,t,e){if(e&&(!n[e]&&t[e]&&(n[e]={}),n=n[e],t=t[e]),n&&t)for(var i=e?LN:Iz,r=0;r<i.length;r++){var o=i[r];null==n[o]&&null!=t[o]&&(n[o]=t[o])}}var Oz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return Oe(t,n),t.prototype.mergeOption=function(e,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,i),this.option.elements=r},t.prototype.optionUpdated=function(e,i){var r=this.option,o=(i?r:e).elements,a=r.elements=i?[]:r.elements,l=[];this._flatten(o,l,null);var u=Mo(a,l,"normalMerge"),f=this._elOptionsToUpdate=[];pe(u,function(g,y){var C,M,O,L,R,F,w=g.newOption;w&&(f.push(w),function(C,M){var O=C.existing;if(M.id=C.keyInfo.id,!M.type&&O&&(M.type=O.type),null==M.parentId){var L=M.parentOption;L?M.parentId=L.id:O&&(M.parentId=O.parentId)}M.parentOption=null}(g,w),C=a,M=y,L=_t({},O=w),R=C[M],"merge"===(F=O.$action||"merge")?R?(rt(R,L,!0),Vh(R,L,{ignoreSize:!0}),Yw(O,R),wO(O,R),wO(O,R,"shape"),wO(O,R,"style"),wO(O,R,"extra"),O.clipPath=R.clipPath):C[M]=L:"replace"===F?C[M]=L:"remove"===F&&R&&(C[M]=null),function(C,M){if(C&&(C.hv=M.hv=[DN(M,["left","right"]),DN(M,["top","bottom"])],"group"===C.type)){var O=C,L=M;null==O.width&&(O.width=L.width=0),null==O.height&&(O.height=L.height=0)}}(a[y],w))},this),r.elements=on(a,function(g){return g&&delete g.$action,null!=g})},t.prototype._flatten=function(e,i,r){pe(e,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;a&&a.length&&this._flatten(a,i,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(qr),PN={path:null,compoundPath:null,group:Gi,image:ls,text:Qr},nd=nr(),Dz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(){this._elMap=be()},t.prototype.render=function(e,i,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},t.prototype._updateElements=function(e){var i=e.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group,a=e.get("z"),l=e.get("zlevel");pe(i,function(u){var f=Ar(u.id,null),g=null!=f?r.get(f):null,y=Ar(u.parentId,null),w=null!=y?r.get(y):o,C=u.type,M=u.style;"text"===C&&M&&u.hv&&u.hv[1]&&(M.textVerticalAlign=M.textBaseline=M.verticalAlign=M.align=null);var O=u.textContent,L=u.textConfig;if(M&&Qp(M,C,!!L,!!O)){var R=Tv(M,C,!0);!L&&R.textConfig&&(L=u.textConfig=R.textConfig),!O&&R.textContent&&(O=R.textContent)}var St,F=(St=_t({},St=u),pe(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(cy),function(Tt){delete St[Tt]}),St),Y=u.$action||"merge",q="merge"===Y,Z="replace"===Y;if(q){var Q=g;(Je=!g)?Q=NN(f,w,u.type,r):(Q&&(nd(Q).isNew=!1),BL(Q)),Q&&(X_(Q,F,e,{isInit:Je}),RN(Q,u,a,l))}else if(Z){SO(g,u,r,e);var ne=NN(f,w,u.type,r);ne&&(X_(ne,F,e,{isInit:!0}),RN(ne,u,a,l))}else"remove"===Y&&(vn(g,u),SO(g,u,r,e));var oe=r.get(f);if(oe&&O)if(q){var _e=oe.getTextContent();_e?_e.attr(O):oe.setTextContent(new Qr(O))}else Z&&oe.setTextContent(new Qr(O));if(oe){var ke=u.clipPath;if(ke){var Ee=ke.type,Re=void 0,Je=!1;if(q){var st=oe.getClipPath();Re=(Je=!st||nd(st).type!==Ee)?lP(Ee):st}else Z&&(Je=!0,Re=lP(Ee));oe.setClipPath(Re),X_(Re,ke,e,{isInit:Je}),gO(Re,ke.keyframeAnimation,e)}var mt=nd(oe);oe.setTextConfig(L),mt.option=u,function(St,Tt,Lt){var $t=_r(St).eventData;St.silent||St.ignore||$t||($t=_r(St).eventData={componentType:"graphic",componentIndex:Tt.componentIndex,name:St.name}),$t&&($t.info=Lt.info)}(oe,e,u),cu({el:oe,componentModel:e,itemName:oe.name,itemTooltipOption:u.tooltip}),gO(oe,u.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,i){for(var r=e.option.elements,o=this.group,a=this._elMap,l=i.getWidth(),u=i.getHeight(),f=["x","y"],g=0;g<r.length;g++)if((L=null!=(O=Ar((M=r[g]).id,null))?a.get(O):null)&&L.isGroup){var y=(R=L.parent)===o,w=nd(L),C=nd(R);w.width=ri(w.option.width,y?l:C.width)||0,w.height=ri(w.option.height,y?u:C.height)||0}for(g=r.length-1;g>=0;g--){var M,O,L;if(L=null!=(O=Ar((M=r[g]).id,null))?a.get(O):null){var R=L.parent,F=(C=nd(R),{}),Y=nm(L,M,R===o?{width:l,height:u}:{width:C.width,height:C.height},null,{hv:M.hv,boundingMode:M.bounding},F);if(!nd(L).isNew&&Y){for(var q=M.transition,Z={},Q=0;Q<f.length;Q++){var ne=f[Q],oe=F[ne];q&&(Ki(q)||hn(q,ne)>=0)?Z[ne]=oe:L[ne]=oe}co(L,Z,e,0)}else L.attr(F)}}},t.prototype._clear=function(){var e=this,i=this._elMap;i.each(function(r){SO(r,nd(r).option,i,e._lastGraphicModel)}),this._elMap=be()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Bo);function lP(n){var e=new(ft(PN,n)?PN[n]:zh(n))({});return nd(e).type=n,e}function NN(n,t,e,i){var r=lP(e);return t.add(r),i.set(n,r),nd(r).id=n,nd(r).isNew=!0,r}function SO(n,t,e,i){n&&n.parent&&("group"===n.type&&n.traverse(function(r){SO(r,t,e,i)}),Di(n,t,i),e.removeKey(nd(n).id))}function RN(n,t,e,i){n.isGroup||pe([["cursor",Vs.prototype.cursor],["zlevel",i||0],["z",e||0],["z2",0]],function(r){var o=r[0];ft(t,o)?n[o]=yi(t[o],r[1]):null==n[o]&&(n[o]=r[1])}),pe(Zt(t),function(r){if(0===r.indexOf("on")){var o=t[r];n[r]=Ht(o)?o:null}}),ft(t,"draggable")&&(n.draggable=t.draggable),null!=t.name&&(n.name=t.name),null!=t.id&&(n.id=t.id)}var BN=["x","y","radius","angle","single"],Lz=["cartesian2d","polar","singleAxis"];function Dv(n){return n+"Axis"}function zN(n){var t=n.ecModel,e={infoList:[],infoMap:be()};return n.eachTargetAxis(function(i,r){var o=t.getComponent(Dv(i),r);if(o){var a=o.getCoordSysModel();if(a){var l=a.uid,u=e.infoMap.get(l);u||(e.infoList.push(u={model:a,axisModels:[]}),e.infoMap.set(l,u)),u.axisModels.push(o)}}}),e}var cP=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),sM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return Oe(t,n),t.prototype.init=function(e,i,r){var o=FN(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var i=FN(e);rt(this.option,e,!0),rt(this.settledOption,i,!0),this._doInit(i)},t.prototype._doInit=function(e){var i=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;pe([["start","startValue"],["end","endValue"]],function(o,a){"value"===this._rangePropMode[a]&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),i=this._targetAxisInfoMap=be();this._fillSpecifiedTargetAxis(i)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var i=!1;return pe(BN,function(r){var o=this.getReferringComponents(Dv(r),Ka);if(o.specified){i=!0;var a=new cP;pe(o.models,function(l){a.add(l.componentIndex)}),e.set(r,a)}},this),i},t.prototype._fillAutoTargetAxisByOrient=function(e,i){var r=this.ecModel,o=!0;if(o){var a="vertical"===i?"y":"x";l(r.findComponents({mainType:a+"Axis"}),a)}function l(u,f){var g=u[0];if(g){var y=new cP;if(y.add(g.componentIndex),e.set(f,y),o=!1,"x"===f||"y"===f){var w=g.getReferringComponents("grid",_o).models[0];w&&pe(u,function(C){g.componentIndex!==C.componentIndex&&w===C.getReferringComponents("grid",_o).models[0]&&y.add(C.componentIndex)})}}}o&&l(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}}),"single"),o&&pe(BN,function(u){if(o){var f=r.findComponents({mainType:Dv(u),filter:function(y){return"category"===y.get("type",!0)}});if(f[0]){var g=new cP;g.add(f[0].componentIndex),e.set(u,g),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(i){!e&&(e=i)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var i=this._rangePropMode,r=this.get("rangeMode");pe([["start","startValue"],["end","endValue"]],function(o,a){var l=null!=e[o[0]],u=null!=e[o[1]];l&&!u?i[a]="percent":!l&&u?i[a]="value":r?i[a]=r[a]:l&&(i[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(i,r){null==e&&(e=this.ecModel.getComponent(Dv(i),r))},this),e},t.prototype.eachTargetAxis=function(e,i){this._targetAxisInfoMap.each(function(r,o){pe(r.indexList,function(a){e.call(i,o,a)})})},t.prototype.getAxisProxy=function(e,i){var r=this.getAxisModel(e,i);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,i){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[i])return this.ecModel.getComponent(Dv(e),i)},t.prototype.setRawRange=function(e){var i=this.option,r=this.settledOption;pe([["start","startValue"],["end","endValue"]],function(o){null==e[o[0]]&&null==e[o[1]]||(i[o[0]]=r[o[0]]=e[o[0]],i[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var i=this.option;pe(["start","startValue","end","endValue"],function(r){i[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,i){if(null!=e||null!=i)return this.getAxisProxy(e,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],l=this._targetAxisInfoMap.get(a),u=0;u<l.indexList.length;u++){var f=this.getAxisProxy(a,l.indexList[u]);if(f.hostedBy(this))return f;i||(i=f)}return i},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(qr);function FN(n){var t={};return pe(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var Nz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="dataZoom.select",t}(sM),uP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r,o){this.dataZoomModel=e,this.ecModel=i,this.api=r},t.type="dataZoom",t}(Bo),Rz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="dataZoom.select",t}(uP),q_=pe,VN=as,Bz=function(){function n(t,e,i,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(a=e.get("coordinateSystem"),hn(Lz,a)>=0){var i=Dv(this._dimName),r=e.getReferringComponents(i,_o).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}var a},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Qe(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e,i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],l=[],u=[];q_(["start","end"],function(y,w){var C=t[y],M=t[y+"Value"];"percent"===o[w]?(null==C&&(C=a[w]),M=r.parse(oo(C,a,i))):(e=!0,C=oo(M=null==M?i[w]:r.parse(M),i,a)),u[w]=null==M||isNaN(M)?i[w]:M,l[w]=null==C||isNaN(C)?a[w]:C}),VN(u),VN(l);var f=this._minMaxSpan;function g(y,w,C,M,O){var L=O?"Span":"ValueSpan";dg(0,y,C,"all",f["min"+L],f["max"+L]);for(var R=0;R<2;R++)w[R]=oo(y[R],C,M,!0),O&&(w[R]=r.parse(w[R]))}return e?g(u,l,i,a,!1):g(l,u,a,i,!0),{valueWindow:u,percentWindow:l}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var l=[1/0,-1/0];q_(a,function(g){var y,w;y=l,(w=g.getData())&&pe(Vm(w,o),function(M){var O=w.getApproximateExtent(M);O[0]<y[0]&&(y[0]=O[0]),O[1]>y[1]&&(y[1]=O[1])})});var u=r.getAxisModel(),f=L2(u.axis.scale,u,l).calculate();return[f.min,f.max]}(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;"none"!==o&&q_(r,function(l){var u=l.getData(),f=u.mapDimensionsAll(i);if(f.length){if("weakFilter"===o){var g=u.getStore(),y=ue(f,function(w){return u.getDimensionIndex(w)},u);u.filterSelf(function(w){for(var C,M,O,L=0;L<f.length;L++){var R=g.get(y[L],w),F=!isNaN(R),Y=R<a[0],q=R>a[1];if(F&&!Y&&!q)return!0;F&&(O=!0),Y&&(C=!0),q&&(M=!0)}return O&&C&&M})}else q_(f,function(w){if("empty"===o)l.setData(u=u.map(w,function(M){return(O=M)>=a[0]&&O<=a[1]?M:NaN;var O}));else{var C={};C[w]=a,u.selectRange(C)}});q_(f,function(w){u.setApproximateExtent(a,w)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;q_(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=oo(i[0]+a,i,[0,100],!0):null!=o&&(a=oo(o,[0,100],i,!0)-i[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var r=ap(i,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==e[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}(),zz={getTargetSeries:function(n){function t(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,l){var u=n.getComponent(Dv(a),l);r(a,l,u,o)})})}t(function(r,o,a,l){a.__dzAxisProxy=null});var e=[];t(function(r,o,a,l){a.__dzAxisProxy||(a.__dzAxisProxy=new Bz(r,o,l,n),e.push(a.__dzAxisProxy))});var i=be();return pe(e,function(r){pe(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).reset(e)}),e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var i=e.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},HN=!1;function hP(n){HN||(HN=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,zz),function(t){t.registerAction("dataZoom",function(e,i){pe(function Pz(n,t){var e,i=be(),r=[],o=be();n.eachComponent({mainType:"dataZoom",query:t},function(u){o.get(u.uid)||l(u)});do{e=!1,n.eachComponent("dataZoom",a)}while(e);function a(u){var g;!o.get(u.uid)&&(g=!1,u.eachTargetAxis(function(y,w){var C=i.get(y);C&&C[w]&&(g=!0)}),g)&&(l(u),e=!0)}function l(u){o.set(u.uid,!0),r.push(u),u.eachTargetAxis(function(f,g){(i.get(f)||i.set(f,[]))[g]=!0})}return r}(i,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Fz(n){n.registerComponentModel(Nz),n.registerComponentView(Rz),hP(n)}var id=function(){},WN={};function U_(n,t){WN[n]=t}function jN(n){return WN[n]}var Vz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;pe(this.option.feature,function(i,r){var o=jN(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),rt(i,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(qr);function YN(n,t){var e=Id(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new Zr({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}var Hz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.render=function(e,i,r,o){var C,M,O,L,R,F,Y,a=this.group;if(a.removeAll(),e.get("show")){var l=+e.get("itemSize"),u="vertical"===e.get("orient"),f=e.get("feature")||{},g=this._features||(this._features={}),y=[];pe(f,function(C,M){y.push(M)}),new Gh(this._featureNames||[],y).add(w).update(w).remove(xn(w,null)).execute(),this._featureNames=y,C=a,O=r,L=(M=e).getBoxLayoutParams(),R=M.get("padding"),Y=io(L,F={width:O.getWidth(),height:O.getHeight()},R),Ts(M.get("orient"),C,M.get("itemGap"),Y.width,Y.height),nm(C,L,F,R),a.add(YN(a.getBoundingRect(),e)),u||a.eachChild(function(C){var M=C.__title,O=C.ensureState("emphasis"),L=O.textConfig||(O.textConfig={}),R=C.getTextContent(),F=R&&R.ensureState("emphasis");if(F&&!Ht(F)&&M){var Y=F.style||(F.style={}),q=Bl(M,Qr.makeFont(Y)),Z=C.x+a.x,Q=!1;C.y+a.y+l+q.height>r.getHeight()&&(L.position="top",Q=!0);var ne=Q?-5-q.height:l+10;Z+q.width/2>r.getWidth()?(L.position=["100%",ne],Y.align="right"):Z-q.width/2<0&&(L.position=[0,ne],Y.align="left")}})}function w(C,M){var O,L=y[C],R=y[M],F=f[L],Y=new ho(F,e,e.ecModel);if(o&&null!=o.newTitle&&o.featureName===L&&(F.title=o.newTitle),L&&!R){if(0===L.indexOf("my"))O={onclick:Y.option.onclick,featureName:L};else{var q=jN(L);if(!q)return;O=new q}g[L]=O}else if(!(O=g[R]))return;O.uid=th("toolbox-feature"),O.model=Y,O.ecModel=i,O.api=r;var Z=O instanceof id;L||!R?!Y.get("show")||Z&&O.unusable?Z&&O.remove&&O.remove(i,r):(function(Q,ne,oe){var _e,ke,Ee=Q.getModel("iconStyle"),Re=Q.getModel(["emphasis","iconStyle"]),Je=ne instanceof id&&ne.getIcons?ne.getIcons():Q.get("icon"),st=Q.get("title")||{};On(Je)?(_e={})[oe]=Je:_e=Je,On(st)?(ke={})[oe]=st:ke=st;var mt=Q.iconPaths={};pe(_e,function(St,Tt){var Lt=Ug(St,{},{x:-l/2,y:-l/2,width:l,height:l});Lt.setStyle(Ee.getItemStyle()),Lt.ensureState("emphasis").style=Re.getItemStyle();var $t=new Qr({style:{text:ke[Tt],align:Re.get("textAlign"),borderRadius:Re.get("textBorderRadius"),padding:Re.get("textPadding"),fill:null},ignore:!0});Lt.setTextContent($t),cu({el:Lt,componentModel:e,itemName:Tt,formatterParamsExtra:{title:ke[Tt]}}),Lt.__title=ke[Tt],Lt.on("mouseover",function(){var nn=Re.getItemStyle(),an=u?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";$t.setStyle({fill:Re.get("textFill")||nn.fill||nn.stroke||"#000",backgroundColor:Re.get("textBackgroundColor")}),Lt.setTextConfig({position:Re.get("textPosition")||an}),$t.ignore=!e.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==Q.get(["iconStatus",Tt])&&r.leaveEmphasis(this),$t.hide()}),("emphasis"===Q.get(["iconStatus",Tt])?_d:wd)(Lt),a.add(Lt),Lt.on("click",Et(ne.onclick,ne,i,r,Tt)),mt[Tt]=Lt})}(Y,O,L),Y.setIconStatus=function(Q,ne){var oe=this.option,_e=this.iconPaths;oe.iconStatus=oe.iconStatus||{},oe.iconStatus[Q]=ne,_e[Q]&&("emphasis"===ne?_d:wd)(_e[Q])},O instanceof id&&O.render&&O.render(Y,i,r,o)):Z&&O.dispose&&O.dispose(i,r)}},t.prototype.updateView=function(e,i,r,o){pe(this._features,function(a){a instanceof id&&a.updateView&&a.updateView(a.model,i,r,o)})},t.prototype.remove=function(e,i){pe(this._features,function(r){r instanceof id&&r.remove&&r.remove(e,i)}),this.group.removeAll()},t.prototype.dispose=function(e,i){pe(this._features,function(r){r instanceof id&&r.dispose&&r.dispose(e,i)})},t.type="toolbox",t}(Bo),Wz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.onclick=function(e,i){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a="svg"===i.getZr().painter.getType(),l=a?"svg":r.get("type",!0)||"png",u=i.getConnectedDataURL({type:l,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),f=Nt.browser;if(Ht(MouseEvent)&&(f.newEdge||!f.ie&&!f.edge)){var g=document.createElement("a");g.download=o+"."+l,g.target="_blank",g.href=u;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||a){var w=u.split(","),C=w[0].indexOf("base64")>-1,M=a?decodeURIComponent(w[1]):w[1];C&&(M=window.atob(M));var O=o+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var L=M.length,R=new Uint8Array(L);L--;)R[L]=M.charCodeAt(L);var F=new Blob([R]);window.navigator.msSaveOrOpenBlob(F,O)}else{var Y=document.createElement("iframe");document.body.appendChild(Y);var q=Y.contentWindow,Z=q.document;Z.open("image/svg+xml","replace"),Z.write(M),Z.close(),q.focus(),Z.execCommand("SaveAs",!0,O),document.body.removeChild(Y)}}else{var Q=r.get("lang"),ne='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(Q&&Q[0]||"")+'" /></body>',oe=window.open();oe.document.write(ne),oe.document.title=o}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(id),GN="__ec_magicType_stack__",jz=[["line","bar"],["stack"]],Yz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getIcons=function(){var e=this.model,i=e.get("icon"),r={};return pe(e.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(XN[r]){var l,u={series:[]};pe(jz,function(g){hn(g,r)>=0&&pe(g,function(y){o.setIconStatus(y,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},function(g){var C=XN[r](g.subType,g.id,g,o);C&&(It(C,g.option),u.series.push(C));var M=g.coordinateSystem;if(M&&"cartesian2d"===M.type&&("line"===r||"bar"===r)){var O=M.getAxesByScale("ordinal")[0];if(O){var L=O.dim+"Axis",R=g.getReferringComponents(L,_o).models[0].componentIndex;u[L]=u[L]||[];for(var F=0;F<=R;F++)u[L][R]=u[L][R]||{};u[L][R].boundaryGap="bar"===r}}});var f=r;"stack"===r&&(l=rt({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(f="tiled")),i.dispatchAction({type:"changeMagicType",currentType:f,newOption:u,newTitle:l,featureName:"magicType"})}},t}(id),XN={line:function(n,t,e,i){if("bar"===n)return rt({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,t,e,i){if("line"===n)return rt({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,t,e,i){var r=e.get("stack")===GN;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),rt({id:t,stack:r?"":GN},i.get(["option","stack"])||{},!0)}};mu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var CO=new Array(60).join("-"),lM="\t";function kO(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var dP=new RegExp("[\t]+","g"),Xz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.onclick=function(e,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var l=document.createElement("h4"),u=o.get("lang")||[];l.innerHTML=u[0]||o.get("title"),l.style.cssText="margin:10px 20px",l.style.color=o.get("textColor");var f=document.createElement("div"),g=document.createElement("textarea");f.style.cssText="overflow:auto";var oe,_e,ke,Je,st,mt,Ee,y=o.get("optionToContent"),w=o.get("contentToOption"),C=(Je={},st=[],mt=[],e.eachRawSeries(function(St){var Tt=St.coordinateSystem;if(!Tt||"cartesian2d"!==Tt.type&&"polar"!==Tt.type)st.push(St);else{var Lt=Tt.getBaseAxis();if("category"===Lt.type){var $t=Lt.dim+"_"+Lt.index;Je[$t]||(Je[$t]={categoryAxis:Lt,valueAxis:Tt.getOtherAxis(Lt),series:[]},mt.push({axisDim:Lt.dim,axisIndex:Lt.index})),Je[$t].series.push(St)}else st.push(St)}}),{value:on([(_e=(Ee={seriesGroupByCategoryAxis:Je,other:st,meta:mt}).seriesGroupByCategoryAxis,ke=[],pe(_e,function(Re,Je){var st=Re.categoryAxis,mt=Re.valueAxis.dim,St=[" "].concat(ue(Re.series,function(kn){return kn.name})),Tt=[st.model.getCategories()];pe(Re.series,function(kn){var jn=kn.getRawData();Tt.push(kn.getRawData().mapArray(jn.mapDimension(mt),function(cn){return cn}))});for(var Lt=[St.join(lM)],$t=0;$t<Tt[0].length;$t++){for(var nn=[],an=0;an<Tt.length;an++)nn.push(Tt[an][$t]);Lt.push(nn.join(lM))}ke.push(Lt.join("\n"))}),ke.join("\n\n"+CO+"\n\n")),(oe=Ee.other,ue(oe,function(Re){var Je=Re.getRawData(),st=[Re.name],mt=[];return Je.each(Je.dimensions,function(){for(var St=arguments.length,Lt=Je.getName(arguments[St-1]),$t=0;$t<St-1;$t++)mt[$t]=arguments[$t];st.push((Lt?Lt+lM:"")+mt.join(lM))}),st.join("\n")}).join("\n\n"+CO+"\n\n"))],function(Re){return!!Re.replace(/[\n\t\s]/g,"")}).join("\n\n"+CO+"\n\n"),meta:Ee.meta});if(Ht(y)){var M=y(i.getOption());On(M)?f.innerHTML=M:_n(M)&&f.appendChild(M)}else{g.readOnly=o.get("readOnly");var O=g.style;O.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",O.color=o.get("textColor"),O.borderColor=o.get("textareaBorderColor"),O.backgroundColor=o.get("textareaColor"),g.value=C.value,f.appendChild(g)}var L=C.meta,R=document.createElement("div");R.style.cssText="position:absolute;bottom:5px;left:0;right:0";var F="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Y=document.createElement("div"),q=document.createElement("div");F+=";background-color:"+o.get("buttonColor"),F+=";color:"+o.get("buttonTextColor");var Z=this;function Q(){r.removeChild(a),Z._dom=null}W(Y,"click",Q),W(q,"click",function(){if(null==w&&null!=y||null!=w&&null==y)Q();else{var ne;try{ne=Ht(w)?w(f,i.getOption()):function Gz(n,t){var e=n.split(new RegExp("\n*"+CO+"\n*","g")),i={series:[]};return pe(e,function(r,o){if(function(f){if(f.slice(0,f.indexOf("\n")).indexOf(lM)>=0)return!0}(r)){var a=function(f){for(var g=f.split(/\n+/g),y=[],w=ue(kO(g.shift()).split(dP),function(L){return{name:L,data:[]}}),C=0;C<g.length;C++){var M=kO(g[C]).split(dP);y.push(M.shift());for(var O=0;O<M.length;O++)w[O]&&(w[O].data[C]=M[O])}return{series:w,categories:y}}(r),l=t[o],u=l.axisDim+"Axis";l&&(i[u]=i[u]||[],i[u][l.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function(f){for(var g=f.split(/\n+/g),y=kO(g.shift()),w=[],C=0;C<g.length;C++){var M=kO(g[C]);if(M){var O=M.split(dP),L="",R=void 0,F=!1;isNaN(O[0])?(F=!0,L=O[0],O=O.slice(1),w[C]={name:L,value:[]},R=w[C].value):R=w[C]=[];for(var Y=0;Y<O.length;Y++)R.push(+O[Y]);1===R.length&&(F?w[C].value=R[0]:w[C]=R[0])}}return{name:y,data:w}}(r),i.series.push(a)}),i}(g.value,L)}catch(oe){throw Q(),new Error("Data view format error "+oe)}ne&&i.dispatchAction({type:"changeDataView",newOption:ne}),Q()}}),Y.innerHTML=u[1],q.innerHTML=u[2],q.style.cssText=Y.style.cssText=F,!o.get("readOnly")&&R.appendChild(q),R.appendChild(Y),a.appendChild(l),a.appendChild(f),a.appendChild(R),f.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(id);function qz(n,t){return ue(n,function(e,i){var r=t&&t[i];if(hi(r)&&!Bt(r)){hi(e)&&!Bt(e)||(e={value:e});var o=null!=r.name&&null==e.name;return e=It(e,r),o&&delete e.name,e}return e})}mu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];pe(n.newOption.series,function(i){var r=t.getSeriesByName(i.name)[0];if(r){var o=r.get("data");e.push({name:i.name,data:qz(i.data,o)})}else e.push(_t({type:"scatter"},i))}),t.mergeOption(It({series:e},n.newOption))});var qN=pe,UN=nr();function pP(n){var t=UN(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var Uz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.onclick=function(e,i){UN(e).snapshots=null,i.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(id);mu({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var $z=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],fP=function(){function n(t,e,i){var r=this;this._targetInfoList=[];var o=$N(e,t);pe(Zz,function(a,l){(!i||!i.include||hn(i.include,l)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=mP[i.brushType](0,o,r);i.__rangeOffset={offset:JN[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,i){pe(t,function(r){var o=this.findTargetInfo(r,e);o&&!0!==o&&pe(o.coordSyses,function(a){var l=mP[r.brushType](1,a,r.range,!0);i(r,l.values,a,e)})},this)},n.prototype.setInputRanges=function(t,e){pe(t,function(i){var o,a,l,u,f=this.findTargetInfo(i,e);if(i.range=i.range||[],f&&!0!==f){i.panelId=f.panelId;var g=mP[i.brushType](0,f.coordSys,i.coordRange),y=i.__rangeOffset;i.range=y?JN[i.brushType](g.values,y.offset,(o=y.xyMinMax,a=tR(g.xyMinMax),l=tR(o),u=[a[0]/l[0],a[1]/l[1]],isNaN(u[0])&&(u[0]=1),isNaN(u[1])&&(u[1]=1),u)):g.values}},this)},n.prototype.makePanelOpts=function(t,e){return ue(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:Y0(r),isTargetByCursor:qA(r,t,i.coordSysModel),getLinearBrushOtherExtent:XA(r)}})},n.prototype.controlSeries=function(t,e,i){var r=this.findTargetInfo(t,i);return!0===r||r&&hn(r.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,r=$N(e,t),o=0;o<i.length;o++){var a=i[o],l=t.panelId;if(l){if(a.panelId===l)return a}else for(var u=0;u<ZN.length;u++)if(ZN[u](r,a))return a}return!0},n}();function gP(n){return n[0]>n[1]&&n.reverse(),n}function $N(n,t){return to(n,t,{includeMainTypes:$z})}var Zz={grid:function(n,t){var e=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=be(),a={},l={};(e||i||r)&&(pe(e,function(u){var f=u.axis.grid.model;o.set(f.id,f),a[f.id]=!0}),pe(i,function(u){var f=u.axis.grid.model;o.set(f.id,f),l[f.id]=!0}),pe(r,function(u){o.set(u.id,u),a[u.id]=!0,l[u.id]=!0}),o.each(function(u){var g=[];pe(u.coordinateSystem.getCartesians(),function(y,w){(hn(e,y.getAxis("x").model)>=0||hn(i,y.getAxis("y").model)>=0)&&g.push(y)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:g[0],coordSyses:g,getPanelRect:KN.grid,xAxisDeclared:a[u.id],yAxisDeclared:l[u.id]})}))},geo:function(n,t){pe(n.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:KN.geo})})}},ZN=[function(n,t){var e=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],KN={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(lu(n)),t}},mP={lineX:xn(QN,0),lineY:xn(QN,1),rect:function(n,t,e,i){var r=n?t.pointToData([e[0][0],e[1][0]],i):t.dataToPoint([e[0][0],e[1][0]],i),o=n?t.pointToData([e[0][1],e[1][1]],i):t.dataToPoint([e[0][1],e[1][1]],i),a=[gP([r[0],o[0]]),gP([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,t,e,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:ue(e,function(o){var a=n?t.pointToData(o,i):t.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function QN(n,t,e,i){var r=e.getAxis(["x","y"][n]),o=gP(ue([0,1],function(l){return t?r.coordToData(r.toLocalCoord(i[l]),!0):r.toGlobalCoord(r.dataToCoord(i[l]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var JN={lineX:xn(eR,0),lineY:xn(eR,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return ue(n,function(i,r){return[i[0]-e[0]*t[r][0],i[1]-e[1]*t[r][1]]})}};function eR(n,t,e,i){return[t[0]-i[n]*e[0],t[1]-i[n]*e[1]]}function tR(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var yP,bP=pe,Kz=Pi+"toolbox-dataZoom_",Qz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.render=function(e,i,r,o){this._brushController||(this._brushController=new BA(r.getZr()),this._brushController.on("brush",Et(this._onBrush,this)).mount()),function(a,l,u,f,g){var y=u._isZoomActive;f&&"takeGlobalCursor"===f.type&&(y="dataZoomSelect"===f.key&&f.dataZoomSelectActive),u._isZoomActive=y,a.setIconStatus("zoom",y?"emphasis":"normal");var C=new fP(xP(a),l,{include:["grid"]}).makePanelOpts(g,function(M){return M.xAxisDeclared&&!M.yAxisDeclared?"lineX":!M.xAxisDeclared&&M.yAxisDeclared?"lineY":"rect"});u._brushController.setPanels(C).enableBrush(!(!y||!C.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(e,i,this,o,r),e.setIconStatus("back",pP(i).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,i,r){Jz[r].call(this)},t.prototype.remove=function(e,i){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,i){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var l,u,f,i=e.areas;if(e.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new fP(xP(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(l,u,f){if("cartesian2d"===f.type){var g=l.brushType;"rect"===g?(a("x",f,u[0]),a("y",f,u[1])):a({lineX:"x",lineY:"y"}[g],f,u)}}),u=r,f=pP(l=o),qN(u,function(g,y){for(var w=f.length-1;w>=0&&!f[w][y];w--);if(w<0){var C=l.queryComponents({mainType:"dataZoom",subType:"select",id:y})[0];if(C){var M=C.getPercentRange();f[0][y]={dataZoomId:y,start:M[0],end:M[1]}}}}),f.push(u),this._dispatchZoomAction(r)}function a(l,u,f){var M,O,R,g=u.getAxis(l),y=g.model,w=(M=l,O=y,o.eachComponent({mainType:"dataZoom",subType:"select"},function(F){F.getAxisModel(M,O.componentIndex)&&(R=F)}),R),C=w.findRepresentativeAxisProxy(y).getMinMaxSpan();null==C.minValueSpan&&null==C.maxValueSpan||(f=dg(0,f.slice(),g.scale.getExtent(),0,C.minValueSpan,C.maxValueSpan)),w&&(r[w.id]={dataZoomId:w.id,startValue:f[0],endValue:f[1]})}},t.prototype._dispatchZoomAction=function(e){var i=[];bP(e,function(r,o){i.push(Qe(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(id),Jz={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var t=pP(n),e=t[t.length-1];t.length>1&&t.pop();var i={};return qN(e,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function xP(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}yP=function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var i=t.getModel(e),r=[],o=to(n,xP(i));return bP(o.xAxisModels,function(l){return a(l,"xAxis","xAxisIndex")}),bP(o.yAxisModels,function(l){return a(l,"yAxis","yAxisIndex")}),r}function a(l,u,f){var g=l.componentIndex,y={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:Kz+u+g};y[f]=g,r.push(y)}},ir(null==Vb.get("dataZoom")&&yP),Vb.set("dataZoom",yP);var e5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(qr);function nR(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function iR(n){if(Nt.domSupported)for(var t=document.documentElement.style,e=0,i=n.length;e<i;e++)if(n[e]in t)return n[e]}var rR=iR(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function oR(n,t){if(!n)return t;t=Pb(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var t5=oR(iR(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),_P=oR(rR,"transform"),n5="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Nt.transform3dSupported?"will-change:transform;":"");function aR(n,t,e){var i=n.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!Nt.transformSupported)return e?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=Nt.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+_P+":"+a+";":[["top",0],["left",0],[rR,a]]}function sR(n,t,e,i,r){var u,g,o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&(u=n,g=document.body,N(I,a,i,r,!0)&&N(u,g,I[0],I[1]))}else{n[0]=i,n[1]=r;var l=o&&o.getViewportRootOffset();l&&(n[0]+=l.offsetLeft,n[1]+=l.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var r5=function(){function n(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Nt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),a=this._appendToBody=i&&i.appendToBody;sR(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(r):t.appendChild(r),this._container=t;var l=this;r.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},r.onmousemove=function(u){if(u=u||window.event,!l._enterable){var f=o.handler;vt(o.painter.getViewportRoot(),u,!0),f.dispatch("mousemove",u)}},r.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return n.prototype.update=function(t){var e,i,r,o=this._container,a=(i="position",(r=(e=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?i?r[i]:r:null),l=o.style;"absolute"!==l.position&&"absolute"!==a&&(l.position="relative");var u=t.get("alwaysShowContent");u&&this._moveIfResized(),this._alwaysShowContent=u,this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=n5+function i5(n,t,e){var C,L,R,i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),f=n.get("shadowOffsetY"),g=n.getModel("textStyle"),y=kS(n,"html");return i.push("box-shadow:"+u+"px "+f+"px "+a+"px "+l),t&&r&&i.push((R="opacity"+(L=" "+(C=r)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+L,e||(L=" "+C+"s cubic-bezier(0.23,1,0.32,1)",R+=Nt.transformSupported?","+_P+L:",left"+L+",top"+L),t5+":"+R)),o&&i.push("background-color:"+o),pe(["width","color","radius"],function(C){var M="border-"+C,O=Pb(M),L=n.get(O);null!=L&&i.push(M+":"+L+("color"===C?"":"px"))}),i.push(function(C){var M=[],O=C.get("fontSize"),L=C.getTextColor();L&&M.push("color:"+L),M.push("font:"+C.getFont()),O&&M.push("line-height:"+Math.round(3*O/2)+"px");var R=C.get("textShadowColor"),F=C.get("textShadowBlur")||0,Y=C.get("textShadowOffsetX")||0,q=C.get("textShadowOffsetY")||0;return R&&F&&M.push("text-shadow:"+Y+"px "+q+"px "+F+"px "+R),pe(["decoration","align"],function(Z){var Q=C.get(Z);Q&&M.push("text-"+Z+":"+Q)}),M.join(";")}(g)),null!=y&&i.push("padding:"+Id(y).join("px ")+"px"),i.join(";")+";"}(t,!this._firstShow,this._longHide)+aR(o[0],o[1],!0)+"border-color:"+Od(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,i,r,o){var a=this.el;if(null!=t){var l="";if(On(o)&&"item"===i.get("trigger")&&!nR(i)&&(l=function(g,y,w){if(!On(w)||"inside"===w)return"";var C=g.get("backgroundColor"),M=g.get("borderWidth");y=Od(y);var O,L,R="left"===(O=w)?"right":"right"===O?"left":"top"===O?"bottom":"top",F=Math.max(1.5*Math.round(M),6),Y="",q=_P+":";hn(["left","right"],R)>-1?(Y+="top:50%",q+="translateY(-50%) rotate("+(L="left"===R?-225:-45)+"deg)"):(Y+="left:50%",q+="translateX(-50%) rotate("+(L="top"===R?225:45)+"deg)");var Z=L*Math.PI/180,Q=F+M,ne=Q*Math.abs(Math.cos(Z))+Q*Math.abs(Math.sin(Z)),oe=y+" solid "+M+"px;";return'<div style="'+["position:absolute;width:"+F+"px;height:"+F+"px;z-index:-1;",(Y+=";"+R+":-"+Math.round(100*((ne-Math.SQRT2*M)/2+Math.SQRT2*M-(ne-Q)/2))/100+"px")+";"+q+";","border-bottom:"+oe,"border-right:"+oe,"background-color:"+C+";"].join("")+'"></div>'}(i,r,o)),On(t))a.innerHTML=t+l;else if(t){a.innerHTML="",Bt(t)||(t=[t]);for(var u=0;u<t.length;u++)_n(t[u])&&t[u].parentNode!==a&&a.appendChild(t[u]);if(l&&a.childNodes.length){var f=document.createElement("div");f.innerHTML=l,a.appendChild(f)}}}else a.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var i=this._styleCoord;if(sR(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var r=this.el.style;pe(aR(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Nt.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Et(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),o5=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),cR(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,i,r,o){var a=this;hi(t)&&qn(""),this.el&&this._zr.remove(this.el);var l=i.getModel("textStyle");this.el=new Qr({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:l.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:kS(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),pe(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){a.el.style[f]=i.get(f)}),pe(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){a.el.style[f]=l.get(f)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=lR(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},n.prototype.moveTo=function(t,e){var i=this.el;if(i){var r=this._styleCoord;cR(r,this._zr,t,e),t=r[0],e=r[1];var o=i.style,a=Lv(o.borderWidth||0),l=lR(o);i.x=t+a+l.left,i.y=e+a+l.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Et(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Lv(n){return Math.max(0,n)}function lR(n){var t=Lv(n.shadowBlur||0),e=Lv(n.shadowOffsetX||0),i=Lv(n.shadowOffsetY||0);return{left:Lv(t-e),right:Lv(t+e),top:Lv(t-i),bottom:Lv(t+i)}}function cR(n,t,e,i){n[0]=e,n[1]=i,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var a5=new Zr({shape:{x:-1,y:-1,width:2,height:2}}),s5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e,i){if(!Nt.node&&i.getDom()){var r,o=e.getComponent("tooltip"),a=this._renderMode="auto"===(r=o.get("renderMode"))?Nt.domSupported?"html":"richText":r||"html";this._tooltipContent="richText"===a?new o5(i):new r5(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},t.prototype.render=function(e,i,r){if(!Nt.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?pm(this,"_updatePosition",50,"fixRate"):yy(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");gN("itemTooltip",this._api,Et(function(i,r,o){"none"!==e&&(e.indexOf(i)>=0?this._tryShow(r,o):"leave"===i&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,i=this._ecModel,r=this._api,o=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(e,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,i,r,o){if(o.from!==this.uid&&!Nt.node&&r.getDom()){var a=uR(o,r);this._ticket="";var l=o.dataByCoordSys,u=function(M,O,L){var R=Za(M).queryOptionMap,F=R.keys()[0];if(F&&"series"!==F){var Z,q=Ra(O,F,R.get(F),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(q&&(L.getViewOfComponentModel(q).group.traverse(function(ne){var oe=_r(ne).tooltipConfig;if(oe&&oe.name===M.name)return Z=ne,!0}),Z))return{componentMainType:F,componentIndex:q.componentIndex,el:Z}}}(o,i,r);if(u){var f=u.el.getBoundingRect().clone();f.applyTransform(u.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:u.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var g=a5;g.x=o.x,g.y=o.y,g.update(),_r(g).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:g},a)}else if(l)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:l,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,i,r,o))return;var y=vN(o,i),w=y.point[0],C=y.point[1];null!=w&&null!=C&&this._tryShow({offsetX:w,offsetY:C,target:y.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,i,r,o){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(uR(o,r))},t.prototype._manuallyAxisShowTip=function(e,i,r,o){var a=o.seriesIndex,l=o.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=l&&null!=u){var f=i.getSeriesByIndex(a);if(f&&"axis"===cM([f.getData().getItemModel(l),f,(f.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:l,position:o.position}),!0}},t.prototype._tryShow=function(e,i){var r=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(r){var a,l;this._lastDataByCoordSys=null,Bd(r,function(u){return null!=_r(u).dataIndex?(a=u,!0):null!=_r(u).tooltipConfig?(l=u,!0):void 0},!0),a?this._showSeriesItemTooltip(e,a,i):l?this._showComponentItemTooltip(e,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(e,i){var r=e.get("showDelay");i=Et(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},t.prototype._showAxisTooltip=function(e,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],l=cM([i.tooltipOption],o),u=this._renderMode,f=[],g=hs("section",{blocks:[],noHeader:!0}),y=[],w=new ax;pe(e,function(F){pe(F.dataByAxis,function(Y){var q=r.getComponent(Y.axisDim+"Axis",Y.axisIndex),Z=Y.value;if(q&&null!=Z){var Q=cN(Z,q.axis,r,Y.seriesDataIndices,Y.valueLabelOpt),ne=hs("section",{header:Q,noHeader:!Jr(Q),sortBlocks:!0,blocks:[]});g.blocks.push(ne),pe(Y.seriesDataIndices,function(oe){var _e=r.getSeriesByIndex(oe.seriesIndex),ke=oe.dataIndexInside,Ee=_e.getDataParams(ke);if(!(Ee.dataIndex<0)){Ee.axisDim=Y.axisDim,Ee.axisIndex=Y.axisIndex,Ee.axisType=Y.axisType,Ee.axisId=Y.axisId,Ee.axisValue=$x(q.axis,{value:Z}),Ee.axisValueLabel=Q,Ee.marker=w.makeTooltipMarker("item",Od(Ee.color),u);var Re=lc(_e.formatTooltip(ke,!0,null)),Je=Re.frag;if(Je){var st=cM([_e],o).get("valueFormatter");ne.blocks.push(st?_t({valueFormatter:st},Je):Je)}Re.text&&y.push(Re.text),f.push(Ee)}})}})}),g.blocks.reverse(),y.reverse();var C=i.position,M=l.get("order"),O=DT(g,w,u,M,r.get("useUTC"),l.get("textStyle"));O&&y.unshift(O);var R=y.join("richText"===u?"\n\n":"<br/>");this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e,f)?this._updatePosition(l,C,a[0],a[1],this._tooltipContent,f):this._showTooltipContent(l,R,f,Math.random()+"",a[0],a[1],C,null,w)})},t.prototype._showSeriesItemTooltip=function(e,i,r){var o=this._ecModel,a=_r(i),l=a.seriesIndex,u=o.getSeriesByIndex(l),f=a.dataModel||u,g=a.dataIndex,y=a.dataType,w=f.getData(y),C=this._renderMode,M=e.positionDefault,O=cM([w.getItemModel(g),f,u&&(u.coordinateSystem||{}).model],this._tooltipModel,M?{position:M}:null),L=O.get("trigger");if(null==L||"item"===L){var R=f.getDataParams(g,y),F=new ax;R.marker=F.makeTooltipMarker("item",Od(R.color),C);var Y=lc(f.formatTooltip(g,!1,y)),q=O.get("order"),Z=O.get("valueFormatter"),Q=Y.frag,ne=Q?DT(Z?_t({valueFormatter:Z},Q):Q,F,C,q,o.get("useUTC"),O.get("textStyle")):Y.text,oe="item_"+f.name+"_"+g;this._showOrMove(O,function(){this._showTooltipContent(O,ne,R,oe,e.offsetX,e.offsetY,e.position,e.target,F)}),r({type:"showTip",dataIndexInside:g,dataIndex:w.getRawIndex(g),seriesIndex:l,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,i,r){var o=_r(i),a=o.tooltipConfig.option||{};On(a)&&(a={content:a,formatter:a});var l=[a],u=this._ecModel.getComponent(o.componentMainType,o.componentIndex);u&&l.push(u),l.push({formatter:a.content});var f=e.positionDefault,g=cM(l,this._tooltipModel,f?{position:f}:null),y=g.get("content"),w=Math.random()+"",C=new ax;this._showOrMove(g,function(){var M=Qe(g.get("formatterParams")||{});this._showTooltipContent(g,y,M,w,e.offsetX,e.offsetY,e.position,i,C)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,i,r,o,a,l,u,f,g){if(this._ticket="",e.get("showContent")&&e.get("show")){var y=this._tooltipContent;y.setEnterable(e.get("enterable"));var w=e.get("formatter");u=u||e.get("position");var C=i,M=this._getNearestPoint([a,l],r,e.get("trigger"),e.get("borderColor")).color;if(w)if(On(w)){var O=e.ecModel.get("useUTC"),L=Bt(r)?r[0]:r;C=w,L&&L.axisType&&L.axisType.indexOf("time")>=0&&(C=Qg(L.axisValue,C,O)),C=Fh(C,r,!0)}else if(Ht(w)){var R=Et(function(F,Y){F===this._ticket&&(y.setContent(Y,g,e,M,u),this._updatePosition(e,u,a,l,y,r,f))},this);this._ticket=o,C=w(r,o,R)}else C=w;y.setContent(C,g,e,M,u),y.show(e,M),this._updatePosition(e,u,a,l,y,r,f)}},t.prototype._getNearestPoint=function(e,i,r,o){return"axis"===r||Bt(i)?{color:o||("html"===this._renderMode?"#fff":"none")}:Bt(i)?void 0:{color:o||i.color||i.borderColor}},t.prototype._updatePosition=function(e,i,r,o,a,l,u){var f=this._api.getWidth(),g=this._api.getHeight();i=i||e.get("position");var F,Y,Z,Q,ne,oe,_e,ke,Ee,y=a.getSize(),w=e.get("align"),C=e.get("verticalAlign"),M=u&&u.getBoundingRect().clone();if(u&&M.applyTransform(u.transform),Ht(i)&&(i=i([r,o],l,a.el,M,{viewSize:[f,g],contentSize:y.slice()})),Bt(i))r=ri(i[0],f),o=ri(i[1],g);else if(hi(i)){var O=i;O.width=y[0],O.height=y[1];var L=io(O,{width:f,height:g});r=L.x,o=L.y,w=null,C=null}else if(On(i)&&u){var R=function(F,Y,q,Z){var Q=q[0],ne=q[1],oe=Math.ceil(Math.SQRT2*Z)+8,_e=0,ke=0,Ee=Y.width,Re=Y.height;switch(F){case"inside":_e=Y.x+Ee/2-Q/2,ke=Y.y+Re/2-ne/2;break;case"top":_e=Y.x+Ee/2-Q/2,ke=Y.y-ne-oe;break;case"bottom":_e=Y.x+Ee/2-Q/2,ke=Y.y+Re+oe;break;case"left":_e=Y.x-Q-oe,ke=Y.y+Re/2-ne/2;break;case"right":_e=Y.x+Ee+oe,ke=Y.y+Re/2-ne/2}return[_e,ke]}(i,M,y,e.get("borderWidth"));r=R[0],o=R[1]}else F=r,Y=o,Z=f,Q=g,ne=w?null:20,oe=C?null:20,ke=(_e=a.getSize())[0],Ee=_e[1],null!=ne&&(F+ke+ne+2>Z?F-=ke+ne:F+=ne),null!=oe&&(Y+Ee+oe>Q?Y-=Ee+oe:Y+=oe),r=(R=[F,Y])[0],o=R[1];w&&(r-=hR(w)?y[0]/2:"right"===w?y[0]:0),C&&(o-=hR(C)?y[1]/2:"bottom"===C?y[1]:0),nR(e)&&(R=function(F,Y,q,Z,Q){var ne=q.getSize(),oe=ne[0],_e=ne[1];return F=Math.min(F+oe,Z)-oe,Y=Math.min(Y+_e,Q)-_e,[F=Math.max(F,0),Y=Math.max(Y,0)]}(r,o,a,f,g),r=R[0],o=R[1]),a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===e.length;return a&&pe(r,function(l,u){var f=l.dataByAxis||[],g=(e[u]||{}).dataByAxis||[];(a=a&&f.length===g.length)&&pe(f,function(y,w){var C=g[w]||{},M=y.seriesDataIndices||[],O=C.seriesDataIndices||[];(a=a&&y.value===C.value&&y.axisType===C.axisType&&y.axisId===C.axisId&&M.length===O.length)&&pe(M,function(L,R){var F=O[R];a=a&&L.seriesIndex===F.seriesIndex&&L.dataIndex===F.dataIndex}),o&&pe(y.seriesDataIndices,function(L){var R=L.seriesIndex,F=i[R],Y=o[R];F&&Y&&Y.data!==F.data&&(a=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=i,!!a},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,i){!Nt.node&&i.getDom()&&(yy(this,"_updatePosition"),this._tooltipContent.dispose(),tP("itemTooltip",i))},t.type="tooltip",t}(Bo);function cM(n,t,e){var i,r=t.ecModel;e?(i=new ho(e,r,r),i=new ho(t.option,i,r)):i=t;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof ho&&(a=a.get("tooltip",!0)),On(a)&&(a={formatter:a}),a&&(i=new ho(a,i,r)))}return i}function uR(n,t){return n.dispatchAction||Et(t.dispatchAction,t)}function hR(n){return"center"===n||"middle"===n}var l5=["rect","polygon","keep","clear"];function c5(n,t){var u,f,e=Xi(n?n.brush:[]);if(e.length){var i=[];pe(e,function(u){var f=u.hasOwnProperty("toolbox")?u.toolbox:[];f instanceof Array&&(i=i.concat(f))});var r=n&&n.toolbox;Bt(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),l=a.type||(a.type=[]);l.push.apply(l,i),f={},pe(u=l,function(g){f[g]=1}),u.length=0,pe(f,function(g,y){u.push(y)}),t&&!l.length&&l.push.apply(l,l5)}}var dR=pe;function pR(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function wP(n,t,e){var i={};return dR(t,function(r){var o,a=i[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);dR(n[r],function(l,u){if(Wa.isValidType(u)){var f={type:u,visual:l};e&&e(f,r),a[u]=new Wa(f),"opacity"===u&&((f=Qe(f)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Wa(f))}})}),i}function fR(n,t,e){var i;pe(e,function(r){t.hasOwnProperty(r)&&pR(t[r])&&(i=!0)}),i&&pe(e,function(r){t.hasOwnProperty(r)&&pR(t[r])?n[r]=Qe(t[r]):delete n[r]})}var gR={lineX:mR(0),lineY:mR(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&Dp(e.range,n[0],n[1])},rect:function(n,t,e){var i=e.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,l=n.height,u=i[0];return!!(Dp(i,r,o)||Dp(i,r+a,o)||Dp(i,r,o+l)||Dp(i,r+a,o+l)||lr.create(n).contain(u[0],u[1])||ey(r,o,r+a,o,i)||ey(r,o,r,o+l,i)||ey(r+a,o,r+a,o+l,i)||ey(r,o+l,r+a,o+l,i))||void 0}}};function mR(n){var t=["x","y"],e=["width","height"];return{point:function(i,r,o){if(i)return uM(i[n],o.range)},rect:function(i,r,o){if(i){var a=o.range,l=[i[t[n]],i[t[n]]+i[e[n]]];return l[1]<l[0]&&l.reverse(),uM(l[0],a)||uM(l[1],a)||uM(a[0],l)||uM(a[1],l)}}}}function uM(n,t){return t[0]<=n&&n<=t[1]}var vR=["inBrush","outOfBrush"],SP="__ecBrushSelect",CP="__ecInBrushSelectEvent";function yR(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new fP(t.option,n)).setInputRanges(t.areas,n)})}function u5(n,t,e){var i,r,o=[];n.eachComponent({mainType:"brush"},function(a){e&&"takeGlobalCursor"===e.type&&a.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),yR(n),n.eachComponent({mainType:"brush"},function(a,l){var u={brushId:a.id,brushIndex:l,brushName:a.name,areas:Qe(a.areas),selected:[]};o.push(u);var f=a.option,g=f.brushLink,y=[],w=[],C=[],M=!1;l||(i=f.throttleType,r=f.throttleDelay);var O=ue(a.areas,function(Y){var Q,ne,oe,q=d5[Y.brushType],Z=It({boundingRect:q?q(Y):void 0},Y);return Z.selectors=(ne=(Q=Z).brushType,oe={point:function(_e){return gR[ne].point(_e,oe,Q)},rect:function(_e){return gR[ne].rect(_e,oe,Q)}}),Z}),L=wP(a.option,vR,function(Y){Y.mappingMethod="fixed"});function R(Y){return"all"===g||!!y[Y]}function F(Y){return!!Y.length}Bt(g)&&pe(g,function(Y){y[Y]=1}),n.eachSeries(function(Y,q){var Q,ne,oe,Z=C[q]=[];"parallel"===Y.subType?(ne=q,oe=(Q=Y).coordinateSystem,M=M||oe.hasAxisBrushed(),R(ne)&&oe.eachActiveState(Q.getData(),function(_e,ke){"active"===_e&&(w[ke]=1)})):function(Q,ne,oe){if(Q.brushSelector&&(Ee=ne,null==(Re=a.option.seriesIndex)||"all"===Re||!(Bt(Re)?hn(Re,Ee)<0:Ee!==Re))&&(pe(O,function(ke){a.brushTargetManager.controlSeries(ke,Q,n)&&oe.push(ke),M=M||F(oe)}),R(ne)&&F(oe))){var _e=Q.getData();_e.each(function(ke){bR(Q,oe,_e,ke)&&(w[ke]=1)})}var Ee,Re}(Y,q,Z)}),n.eachSeries(function(Y,q){var Z={seriesId:Y.id,seriesIndex:q,seriesName:Y.name,dataIndex:[]};u.selected.push(Z);var Q=C[q],ne=Y.getData(),oe=R(q)?function(_e){return w[_e]?(Z.dataIndex.push(ne.getRawIndex(_e)),"inBrush"):"outOfBrush"}:function(_e){return bR(Y,Q,ne,_e)?(Z.dataIndex.push(ne.getRawIndex(_e)),"inBrush"):"outOfBrush"};(R(q)?M:F(Q))&&function(_e,ke,Ee,Re,Je,st){var mt,St={};function Tt(nn){return fx(Ee,mt,nn)}function Lt(nn,an){gx(Ee,mt,nn,an)}function $t(nn,an){var kn=Ee.getRawDataItem(mt=null==st?nn:an);if(!kn||!1!==kn.visualMap)for(var jn=Re.call(Je,nn),cn=ke[jn],Pn=St[jn],Yn=0,Zn=Pn.length;Yn<Zn;Yn++){var Wn=Pn[Yn];cn[Wn]&&cn[Wn].applyVisual(nn,Tt,Lt)}}pe(_e,function(nn){var an=Wa.prepareVisualTypes(ke[nn]);St[nn]=an}),null==st?Ee.each($t):Ee.each([st],$t)}(vR,L,ne,oe)})}),function(a,l,u,f,g){if(g){var y=a.getZr();y[CP]||(y[SP]||(y[SP]=h5),pm(y,SP,u,l)(a,f))}}(t,i,r,o,e)}function h5(n,t){if(!n.isDisposed()){var e=n.getZr();e[CP]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[CP]=!1}}function bR(n,t,e,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(n.brushSelector(i,e,a.selectors,a))return!0}}var d5={rect:function(n){return xR(n.range)},polygon:function(n){for(var t,e=n.range,i=0,r=e.length;i<r;i++){var o=e[i];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&xR(t)}};function xR(n){return new lr(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var p5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i,(this._brushController=new BA(i.getZr())).on("brush",Et(this._onBrush,this)).mount()},t.prototype.render=function(e,i,r,o){this.model=e,this._updateController(e,i,r,o)},t.prototype.updateTransform=function(e,i,r,o){yR(i),this._updateController(e,i,r,o)},t.prototype.updateVisual=function(e,i,r,o){this.updateTransform(e,i,r,o)},t.prototype.updateView=function(e,i,r,o){this._updateController(e,i,r,o)},t.prototype._updateController=function(e,i,r,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Qe(r),$from:i}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Qe(r),$from:i})},t.type="brush",t}(Bo),f5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return Oe(t,n),t.prototype.optionUpdated=function(e,i){var r=this.option;!i&&fR(r,e,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=ue(e,function(i){return _R(this.option,i)},this))},t.prototype.setBrushOption=function(e){this.brushOption=_R(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(qr);function _R(n,t){return rt({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new ho(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}var g5=["rect","polygon","lineX","lineY","keep","clear"],m5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.render=function(e,i,r){var o,a,l;i.eachComponent({mainType:"brush"},function(u){o=u.brushType,a=u.brushOption.brushMode||"single",l=l||!!u.areas.length}),this._brushType=o,this._brushMode=a,pe(e.get("type",!0),function(u){e.setIconStatus(u,("keep"===u?"multiple"===a:"clear"===u?l:u===o)?"emphasis":"normal")})},t.prototype.updateView=function(e,i,r){this.render(e,i,r)},t.prototype.getIcons=function(){var e=this.model,i=e.get("icon",!0),r={};return pe(e.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},t.prototype.onclick=function(e,i,r){var o=this._brushType,a=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===a?"single":"multiple":a}})},t.getDefaultOption=function(e){return{show:!0,type:g5.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(id),v5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return Oe(t,n),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(qr),y5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.render=function(e,i,r){if(this.group.removeAll(),e.get("show")){var o=this.group,a=e.getModel("textStyle"),l=e.getModel("subtextStyle"),u=e.get("textAlign"),f=yi(e.get("textBaseline"),e.get("textVerticalAlign")),g=new Qr({style:Eo(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),w=e.get("subtext"),C=new Qr({style:Eo(l,{text:w,fill:l.getTextColor(),y:y.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),M=e.get("link"),O=e.get("sublink"),L=e.get("triggerEvent",!0);g.silent=!M&&!L,C.silent=!O&&!L,M&&g.on("click",function(){Af(M,"_"+e.get("target"))}),O&&C.on("click",function(){Af(O,"_"+e.get("subtarget"))}),_r(g).eventData=_r(C).eventData=L?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(g),w&&o.add(C);var R=o.getBoundingRect(),F=e.getBoxLayoutParams();F.width=R.width,F.height=R.height;var Y=io(F,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));u||("middle"===(u=e.get("left")||e.get("right"))&&(u="center"),"right"===u?Y.x+=Y.width:"center"===u&&(Y.x+=Y.width/2)),f||("center"===(f=e.get("top")||e.get("bottom"))&&(f="middle"),"bottom"===f?Y.y+=Y.height:"middle"===f&&(Y.y+=Y.height/2),f=f||"top"),o.x=Y.x,o.y=Y.y,o.markRedraw();var q={align:u,verticalAlign:f};g.setStyle(q),C.setStyle(q),R=o.getBoundingRect();var Z=Y.margin,Q=e.getItemStyle(["color","opacity"]);Q.fill=e.get("backgroundColor");var ne=new Zr({shape:{x:R.x-Z[3],y:R.y-Z[0],width:R.width+Z[1]+Z[3],height:R.height+Z[0]+Z[2],r:e.get("borderRadius")},style:Q,subPixelOptimize:!0,silent:!0});o.add(ne)}},t.type="title",t}(Bo),wR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return Oe(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var i=this._data.count();this.option.loop?e=(e%i+i)%i:(e>=i&&(e=i-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,i=this.option,r=i.data||[],o=i.axisType,a=this._names=[];"category"===o?(e=[],pe(r,function(u,f){var g,y=Ar(Tr(u),"");hi(u)?(g=Qe(u)).value=f:g=f,e.push(g),a.push(y)})):e=r,(this._data=new va([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[o]||"number"}],this)).initData(e,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(qr),SR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="timeline.slider",t.defaultOption=kd(wR.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(wR);qe(SR,tx.prototype);var b5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="timeline",t}(Bo),x5=function(n){function t(e,i,r,o){var a=n.call(this,e,i,r)||this;return a.type=o||"value",a}return Oe(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Nc),kP=Math.PI,CR=nr(),_5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(e,i){this.api=i},t.prototype.render=function(e,i,r){if(this.model=e,this.api=r,this.ecModel=i,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,r),a=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(o,e);e.formatTooltip=function(f){return hs("nameValue",{noName:!0,value:u.scale.getLabel({value:f})})},pe(["AxisLine","AxisTick","Control","CurrentPointer"],function(f){this["_render"+f](o,a,u,e)},this),this._renderAxisLabel(o,l,u,e),this._position(o,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,i){var r,o,a,l,Re,Je,u=e.get(["label","position"]),f=e.get("orient"),g=(Je=i,io((Re=e).getBoxLayoutParams(),{width:Je.getWidth(),height:Je.getHeight()},Re.get("padding"))),y={horizontal:"center",vertical:(r=null==u||"auto"===u?"horizontal"===f?g.y+g.height/2<i.getHeight()/2?"-":"+":g.x+g.width/2<i.getWidth()/2?"+":"-":On(u)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[f][u]:u)>=0||"+"===r?"left":"right"},w={horizontal:r>=0||"+"===r?"top":"bottom",vertical:"middle"},C={horizontal:0,vertical:kP/2},M="vertical"===f?g.height:g.width,O=e.getModel("controlStyle"),L=O.get("show",!0),R=L?O.get("itemSize"):0,F=L?O.get("itemGap"):0,Y=R+F,q=e.get(["label","rotate"])||0;q=q*kP/180;var Z=O.get("position",!0),Q=L&&O.get("showPlayBtn",!0),ne=L&&O.get("showPrevBtn",!0),oe=L&&O.get("showNextBtn",!0),_e=0,ke=M;"left"===Z||"bottom"===Z?(Q&&(o=[0,0],_e+=Y),ne&&(a=[_e,0],_e+=Y),oe&&(l=[ke-R,0],ke-=Y)):(Q&&(o=[ke-R,0],ke-=Y),ne&&(a=[0,0],_e+=Y),oe&&(l=[ke-R,0],ke-=Y));var Ee=[_e,ke];return e.get("inverse")&&Ee.reverse(),{viewRect:g,mainLength:M,orient:f,rotation:C[f],labelRotation:q,labelPosOpt:r,labelAlign:e.get(["label","align"])||y[f],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||w[f],playPosition:o,prevBtnPosition:a,nextBtnPosition:l,axisExtent:Ee,controlSize:R,controlGap:F}},t.prototype._position=function(e,i){var r=this._mainGroup,o=this._labelGroup,a=e.viewRect;if("vertical"===e.orient){var l=[1,0,0,1,0,0],u=a.x,f=a.y+a.height;Cn(l,l,[-u,-f]),gi(l,l,-kP/2),Cn(l,l,[u,f]),(a=a.clone()).applyTransform(l)}var g=F(a),y=F(r.getBoundingRect()),w=F(o.getBoundingRect()),C=[r.x,r.y],M=[o.x,o.y];M[0]=C[0]=g[0][0];var O,L=e.labelPosOpt;function R(q){q.originX=g[0][0]-q.x,q.originY=g[1][0]-q.y}function F(q){return[[q.x,q.x+q.width],[q.y,q.y+q.height]]}function Y(q,Z,Q,ne,oe){q[ne]+=Q[ne][oe]-Z[ne][oe]}null==L||On(L)?(Y(C,y,g,1,O="+"===L?0:1),Y(M,w,g,1,1-O)):(Y(C,y,g,1,O=L>=0?0:1),M[1]=C[1]+L),r.setPosition(C),o.setPosition(M),r.rotation=o.rotation=e.rotation,R(r),R(o)},t.prototype._createAxis=function(e,i){var r=i.getData(),o=i.get("axisType"),a=function(f,g){if(g=g||f.get("type"))switch(g){case"category":return new Rm({ordinalMeta:f.getCategories(),extent:[1/0,-1/0]});case"time":return new fC({locale:f.ecModel.getLocaleModel(),useUTC:f.ecModel.get("useUTC")});default:return new ch}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(f){return{value:f}})};var l=r.getDataExtent("value");a.setExtent(l[0],l[1]),a.calcNiceTicks();var u=new x5("value",a,e.axisExtent,o);return u.model=i,u},t.prototype._createGroup=function(e){var i=this[e]=new Gi;return this.group.add(i),i},t.prototype._renderAxisLine=function(e,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var l=new cs({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:_t({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(l);var u=this._progressLine=new cs({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:It({lineCap:"round",lineWidth:l.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(u)}},t.prototype._renderAxisTick=function(e,i,r,o){var a=this,l=o.getData(),u=r.scale.getTicks();this._tickSymbols=[],pe(u,function(f){var g=r.dataToCoord(f.value),y=l.getItemModel(f.value),w=y.getModel("itemStyle"),C=y.getModel(["emphasis","itemStyle"]),M=y.getModel(["progress","itemStyle"]),O={x:g,y:0,onclick:Et(a._changeTimeline,a,f.value)},L=kR(y,w,i,O);L.ensureState("emphasis").style=C.getItemStyle(),L.ensureState("progress").style=M.getItemStyle(),dp(L);var R=_r(L);y.get("tooltip")?(R.dataIndex=f.value,R.dataModel=o):R.dataIndex=R.dataModel=null,a._tickSymbols.push(L)})},t.prototype._renderAxisLabel=function(e,i,r,o){var a=this;if(r.getLabelModel().get("show")){var l=o.getData(),u=r.getViewLabels();this._tickLabels=[],pe(u,function(f){var g=f.tickValue,y=l.getItemModel(g),w=y.getModel("label"),C=y.getModel(["emphasis","label"]),M=y.getModel(["progress","label"]),O=r.dataToCoord(f.tickValue),L=new Qr({x:O,y:0,rotation:e.labelRotation-e.rotation,onclick:Et(a._changeTimeline,a,g),silent:!1,style:Eo(w,{text:f.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});L.ensureState("emphasis").style=Eo(C),L.ensureState("progress").style=Eo(M),i.add(L),dp(L),CR(L).dataIndex=g,a._tickLabels.push(L)})}},t.prototype._renderControl=function(e,i,r,o){var a=e.controlSize,l=e.rotation,u=o.getModel("controlStyle").getItemStyle(),f=o.getModel(["emphasis","controlStyle"]).getItemStyle(),g=o.getPlayState(),y=o.get("inverse",!0);function w(C,M,O,L){if(C){var R=os(yi(o.get(["controlStyle",M+"BtnSize"]),a),a),F=(Z=[0,-R/2,R,R],ne=(Q={x:C[0],y:C[1],originX:a/2,originY:0,rotation:L?-l:0,rectHover:!0,style:u,onclick:O}).style,oe=Ug(o.get(["controlStyle",M+"Icon"]),Q||{},new lr(Z[0],Z[1],Z[2],Z[3])),ne&&oe.setStyle(ne),oe);F.ensureState("emphasis").style=f,i.add(F),dp(F)}var Z,Q,ne,oe}w(e.nextBtnPosition,"next",Et(this._changeTimeline,this,y?"-":"+")),w(e.prevBtnPosition,"prev",Et(this._changeTimeline,this,y?"+":"-")),w(e.playPosition,g?"stop":"play",Et(this._handlePlayClick,this,!g),!0)},t.prototype._renderCurrentPointer=function(e,i,r,o){var a=o.getData(),l=o.getCurrentIndex(),u=a.getItemModel(l).getModel("checkpointStyle"),f=this;this._currentPointer=kR(u,u,this._mainGroup,{},this._currentPointer,{onCreate:function(y){y.draggable=!0,y.drift=Et(f._handlePointerDrag,f),y.ondragend=Et(f._handlePointerDragend,f),AR(y,f._progressLine,l,r,o,!0)},onUpdate:function(y){AR(y,f._progressLine,l,r,o)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,i){var r=this._toAxisCoord(e)[0],o=as(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var a=this._progressLine;a&&(a.shape.x2=r,a.dirty());var l=this._findNearestTick(r),u=this.model;(i||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=e.model;e._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Ju(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var i,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(l,u){var f=a.dataToCoord(l),g=Math.abs(f-e);g<o&&(o=g,i=u)}),i},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var i=this.model.getCurrentIndex();"+"===e?e=i+1:"-"===e&&(e=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<e);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",CR(r[o]).dataIndex<=e)},t.type="timeline.slider",t}(b5);function kR(n,t,e,i,r,o){var a=t.get("color");r?(r.setColor(a),e.add(r),o&&o.onUpdate(r)):((r=Da(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),e.add(r),o&&o.onCreate(r));var l=t.getItemStyle(["color"]);r.setStyle(l),i=rt({rectHover:!0,z2:100},i,!0);var u=kp(n.get("symbolSize"));i.scaleX=u[0]/2,i.scaleY=u[1]/2;var f=Ap(n.get("symbolOffset"),u);f&&(i.x=(i.x||0)+f[0],i.y=(i.y||0)+f[1]);var g=n.get("symbolRotate");return i.rotation=(g||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function AR(n,t,e,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),l=i.dataToCoord(r.getData().get("value",e));if(o||!a.get("animation",!0))n.attr({x:l,y:0}),t&&t.attr({shape:{x2:l}});else{var u={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:l,y:0},u),t&&t.animateTo({shape:{x2:l}},u)}}}function w5(n){var t=n&&n.timeline;Bt(t)||(t=t?[t]:[]),pe(t,function(e){e&&function(i){var r=i.type,o={number:"value",time:"time"};if(o[r]&&(i.axisType=o[r],delete i.type),MR(i),K0(i,"controlPosition")){var a=i.controlStyle||(i.controlStyle={});K0(a,"position")||(a.position=i.controlPosition),"none"!==a.position||K0(a,"show")||(a.show=!1,delete a.position),delete i.controlPosition}pe(i.data||[],function(l){hi(l)&&!Bt(l)&&(!K0(l,"value")&&K0(l,"name")&&(l.value=l.name),MR(l))})}(e)})}function MR(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};pe(i,function(a,l){o[l]||K0(r,l)||(r[l]=a)}),e.label&&!K0(i,"emphasis")&&(i.emphasis=e.label,delete e.label)}function K0(n,t){return n.hasOwnProperty(t)}function AP(n,t){if(!n)return!1;for(var e=Bt(n)?n:[n],i=0;i<e.length;i++)if(e[i]&&e[i][t])return!0;return!1}function AO(n){vr(n,"label",["show"])}var MO=nr(),kg=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return Oe(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._mergeOption(e,r,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Nt.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,i){this._mergeOption(e,i,!1,!1)},t.prototype._mergeOption=function(e,i,r,o){var a=this.mainType;r||i.eachSeries(function(l){var u=l.get(this.mainType,!0),f=MO(l)[a];u&&u.data?(f?f._mergeOption(u,i,!0):(o&&AO(u),pe(u.data,function(g){g instanceof Array?(AO(g[0]),AO(g[1])):AO(g)}),_t(f=this.createMarkerModelFromSeries(u,this,i),{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),f.__hostSeries=l),MO(l)[a]=f):MO(l)[a]=null},this)},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e),l=o.getName(e);return hs("section",{header:this.name,blocks:[hs("nameValue",{name:l,value:a,noName:!l,noValue:null==a})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,i){return MO(e)[i]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(qr);qe(kg,tx.prototype);var S5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(kg);function MP(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function TO(n,t,e,i,r,o){var a=[],l=vu(t,i)?t.getCalculationInfo("stackResultDimension"):i,u=EP(t,l,n),f=t.indicesOfNearest(l,u)[0];a[r]=t.get(e,f),a[o]=t.get(l,f);var g=t.get(i,f),y=zl(t.get(i,f));return(y=Math.min(y,20))>=0&&(a[o]=+a[o].toFixed(y)),[a,g]}var TP={min:xn(TO,"min"),max:xn(TO,"max"),average:xn(TO,"average"),median:xn(TO,"median")};function hM(n,t){if(t){var e=n.getData(),i=n.coordinateSystem,r=i&&i.dimensions;if(y=t,(isNaN(parseFloat(y.x))||isNaN(parseFloat(y.y)))&&!Bt(t.coord)&&Bt(r)){var o=TR(t,e,i,n);if((t=Qe(t)).type&&TP[t.type]&&o.baseAxis&&o.valueAxis){var a=hn(r,o.baseAxis.dim),l=hn(r,o.valueAxis.dim),u=TP[t.type](e,o.baseDataDim,o.valueDataDim,a,l);t.coord=u[0],t.value=u[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&Bt(r))for(var f=t.coord,g=0;g<2;g++)TP[f[g]]&&(f[g]=EP(e,e.mapDimension(r[g]),f[g]));else t.coord=[];return t}var y}function TR(n,t,e,i){var a,l,r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,r.valueAxis=e.getAxis((a=r.valueDataDim,(l=i.getData().getDimensionInfo(a))&&l.coordDim)),r.baseAxis=e.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=e.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function dM(n,t){return!(n&&n.containData&&t.coord&&!MP(t))||n.containData(t.coord)}function ER(n,t){return n?function(e,i,r,o){return sh(o<2?e.coord&&e.coord[o]:e.value,t[o])}:function(e,i,r,o){return sh(e.value,t[o])}}function EP(n,t,e){if("average"===e){var i=0,r=0;return n.each(t,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var IP=nr(),OP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.init=function(){this.markerGroupMap=be()},t.prototype.render=function(e,i,r){var o=this,a=this.markerGroupMap;a.each(function(l){IP(l).keep=!1}),i.eachSeries(function(l){var u=kg.getMarkerModelFromSeries(l,o.type);u&&o.renderSeries(l,u,i,r)}),a.each(function(l){!IP(l).keep&&o.group.remove(l.group)})},t.prototype.markKeep=function(e){IP(e).keep=!0},t.prototype.toggleBlurSeries=function(e,i){var r=this;pe(e,function(o){var a=kg.getMarkerModelFromSeries(o,r.type);a&&a.getData().eachItemGraphicEl(function(l){l&&(i?pw(l):fw(l))})})},t.type="marker",t}(Bo);function IR(n,t,e){var i=t.coordinateSystem;n.each(function(r){var o,a=n.getItemModel(r),l=ri(a.get("x"),e.getWidth()),u=ri(a.get("y"),e.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)o=t.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var f=n.get(i.dimensions[0],r),g=n.get(i.dimensions[1],r);o=i.dataToPoint([f,g])}}else o=[l,u];isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u),n.setItemLayout(r,o)})}var C5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=kg.getMarkerModelFromSeries(o,"markPoint");a&&(IR(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,l=e.id,u=e.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,new Um),y=function(w,C,M){var O;O=w?ue(w&&w.dimensions,function(Y){return _t(_t({},C.getData().getDimensionInfo(C.getData().mapDimension(Y))||{}),{name:Y,ordinalMeta:null})}):[{name:"value",type:"float"}];var L=new va(O,M),R=ue(M.get("data"),xn(hM,C));w&&(R=on(R,xn(dM,w)));var F=ER(!!w,O);return L.initData(R,null,F),L}(a,e,i);i.setData(y),IR(i.getData(),e,o),y.each(function(w){var C=y.getItemModel(w),M=C.getShallow("symbol"),O=C.getShallow("symbolSize"),L=C.getShallow("symbolRotate"),R=C.getShallow("symbolOffset"),F=C.getShallow("symbolKeepAspect");if(Ht(M)||Ht(O)||Ht(L)||Ht(R)){var Y=i.getRawValue(w),q=i.getDataParams(w);Ht(M)&&(M=M(Y,q)),Ht(O)&&(O=O(Y,q)),Ht(L)&&(L=L(Y,q)),Ht(R)&&(R=R(Y,q))}var Z=C.getModel("itemStyle").getItemStyle(),Q=mm(u,"color");Z.fill||(Z.fill=Q),y.setItemVisual(w,{symbol:M,symbolSize:O,symbolRotate:L,symbolOffset:R,symbolKeepAspect:F,style:Z})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(w){w.traverse(function(C){_r(C).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||e.get("silent")},t.type="markPoint",t}(OP),k5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(kg),EO=nr(),A5=function(n,t,e,i){var r,o=n.getData();if(Bt(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var l=void 0,u=void 0;if(null!=i.yAxis||null!=i.xAxis)l=t.getAxis(null!=i.yAxis?"y":"x"),u=Wi(i.yAxis,i.xAxis);else{var f=TR(i,o,t,n);l=f.valueAxis,u=EP(o,Hy(o,f.valueDataDim),a)}var g="x"===l.dim?0:1,y=1-g,w=Qe(i),C={coord:[]};w.type=null,w.coord=[],w.coord[y]=-1/0,C.coord[y]=1/0;var M=e.get("precision");M>=0&&En(u)&&(u=+u.toFixed(Math.min(M,20))),w.coord[g]=C.coord[g]=u,r=[w,C,{type:a,valueIndex:i.valueIndex,value:u}]}else r=[]}var O=[hM(n,r[0]),hM(n,r[1]),_t({},r[2])];return O[2].type=O[2].type||null,rt(O[2],O[0]),rt(O[2],O[1]),O};function IO(n){return!isNaN(n)&&!isFinite(n)}function OR(n,t,e,i){var r=1-n,o=i.dimensions[n];return IO(t[r])&&IO(e[r])&&t[n]===e[n]&&i.getAxis(o).containData(t[n])}function M5(n,t){if("cartesian2d"===n.type){var e=t[0].coord,i=t[1].coord;if(e&&i&&(OR(1,e,i,n)||OR(0,e,i,n)))return!0}return dM(n,t[0])&&dM(n,t[1])}function DP(n,t,e,i,r){var o,a=i.coordinateSystem,l=n.getItemModel(t),u=ri(l.get("x"),r.getWidth()),f=ri(l.get("y"),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,t));else{var g=a.dimensions,y=n.get(g[0],t),w=n.get(g[1],t);o=a.dataToPoint([y,w])}if(Zh(a,"cartesian2d")){var C=a.getAxis("x"),M=a.getAxis("y");IO(n.get((g=a.dimensions)[0],t))?o[0]=C.toGlobalCoord(C.getExtent()[e?0:1]):IO(n.get(g[1],t))&&(o[1]=M.toGlobalCoord(M.getExtent()[e?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];n.setItemLayout(t,o)}var T5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=kg.getMarkerModelFromSeries(o,"markLine");if(a){var l=a.getData(),u=EO(a).from,f=EO(a).to;u.each(function(g){DP(u,g,!0,o,r),DP(f,g,!1,o,r)}),l.each(function(g){l.setItemLayout(g,[u.getItemLayout(g),f.getItemLayout(g)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,l=e.id,u=e.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,new x_);this.group.add(g.group);var y=function(q,Z,Q){var ne;ne=q?ue(q&&q.dimensions,function(Je){return _t(_t({},Z.getData().getDimensionInfo(Z.getData().mapDimension(Je))||{}),{name:Je,ordinalMeta:null})}):[{name:"value",type:"float"}];var oe=new va(ne,Q),_e=new va(ne,Q),ke=new va([],Q),Ee=ue(Q.get("data"),xn(A5,Z,q,Q));q&&(Ee=on(Ee,xn(M5,q)));var Re=ER(!!q,ne);return oe.initData(ue(Ee,function(Je){return Je[0]}),null,Re),_e.initData(ue(Ee,function(Je){return Je[1]}),null,Re),ke.initData(ue(Ee,function(Je){return Je[2]})),ke.hasItemOption=!0,{from:oe,to:_e,line:ke}}(a,e,i),w=y.from,C=y.to,M=y.line;EO(i).from=w,EO(i).to=C,i.setData(M);var O=i.get("symbol"),L=i.get("symbolSize"),R=i.get("symbolRotate"),F=i.get("symbolOffset");function Y(q,Z,Q){var ne=q.getItemModel(Z);DP(q,Z,Q,e,o);var oe=ne.getModel("itemStyle").getItemStyle();null==oe.fill&&(oe.fill=mm(u,"color")),q.setItemVisual(Z,{symbolKeepAspect:ne.get("symbolKeepAspect"),symbolOffset:yi(ne.get("symbolOffset",!0),F[Q?0:1]),symbolRotate:yi(ne.get("symbolRotate",!0),R[Q?0:1]),symbolSize:yi(ne.get("symbolSize"),L[Q?0:1]),symbol:yi(ne.get("symbol",!0),O[Q?0:1]),style:oe})}Bt(O)||(O=[O,O]),Bt(L)||(L=[L,L]),Bt(R)||(R=[R,R]),Bt(F)||(F=[F,F]),y.from.each(function(q){Y(w,q,!0),Y(C,q,!1)}),M.each(function(q){var Z=M.getItemModel(q).getModel("lineStyle").getLineStyle();M.setItemLayout(q,[w.getItemLayout(q),C.getItemLayout(q)]),null==Z.stroke&&(Z.stroke=w.getItemVisual(q,"style").fill),M.setItemVisual(q,{fromSymbolKeepAspect:w.getItemVisual(q,"symbolKeepAspect"),fromSymbolOffset:w.getItemVisual(q,"symbolOffset"),fromSymbolRotate:w.getItemVisual(q,"symbolRotate"),fromSymbolSize:w.getItemVisual(q,"symbolSize"),fromSymbol:w.getItemVisual(q,"symbol"),toSymbolKeepAspect:C.getItemVisual(q,"symbolKeepAspect"),toSymbolOffset:C.getItemVisual(q,"symbolOffset"),toSymbolRotate:C.getItemVisual(q,"symbolRotate"),toSymbolSize:C.getItemVisual(q,"symbolSize"),toSymbol:C.getItemVisual(q,"symbol"),style:Z})}),g.updateData(M),y.line.eachItemGraphicEl(function(q){_r(q).dataModel=i,q.traverse(function(Z){_r(Z).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||e.get("silent")},t.type="markLine",t}(OP),E5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(kg),OO=nr(),I5=function(n,t,e,i){var r=i[0],o=i[1];if(r&&o){var a=hM(n,r),l=hM(n,o),u=a.coord,f=l.coord;u[0]=Wi(u[0],-1/0),u[1]=Wi(u[1],-1/0),f[0]=Wi(f[0],1/0),f[1]=Wi(f[1],1/0);var g=zt([{},a,l]);return g.coord=[a.coord,l.coord],g.x0=a.x,g.y0=a.y,g.x1=l.x,g.y1=l.y,g}};function DO(n){return!isNaN(n)&&!isFinite(n)}function DR(n,t,e,i){var r=1-n;return DO(t[r])&&DO(e[r])}function O5(n,t){var a,l,u,e=t.coord[0],i=t.coord[1],r={coord:e,x:t.x0,y:t.y0},o={coord:i,x:t.x1,y:t.y1};return Zh(n,"cartesian2d")?!(!e||!i||!DR(1,e,i)&&!DR(0,e,i))||(l=r,u=o,!((a=n)&&a.containZone&&l.coord&&u.coord&&!MP(l)&&!MP(u))||a.containZone(l.coord,u.coord)):dM(n,r)||dM(n,o)}function LR(n,t,e,i,r){var o,a=i.coordinateSystem,l=n.getItemModel(t),u=ri(l.get(e[0]),r.getWidth()),f=ri(l.get(e[1]),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition){var g=n.getValues(["x0","y0"],t),y=n.getValues(["x1","y1"],t),w=a.clampData(g),C=a.clampData(y),M=[];M[0]="x0"===e[0]?w[0]>C[0]?y[0]:g[0]:w[0]>C[0]?g[0]:y[0],M[1]="y0"===e[1]?w[1]>C[1]?y[1]:g[1]:w[1]>C[1]?g[1]:y[1],o=i.getMarkerPosition(M,e,!0)}else{var O=[F=n.get(e[0],t),Y=n.get(e[1],t)];a.clampData&&a.clampData(O,O),o=a.dataToPoint(O,!0)}if(Zh(a,"cartesian2d")){var L=a.getAxis("x"),R=a.getAxis("y"),F=n.get(e[0],t),Y=n.get(e[1],t);DO(F)?o[0]=L.toGlobalCoord(L.getExtent()["x0"===e[0]?0:1]):DO(Y)&&(o[1]=R.toGlobalCoord(R.getExtent()["y0"===e[1]?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];return o}var PR=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],D5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=kg.getMarkerModelFromSeries(o,"markArea");if(a){var l=a.getData();l.each(function(u){var f=ue(PR,function(g){return LR(l,u,g,o,r)});l.setItemLayout(u,f),l.getItemGraphicEl(u).setShape("points",f)})}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,l=e.id,u=e.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,{group:new Gi});this.group.add(g.group),this.markKeep(g);var y=function(w,C,M){var O,L;if(w){var F=ue(w&&w.dimensions,function(Z){var Q=C.getData();return _t(_t({},Q.getDimensionInfo(Q.mapDimension(Z))||{}),{name:Z,ordinalMeta:null})});L=ue(["x0","y0","x1","y1"],function(Z,Q){return{name:Z,type:F[Q%2].type}}),O=new va(L,M)}else O=new va(L=[{name:"value",type:"float"}],M);var Y=ue(M.get("data"),xn(I5,C,w,M));return w&&(Y=on(Y,xn(O5,w))),O.initData(Y,null,w?function(Z,Q,ne,oe){return sh(Z.coord[Math.floor(oe/2)][oe%2],L[oe])}:function(Z,Q,ne,oe){return sh(Z.value,L[oe])}),O.hasItemOption=!0,O}(a,e,i);i.setData(y),y.each(function(w){var C=ue(PR,function(ne){return LR(y,w,ne,e,o)}),M=a.getAxis("x").scale,O=a.getAxis("y").scale,L=M.getExtent(),R=O.getExtent(),F=[M.parse(y.get("x0",w)),M.parse(y.get("x1",w))],Y=[O.parse(y.get("y0",w)),O.parse(y.get("y1",w))];as(F),as(Y),y.setItemLayout(w,{points:C,allClipped:L[0]>F[1]||L[1]<F[0]||R[0]>Y[1]||R[1]<Y[0]});var Z=y.getItemModel(w).getModel("itemStyle").getItemStyle(),Q=mm(u,"color");Z.fill||(Z.fill=Q,On(Z.fill)&&(Z.fill=El(Z.fill,.4))),Z.stroke||(Z.stroke=Q),y.setItemVisual(w,"style",Z)}),y.diff(OO(g).data).add(function(w){var C=y.getItemLayout(w);if(!C.allClipped){var M=new gl({shape:{points:C.points}});y.setItemGraphicEl(w,M),g.group.add(M)}}).update(function(w,C){var M=OO(g).data.getItemGraphicEl(C),O=y.getItemLayout(w);O.allClipped?M&&g.group.remove(M):(M?co(M,{shape:{points:O.points}},i,w):M=new gl({shape:{points:O.points}}),y.setItemGraphicEl(w,M),g.group.add(M))}).remove(function(w){var C=OO(g).data.getItemGraphicEl(w);g.group.remove(C)}).execute(),y.eachItemGraphicEl(function(w,C){var M=y.getItemModel(C),O=y.getItemVisual(C,"style");w.useStyle(y.getItemVisual(C,"style")),tl(w,us(M),{labelFetcher:i,labelDataIndex:C,defaultText:y.getName(C)||"",inheritColor:On(O.fill)?El(O.fill,1):"#000"}),el(w,M),wa(w,null,null,M.get(["emphasis","disabled"])),_r(w).dataModel=i}),OO(g).data=y,g.group.silent=i.get("silent")||e.get("silent")},t.type="markArea",t}(OP),LP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return Oe(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},t.prototype._updateSelector=function(e){var i=e.selector,r=this.ecModel;!0===i&&(i=e.selector=["all","inverse"]),Bt(i)&&pe(i,function(o,a){var l,u;On(o)&&(o={type:o}),i[a]=rt(o,(l=r,"all"===(u=o.type)?{type:"all",title:l.getLocaleModel().get(["legend","selector","all"])}:"inverse"===u?{type:"inverse",title:l.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var i=[],r=[];e.eachRawSeries(function(u){var f;if(r.push(u.name),u.legendVisualProvider){var y=u.legendVisualProvider.getAllNames();e.isSeriesFiltered(u)||(r=r.concat(y)),y.length?i=i.concat(y):f=!0}else f=!0;f&&Nr(u)&&i.push(u.name)}),this._availableNames=r;var o=this.get("data")||i,a=be(),l=ue(o,function(u){return(On(u)||En(u))&&(u={name:u}),a.get(u.name)?null:(a.set(u.name,!0),new ho(u,this,this.ecModel))},this);this._data=on(l,function(u){return!!u})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var i=this.option.selected;"single"===this.get("selectedMode")&&pe(this._data,function(r){i[r.get("name")]=!1}),i[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var i=this.option.selected;i.hasOwnProperty(e)||(i[e]=!0),this[i[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var i=this.option.selected;pe(this._data,function(r){i[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var i=this.option.selected;pe(this._data,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(e){var i=this.option.selected;return!(i.hasOwnProperty(e)&&!i[e])&&hn(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(qr),$_=xn,PP=pe,LO=Gi,NR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return Oe(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new LO),this.group.add(this._selectorGroup=new LO),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),l=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===l?"right":"left");var u=e.get("selector",!0),f=e.get("selectorPosition",!0);!u||f&&"auto"!==f||(f="horizontal"===l?"end":"start"),this.renderInner(a,e,i,r,u,l,f);var g=e.getBoxLayoutParams(),y={width:r.getWidth(),height:r.getHeight()},w=e.get("padding"),C=io(g,y,w),M=this.layoutInner(e,a,C,o,u,f),O=io(It({width:M.width,height:M.height},g),y,w);this.group.x=O.x-M.x,this.group.y=O.y-M.y,this.group.markRedraw(),this.group.add(this._backgroundEl=YN(M,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,i,r,o,a,l,u){var f=this.getContentGroup(),g=be(),y=i.get("selectedMode"),w=[];r.eachRawSeries(function(C){!C.get("legendHoverLink")&&w.push(C.id)}),PP(i.getData(),function(C,M){var O=C.get("name");if(!this.newlineDisabled&&(""===O||"\n"===O)){var L=new LO;return L.newline=!0,void f.add(L)}var R=r.getSeriesByName(O)[0];if(!g.get(O))if(R){var F=R.getData(),Y=F.getVisual("legendLineStyle")||{},q=F.getVisual("legendIcon"),Z=F.getVisual("style");this._createItem(R,O,M,C,i,e,Y,Z,q,y,o).on("click",$_(RR,O,null,o,w)).on("mouseover",$_(NP,R.name,null,o,w)).on("mouseout",$_(RP,R.name,null,o,w)),g.set(O,!0)}else r.eachRawSeries(function(Q){if(!g.get(O)&&Q.legendVisualProvider){var ne=Q.legendVisualProvider;if(!ne.containName(O))return;var oe=ne.indexOfName(O),_e=ne.getItemVisual(oe,"style"),ke=ne.getItemVisual(oe,"legendIcon"),Ee=_a(_e.fill);Ee&&0===Ee[3]&&(Ee[3]=.2,_e=_t(_t({},_e),{fill:rs(Ee,"rgba")})),this._createItem(Q,O,M,C,i,e,{},_e,ke,y,o).on("click",$_(RR,null,O,o,w)).on("mouseover",$_(NP,null,O,o,w)).on("mouseout",$_(RP,null,O,o,w)),g.set(O,!0)}},this)},this),a&&this._createSelector(a,i,o,l,u)},t.prototype._createSelector=function(e,i,r,o,a){var l=this.getSelectorGroup();PP(e,function(u){var f=u.type,g=new Qr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===f?"legendAllSelect":"legendInverseSelect"})}});l.add(g),tl(g,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:u.title}),dp(g)})},t.prototype._createItem=function(e,i,r,o,a,l,u,f,g,y,w){var mt,St,Tt,C=e.visualDrawType,M=a.get("itemWidth"),O=a.get("itemHeight"),L=a.isSelected(i),R=o.get("symbolRotate"),F=o.get("symbolKeepAspect"),Y=o.get("icon"),q=function(mt,St,Tt,Lt,$t,nn,an){function kn(ui,Ti){"auto"===ui.lineWidth&&(ui.lineWidth=Ti.lineWidth>0?2:0),PP(ui,function(yr,Er){"inherit"===ui[Er]&&(ui[Er]=Ti[Er])})}var jn=St.getModel("itemStyle"),cn=jn.getItemStyle(),Pn=0===mt.lastIndexOf("empty",0)?"fill":"stroke",Yn=jn.getShallow("decal");cn.decal=Yn&&"inherit"!==Yn?Vf(Yn,an):Lt.decal,"inherit"===cn.fill&&(cn.fill=Lt[$t]),"inherit"===cn.stroke&&(cn.stroke=Lt[Pn]),"inherit"===cn.opacity&&(cn.opacity=("fill"===$t?Lt:Tt).opacity),kn(cn,Lt);var Zn=St.getModel("lineStyle"),Wn=Zn.getLineStyle();if(kn(Wn,Tt),"auto"===cn.fill&&(cn.fill=Lt.fill),"auto"===cn.stroke&&(cn.stroke=Lt.fill),"auto"===Wn.stroke&&(Wn.stroke=Lt.fill),!nn){var oi=St.get("inactiveBorderWidth");cn.lineWidth="auto"===oi?Lt.lineWidth>0&&cn[Pn]?2:0:cn.lineWidth,cn.fill=St.get("inactiveColor"),cn.stroke=St.get("inactiveBorderColor"),Wn.stroke=Zn.get("inactiveColor"),Wn.lineWidth=Zn.get("inactiveWidth")}return{itemStyle:cn,lineStyle:Wn}}(g=Y||g||"roundRect",o,u,f,C,L,w),Z=new LO,Q=o.getModel("textStyle");if(!Ht(e.getLegendIcon)||Y&&"inherit"!==Y){var ne="inherit"===Y&&e.getData().getVisual("symbol")?"inherit"===R?e.getData().getVisual("symbolRotate"):R:0;Z.add(((Tt=Da(St=(mt={itemWidth:M,itemHeight:O,icon:g,iconRotate:ne,itemStyle:q.itemStyle,lineStyle:q.lineStyle,symbolKeepAspect:F}).icon||"roundRect",0,0,mt.itemWidth,mt.itemHeight,mt.itemStyle.fill,mt.symbolKeepAspect)).setStyle(mt.itemStyle),Tt.rotation=(mt.iconRotate||0)*Math.PI/180,Tt.setOrigin([mt.itemWidth/2,mt.itemHeight/2]),St.indexOf("empty")>-1&&(Tt.style.stroke=Tt.style.fill,Tt.style.fill="#fff",Tt.style.lineWidth=2),Tt))}else Z.add(e.getLegendIcon({itemWidth:M,itemHeight:O,icon:g,iconRotate:R,itemStyle:q.itemStyle,lineStyle:q.lineStyle,symbolKeepAspect:F}));var oe="left"===l?M+5:-5,_e=l,ke=a.get("formatter"),Ee=i;On(ke)&&ke?Ee=ke.replace("{name}",i??""):Ht(ke)&&(Ee=ke(i));var Re=L?Q.getTextColor():o.get("inactiveColor");Z.add(new Qr({style:Eo(Q,{text:Ee,x:oe,y:O/2,fill:Re,align:_e,verticalAlign:"middle"},{inheritColor:Re})}));var Je=new Zr({shape:Z.getBoundingRect(),invisible:!0}),st=o.getModel("tooltip");return st.get("show")&&cu({el:Je,componentModel:a,itemName:i,itemTooltipOption:st.option}),Z.add(Je),Z.eachChild(function(mt){mt.silent=!0}),Je.silent=!y,this.getContentGroup().add(Z),dp(Z),Z.__legendDataIndex=r,Z},t.prototype.layoutInner=function(e,i,r,o,a,l){var u=this.getContentGroup(),f=this.getSelectorGroup();Ts(e.get("orient"),u,e.get("itemGap"),r.width,r.height);var g=u.getBoundingRect(),y=[-g.x,-g.y];if(f.markRedraw(),u.markRedraw(),a){Ts("horizontal",f,e.get("selectorItemGap",!0));var w=f.getBoundingRect(),C=[-w.x,-w.y],M=e.get("selectorButtonGap",!0),O=e.getOrient().index,L=0===O?"width":"height",R=0===O?"height":"width",F=0===O?"y":"x";"end"===l?C[O]+=g[L]+M:y[O]+=w[L]+M,C[1-O]+=g[R]/2-w[R]/2,f.x=C[0],f.y=C[1],u.x=y[0],u.y=y[1];var Y={x:0,y:0};return Y[L]=g[L]+M+w[L],Y[R]=Math.max(g[R],w[R]),Y[F]=Math.min(0,w[F]+C[1-O]),Y}return u.x=y[0],u.y=y[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Bo);function RR(n,t,e,i){RP(n,t,e,i),e.dispatchAction({type:"legendToggleSelect",name:n??t}),NP(n,t,e,i)}function BR(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function NP(n,t,e,i){BR(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:i})}function RP(n,t,e,i){BR(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:i})}function L5(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}function pM(n,t,e){var i,r={},o="toggleSelected"===n;return e.eachComponent("legend",function(a){o&&null!=i?a[i?"select":"unSelect"](t.name):"allSelect"===n||"inverseSelect"===n?a[n]():(a[n](t.name),i=a.isSelected(t.name)),pe(a.getData(),function(l){var u=l.get("name");if("\n"!==u&&""!==u){var f=a.isSelected(u);r[u]=r.hasOwnProperty(u)?r[u]&&f:f}})}),"allSelect"===n||"inverseSelect"===n?{selected:r}:{name:t.name,selected:r}}function zR(n){n.registerComponentModel(LP),n.registerComponentView(NR),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,L5),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",xn(pM,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",xn(pM,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",xn(pM,"inverseSelect")),t.registerAction("legendSelect","legendselected",xn(pM,"select")),t.registerAction("legendUnSelect","legendunselected",xn(pM,"unSelect"))}(n)}var P5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,i,r){var o=nh(e);n.prototype.init.call(this,e,i,r),FR(this,e,o)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),FR(this,this.option,e)},t.type="legend.scroll",t.defaultOption=kd(LP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(LP);function FR(n,t,e){var i=[1,1];i[n.getOrient().index]=0,Vh(t,e,{type:"box",ignoreSize:!!i})}var VR=Gi,BP=["width","height"],zP=["x","y"],N5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return Oe(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new VR),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new VR)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,i,r,o,a,l,u){var f=this;n.prototype.renderInner.call(this,e,i,r,o,a,l,u);var g=this._controllerGroup,y=i.get("pageIconSize",!0),w=Bt(y)?y:[y,y];M("pagePrev",0);var C=i.getModel("pageTextStyle");function M(O,L){var R=O+"DataIndex",F=Ug(i.get("pageIcons",!0)[i.getOrient().name][L],{onclick:Et(f._pageGo,f,R,i,o)},{x:-w[0]/2,y:-w[1]/2,width:w[0],height:w[1]});F.name=O,g.add(F)}g.add(new Qr({name:"pageText",style:{text:"xx/xx",fill:C.getTextColor(),font:C.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),M("pageNext",1)},t.prototype.layoutInner=function(e,i,r,o,a,l){var u=this.getSelectorGroup(),f=e.getOrient().index,g=BP[f],y=zP[f],w=BP[1-f],C=zP[1-f];a&&Ts("horizontal",u,e.get("selectorItemGap",!0));var M=e.get("selectorButtonGap",!0),O=u.getBoundingRect(),L=[-O.x,-O.y],R=Qe(r);a&&(R[g]=r[g]-O[g]-M);var F=this._layoutContentAndController(e,o,R,f,g,w,C,y);if(a){if("end"===l)L[f]+=F[g]+M;else{var Y=O[g]+M;L[f]-=Y,F[y]-=Y}F[g]+=O[g]+M,L[1-f]+=F[C]+F[w]/2-O[w]/2,F[w]=Math.max(F[w],O[w]),F[C]=Math.min(F[C],O[C]+L[1-f]),u.x=L[0],u.y=L[1],u.markRedraw()}return F},t.prototype._layoutContentAndController=function(e,i,r,o,a,l,u,f){var g=this.getContentGroup(),y=this._containerGroup,w=this._controllerGroup;Ts(e.get("orient"),g,e.get("itemGap"),o?r.width:null,o?null:r.height),Ts("horizontal",w,e.get("pageButtonItemGap",!0));var C=g.getBoundingRect(),M=w.getBoundingRect(),O=this._showController=C[a]>r[a],L=[-C.x,-C.y];i||(L[o]=g[f]);var R=[0,0],F=[-M.x,-M.y],Y=yi(e.get("pageButtonGap",!0),e.get("itemGap",!0));O&&("end"===e.get("pageButtonPosition",!0)?F[o]+=r[a]-M[a]:R[o]+=M[a]+Y),F[1-o]+=C[l]/2-M[l]/2,g.setPosition(L),y.setPosition(R),w.setPosition(F);var q={x:0,y:0};if(q[a]=O?r[a]:C[a],q[l]=Math.max(C[l],M[l]),q[u]=Math.min(0,M[u]+F[1-o]),y.__rectSize=r[a],O){var Z={x:0,y:0};Z[a]=Math.max(r[a]-M[a]-Y,0),Z[l]=q[l],y.setClipPath(new Zr({shape:Z})),y.__rectSize=Z[a]}else w.eachChild(function(ne){ne.attr({invisible:!0,silent:!0})});var Q=this._getPageInfo(e);return null!=Q.pageIndex&&co(g,{x:Q.contentPosition[0],y:Q.contentPosition[1]},O?e:null),this._updatePageInfoView(e,Q),q},t.prototype._pageGo=function(e,i,r){var o=this._getPageInfo(i)[e];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(e,i){var r=this._controllerGroup;pe(["pagePrev","pageNext"],function(g){var y=null!=i[g+"DataIndex"],w=r.childOfName(g);w&&(w.setStyle("fill",e.get(y?"pageIconColor":"pageIconInactiveColor",!0)),w.cursor=y?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),l=i.pageIndex,u=null!=l?l+1:0,f=i.pageCount;o&&a&&o.setStyle("text",On(a)?a.replace("{current}",null==u?"":u+"").replace("{total}",null==f?"":f+""):a({current:u,total:f}))},t.prototype._getPageInfo=function(e){var i=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,l=BP[a],u=zP[a],f=this._findTargetItemIndex(i),g=r.children(),y=g[f],w=g.length,C=w?1:0,M={contentPosition:[r.x,r.y],pageCount:C,pageIndex:C-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return M;var O=q(y);M.contentPosition[a]=-O.s;for(var L=f+1,R=O,F=O,Y=null;L<=w;++L)(!(Y=q(g[L]))&&F.e>R.s+o||Y&&!Z(Y,R.s))&&(R=F.i>R.i?F:Y)&&(null==M.pageNextDataIndex&&(M.pageNextDataIndex=R.i),++M.pageCount),F=Y;for(L=f-1,R=O,F=O,Y=null;L>=-1;--L)(Y=q(g[L]))&&Z(F,Y.s)||!(R.i<F.i)||(F=R,null==M.pagePrevDataIndex&&(M.pagePrevDataIndex=R.i),++M.pageCount,++M.pageIndex),R=Y;return M;function q(Q){if(Q){var ne=Q.getBoundingRect(),oe=ne[u]+Q[u];return{s:oe,e:oe+ne[l],i:Q.__legendDataIndex}}}function Z(Q,ne){return Q.e>=ne&&Q.s<=ne+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(o,a){var l=o.__legendDataIndex;null==r&&null!=l&&(r=a),l===e&&(i=a)}),i??r):0;var i,r},t.type="legend.scroll",t}(NR);function R5(n){zr(zR),n.registerComponentModel(P5),n.registerComponentView(N5),function(t){t.registerAction("legendScroll","legendscroll",function(e,i){var r=e.scrollDataIndex;null!=r&&i.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(r)})})}(n)}var B5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="dataZoom.inside",t.defaultOption=kd(sM.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(sM),FP=nr();function HR(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function F5(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function V5(n,t,e,i){return n.coordinateSystem.containPoint([e,i])}var W5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Oe(t,n),t.prototype.render=function(e,i,r){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function z5(n,t,e){FP(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}(r,e,{pan:Et(VP.pan,this),zoom:Et(VP.zoom,this),scrollMove:Et(VP.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,i){for(var r=FP(e).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var u=r.get(o[a]),f=u.dataZoomInfoMap;if(f){var g=i.uid;f.get(g)&&(f.removeKey(g),f.keys().length||HR(r,u))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(uP),VP={zoom:function(n,t,e,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var l=HP[t](null,[i.originX,i.originY],a,e,n),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(o[1]-o[0])+o[0],f=Math.max(1/i.scale,0);o[0]=(o[0]-u)*f+u,o[1]=(o[1]-u)*f+u;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return dg(0,o,[0,100],0,g.minSpan,g.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:WR(function(n,t,e,i,r,o){var a=HP[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:WR(function(n,t,e,i,r,o){return HP[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e).signal*(n[1]-n[0])*o.scrollDelta})};function WR(n){return function(t,e,i,r){var o=this.range,a=o.slice(),l=t.axisModels[0];if(l)return dg(n(a,l,t,e,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var HP={grid:function(n,t,e,i,r){var o=e.axis,a={},l=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(a.pixel=t[0]-n[0],a.pixelLength=l.width,a.pixelStart=l.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=l.height,a.pixelStart=l.y,a.signal=o.inverse?-1:1),a},polar:function(n,t,e,i,r){var o=e.axis,a={},l=r.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),f=l.getAngleAxis().getExtent();return n=n?l.pointToCoord(n):[0,0],t=l.pointToCoord(t),"radiusAxis"===e.mainType?(a.pixel=t[0]-n[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=f[1]-f[0],a.pixelStart=f[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,t,e,i,r){var o=e.axis,a=r.model.coordinateSystem.getRect(),l={};return n=n||[0,0],"horizontal"===o.orient?(l.pixel=t[0]-n[0],l.pixelLength=a.width,l.pixelStart=a.x,l.signal=o.inverse?1:-1):(l.pixel=t[1]-n[1],l.pixelLength=a.height,l.pixelStart=a.y,l.signal=o.inverse?-1:1),l}};function jR(n){hP(n),n.registerComponentModel(B5),n.registerComponentView(W5),function H5(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var i=FP(e),r=i.coordSysRecordMap||(i.coordSysRecordMap=be());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){pe(zN(o).infoList,function(a){var f,g,y,w,l=a.model.uid,u=r.get(l)||r.set(l,(f=e,y={model:g=a.model,containsPoint:xn(V5,g),dispatchAction:xn(F5,f),dataZoomInfoMap:null,controller:null},w=y.controller=new Kh(f.getZr()),pe(["pan","zoom","scrollMove"],function(C){w.on(C,function(M){var O=[];y.dataZoomInfoMap.each(function(L){if(M.isAvailableBehavior(L.model.option)){var R=(L.getRange||{})[C],F=R&&R(L.dzReferCoordSysInfo,y.model.mainType,y.controller,M);!L.model.get("disabled",!0)&&F&&O.push({dataZoomId:L.model.id,start:F[0],end:F[1]})}}),O.length&&y.dispatchAction(O)})}),y));(u.dataZoomInfoMap||(u.dataZoomInfoMap=be())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,w,C,M,O,l=o.controller,u=o.dataZoomInfoMap;if(u){var f=u.keys()[0];null!=f&&(a=u.get(f))}if(a){var g=(C="type_",M={type_true:2,type_move:1,type_false:0,type_undefined:-1},O=!0,u.each(function(L){var R=L.model,F=!R.get("disabled",!0)&&(!R.get("zoomLock",!0)||"move");M[C+F]>M[C+w]&&(w=F),O=O&&R.get("preventDefaultMouseMove",!0)}),{controlType:w,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!O}});l.enable(g.controlType,g.opt),l.setPointerChecker(o.containsPoint),pm(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else HR(r,o)})})}(n)}var j5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=kd(sM.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(sM),fM=Zr,gM="horizontal",YR="vertical",Y5=["line","bar","candlestick","scatter"],G5={easing:"cubicOut",duration:100,delay:0},X5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return Oe(t,n),t.prototype.init=function(e,i){this.api=i,this._onBrush=Et(this._onBrush,this),this._onBrushEnd=Et(this._onBrushEnd,this)},t.prototype.render=function(e,i,r,o){if(n.prototype.render.apply(this,arguments),pm(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){yy(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Gi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(i),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,i=this.api,r=e.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:i.getWidth(),height:i.getHeight()},l=this._orient===gM?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},u=nh(e.option);pe(["right","top","width","height"],function(g){"ph"===u[g]&&(u[g]=l[g])});var f=io(u,a);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===YR&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),l=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(r!==gM||a?r===gM&&a?{scaleY:u?1:-1,scaleX:-1}:r!==YR||a?{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?1:-1,scaleX:1});var f=e.getBoundingRect([l]);e.x=i.x-f.x,e.y=i.y-f.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new fM({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new fM({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:Et(this._onClickPanel,this)}),l=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var ke,Ee,Re,Je,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var i=this._size,r=this._shadowSize||[],o=e.series,a=o.getRawData(),l=o.getShadowDim&&o.getShadowDim(),u=l&&a.getDimensionInfo(l)?o.getShadowDim():e.otherDim;if(null!=u){var f=this._shadowPolygonPts,g=this._shadowPolylinePts;if(a!==this._shadowData||u!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var y=a.getDataExtent(u),w=.3*(y[1]-y[0]);y=[y[0]-w,y[1]+w];var C,M=[0,i[1]],L=[[i[0],0],[0,0]],R=[],F=i[0]/(a.count()-1),Y=0,q=Math.round(a.count()/i[0]);a.each([u],function(_e,ke){if(q>0&&ke%q)Y+=F;else{var Ee=null==_e||isNaN(_e)||""===_e,Re=Ee?0:oo(_e,y,M,!0);Ee&&!C&&ke?(L.push([L[L.length-1][0],0]),R.push([R[R.length-1][0],0])):!Ee&&C&&(L.push([Y,0]),R.push([Y,0])),L.push([Y,Re]),R.push([Y,Re]),Y+=F,C=Ee}}),f=this._shadowPolygonPts=L,g=this._shadowPolylinePts=R}this._shadowData=a,this._shadowDim=u,this._shadowSize=[i[0],i[1]];for(var Z=this.dataZoomModel,Q=0;Q<3;Q++){var ne=(ke=void 0,Ee=void 0,void 0,void 0,ke=Z.getModel(1===Q?"selectedDataBackground":"dataBackground"),Ee=new Gi,Re=new gl({shape:{points:f},segmentIgnoreThreshold:1,style:ke.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Je=new ml({shape:{points:g},segmentIgnoreThreshold:1,style:ke.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),Ee.add(Re),Ee.add(Je),Ee);this._displayables.sliderGroup.add(ne),this._displayables.dataShadowSegs.push(ne)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,i=e.get("showDataShadow");if(!1!==i){var r,o=this.ecModel;return e.eachTargetAxis(function(a,l){pe(e.getAxisProxy(a,l).getTargetSeriesModels(),function(u){if(!(r||!0!==i&&hn(Y5,u.get("type"))<0)){var f,g=o.getComponent(Dv(a),l).axis,y={x:"y",y:"x",radius:"angle",angle:"radius"}[a],w=u.coordinateSystem;null!=y&&w.getOtherAxis&&(f=w.getOtherAxis(g).inverse),y=u.getData().mapDimension(y),r={thisAxis:g,series:u,thisDim:a,otherDim:y,otherAxisInverse:f}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,f=this.api,g=u.get("borderRadius")||0,y=u.get("brushSelect"),w=i.filler=new fM({silent:y,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});a.add(w),a.add(new fM({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:g},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),pe([0,1],function(Y){var q=u.get("handleIcon");!Cp[q]&&q.indexOf("path://")<0&&q.indexOf("image://")<0&&(q="path://"+q);var Z=Da(q,-1,0,2,2,null,!0);Z.attr({cursor:GR(this._orient),draggable:!0,drift:Et(this._onDragMove,this,Y),ondragend:Et(this._onDragEnd,this),onmouseover:Et(this._showDataInfo,this,!0),onmouseout:Et(this._showDataInfo,this,!1),z2:5});var Q=Z.getBoundingRect(),ne=u.get("handleSize");this._handleHeight=ri(ne,this._size[1]),this._handleWidth=Q.width/Q.height*this._handleHeight,Z.setStyle(u.getModel("handleStyle").getItemStyle()),Z.style.strokeNoScale=!0,Z.rectHover=!0,Z.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),dp(Z);var oe=u.get("handleColor");null!=oe&&(Z.style.fill=oe),a.add(r[Y]=Z);var _e=u.getModel("textStyle");e.add(o[Y]=new Qr({silent:!0,invisible:!0,style:Eo(_e,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:_e.getTextColor(),font:_e.getFont()}),z2:10}))},this);var C=w;if(y){var M=ri(u.get("moveHandleSize"),l[1]),O=i.moveHandle=new Zr({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:M}}),L=.8*M,R=i.moveHandleIcon=Da(u.get("moveHandleIcon"),-L/2,-L/2,L,L,"#fff",!0);R.silent=!0,R.y=l[1]+M/2-.5,O.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var F=Math.min(l[1]/2,Math.max(M,10));(C=i.moveZone=new Zr({invisible:!0,shape:{y:l[1]-F,height:M+F}})).on("mouseover",function(){f.enterEmphasis(O)}).on("mouseout",function(){f.leaveEmphasis(O)}),a.add(O),a.add(R),a.add(C)}C.attr({draggable:!0,cursor:GR(this._orient),drift:Et(this._onDragMove,this,"all"),ondragstart:Et(this._showDataInfo,this,!0),ondragend:Et(this._onDragEnd,this),onmouseover:Et(this._showDataInfo,this,!0),onmouseout:Et(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[oo(e[0],[0,100],i,!0),oo(e[1],[0,100],i,!0)]},t.prototype._updateInterval=function(e,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),l=r.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];dg(i,o,a,r.get("zoomLock")?"all":e,null!=l.minSpan?oo(l.minSpan,u,a,!0):null,null!=l.maxSpan?oo(l.maxSpan,u,a,!0):null);var f=this._range,g=this._range=as([oo(o[0],a,u,!0),oo(o[1],a,u,!0)]);return!f||f[0]!==g[0]||f[1]!==g[1]},t.prototype._updateView=function(e){var i=this._displayables,r=this._handleEnds,o=as(r.slice()),a=this._size;pe([0,1],function(C){var O=this._handleHeight;i.handles[C].attr({scaleX:O/2,scaleY:O/2,x:r[C]+(C?-1:1),y:a[1]/2-O/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var l={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(l),i.moveZone.setShape(l),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",l.x+l.width/2));for(var u=i.dataShadowSegs,f=[0,o[0],o[1],a[0]],g=0;g<u.length;g++){var y=u[g],w=y.getClipPath();w||(w=new Zr,y.setClipPath(w)),w.setShape({x:f[g],y:0,width:f[g+1]-f[g],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,l=["",""];if(i.get("showDetail")){var u=i.findRepresentativeAxisProxy();if(u){var f=u.getAxisModel().axis,g=this._range,y=e?u.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:u.getDataValueWindow();l=[this._formatLabel(y[0],f),this._formatLabel(y[1],f)]}}var w=as(this._handleEnds.slice());function C(M){var O=lu(r.handles[M].parent,this.group),L=Xg(0===M?"right":"left",O),R=this._handleWidth/2+5,F=Ju([w[M]+(0===M?-R:R),this._size[1]/2],O);o[M].setStyle({x:F[0],y:F[1],verticalAlign:a===gM?"middle":L,align:a===gM?L:"center",text:l[M]})}C.call(this,0),C.call(this,1)},t.prototype._formatLabel=function(e,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");null!=a&&"auto"!==a||(a=i.getPixelPrecision());var l=null==e||isNaN(e)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return Ht(o)?o(e,l):On(o)?o.replace("{value}",l):l},t.prototype._showDataInfo=function(e){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(e=this._dragging||e)),r[1].attr("invisible",!e),i.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},t.prototype._onDragMove=function(e,i,r,o){this._dragging=!0,ae(o.event);var a=Ju([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(e,a[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,l=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),l&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new si(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=as([oo(r.x,o,a,!0),oo(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(ae(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,i){var r=this._displayables,a=r.brushRect;a||(a=r.brushRect=new fM({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var l=this._brushStart,u=this._displayables.sliderGroup,f=u.transformCoordToLocal(e,i),g=u.transformCoordToLocal(l.x,l.y),y=this._size;f[0]=Math.max(Math.min(y[0],f[0]),0),a.setShape({x:g[0],y:0,width:f[0]-g[0],height:y[1]})},t.prototype._dispatchZoomAction=function(e){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?G5:null,start:i[0],end:i[1]})},t.prototype._findCoordRect=function(){var e,i=zN(this.dataZoomModel).infoList;if(!e&&i.length){var r=i[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return e},t.type="dataZoom.slider",t}(uP);function GR(n){return"vertical"===n?"ns-resize":"ew-resize"}function XR(n){n.registerComponentModel(j5),n.registerComponentView(X5),hP(n)}var qR=function(n,t,e){var i=Qe((q5[n]||{})[t]);return e&&Bt(i)?i[i.length-1]:i},q5={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},UR=Wa.mapVisual,U5=Wa.eachVisual,$5=Bt,$R=pe,Z5=as,K5=oo,PO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return Oe(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.optionUpdated=function(e,i){!i&&fR(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var i=this.stateList;e=Et(e,this),this.controllerVisuals=wP(this.option.controller,i,e),this.targetVisuals=wP(this.option.target,i,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,i=[];return null==e||"all"===e?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=Xi(e),i},t.prototype.eachTargetSeries=function(e,i){pe(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&e.call(i,o)},this)},t.prototype.isTargetSeries=function(e){var i=!1;return this.eachTargetSeries(function(r){r===e&&(i=!0)}),i},t.prototype.formatValueText=function(e,i,r){var o,a=this.option,l=a.precision,u=this.dataBound,f=a.formatter;r=r||["<",">"],Bt(e)&&(e=e.slice(),o=!0);var g=i?e:o?[y(e[0]),y(e[1])]:y(e);return On(f)?f.replace("{value}",o?g[0]:g).replace("{value2}",o?g[1]:g):Ht(f)?o?f(e[0],e[1]):f(e):o?e[0]===u[0]?r[0]+" "+g[1]:e[1]===u[1]?r[1]+" "+g[0]:g[0]+" - "+g[1]:g;function y(w){return w===u[0]?"min":w===u[1]?"max":(+w).toFixed(Math.min(l,20))}},t.prototype.resetExtent=function(){var e=this.option,i=Z5([e.min,e.max]);this._dataExtent=i},t.prototype.getDataDimensionIndex=function(e){var i=this.option.dimension;if(null!=i)return e.getDimensionIndex(i);for(var r=e.dimensions,o=r.length-1;o>=0;o--){var l=e.getDimensionInfo(r[o]);if(!l.isCalculationCoord)return l.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});rt(o,r),rt(a,r);var l=this.isCategory();function u(f){$5(i.color)&&!f.inRange&&(f.inRange={color:i.color.slice().reverse()}),f.inRange=f.inRange||{color:e.get("gradientColor")}}u.call(this,o),u.call(this,a),function(f,g,y){var w=f[g],C=f[y];w&&!C&&(C=f[y]={},$R(w,function(M,O){if(Wa.isValidType(O)){var L=qR(O,"inactive",l);null!=L&&(C[O]=L,"color"!==O||C.hasOwnProperty("opacity")||C.hasOwnProperty("colorAlpha")||(C.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(f){var g=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,y=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,w=this.get("inactiveColor"),C=this.getItemSymbol()||"roundRect";$R(this.stateList,function(M){var O=this.itemSize,L=f[M];L||(L=f[M]={color:l?w:[w]}),null==L.symbol&&(L.symbol=g&&Qe(g)||(l?C:[C])),null==L.symbolSize&&(L.symbolSize=y&&Qe(y)||(l?O[0]:[O[0],O[0]])),L.symbol=UR(L.symbol,function(Y){return"none"===Y?C:Y});var R=L.symbolSize;if(null!=R){var F=-1/0;U5(R,function(Y){Y>F&&(F=Y)}),L.symbolSize=UR(R,function(Y){return K5(Y,[0,F],[0,O[0]],!0)})}},this)}.call(this,a)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(qr),ZR=[20,140],Q5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=ZR[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=ZR[1])},t.prototype._resetRange=function(){var e=this.getExtent(),i=this.option.range;!i||i.auto?(e.auto=1,this.option.range=e):Bt(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],e[0]),i[1]=Math.min(i[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),pe(this.stateList,function(e){var i=this.option.controller[e].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),i=as((this.get("range")||[]).slice());return i[0]>e[1]&&(i[0]=e[1]),i[1]>e[1]&&(i[1]=e[1]),i[0]<e[0]&&(i[0]=e[0]),i[1]<e[0]&&(i[1]=e[0]),i},t.prototype.getValueState=function(e){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=e)&&(i[1]>=r[1]||e<=i[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(l,u){e[0]<=l&&l<=e[1]&&o.push(u)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},t.prototype.getVisualMeta=function(e){var i=KR(0,0,this.getExtent()),r=KR(0,0,this.option.range.slice()),o=[];function a(C,M){o.push({value:C,color:e(C,M)})}for(var l=0,u=0,f=r.length,g=i.length;u<g&&(!r.length||i[u]<=r[0]);u++)i[u]<r[l]&&a(i[u],"outOfRange");for(var y=1;l<f;l++,y=0)y&&o.length&&a(r[l],"outOfRange"),a(r[l],"inRange");for(y=1;u<g;u++)(!r.length||r[r.length-1]<i[u])&&(y&&(o.length&&a(o[o.length-1].value,"outOfRange"),y=0),a(i[u],"outOfRange"));var w=o.length;return{stops:o,outerColors:[w?o[0].color:"transparent",w?o[w-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=kd(PO.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(PO);function KR(n,t,e){if(e[0]===e[1])return e.slice();for(var i=(e[1]-e[0])/200,r=e[0],o=[],a=0;a<=200&&r<e[1];a++)o.push(r),r+=i;return o.push(e[1]),o}var QR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return Oe(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i},t.prototype.render=function(e,i,r,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,i,r,o):this.group.removeAll()},t.prototype.renderBackground=function(e){var i=this.visualMapModel,r=Id(i.get("padding")||0),o=e.getBoundingRect();e.add(new Zr({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,l={};if("color"===i){var u=a.get("contentColor");l.color=u}function f(w){return l[w]}function g(w,C){l[w]=C}var y=a.controllerVisuals[o||a.getValueState(e)];return pe(Wa.prepareVisualTypes(y),function(w){var C=y[w];r.convertOpacityToAlpha&&"opacity"===w&&(w="colorAlpha",C=y.__alphaForOpacity),Wa.dependsOn(w,i)&&C&&C.applyVisual(e,f,g)}),l[i]},t.prototype.positionGroup=function(e){var r=this.api;nm(e,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},t.prototype.doRender=function(e,i,r,o){},t.type="visualMap",t}(Bo),JR=[["left","right","width"],["top","bottom","height"]];function eB(n,t,e){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,l=JR[a],u=[0,null,10],f={},g=0;g<3;g++)f[JR[1-a][g]]=u[g],f[l[g]]=2===g?e[0]:i[l[g]];var y=[["x","width",3],["y","height",0]][a],w=io(f,o,i.padding);return l[(w.margin[y[2]]||0)+w[y[0]]+.5*w[y[1]]<.5*o[y[1]]?0:1]}function NO(n,t){return pe(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var Jp=oo,J5=pe,tB=Math.min,WP=Math.max,eF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return Oe(t,n),t.prototype.doRender=function(e,i,r,o){this._api=r,o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,i=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(i);var r=e.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},t.prototype._renderEndsText=function(e,i,r){if(i){var o=i[1-r];o=null!=o?o+"":"";var a=this.visualMapModel,l=a.get("textGap"),u=a.itemSize,f=this._shapes.mainGroup,g=this._applyTransform([u[0]/2,0===r?-l:u[1]+l],f),y=this._applyTransform(0===r?"bottom":"top",f),w=this._orient;this.group.add(new Qr({style:Eo(this.visualMapModel.textStyleModel,{x:g[0],y:g[1],verticalAlign:"horizontal"===w?"middle":y,align:"horizontal"===w?y:"center",text:o})}))}},t.prototype._renderBar=function(e){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,l=this._useHandle,u=eB(i,this.api,o),f=r.mainGroup=this._createBarGroup(u),g=new Gi;f.add(g),g.add(r.outOfRange=nB()),g.add(r.inRange=nB(null,l?rB(this._orient):null,Et(this._dragHandle,this,"all",!1),Et(this._dragHandle,this,"all",!0))),g.setClipPath(new Zr({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var y=i.textStyleModel.getTextRect("\u56fd"),w=WP(y.width,y.height);l&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,f,0,o,w,a),this._createHandle(i,f,1,o,w,a)),this._createIndicator(i,f,o,w,a),e.add(f)},t.prototype._createHandle=function(e,i,r,o,a,l){var u=Et(this._dragHandle,this,r,!1),f=Et(this._dragHandle,this,r,!0),g=os(e.get("handleSize"),o[0]),y=Da(e.get("handleIcon"),-g/2,-g/2,g,g,null,!0),w=rB(this._orient);y.attr({cursor:w,draggable:!0,drift:u,ondragend:f,onmousemove:function(R){ae(R.event)}}),y.x=o[0]/2,y.useStyle(e.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),bf(y,!0),i.add(y);var M=new Qr({cursor:w,draggable:!0,drift:u,onmousemove:function(R){ae(R.event)},ondragend:f,style:Eo(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});M.ensureState("blur").style={opacity:.1},M.stateTransition={duration:200},this.group.add(M);var O=[g,0],L=this._shapes;L.handleThumbs[r]=y,L.handleLabelPoints[r]=O,L.handleLabels[r]=M},t.prototype._createIndicator=function(e,i,r,o,a){var l=os(e.get("indicatorSize"),r[0]),u=Da(e.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var f=e.getModel("indicatorStyle").getItemStyle();if(u instanceof ls){var g=u.style;u.useStyle(_t({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},f))}else u.useStyle(f);i.add(u);var w=new Qr({silent:!0,invisible:!0,style:Eo(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(w);var C=[("horizontal"===a?o/2:6)+r[0]/2,0],M=this._shapes;M.indicator=u,M.indicatorLabel=w,M.indicatorLabelPoint=C,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():iB(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,i=this._dataInterval=e.getSelected(),r=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[Jp(i[0],r,o,!0),Jp(i[1],r,o,!0)]},t.prototype._updateInterval=function(e,i){var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];dg(i=i||0,o,a,e,0);var l=r.getExtent();this._dataInterval=[Jp(o[0],a,l,!0),Jp(o[1],a,l,!0)]},t.prototype._updateView=function(e){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],l=e?a:this._handleEnds,u=this._createBarVisual(this._dataInterval,r,l,"inRange"),f=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),o.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(l,u)},t.prototype._createBarVisual=function(e,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},l=this._makeColorGradient(e,a),u=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],f=this._createBarPoints(r,u);return{barColor:new jg(0,0,0,1,l),barPoints:f,handlesColor:[l[0].color,l[l.length-1].color]}},t.prototype._makeColorGradient=function(e,i){var r=[],o=(e[1]-e[0])/100;r.push({color:this.getControllerVisual(e[0],"color",i),offset:0});for(var a=1;a<100;a++){var l=e[0]+o*a;if(l>e[1])break;r.push({color:this.getControllerVisual(l,"color",i),offset:a/100})}return r.push({color:this.getControllerVisual(e[1],"color",i),offset:1}),r},t.prototype._createBarPoints=function(e,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-i[1],e[1]]]},t.prototype._createBarGroup=function(e){var i=this._orient,r=this.visualMapModel.get("inverse");return new Gi("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,l=r.handleLabels,u=o.itemSize,f=o.getExtent();J5([0,1],function(g){var y=a[g];y.setStyle("fill",i.handlesColor[g]),y.y=e[g];var w=Jp(e[g],[0,u[1]],f,!0),C=this.getControllerVisual(w,"symbolSize");y.scaleX=y.scaleY=C/u[0],y.x=u[0]-C/2;var M=Ju(r.handleLabelPoints[g],lu(y,this.group));l[g].setStyle({x:M[0],y:M[1],text:o.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,i,r,o){var a=this.visualMapModel,l=a.getExtent(),u=a.itemSize,f=[0,u[1]],g=this._shapes,y=g.indicator;if(y){y.attr("invisible",!1);var w=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),C=this.getControllerVisual(e,"symbolSize"),M=Jp(e,l,f,!0),O=u[0]-C/2,L={x:y.x,y:y.y};y.y=M,y.x=O;var R=Ju(g.indicatorLabelPoint,lu(y,this.group)),F=g.indicatorLabel;F.attr("invisible",!1);var Y=this._applyTransform("left",g.mainGroup),q="horizontal"===this._orient;F.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:q?Y:"middle",align:q?"center":Y});var Z={x:O,y:M,style:{fill:w}},Q={style:{x:R[0],y:R[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var ne={duration:100,easing:"cubicInOut",additive:!0};y.x=L.x,y.y=L.y,y.animateTo(Z,ne),F.animateTo(Q,ne)}else y.attr(Z),F.attr(Q);this._firstShowIndicator=!1;var oe=this._shapes.handleLabels;if(oe)for(var _e=0;_e<oe.length;_e++)this._api.enterBlur(oe[_e])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(i){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,o=e._applyTransform([i.offsetX,i.offsetY],e._shapes.mainGroup,!0,!0);o[1]=tB(WP(0,o[1]),r[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,i){var L,R,F,Y,r=this.visualMapModel;if(r.option.hoverLink){var a=[0,r.itemSize[1]],l=r.getExtent();e=tB(WP(a[0],e),a[1]);var u=(L=l,R=a,F=6,(Y=r.get("hoverLinkDataSize"))&&(F=Jp(Y,L,R,!0)/2),F),f=[e-u,e+u],g=Jp(e,a,l,!0),y=[Jp(f[0],a,l,!0),Jp(f[1],a,l,!0)];f[0]<a[0]&&(y[0]=-1/0),f[1]>a[1]&&(y[1]=1/0),i&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",u):y[1]===1/0?this._showIndicator(g,y[0],"> ",u):this._showIndicator(g,g,"\u2248 ",u));var w=this._hoverLinkDataIndices,C=[];(i||iB(r))&&(C=this._hoverLinkDataIndices=r.findTargetDataIndices(y));var M=function(O,L){var R={},F={};return Y(O||[],R),Y(L||[],F,R),[q(R),q(F)];function Y(Z,Q,ne){for(var oe=0,_e=Z.length;oe<_e;oe++){var ke=Ar(Z[oe].seriesId,null);if(null==ke)return;for(var Ee=Xi(Z[oe].dataIndex),Re=ne&&ne[ke],Je=0,st=Ee.length;Je<st;Je++){var mt=Ee[Je];Re&&Re[mt]?Re[mt]=null:(Q[ke]||(Q[ke]={}))[mt]=1}}}function q(Z,Q){var ne=[];for(var oe in Z)if(Z.hasOwnProperty(oe)&&null!=Z[oe])if(Q)ne.push(+oe);else{var _e=q(Z[oe],!0);_e.length&&ne.push({seriesId:oe,dataIndex:_e})}return ne}}(w,C);this._dispatchHighDown("downplay",NO(M[0],r)),this._dispatchHighDown("highlight",NO(M[1],r))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var i;if(Bd(e.target,function(u){var f=_r(u);if(null!=f.dataIndex)return i=f,!0},!0),i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(r)){var a=r.getData(i.dataType),l=a.getStore().get(o.getDataDimensionIndex(a),i.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",NO(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,i,r,o){var a=lu(i,o?null:this.group);return Bt(e)?Ju(e,a,r):Xg(e,a,r)},t.prototype._dispatchHighDown=function(e,i){i&&i.length&&this.api.dispatchAction({type:e,batch:i})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(QR);function nB(n,t,e,i){return new gl({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(r){ae(r.event)},ondragend:i})}function iB(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function rB(n){return"vertical"===n?"ns-resize":"ew-resize"}var tF={type:"selectDataRange",event:"dataRangeSelected",update:"update"},nF=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},iF=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(i){var r,o,a,l,u,f=n.pipelineContext;!i.isTargetSeries(n)||f&&f.large||e.push((r=i.stateList,o=i.targetVisuals,a=Et(i.getValueState,i),l=i.getDataDimensionIndex(n.getData()),u={},pe(r,function(g){var y=Wa.prepareVisualTypes(o[g]);u[g]=y}),{progress:function(g,y){var w,C;function M(_e){return fx(y,C,_e)}function O(_e,ke){gx(y,C,_e,ke)}null!=l&&(w=y.getDimensionIndex(l));for(var L=y.getStore();null!=(C=g.next());){var R=y.getRawDataItem(C);if(!R||!1!==R.visualMap)for(var F=null!=l?L.get(w,C):C,Y=a(F),q=o[Y],Z=u[Y],Q=0,ne=Z.length;Q<ne;Q++){var oe=Z[Q];q[oe]&&q[oe].applyVisual(F,M,O)}}}}))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),i=[];t.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(Et(rF,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(e);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function rF(n,t,e,i){for(var r=t.targetVisuals[i],o=Wa.prepareVisualTypes(r),a={color:mm(n.getData(),"color")},l=0,u=o.length;l<u;l++){var f=o[l],g=r["opacity"===f?"__alphaForOpacity":f];g&&g.applyVisual(e,y,w)}return a.color;function y(C){return a[C]}function w(C,M){a[C]=M}}var oB=pe;function oF(n){var t=n&&n.visualMap;Bt(t)||(t=t?[t]:[]),oB(t,function(e){if(e){Z_(e,"splitList")&&!Z_(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var i=e.pieces;i&&Bt(i)&&oB(i,function(r){hi(r)&&(Z_(r,"start")&&!Z_(r,"min")&&(r.min=r.start),Z_(r,"end")&&!Z_(r,"max")&&(r.max=r.end))})}})}function Z_(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var aB=!1;function sB(n){aB||(aB=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(tF,nF),pe(iF,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(oF))}function lB(n){n.registerComponentModel(Q5),n.registerComponentView(eF),sB(n)}var aF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return Oe(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],sF[this._mode].call(this,this._pieceList),this._resetSelected(e,i);var o=this.option.categories;this.resetVisual(function(a,l){"categories"===r?(a.mappingMethod="category",a.categories=Qe(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=ue(this._pieceList,function(u){return u=Qe(u),"inRange"!==l&&(u.visual=null),u}))})},t.prototype.completeVisualOption=function(){var e=this.option,i={},r=Wa.listVisualTypes(),o=this.isCategory();function a(l,u,f){return l&&l[u]&&l[u].hasOwnProperty(f)}pe(e.pieces,function(l){pe(r,function(u){l.hasOwnProperty(u)&&(i[u]=1)})}),pe(i,function(l,u){var f=!1;pe(this.stateList,function(g){f=f||a(e,g,u)||a(e.target,g,u)},this),!f&&pe(this.stateList,function(g){(e[g]||(e[g]={}))[u]=qR(u,"inRange"===g?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,i){var r=this.option,o=this._pieceList,a=(i?r:e).selected||{};if(r.selected=a,pe(o,function(u,f){var g=this.getSelectedMapKey(u);a.hasOwnProperty(g)||(a[g]=!0)},this),"single"===r.selectedMode){var l=!1;pe(o,function(u,f){var g=this.getSelectedMapKey(u);a[g]&&(l?a[g]=!1:l=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Qe(e)},t.prototype.getValueState=function(e){var i=Wa.findPieceIndex(e,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],l=o.getData();l.each(this.getDataDimensionIndex(l),function(u,f){Wa.findPieceIndex(u,r)===e&&a.push(f)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},t.prototype.getRepresentValue=function(e){var i;if(this.isCategory())i=e.value;else if(null!=e.value)i=e.value;else{var r=e.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var i=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var l=a[0].interval[0];l!==-1/0&&a.unshift({interval:[-1/0,l]}),(l=a[a.length-1].interval[1])!==1/0&&a.push({interval:[l,1/0]})}else a.push({interval:[-1/0,1/0]});var u=-1/0;return pe(a,function(g){var y=g.interval;y&&(y[0]>u&&f([u,y[0]],"outOfRange"),f(y.slice()),u=y[1])},this),{stops:i,outerColors:r}}function f(g,y){var w=o.getRepresentValue({interval:g});y||(y=o.getValueState(w));var C=e(w,y);g[0]===-1/0?r[0]=C:g[1]===1/0?r[1]=C:i.push({value:g[0],color:C},{value:g[1],color:C})}},t.type="visualMap.piecewise",t.defaultOption=kd(PO.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(PO),sF={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(e)!==o&&e<5;)e++;t.precision=e,o=+o.toFixed(e),t.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,l=i[0];a<r;l+=o,a++)n.push({interval:[l,a===r-1?i[1]:l+o],close:[1,1]});t.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),te(n),pe(n,function(f,g){f.index=g,f.text=this.formatValueText(f.interval)},this)},categories:function(n){var t=this.option;pe(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),cB(t,n)},pieces:function(n){var t=this.option;pe(t.pieces,function(e,i){hi(e)||(e={value:e});var r={text:"",index:i};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var o=r.value=e.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],l=r.close=[0,0],u=[1,0,1],f=[-1/0,1/0],g=[],y=0;y<2;y++){for(var w=[["gte","gt","min"],["lte","lt","max"]][y],C=0;C<3&&null==a[y];C++)a[y]=e[w[C]],l[y]=u[C],g[y]=2===C;null==a[y]&&(a[y]=f[y])}g[0]&&a[1]===1/0&&(l[0]=0),g[1]&&a[0]===-1/0&&(l[1]=0),a[0]===a[1]&&l[0]&&l[1]&&(r.value=a[0])}r.visual=Wa.retrieveVisuals(e),n.push(r)},this),cB(t,n),te(n),pe(n,function(e){var i=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function cB(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}var lF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Oe(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),l=o.getTextColor(),u=this._getItemAlign(),f=i.itemSize,g=this._getViewData(),y=g.endsText,w=Wi(i.get("showLabel",!0),!y);y&&this._renderEndsText(e,y[0],f,w,u),pe(g.viewPieceList,function(C){var M=C.piece,O=new Gi;O.onclick=Et(this._onItemClick,this,M),this._enableHoverLink(O,C.indexInModelPieceList);var L=i.getRepresentValue(M);if(this._createItemSymbol(O,L,[0,0,f[0],f[1]]),w){var R=this.visualMapModel.getValueState(L);O.add(new Qr({style:{x:"right"===u?-r:f[0]+r,y:f[1]/2,text:M.text,verticalAlign:"middle",align:u,font:a,fill:l,opacity:"outOfRange"===R?.5:1}}))}e.add(O)},this),y&&this._renderEndsText(e,y[1],f,w,u),Ts(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,i){var r=this;e.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var l=r.visualMapModel;l.option.hoverLink&&r.api.dispatchAction({type:a,batch:NO(l.findTargetDataIndices(i),l)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,i=e.option;if("vertical"===i.orient)return eB(e,this.api,e.itemSize);var r=i.align;return r&&"auto"!==r||(r="left"),r},t.prototype._renderEndsText=function(e,i,r,o,a){if(i){var l=new Gi;l.add(new Qr({style:Eo(this.visualMapModel.textStyleModel,{x:o?"right"===a?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i})})),e.add(l)}},t.prototype._getViewData=function(){var e=this.visualMapModel,i=ue(e.getPieceList(),function(l,u){return{piece:l,indexInModelPieceList:u}}),r=e.get("text"),o=e.get("orient"),a=e.get("inverse");return("horizontal"===o?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},t.prototype._createItemSymbol=function(e,i,r){e.add(Da(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},t.prototype._onItemClick=function(e){var i=this.visualMapModel,r=i.option,o=r.selectedMode;if(o){var a=Qe(r.selected),l=i.getSelectedMapKey(e);"single"===o||!0===o?(a[l]=!0,pe(a,function(u,f){a[f]=f===l})):a[l]=!a[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},t.type="visualMap.piecewise",t}(QR);function uB(n){n.registerComponentModel(aF),n.registerComponentView(lF),sB(n)}var cF={label:{enabled:!0},decal:{show:!1}},hB=nr(),uF={};function hF(n,t){var e=n.getModel("aria");if(e.get("enabled")){var i=Qe(cF);rt(i.label,n.getLocaleModel().get("aria"),!1),rt(e.option,i,!1),function(){if(e.getModel("decal").get("show")){var o=be();n.eachSeries(function(a){if(!a.isColorBySeries()){var l=o.get(a.type);l||o.set(a.type,l={}),hB(a).scope=l}}),n.eachRawSeries(function(a){if(!n.isSeriesFiltered(a))if(Ht(a.enableAriaDecal))a.enableAriaDecal();else{var l=a.getData();if(a.isColorBySeries()){var u=om(a.ecModel,a.name,uF,n.getSeriesCount()),f=l.getVisual("decal");l.setVisual("decal",M(f,u))}else{var g=a.getRawData(),y={},w=hB(a).scope;l.each(function(O){var L=l.getRawIndex(O);y[L]=O});var C=g.count();g.each(function(O){var L=y[O],R=g.getName(O)||O+"",F=om(a.ecModel,R,w,C),Y=l.getItemVisual(L,"decal");l.setItemVisual(L,"decal",M(Y,F))})}}function M(O,L){var R=O?_t(_t({},L),O):L;return R.dirty=!0,R}})}}(),function(){var F,o=n.getLocaleModel().get("aria"),a=e.getModel("label");if(a.option=It(a.option,o),a.get("enabled")){var l=t.getZr().dom;if(a.get("description"))return void l.setAttribute("aria-label",a.get("description"));var u,f=n.getSeriesCount(),g=a.get(["data","maxCount"])||10,y=a.get(["series","maxCount"])||10,w=Math.min(f,y);if(!(f<1)){var C=((F=n.get("title"))&&F.length&&(F=F[0]),F&&F.text);u=C?r(a.get(["general","withTitle"]),{title:C}):a.get(["general","withoutTitle"]);var M=[];u+=r(a.get(f>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:f}),n.eachSeries(function(F,Y){if(Y<w){var q=void 0,Z=F.get("name")?"withName":"withoutName";q=r(q=a.get(f>1?["series","multiple",Z]:["series","single",Z]),{seriesId:F.seriesIndex,seriesName:F.get("name"),seriesType:(st=F.subType,n.getLocaleModel().get(["series","typeNames"])[st]||"\u81ea\u5b9a\u4e49\u56fe")});var Q=F.getData();Q.count()>g?q+=r(a.get(["data","partialData"]),{displayCnt:g}):q+=a.get(["data","allData"]);for(var ne=a.get(["data","separator","middle"]),oe=a.get(["data","separator","end"]),_e=[],ke=0;ke<Q.count();ke++)if(ke<g){var Ee=Q.getName(ke),Re=Q.getValues(ke),Je=a.get(["data",Ee?"withName":"withoutName"]);_e.push(r(Je,{name:Ee,value:Re.join(ne)}))}q+=_e.join(ne)+oe,M.push(q)}var st});var O=a.getModel(["series","multiple","separator"]),L=O.get("middle"),R=O.get("end");u+=M.join(L)+R,l.setAttribute("aria-label",u)}}}()}function r(o,a){if(!On(o))return o;var l=o;return pe(a,function(u,f){l=l.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),u)}),l}}function dF(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},pe(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var dB={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},pF=function(){function n(t){null==(this._condVal=On(t)?new RegExp(t):bi(t)?t:null)&&qn("")}return n.prototype.evaluate=function(t){var e=typeof t;return On(e)?this._condVal.test(t):!!En(e)&&this._condVal.test(t+"")},n}(),fF=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),gF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),mF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),vF=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),yF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?i:e))return!1;return!0},n}();function jP(n,t){if(!0===n||!1===n){var e=new fF;return e.value=n,e}return fB(n)||qn(""),n.and?pB("and",n,t):n.or?pB("or",n,t):n.not?function(r,o){var a=r.not;fB(a)||qn("");var u=new vF;return u.child=jP(a,o),u.child||qn(""),u}(n,t):function(r,o){for(var l=o.prepareGetValue(r),u=[],f=Zt(r),g=r.parser,y=g?mT(g):null,w=0;w<f.length;w++){var C=f[w];if("parser"!==C&&!o.valueGetterAttrMap.get(C)){var M=ft(dB,C)?dB[C]:C,O=r[C],L=y?y(O):O,R=bT(M,L)||"reg"===M&&new pF(L);R||qn(""),u.push(R)}}u.length||qn("");var F=new yF;return F.valueGetterParam=l,F.valueParser=y,F.getValue=o.getValue,F.subCondList=u,F}(n,t)}function pB(n,t,e){var i=t[n];Bt(i)||qn(""),i.length||qn("");var o="and"===n?new gF:new mF;return o.children=ue(i,function(a){return jP(a,e)}),o.children.length||qn(""),o}function fB(n){return hi(n)&&!Vt(n)}var bF=function(){function n(t,e){this._cond=jP(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),xF={type:"echarts:filter",transform:function(n){for(var t,e,i,r=n.upstream,o=(e=n.config,i={valueGetterAttrMap:be({dimension:!0}),prepareGetValue:function(f){var y=f.dimension;ft(f,"dimension")||qn("");var w=r.getDimensionInfo(y);return w||qn(""),{dimIdx:w.index}},getValue:function(f){return r.retrieveValueFromItem(t,f.dimIdx)}},new bF(e,i)),a=[],l=0,u=r.count();l<u;l++)t=r.getRawDataItem(l),o.evaluate()&&a.push(t);return{data:a}}},_F={type:"echarts:sort",transform:function(n){var t=n.upstream,i="",r=Xi(n.config);r.length||qn(i);var o=[];pe(r,function(g){var y=g.dimension,w=g.order,C=g.parser,M=g.incomparable;null==y&&qn(i),"asc"!==w&&"desc"!==w&&qn(i),M&&"min"!==M&&"max"!==M&&qn(""),"asc"!==w&&"desc"!==w&&qn("");var R=t.getDimensionInfo(y);R||qn(i);var F=C?mT(C):null;C&&!F&&qn(i),o.push({dimIdx:R.index,parser:F,comparator:new ix(w,M)})});var a=t.sourceFormat;a!==nl&&a!==Oc&&qn(i);for(var l=[],u=0,f=t.count();u<f;u++)l.push(t.getRawDataItem(u));return l.sort(function(g,y){for(var w=0;w<o.length;w++){var C=o[w],M=t.retrieveValueFromItem(g,C.dimIdx),O=t.retrieveValueFromItem(y,C.dimIdx);C.parser&&(M=C.parser(M),O=C.parser(O));var L=C.comparator.evaluate(M,O);if(0!==L)return L}return 0}),{data:l}}},wF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return Oe(t,n),t.prototype.init=function(e,i,r){n.prototype.init.call(this,e,i,r),this._sourceManager=new bS(this),xS(this)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),xS(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:vl},t}(qr),SF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return Oe(t,n),t.type="dataset",t}(Bo),ef=gn.CMD;function K_(n,t){return Math.abs(n-t)<1e-5}function YP(n){var t,e,i,r,o,Re,Je,st,mt,St,Tt,Lt,$t,nn,an,kn,jn,cn,Zn,Wn,oi,Un,a=n.data,l=n.len(),u=[],f=0,g=0,y=0,w=0;function C(Re,Je){t&&t.length>2&&u.push(t),t=[Re,Je]}function M(Re,Je,st,mt){K_(Re,st)&&K_(Je,mt)||t.push(Re,Je,st,mt,st,mt)}for(var L=0;L<l;){var R=a[L++],F=1===L;switch(F&&(y=f=a[L],w=g=a[L+1],R!==ef.L&&R!==ef.C&&R!==ef.Q||(t=[y,w])),R){case ef.M:f=y=a[L++],g=w=a[L++],C(y,w);break;case ef.L:M(f,g,e=a[L++],i=a[L++]),f=e,g=i;break;case ef.C:t.push(a[L++],a[L++],a[L++],a[L++],f=a[L++],g=a[L++]);break;case ef.Q:e=a[L++],i=a[L++],r=a[L++],o=a[L++],t.push(f+2/3*(e-f),g+2/3*(i-g),r+2/3*(e-r),o+2/3*(i-o),r,o),f=r,g=o;break;case ef.A:var Y=a[L++],q=a[L++],Z=a[L++],Q=a[L++],ne=a[L++],oe=a[L++]+ne;L+=1;var _e=!a[L++];e=Math.cos(ne)*Z+Y,i=Math.sin(ne)*Q+q,F?C(y=e,w=i):M(f,g,e,i),f=Math.cos(oe)*Z+Y,g=Math.sin(oe)*Q+q;for(var ke=(_e?-1:1)*Math.PI/2,Ee=ne;_e?Ee>oe:Ee<oe;Ee+=ke)Re=Ee,Je=_e?Math.max(Ee+ke,oe):Math.min(Ee+ke,oe),st=Y,mt=q,St=Z,Tt=Q,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Lt=Math.abs(Je-Re),$t=4*Math.tan(Lt/4)/3,nn=Je<Re?-1:1,an=Math.cos(Re),kn=Math.sin(Re),jn=Math.cos(Je),cn=Math.sin(Je),t.push(an*St+st-(oi=St*$t*nn)*kn,kn*Tt+mt+(Un=Tt*$t*nn)*an,(Zn=jn*St+st)+oi*cn,(Wn=cn*Tt+mt)-Un*jn,Zn,Wn);break;case ef.R:y=f=a[L++],w=g=a[L++],e=y+a[L++],i=w+a[L++],C(e,w),M(e,w,e,i),M(e,i,y,i),M(y,i,y,w),M(y,w,e,w);break;case ef.Z:t&&M(f,g,y,w),f=y,g=w}}return t&&t.length>2&&u.push(t),u}function GP(n,t,e,i,r,o,a,l,u,f){if(K_(n,e)&&K_(t,i)&&K_(r,a)&&K_(o,l))u.push(a,l);else{var g=2/f,y=g*g,w=a-n,C=l-t,M=Math.sqrt(w*w+C*C);w/=M,C/=M;var O=e-n,L=i-t,R=r-a,F=o-l,Y=O*O+L*L,q=R*R+F*F;if(Y<y&&q<y)u.push(a,l);else{var Z=w*O+C*L,Q=-w*R-C*F;if(Y-Z*Z<y&&Z>=0&&q-Q*Q<y&&Q>=0)u.push(a,l);else{var ne=[],oe=[];Vo(n,e,r,a,.5,ne),Vo(t,i,o,l,.5,oe),GP(ne[0],oe[0],ne[1],oe[1],ne[2],oe[2],ne[3],oe[3],u,f),GP(ne[4],oe[4],ne[5],oe[5],ne[6],oe[6],ne[7],oe[7],u,f)}}}}function gB(n,t,e){var o=Math.abs(n[t]/n[1-t]),a=Math.ceil(Math.sqrt(o*e)),l=Math.floor(e/a);0===l&&(l=1,a=e);for(var u=[],f=0;f<a;f++)u.push(l);var g=e-a*l;if(g>0)for(f=0;f<g;f++)u[f%a]+=1;return u}function mB(n,t,e){for(var i=n.r0,r=n.r,o=n.startAngle,l=Math.abs(n.endAngle-o),u=l*r,f=r-i,g=u>Math.abs(f),y=gB([u,f],g?0:1,t),w=(g?l:f)/y.length,C=0;C<y.length;C++)for(var M=(g?f:l)/y[C],O=0;O<y[C];O++){var L={};g?(L.startAngle=o+w*C,L.endAngle=o+w*(C+1),L.r0=i+M*O,L.r=i+M*(O+1)):(L.startAngle=o+M*O,L.endAngle=o+M*(O+1),L.r0=i+w*C,L.r=i+w*(C+1)),L.clockwise=n.clockwise,L.cx=n.cx,L.cy=n.cy,e.push(L)}}function vB(n,t,e,i){return n*i-e*t}function CF(n,t,e,i,r,o,a,l){var u=e-n,f=i-t,g=a-r,y=l-o,w=vB(g,y,u,f);if(Math.abs(w)<1e-6)return null;var C=vB(n-r,t-o,g,y)/w;return C<0||C>1?null:new si(C*u+n,C*f+t)}function kF(n,t,e){var i=new si;si.sub(i,e,t),i.normalize();var r=new si;return si.sub(r,n,t),r.dot(i)}function Q_(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function yB(n){var t=n.points,e=[],i=[];gf(t,e,i);var r=new lr(e[0],e[1],i[0]-e[0],i[1]-e[1]),o=r.width,a=r.height,l=r.x,u=r.y,f=new si,g=new si;return o>a?(f.x=g.x=l+o/2,f.y=u,g.y=u+a):(f.y=g.y=u+a/2,f.x=l,g.x=l+o),function(y,w,C){for(var M=y.length,O=[],L=0;L<M;L++){var R=y[L],F=y[(L+1)%M],Y=CF(R[0],R[1],F[0],F[1],w.x,w.y,C.x,C.y);Y&&O.push({projPt:kF(Y,w,C),pt:Y,idx:L})}if(O.length<2)return[{points:y},{points:y}];O.sort(function(Ee,Re){return Ee.projPt-Re.projPt});var q=O[0],Z=O[O.length-1];if(Z.idx<q.idx){var Q=q;q=Z,Z=Q}var ne=[q.pt.x,q.pt.y],oe=[Z.pt.x,Z.pt.y],_e=[ne],ke=[oe];for(L=q.idx+1;L<=Z.idx;L++)Q_(_e,y[L].slice());for(Q_(_e,oe),Q_(_e,ne),L=Z.idx+1;L<=q.idx+M;L++)Q_(ke,y[L%M].slice());return Q_(ke,ne),Q_(ke,oe),[{points:_e},{points:ke}]}(t,f,g)}function RO(n,t,e,i){if(1===e)i.push(t);else{var r=Math.floor(e/2),o=n(t);RO(n,o[0],r,i),RO(n,o[1],e-r,i)}return i}function AF(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function TF(n,t){var e=n.length,i=t.length;if(e===i)return[n,t];for(var r=[],o=[],a=e<i?n:t,l=Math.min(e,i),u=Math.abs(i-e)/6,g=Math.ceil(u/((l-2)/6))+1,y=[a[0],a[1]],w=u,C=2;C<l;){var M=a[C-2],O=a[C-1],L=a[C++],R=a[C++],F=a[C++],Y=a[C++],q=a[C++],Z=a[C++];if(w<=0)y.push(L,R,F,Y,q,Z);else{for(var Q=Math.min(w,g-1)+1,ne=1;ne<=Q;ne++){var oe=ne/Q;Vo(M,L,F,q,oe,r),Vo(O,R,Y,Z,oe,o),y.push(r[1],o[1],r[2],o[2],M=r[3],O=o[3]),L=r[5],R=o[5],F=r[6],Y=o[6]}w-=Q-1}}return a===n?[y,t]:[n,y]}function bB(n,t){for(var e=n.length,i=n[e-2],r=n[e-1],o=[],a=0;a<t.length;)o[a++]=i,o[a++]=r;return o}function xB(n){for(var t=0,e=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var l=n[a],u=n[a+1],f=n[o],g=n[o+1],y=l*g-f*u;t+=y,e+=(l+f)*y,i+=(u+g)*y}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,i/t/3,t]}function EF(n,t,e,i){for(var r=(n.length-2)/6,o=1/0,a=0,l=n.length,u=l-2,f=0;f<r;f++){for(var g=6*f,y=0,w=0;w<l;w+=2){var C=0===w?g:(g+w-2)%u+2,L=t[w]-i[0]-(n[C]-e[0]),R=t[w+1]-i[1]-(n[C+1]-e[1]);y+=L*L+R*R}y<o&&(o=y,a=f)}return a}function IF(n){for(var t=[],e=n.length,i=0;i<e;i+=2)t[i]=n[e-i-2],t[i+1]=n[e-i-1];return t}function BO(n){return n.__isCombineMorphing}var _B="__mOriginal_";function zO(n,t,e){var i=_B+t,r=n[i]||n[t];n[i]||(n[i]=n[t]);var o=e.replace,a=e.after,l=e.before;n[t]=function(){var u,f=arguments;return l&&l.apply(this,f),u=o?o.apply(this,f):r.apply(this,f),a&&a.apply(this,f),u}}function mM(n,t){var e=_B+t;n[e]&&(n[t]=n[e],n[e]=null)}function wB(n,t){for(var e=0;e<n.length;e++)for(var i=n[e],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=t[0]*o+t[2]*a+t[4],i[r++]=t[1]*o+t[3]*a+t[5]}}function SB(n,t){var e=n.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),r=function(y,w){for(var C,M,O,L=[],R=[],F=0;F<Math.max(y.length,w.length);F++){var Y=y[F],q=w[F],Z=void 0,Q=void 0;Y?q?(M=Z=(C=TF(Y,q))[0],O=Q=C[1]):(Q=bB(O||Y,Y),Z=Y):(Z=bB(M||q,q),Q=q),L.push(Z),R.push(Q)}return[L,R]}(YP(e),YP(i)),o=r[0],a=r[1],l=n.getComputedTransform(),u=t.getComputedTransform();l&&wB(o,l),u&&wB(a,u),zO(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var f=function(y,w,C,M){for(var O,L=[],R=0;R<y.length;R++){var F=y[R],Y=w[R],q=xB(F),Z=xB(Y);null==O&&(O=q[2]<0!=Z[2]<0);var Q=[],ne=[],oe=0,_e=1/0,ke=[],Ee=F.length;O&&(F=IF(F));for(var Re=6*EF(F,Y,q,Z),Je=Ee-2,st=0;st<Je;st+=2){var mt=(Re+st)%Je+2;Q[st+2]=F[mt]-q[0],Q[st+3]=F[mt+1]-q[1]}Q[0]=F[Re]-q[0],Q[1]=F[Re+1]-q[1];for(var St=M/10,Tt=-M/2;Tt<=M/2;Tt+=St){var Lt=Math.sin(Tt),$t=Math.cos(Tt),nn=0;for(st=0;st<F.length;st+=2){var an=Q[st],kn=Q[st+1],jn=Y[st]-Z[0],cn=Y[st+1]-Z[1],Pn=jn*$t-cn*Lt,Yn=jn*Lt+cn*$t;ke[st]=Pn,ke[st+1]=Yn;var Zn=Pn-an,Wn=Yn-kn;nn+=Zn*Zn+Wn*Wn}if(nn<_e){_e=nn,oe=Tt;for(var oi=0;oi<ke.length;oi++)ne[oi]=ke[oi]}}L.push({from:Q,to:ne,fromCp:q,toCp:Z,rotation:-oe})}return L}(o,a,0,Math.PI),g=[];zO(t,"buildPath",{replace:function(y){for(var w=t.__morphT,C=1-w,M=[],O=0;O<f.length;O++){var L=f[O],R=L.from,F=L.to,Y=L.rotation*w,q=L.fromCp,Z=L.toCp,Q=Math.sin(Y),ne=Math.cos(Y);Sr(M,q,Z,w);for(var oe=0;oe<R.length;oe+=2){var Ee=R[oe]*C+(mt=F[oe])*w,Re=R[oe+1]*C+(St=F[oe+1])*w;g[oe]=Ee*ne-Re*Q+M[0],g[oe+1]=Ee*Q+Re*ne+M[1]}var Je=g[0],st=g[1];for(y.moveTo(Je,st),oe=2;oe<R.length;){var mt=g[oe++],St=g[oe++],Tt=g[oe++],Lt=g[oe++],$t=g[oe++],nn=g[oe++];Je===mt&&st===St&&Tt===$t&&Lt===nn?y.lineTo($t,nn):y.bezierCurveTo(mt,St,Tt,Lt,$t,nn),Je=$t,st=nn}}}})}function XP(n,t,e){if(!n||!t)return t;var i=e.done,r=e.during;return SB(n,t),t.__morphT=0,t.animateTo({__morphT:1},It({during:function(o){t.dirtyShape(),r&&r(o)},done:function(){mM(t,"buildPath"),mM(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},e)),t}function OF(n,t,e,i,r,o){n=r===e?0:Math.round(32767*(n-e)/(r-e)),t=o===i?0:Math.round(32767*(t-i)/(o-i));for(var a,l=0,u=32768;u>0;u/=2){var f=0,g=0;(n&u)>0&&(f=1),(t&u)>0&&(g=1),l+=u*u*(3*f^g),0===g&&(1===f&&(n=u-1-n,t=u-1-t),a=n,n=t,t=a)}return l}function FO(n){var t=1/0,e=1/0,i=-1/0,r=-1/0,o=ue(n,function(a){var l=a.getBoundingRect(),u=a.getComputedTransform(),f=l.x+l.width/2+(u?u[4]:0),g=l.y+l.height/2+(u?u[5]:0);return t=Math.min(f,t),e=Math.min(g,e),i=Math.max(f,i),r=Math.max(g,r),[f,g]});return ue(o,function(a,l){return{cp:a,z:OF(a[0],a[1],t,e,i,r),path:n[l]}}).sort(function(a,l){return a.z-l.z}).map(function(a){return a.path})}function CB(n){return function MF(n,t){var e,i=[],r=n.shape;switch(n.type){case"rect":(function(R,F,Y){for(var q=R.width,Z=R.height,Q=q>Z,ne=gB([q,Z],Q?0:1,F),oe=Q?"width":"height",_e=Q?"height":"width",ke=Q?"x":"y",Ee=Q?"y":"x",Re=R[oe]/ne.length,Je=0;Je<ne.length;Je++)for(var st=R[_e]/ne[Je],mt=0;mt<ne[Je];mt++){var St={};St[ke]=Je*Re,St[Ee]=mt*st,St[oe]=Re,St[_e]=st,St.x+=R.x,St.y+=R.y,Y.push(St)}})(r,t,i),e=Zr;break;case"sector":mB(r,t,i),e=fl;break;case"circle":mB({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,i),e=fl;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,l=ue(function(R,F){var Y=YP(R),q=[];F=F||1;for(var Z=0;Z<Y.length;Z++){var Q=Y[Z],ne=[],oe=Q[0],_e=Q[1];ne.push(oe,_e);for(var ke=2;ke<Q.length;){var Ee=Q[ke++],Re=Q[ke++],Je=Q[ke++],st=Q[ke++],mt=Q[ke++],St=Q[ke++];GP(oe,_e,Ee,Re,Je,st,mt,St,ne,F),oe=mt,_e=St}q.push(ne)}return q}(n.getUpdatedPathProxy(),a),function(R){return function(F){for(var Y=[],q=0;q<F.length;)Y.push([F[q++],F[q++]]);return Y}(R)}),u=l.length;if(0===u)RO(yB,{points:l[0]},t,i);else if(u===t)for(var f=0;f<u;f++)i.push({points:l[f]});else{var g=0,y=ue(l,function(R){var F=[],Y=[];gf(R,F,Y);var q=(Y[1]-F[1])*(Y[0]-F[0]);return g+=q,{poly:R,area:q}});y.sort(function(R,F){return F.area-R.area});var w=t;for(f=0;f<u;f++){var C=y[f];if(w<=0)break;var M=f===u-1?w:Math.ceil(C.area/g*t);M<0||(RO(yB,{points:C.poly},M,i),w-=M)}}e=gl}if(!e)return function(R,F){for(var Y=[],q=0;q<F;q++)Y.push(kw(R));return Y}(n,t);var O=[];for(f=0;f<i.length;f++){var L=new e;L.setShape(i[f]),AF(n,L),O.push(L)}return O}(n.path,n.count)}function kB(n){return Bt(n[0])}function AB(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push({one:n[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,a=void 0;for(a=0;a<o;a++)e[a%i].many.push(t[r][a])}var l=0;for(r=i-1;r>=0;r--)if(!e[r].many.length){var u=e[l].many;if(u.length<=1){if(!l)return e;l=0}o=u.length;var f=Math.ceil(o/2);e[r].many=u.slice(f,o),e[l].many=u.slice(0,f),l++}return e}var DF={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=kw(n.path);r.setStyle("opacity",e),t.push(r)}return t},split:null};function qP(n,t,e,i,r,o){if(n.length&&t.length){var a=Yg("update",i,r);if(a&&a.duration>0){var l,u,f=i.getModel("universalTransition").get("delay"),g=Object.assign({setToFinal:!0},a);kB(n)&&(l=n,u=t),kB(t)&&(l=t,u=n);for(var y=l?l===n:n.length>t.length,w=l?AB(u,l):AB(y?t:n,[y?n:t]),C=0,M=0;M<w.length;M++)C+=w[M].many.length;var O=0;for(M=0;M<w.length;M++)L(w[M],y,O,C),O+=w[M].many.length}}function L(R,F,Y,q,Z){var Q=R.many,ne=R.one;if(1!==Q.length||Z)for(var oe=It({dividePath:DF[e],individualDelay:f&&function(Tt,Lt,$t,nn){return f(Tt+Y,q)}},g),_e=F?function(Tt,Lt,$t){var nn=[];!function Wr(ro){for(var mo=0;mo<ro.length;mo++){var na=ro[mo];BO(na)?Wr(na.childrenRef()):na instanceof hr&&nn.push(na)}}(Tt);var an=nn.length;if(!an)return{fromIndividuals:[],toIndividuals:[],count:0};var kn=($t.dividePath||CB)({path:Lt,count:an});if(kn.length!==an)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};nn=FO(nn),kn=FO(kn);for(var jn=$t.done,cn=$t.during,Pn=$t.individualDelay,Yn=new Ua,Zn=0;Zn<an;Zn++){var Wn=nn[Zn],oi=kn[Zn];oi.parent=Lt,oi.copyTransform(Yn),Pn||SB(Wn,oi)}function Un(Wr){for(var ro=0;ro<kn.length;ro++)kn[ro].addSelfToZr(Wr)}function ui(){Lt.__isCombineMorphing=!1,Lt.__morphT=-1,Lt.childrenRef=null,mM(Lt,"addSelfToZr"),mM(Lt,"removeSelfFromZr")}Lt.__isCombineMorphing=!0,Lt.childrenRef=function(){return kn},zO(Lt,"addSelfToZr",{after:function(Wr){Un(Wr)}}),zO(Lt,"removeSelfFromZr",{after:function(Wr){for(var ro=0;ro<kn.length;ro++)kn[ro].removeSelfFromZr(Wr)}});var Ti=kn.length;if(Pn){var yr=Ti,Er=function(){0==--yr&&(ui(),jn&&jn())};for(Zn=0;Zn<Ti;Zn++){var Ao=Pn?It({delay:($t.delay||0)+Pn(Zn,Ti,nn[Zn],kn[Zn]),done:Er},$t):$t;XP(nn[Zn],kn[Zn],Ao)}}else Lt.__morphT=0,Lt.animateTo({__morphT:1},It({during:function(Wr){for(var ro=0;ro<Ti;ro++){var mo=kn[ro];mo.__morphT=Lt.__morphT,mo.dirtyShape()}cn&&cn(Wr)},done:function(){ui();for(var Wr=0;Wr<Tt.length;Wr++)mM(Tt[Wr],"updateTransform");jn&&jn()}},$t));return Lt.__zr&&Un(Lt.__zr),{fromIndividuals:nn,toIndividuals:kn,count:Ti}}(Q,ne,oe):function(Tt,Lt,$t){var nn=Lt.length,an=[],kn=$t.dividePath||CB;if(BO(Tt)){!function oi(Un){for(var ui=0;ui<Un.length;ui++){var Ti=Un[ui];BO(Ti)?oi(Ti.childrenRef()):Ti instanceof hr&&an.push(Ti)}}(Tt.childrenRef());var jn=an.length;if(jn<nn)for(var cn=0,Pn=jn;Pn<nn;Pn++)an.push(kw(an[cn++%jn]));an.length=nn}else{an=kn({path:Tt,count:nn});var Yn=Tt.getComputedTransform();for(Pn=0;Pn<an.length;Pn++)an[Pn].setLocalTransform(Yn);if(an.length!==nn)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}an=FO(an),Lt=FO(Lt);var Zn=$t.individualDelay;for(Pn=0;Pn<nn;Pn++){var Wn=Zn?It({delay:($t.delay||0)+Zn(Pn,nn,an[Pn],Lt[Pn])},$t):$t;XP(an[Pn],Lt[Pn],Wn)}return{fromIndividuals:an,toIndividuals:Lt,count:Lt.length}}(ne,Q,oe),ke=_e.fromIndividuals,Ee=_e.toIndividuals,Re=ke.length,Je=0;Je<Re;Je++)st=f?It({delay:f(Je,Re)},g):g,o(ke[Je],Ee[Je],F?Q[Je]:R.one,F?R.one:Q[Je],st);else{var st,mt=F?Q[0]:ne,St=F?ne:Q[0];BO(mt)?L({many:[mt],one:St},!0,Y,q,!0):(XP(mt,St,st=f?It({delay:f(Y,q)},g):g),o(mt,St,mt,St,st))}}}function Q0(n){if(!n)return[];if(Bt(n)){for(var t=[],e=0;e<n.length;e++)t.push(Q0(n[e]));return t}var i=[];return n.traverse(function(r){r instanceof hr&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var LF=nr();function MB(n){var t=[];return pe(n,function(e){var i=e.data;if(!(i.count()>1e4))for(var r=i.getIndices(),o=function(l){for(var u=l.dimensions,f=0;f<u.length;f++){var g=l.getDimensionInfo(u[f]);if(g&&0===g.otherDims.itemGroupId)return u[f]}}(i),a=0;a<r.length;a++)t.push({dataGroupId:e.dataGroupId,data:i,dim:e.dim||o,divide:e.divide,dataIndex:a})}),t}function UP(n,t,e){n.traverse(function(i){i instanceof hr&&Uo(i,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function $P(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function J_(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function TB(n,t,e){var i=MB(n),r=MB(t);function o(R,F,Y,q,Z){(Y||R)&&F.animateFrom({style:Y&&Y!==R?_t(_t({},Y.style),R.style):R.style},Z)}function a(R){for(var F=0;F<R.length;F++)if(R[F].dim)return R[F].dim}var l=a(i),u=a(r),f=!1;function g(R,F){return function(Y){var q=Y.data,Z=Y.dataIndex;if(F)return q.getId(Z);var Q=Y.dataGroupId,ne=R?l||u:u||l,oe=ne&&q.getDimensionInfo(ne),_e=oe&&oe.ordinalMeta;if(oe){var ke=q.get(oe.name,Z);return _e&&_e.categories[ke]||ke+""}var Ee=q.getRawDataItem(Z);return Ee&&Ee.groupId?Ee.groupId+"":Q||q.getId(Z)}}var y=function(R,F){var Y=R.length;if(Y!==F.length)return!1;for(var q=0;q<Y;q++){var Z=R[q],Q=F[q];if(Z.data.getId(Z.dataIndex)!==Q.data.getId(Q.dataIndex))return!1}return!0}(i,r),w={};if(!y)for(var C=0;C<r.length;C++){var M=r[C],O=M.data.getItemGraphicEl(M.dataIndex);O&&(w[O.id]=!0)}function L(R,F){var Y=i[F],q=r[R],Z=q.data.hostModel,Q=Y.data.getItemGraphicEl(Y.dataIndex),ne=q.data.getItemGraphicEl(q.dataIndex);Q!==ne?Q&&w[Q.id]||ne&&(J_(ne),Q?(J_(Q),$P(Q),f=!0,qP(Q0(Q),Q0(ne),q.divide,Z,R,o)):UP(ne,Z,R)):ne&&function PF(n,t,e){var i=Yg("update",e,t);i&&n.traverse(function(r){if(r instanceof Vs){var o=HM(r).oldStyle;o&&r.animateFrom({style:o},i)}})}(ne,q.dataIndex,Z)}new Gh(i,r,g(!0,y),g(!1,y),null,"multiple").update(L).updateManyToOne(function(R,F){var Y=r[R],q=Y.data,Z=q.hostModel,Q=q.getItemGraphicEl(Y.dataIndex),ne=on(ue(F,function(oe){return i[oe].data.getItemGraphicEl(i[oe].dataIndex)}),function(oe){return oe&&oe!==Q&&!w[oe.id]});Q&&(J_(Q),ne.length?(pe(ne,function(oe){J_(oe),$P(oe)}),f=!0,qP(Q0(ne),Q0(Q),Y.divide,Z,R,o)):UP(Q,Z,Y.dataIndex))}).updateOneToMany(function(R,F){var Y=i[F],q=Y.data.getItemGraphicEl(Y.dataIndex);if(!q||!w[q.id]){var Z=on(ue(R,function(ne){return r[ne].data.getItemGraphicEl(r[ne].dataIndex)}),function(ne){return ne&&ne!==q}),Q=r[R[0]].data.hostModel;Z.length&&(pe(Z,function(ne){return J_(ne)}),q?(J_(q),$P(q),f=!0,qP(Q0(q),Q0(Z),Y.divide,Q,R[0],o)):pe(Z,function(ne){return UP(ne,Q,R[0])}))}}).updateManyToMany(function(R,F){new Gh(F,R,function(Y){return i[Y].data.getId(i[Y].dataIndex)},function(Y){return r[Y].data.getId(r[Y].dataIndex)}).update(function(Y,q){L(R[Y],F[q])}).execute()}).execute(),f&&pe(t,function(R){var F=R.data.hostModel,Y=F&&e.getViewOfSeriesModel(F),q=Yg("update",F,0);Y&&F.isAnimationEnabled()&&q&&q.duration>0&&Y.group.traverse(function(Z){Z instanceof hr&&!Z.animators.length&&Z.animateFrom({style:{opacity:0}},q)})})}function EB(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function IB(n){return Bt(n)?n.sort().join(","):n}function Pv(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function OB(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}zr([function(n){n.registerPainter("canvas",ID)}]),zr([function(n){n.registerPainter("svg",ED)}]),zr([function(n){n.registerChartView(hE),n.registerSeriesModel(OD),n.registerLayout(Qm("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Jm("line"))},function(n){n.registerChartView(pE),n.registerSeriesModel(RD),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,xn(k2,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,A2("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Jm("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})},function(n){n.registerChartView(hk),n.registerSeriesModel(_E),JT("pie",n.registerAction),n.registerLayout(xn(VD,"pie")),n.registerProcessor(nv("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,i){var r=e.getData();r.filterSelf(function(o){var a=r.mapDimension("value"),l=r.get(a,o);return!(En(l)&&!isNaN(l)&&l<0)})}})},function(n){zr(VE),n.registerSeriesModel(wE),n.registerChartView(AE),n.registerLayout(Qm("scatter"))},function(n){zr(XE),n.registerChartView(Ak),n.registerSeriesModel(Mk),n.registerLayout(HE),n.registerProcessor(nv("radar")),n.registerPreprocessor(R1)},function(n){zr(fv),n.registerChartView(tL),n.registerSeriesModel(nL),n.registerLayout(aI),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,oI),JT("map",n.registerAction)},function(n){n.registerChartView(Qk),n.registerSeriesModel(sL),n.registerLayout(zc),n.registerVisual(Q1),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,i){i.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=e.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,i,r){i.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var a=Y1(o.coordinateSystem,e,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})}(n)},function(n){n.registerSeriesModel(lL),n.registerChartView(uL),n.registerVisual(_I),n.registerLayout(kI),function(t){for(var e=0;e<oA.length;e++)t.registerAction({type:oA[e],update:"updateView"},At);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"treemap",query:i},function(o,a){var l=Yd(i,["treemapZoomToNode","treemapRootToNode"],o);if(l){var u=o.getViewRoot();u&&(i.direction=rA(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}})})}(n)},function(n){n.registerChartView(L0),n.registerSeriesModel(xL),n.registerProcessor(pL),n.registerVisual(fL),n.registerVisual(gL),n.registerLayout(MI),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,vL),n.registerLayout(yL),n.registerCoordinateSystem("graphView",{dimensions:dv.dimensions,create:TI}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},At),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},At),n.registerAction(_L,function(t,e,i){e.eachComponent({mainType:"series",query:t},function(r){var o=Y1(r.coordinateSystem,t,void 0,i);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function(n){n.registerChartView(RI),n.registerSeriesModel(Cv)},function(n){n.registerChartView(BI),n.registerSeriesModel(zI),n.registerLayout(FI),n.registerProcessor(nv("funnel"))},function(n){zr(oO),n.registerChartView(VI),n.registerSeriesModel(HI),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,WI)},function(n){n.registerChartView(ZA),n.registerSeriesModel(lO),n.registerLayout(EL),n.registerVisual(H_),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){i.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(n){n.registerSeriesModel(eM),n.registerChartView(OL),n.registerLayout(Mv),n.registerTransform(LL)},function(n){n.registerChartView(G0),n.registerSeriesModel(z),n.registerPreprocessor(H),n.registerVisual(xe),n.registerLayout(ce)},function(n){n.registerChartView(pt),n.registerSeriesModel(ut),n.registerLayout(Qm("effectScatter"))},function(n){n.registerChartView(un),n.registerSeriesModel(zi),n.registerLayout(en),n.registerVisual(Ji)},function(n){n.registerChartView(Ai),n.registerSeriesModel(cr)},function(n){n.registerChartView(In),n.registerSeriesModel(rl),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,xn(k2,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,A2("pictorialBar"))},function(n){n.registerChartView(Fc),n.registerSeriesModel(Is),n.registerLayout(Vc),n.registerProcessor(nv("themeRiver"))},function(n){n.registerChartView(_g),n.registerSeriesModel(X0),n.registerLayout(xn(j_,"sunburst")),n.registerProcessor(xn(nv,"sunburst")),n.registerVisual(bh),function(t){t.registerAction({type:Gl,update:"updateView"},function(e,i){i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,o){var a=Yd(e,[Gl],r);if(a){var l=r.getViewRoot();l&&(e.direction=rA(l,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),t.registerAction({type:Hc,update:"none"},function(e,i,r){e=_t({},e),i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o){var a=Yd(e,[Hc],o);a&&(e.dataIndex=a.node.dataIndex)}),r.dispatchAction(_t(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,i,r){e=_t({},e),r.dispatchAction(_t(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(RB),n.registerSeriesModel(hO)}]),zr(function(n){zr(VE),zr(aM)}),zr(function(n){zr(aM),rg.registerAxisPointerClass("PolarAxisPointer",ZB),n.registerCoordinateSystem("polar",rz),n.registerComponentModel(QB),n.registerComponentView(gz),ig(n,"angle",JB,pz),ig(n,"radius",ez,fz),n.registerComponentView(az),n.registerComponentView(uz),n.registerLayout(xn(dz,"bar"))}),zr(fv),zr(function(n){zr(aM),rg.registerAxisPointerClass("SingleAxisPointer",Cz),n.registerComponentView(Az),n.registerComponentView(yz),n.registerComponentModel(xO),ig(n,"single",xO,xO.defaultOption),n.registerCoordinateSystem("single",wz)}),zr(oO),zr(function(n){n.registerComponentModel(Mz),n.registerComponentView(Tz),n.registerCoordinateSystem("calendar",Ez)}),zr(function(n){n.registerComponentModel(Oz),n.registerComponentView(Dz),n.registerPreprocessor(function(t){var e=t.graphic;Bt(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),zr(function(n){n.registerComponentModel(Vz),n.registerComponentView(Hz),U_("saveAsImage",Wz),U_("magicType",Yz),U_("dataView",Xz),U_("dataZoom",Qz),U_("restore",Uz),zr(Fz)}),zr(function(n){zr(aM),n.registerComponentModel(e5),n.registerComponentView(s5),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},At),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},At)}),zr(aM),zr(function(n){n.registerComponentView(p5),n.registerComponentModel(f5),n.registerPreprocessor(c5),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,u5),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(i){i.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},At),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},At),U_("brush",m5)}),zr(function(n){n.registerComponentModel(v5),n.registerComponentView(y5)}),zr(function(n){n.registerComponentModel(SR),n.registerComponentView(_5),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,i,r){var o=i.getComponent("timeline");return o&&null!=e.currentIndex&&(o.setCurrentIndex(e.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),i.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),It({currentIndex:o.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,i){var r=i.getComponent("timeline");r&&null!=e.playState&&r.setPlayState(e.playState)})}(n),n.registerPreprocessor(w5)}),zr(function(n){n.registerComponentModel(S5),n.registerComponentView(C5),n.registerPreprocessor(function(t){AP(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),zr(function(n){n.registerComponentModel(k5),n.registerComponentView(T5),n.registerPreprocessor(function(t){AP(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),zr(function(n){n.registerComponentModel(E5),n.registerComponentView(D5),n.registerPreprocessor(function(t){AP(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),zr(function(n){zr(zR),zr(R5)}),zr(function(n){zr(jR),zr(XR)}),zr(jR),zr(XR),zr(function(n){zr(lB),zr(uB)}),zr(lB),zr(uB),zr(function(n){n.registerPreprocessor(dF),n.registerVisual(n.PRIORITY.VISUAL.ARIA,hF)}),zr(function(n){n.registerTransform(xF),n.registerTransform(_F)}),zr(function(n){n.registerComponentModel(wF),n.registerComponentView(SF)}),zr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){pe(Xi(i.seriesTransition),function(r){pe(Xi(r.to),function(o){for(var a=i.updatedSeries,l=0;l<a.length;l++)(null!=o.seriesIndex&&o.seriesIndex===a[l].seriesIndex||null!=o.seriesId&&o.seriesId===a[l].id)&&(a[l][dm]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,i){var C,M,O,L,R,r=LF(e);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)pe(Xi(o),function(C){var M,O,L,R,F,Y;O=r,L=i,R=e,F=[],Y=[],pe(Xi((M=C).from),function(q){var Z=OB(O.oldSeries,q);Z>=0&&F.push({dataGroupId:O.oldDataGroupIds[Z],data:O.oldData[Z],divide:Pv(O.oldData[Z]),dim:q.dimension})}),pe(Xi(M.to),function(q){var Z=OB(L.updatedSeries,q);if(Z>=0){var Q=L.updatedSeries[Z].getData();Y.push({dataGroupId:O.oldDataGroupIds[Z],data:Q,divide:Pv(Q),dim:q.dimension})}}),F.length>0&&Y.length>0&&TB(F,Y,R)});else{var a=(C=r,M=i,O=be(),L=be(),R=be(),pe(C.oldSeries,function(F,Y){var q=C.oldDataGroupIds[Y],Z=C.oldData[Y],Q=EB(F),ne=IB(Q);L.set(ne,{dataGroupId:q,data:Z}),Bt(Q)&&pe(Q,function(oe){R.set(oe,{key:ne,dataGroupId:q,data:Z})})}),pe(M.updatedSeries,function(F){if(F.isUniversalTransitionEnabled()&&F.isAnimationEnabled()){var Y=F.get("dataGroupId"),q=F.getData(),Z=EB(F),Q=IB(Z),ne=L.get(Q);if(ne)O.set(Q,{oldSeries:[{dataGroupId:ne.dataGroupId,divide:Pv(ne.data),data:ne.data}],newSeries:[{dataGroupId:Y,divide:Pv(q),data:q}]});else if(Bt(Z)){var oe=[];pe(Z,function(Ee){var Re=L.get(Ee);Re.data&&oe.push({dataGroupId:Re.dataGroupId,divide:Pv(Re.data),data:Re.data})}),oe.length&&O.set(Q,{oldSeries:oe,newSeries:[{dataGroupId:Y,data:q,divide:Pv(q)}]})}else{var _e=R.get(Z);if(_e){var ke=O.get(_e.key);ke||(ke={oldSeries:[{dataGroupId:_e.dataGroupId,data:_e.data,divide:Pv(_e.data)}],newSeries:[]},O.set(_e.key,ke)),ke.newSeries.push({dataGroupId:Y,data:q,divide:Pv(q)})}}}}),O);pe(a.keys(),function(C){var M=a.get(C);TB(M.oldSeries,M.newSeries,e)})}pe(i.updatedSeries,function(C){C[dm]&&(C[dm]=!1)})}for(var l=t.getSeries(),u=r.oldSeries=[],f=r.oldDataGroupIds=[],g=r.oldData=[],y=0;y<l.length;y++){var w=l[y].getData();w.count()<1e4&&(u.push(l[y]),f.push(l[y].get("dataGroupId")),g.push(w))}})}),zr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){var r=o1(e).labelManager;r||(r=o1(e).labelManager=new LC),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,i){var r=o1(e).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(e.getViewOfSeriesModel(o))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}),Kt.Axis=Nc,Kt.ChartView=ao,Kt.ComponentModel=qr,Kt.ComponentView=Bo,Kt.List=va,Kt.Model=ho,Kt.PRIORITY=l2,Kt.SeriesModel=Io,Kt.color=ep,Kt.connect=function(n){if(Bt(n)){var t=n;n=null,pe(t,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+$S++,pe(t,function(e){e.group=n})}return Py[n]=!0,n},Kt.dataTool={},Kt.dependencies={zrender:"5.4.4"},Kt.disConnect=Wf,Kt.disconnect=ZS,Kt.dispose=function(n){On(n)?n=Ep[n]:n instanceof Iy||(n=KS(n)),n instanceof Iy&&!n.isDisposed()&&n.dispose()},Kt.env=Nt,Kt.extendChartView=function(n){var t=ao.extend(n);return ao.registerClass(t),t},Kt.extendComponentModel=function(n){var t=qr.extend(n);return qr.registerClass(t),t},Kt.extendComponentView=function(n){var t=Bo.extend(n);return Bo.registerClass(t),t},Kt.extendSeriesModel=function(n){var t=Io.extend(n);return Io.registerClass(t),t},Kt.format=SC,Kt.getCoordinateSystemDimensions=function(n){var t=sc.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},Kt.getInstanceByDom=KS,Kt.getInstanceById=function(n){return Ep[n]},Kt.getMap=function(n){var t=Mx("getMap");return t&&t(n)},Kt.graphic=wC,Kt.helper=N2,Kt.init=function(n,t,e){var i=!(e&&e.ssr);if(i){var r=KS(n);if(r)return r}var o=new Iy(n,t,e);return o.id="ec_"+p2++,Ep[o.id]=o,i&&ss(n,Fx,o.id),XS(o),lh.trigger("afterinit",o),o},Kt.innerDrawElementOnCanvas=HS,Kt.matrix=mr,Kt.number=bD,Kt.parseGeoJSON=_C,Kt.parseGeoJson=_C,Kt.registerAction=mu,Kt.registerCoordinateSystem=eC,Kt.registerLayout=tC,Kt.registerLoading=iC,Kt.registerLocale=Vl,Kt.registerMap=rC,Kt.registerPostInit=QS,Kt.registerPostUpdate=JS,Kt.registerPreprocessor=Am,Kt.registerProcessor=Vx,Kt.registerTheme=Ny,Kt.registerTransform=Tm,Kt.registerUpdateLifecycle=Mm,Kt.registerVisual=Fd,Kt.setCanvasCreator=function(n){we({createCanvas:n})},Kt.setPlatformAPI=we,Kt.throttle=cx,Kt.time=Jx,Kt.use=zr,Kt.util=W2,Kt.vector=fi,Kt.version="5.4.3",Kt.zrUtil=Gt,Kt.zrender=Yu,Object.defineProperty(Kt,"__esModule",{value:!0})}),function(Kt,Ze){"object"==typeof exports&&"object"==typeof module?module.exports=Ze():"function"==typeof define&&define.amd?define([],Ze):"object"==typeof exports?exports.Quill=Ze():Kt.Quill=Ze()}(typeof self<"u"?self:this,function(){return function(Kt){function Ze(it){if(Oe[it])return Oe[it].exports;var Nt=Oe[it]={i:it,l:!1,exports:{}};return Kt[it].call(Nt.exports,Nt,Nt.exports,Ze),Nt.l=!0,Nt.exports}var Oe={};return Ze.m=Kt,Ze.c=Oe,Ze.d=function(it,Nt,nt){Ze.o(it,Nt)||Object.defineProperty(it,Nt,{configurable:!1,enumerable:!0,get:nt})},Ze.n=function(it){var Nt=it&&it.__esModule?function(){return it.default}:function(){return it};return Ze.d(Nt,"a",Nt),Nt},Ze.o=function(it,Nt){return Object.prototype.hasOwnProperty.call(it,Nt)},Ze.p="",Ze(Ze.s=45)}([function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var it=Oe(17),Nt=Oe(18),nt=Oe(19),gt=Oe(48),et=Oe(49),Ve=Oe(50),ye=Oe(51),ge=Oe(52),we=Oe(11),ve=Oe(29),Ne=Oe(30),Ie=Oe(28),Ce=Oe(1);Ze.default={Scope:Ce.Scope,create:Ce.create,find:Ce.find,query:Ce.query,register:Ce.register,Container:it.default,Format:Nt.default,Leaf:nt.default,Embed:ye.default,Scroll:gt.default,Block:Ve.default,Inline:et.default,Text:ge.default,Attributor:{Attribute:we.default,Class:ve.default,Style:Ne.default,Store:Ie.default}}},function(Kt,Ze,Oe){"use strict";function nt(Ie,Ce){var de;if(void 0===Ce&&(Ce=Ne.ANY),"string"==typeof Ie)de=ve[Ie]||ye[Ie];else if(Ie instanceof Text||Ie.nodeType===Node.TEXT_NODE)de=ve.text;else if("number"==typeof Ie)Ie&Ne.LEVEL&Ne.BLOCK?de=ve.block:Ie&Ne.LEVEL&Ne.INLINE&&(de=ve.inline);else if(Ie instanceof HTMLElement){var ot=(Ie.getAttribute("class")||"").split(/\s+/);for(var Ae in ot)if(de=ge[ot[Ae]])break;de=de||we[Ie.tagName]}return null==de?null:Ce&Ne.LEVEL&de.scope&&Ce&Ne.TYPE&de.scope?de:null}var Ie,et=this&&this.__extends||(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,de){Ce.__proto__=de}||function(Ce,de){for(var ot in de)de.hasOwnProperty(ot)&&(Ce[ot]=de[ot])},function(Ce,de){function ot(){this.constructor=Ce}Ie(Ce,de),Ce.prototype=null===de?Object.create(de):(ot.prototype=de.prototype,new ot)});Object.defineProperty(Ze,"__esModule",{value:!0});var Ve=function(Ie){function Ce(de){var ot=this;return(ot=Ie.call(this,de="[Parchment] "+de)||this).message=de,ot.name=ot.constructor.name,ot}return et(Ce,Ie),Ce}(Error);Ze.ParchmentError=Ve;var Ne,ye={},ge={},we={},ve={};Ze.DATA_KEY="__blot",function(Ie){Ie[Ie.TYPE=3]="TYPE",Ie[Ie.LEVEL=12]="LEVEL",Ie[Ie.ATTRIBUTE=13]="ATTRIBUTE",Ie[Ie.BLOT=14]="BLOT",Ie[Ie.INLINE=7]="INLINE",Ie[Ie.BLOCK=11]="BLOCK",Ie[Ie.BLOCK_BLOT=10]="BLOCK_BLOT",Ie[Ie.INLINE_BLOT=6]="INLINE_BLOT",Ie[Ie.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Ie[Ie.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Ie[Ie.ANY=15]="ANY"}(Ne=Ze.Scope||(Ze.Scope={})),Ze.create=function it(Ie,Ce){var de=nt(Ie);if(null==de)throw new Ve("Unable to create "+Ie+" blot");return new de(Ie instanceof Node||Ie.nodeType===Node.TEXT_NODE?Ie:de.create(Ce),Ce)},Ze.find=function Nt(Ie,Ce){return void 0===Ce&&(Ce=!1),null==Ie?null:null!=Ie[Ze.DATA_KEY]?Ie[Ze.DATA_KEY].blot:Ce?Nt(Ie.parentNode,Ce):null},Ze.query=nt,Ze.register=function gt(){for(var Ie=[],Ce=0;Ce<arguments.length;Ce++)Ie[Ce]=arguments[Ce];if(Ie.length>1)return Ie.map(function(Ae){return gt(Ae)});var de=Ie[0];if("string"!=typeof de.blotName&&"string"!=typeof de.attrName)throw new Ve("Invalid definition");if("abstract"===de.blotName)throw new Ve("Cannot register abstract class");return ve[de.blotName||de.attrName]=de,"string"==typeof de.keyName?ye[de.keyName]=de:(null!=de.className&&(ge[de.className]=de),null!=de.tagName&&(de.tagName=Array.isArray(de.tagName)?de.tagName.map(function(Ae){return Ae.toUpperCase()}):de.tagName.toUpperCase(),(Array.isArray(de.tagName)?de.tagName:[de.tagName]).forEach(function(Ae){null!=we[Ae]&&null!=de.className||(we[Ae]=de)}))),de}},function(Kt,Ze){"use strict";var Oe=Object.prototype.hasOwnProperty,it=Object.prototype.toString,Nt=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,gt=function(ge){return"function"==typeof Array.isArray?Array.isArray(ge):"[object Array]"===it.call(ge)},et=function(ge){if(!ge||"[object Object]"!==it.call(ge))return!1;var Ne,we=Oe.call(ge,"constructor"),ve=ge.constructor&&ge.constructor.prototype&&Oe.call(ge.constructor.prototype,"isPrototypeOf");if(ge.constructor&&!we&&!ve)return!1;for(Ne in ge);return void 0===Ne||Oe.call(ge,Ne)},Ve=function(ge,we){Nt&&"__proto__"===we.name?Nt(ge,we.name,{enumerable:!0,configurable:!0,value:we.newValue,writable:!0}):ge[we.name]=we.newValue},ye=function(ge,we){if("__proto__"===we){if(!Oe.call(ge,we))return;if(nt)return nt(ge,we).value}return ge[we]};Kt.exports=function ge(){var we,ve,Ne,Ie,Ce,de,ot=arguments[0],Ae=1,je=arguments.length,Ke=!1;for("boolean"==typeof ot&&(Ke=ot,ot=arguments[1]||{},Ae=2),(null==ot||"object"!=typeof ot&&"function"!=typeof ot)&&(ot={});Ae<je;++Ae)if(null!=(we=arguments[Ae]))for(ve in we)Ne=ye(ot,ve),ot!==(Ie=ye(we,ve))&&(Ke&&Ie&&(et(Ie)||(Ce=gt(Ie)))?(Ce?(Ce=!1,de=Ne&&gt(Ne)?Ne:[]):de=Ne&&et(Ne)?Ne:{},Ve(ot,{name:ve,newValue:ge(Ke,de,Ie)})):void 0!==Ie&&Ve(ot,{name:ve,newValue:Ie}));return ot}},function(Kt,Ze,Oe){"use strict";function it(lt){return lt&&lt.__esModule?lt:{default:lt}}function Nt(lt,$e){if(!(lt instanceof $e))throw new TypeError("Cannot call a class as a function")}function nt(lt,$e){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$e||"object"!=typeof $e&&"function"!=typeof $e?lt:$e}function gt(lt,$e){if("function"!=typeof $e&&null!==$e)throw new TypeError("Super expression must either be null or a function, not "+typeof $e);lt.prototype=Object.create($e&&$e.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),$e&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,$e):lt.__proto__=$e)}function et(lt){var $e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==lt?$e:("function"==typeof lt.formats&&($e=(0,we.default)($e,lt.formats())),null==lt.parent||"scroll"==lt.parent.blotName||lt.parent.statics.scope!==lt.statics.scope?$e:et(lt.parent,$e))}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.BlockEmbed=Ze.bubbleFormats=void 0;var Ve=function(){function lt($e,Qe){for(var rt=0;rt<Qe.length;rt++){var zt=Qe[rt];zt.enumerable=zt.enumerable||!1,zt.configurable=!0,"value"in zt&&(zt.writable=!0),Object.defineProperty($e,zt.key,zt)}}return function($e,Qe,rt){return Qe&&lt($e.prototype,Qe),rt&&lt($e,rt),$e}}(),ye=function lt($e,Qe,rt){null===$e&&($e=Function.prototype);var zt=Object.getOwnPropertyDescriptor($e,Qe);if(void 0===zt){var _t=Object.getPrototypeOf($e);return null===_t?void 0:lt(_t,Qe,rt)}if("value"in zt)return zt.value;var It=zt.get;return void 0!==It?It.call(rt):void 0},we=it(Oe(2)),Ne=it(Oe(4)),Ce=it(Oe(0)),ot=it(Oe(14)),je=it(Oe(5)),yt=it(Oe(8)),Ot=function(lt){function $e(){return Nt(this,$e),nt(this,($e.__proto__||Object.getPrototypeOf($e)).apply(this,arguments))}return gt($e,lt),Ve($e,[{key:"attach",value:function(){ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"attach",this).call(this),this.attributes=new Ce.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new Ne.default).insert(this.value(),(0,we.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Qe,rt){var zt=Ce.default.query(Qe,Ce.default.Scope.BLOCK_ATTRIBUTE);null!=zt&&this.attributes.attribute(zt,rt)}},{key:"formatAt",value:function(Qe,rt,zt,_t){this.format(zt,_t)}},{key:"insertAt",value:function(Qe,rt,zt){if("string"==typeof rt&&rt.endsWith("\n")){var _t=Ce.default.create(wt.blotName);this.parent.insertBefore(_t,0===Qe?this:this.next),_t.insertAt(0,rt.slice(0,-1))}else ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"insertAt",this).call(this,Qe,rt,zt)}}]),$e}(Ce.default.Embed);Ot.scope=Ce.default.Scope.BLOCK_BLOT;var wt=function(lt){function $e(Qe){Nt(this,$e);var rt=nt(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,Qe));return rt.cache={},rt}return gt($e,lt),Ve($e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(Ce.default.Leaf).reduce(function(Qe,rt){return 0===rt.length()?Qe:Qe.insert(rt.value(),et(rt))},new Ne.default).insert("\n",et(this))),this.cache.delta}},{key:"deleteAt",value:function(Qe,rt){ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"deleteAt",this).call(this,Qe,rt),this.cache={}}},{key:"formatAt",value:function(Qe,rt,zt,_t){rt<=0||(Ce.default.query(zt,Ce.default.Scope.BLOCK)?Qe+rt===this.length()&&this.format(zt,_t):ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"formatAt",this).call(this,Qe,Math.min(rt,this.length()-Qe-1),zt,_t),this.cache={})}},{key:"insertAt",value:function(Qe,rt,zt){if(null!=zt)return ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"insertAt",this).call(this,Qe,rt,zt);if(0!==rt.length){var _t=rt.split("\n"),It=_t.shift();It.length>0&&(Qe<this.length()-1||null==this.children.tail?ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"insertAt",this).call(this,Math.min(Qe,this.length()-1),It):this.children.tail.insertAt(this.children.tail.length(),It),this.cache={});var Hn=this;_t.reduce(function(hn,pn){return(Hn=Hn.split(hn,!0)).insertAt(0,pn),pn.length},Qe+It.length)}}},{key:"insertBefore",value:function(Qe,rt){var zt=this.children.head;ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"insertBefore",this).call(this,Qe,rt),zt instanceof ot.default&&zt.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(Qe,rt){ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"moveChildren",this).call(this,Qe,rt),this.cache={}}},{key:"optimize",value:function(Qe){ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"optimize",this).call(this,Qe),this.cache={}}},{key:"path",value:function(Qe){return ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"path",this).call(this,Qe,!0)}},{key:"removeChild",value:function(Qe){ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"removeChild",this).call(this,Qe),this.cache={}}},{key:"split",value:function(Qe){var rt=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(rt&&(0===Qe||Qe>=this.length()-1)){var zt=this.clone();return 0===Qe?(this.parent.insertBefore(zt,this),this):(this.parent.insertBefore(zt,this.next),zt)}var _t=ye($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"split",this).call(this,Qe,rt);return this.cache={},_t}}]),$e}(Ce.default.Block);wt.blotName="block",wt.tagName="P",wt.defaultChild="break",wt.allowedChildren=[je.default,Ce.default.Embed,yt.default],Ze.bubbleFormats=et,Ze.BlockEmbed=Ot,Ze.default=wt},function(Kt,Ze,Oe){var it=Oe(54),Nt=Oe(12),nt=Oe(2),gt=Oe(20),et=String.fromCharCode(0),Ve=function(ye){this.ops=Array.isArray(ye)?ye:null!=ye&&Array.isArray(ye.ops)?ye.ops:[]};Ve.prototype.insert=function(ye,ge){var we={};return 0===ye.length?this:(we.insert=ye,null!=ge&&"object"==typeof ge&&Object.keys(ge).length>0&&(we.attributes=ge),this.push(we))},Ve.prototype.delete=function(ye){return ye<=0?this:this.push({delete:ye})},Ve.prototype.retain=function(ye,ge){if(ye<=0)return this;var we={retain:ye};return null!=ge&&"object"==typeof ge&&Object.keys(ge).length>0&&(we.attributes=ge),this.push(we)},Ve.prototype.push=function(ye){var ge=this.ops.length,we=this.ops[ge-1];if(ye=nt(!0,{},ye),"object"==typeof we){if("number"==typeof ye.delete&&"number"==typeof we.delete)return this.ops[ge-1]={delete:we.delete+ye.delete},this;if("number"==typeof we.delete&&null!=ye.insert&&"object"!=typeof(we=this.ops[(ge-=1)-1]))return this.ops.unshift(ye),this;if(Nt(ye.attributes,we.attributes)){if("string"==typeof ye.insert&&"string"==typeof we.insert)return this.ops[ge-1]={insert:we.insert+ye.insert},"object"==typeof ye.attributes&&(this.ops[ge-1].attributes=ye.attributes),this;if("number"==typeof ye.retain&&"number"==typeof we.retain)return this.ops[ge-1]={retain:we.retain+ye.retain},"object"==typeof ye.attributes&&(this.ops[ge-1].attributes=ye.attributes),this}}return ge===this.ops.length?this.ops.push(ye):this.ops.splice(ge,0,ye),this},Ve.prototype.chop=function(){var ye=this.ops[this.ops.length-1];return ye&&ye.retain&&!ye.attributes&&this.ops.pop(),this},Ve.prototype.filter=function(ye){return this.ops.filter(ye)},Ve.prototype.forEach=function(ye){this.ops.forEach(ye)},Ve.prototype.map=function(ye){return this.ops.map(ye)},Ve.prototype.partition=function(ye){var ge=[],we=[];return this.forEach(function(ve){(ye(ve)?ge:we).push(ve)}),[ge,we]},Ve.prototype.reduce=function(ye,ge){return this.ops.reduce(ye,ge)},Ve.prototype.changeLength=function(){return this.reduce(function(ye,ge){return ge.insert?ye+gt.length(ge):ge.delete?ye-ge.delete:ye},0)},Ve.prototype.length=function(){return this.reduce(function(ye,ge){return ye+gt.length(ge)},0)},Ve.prototype.slice=function(ye,ge){ye=ye||0,"number"!=typeof ge&&(ge=1/0);for(var we=[],ve=gt.iterator(this.ops),Ne=0;Ne<ge&&ve.hasNext();){var Ie;Ne<ye?Ie=ve.next(ye-Ne):(Ie=ve.next(ge-Ne),we.push(Ie)),Ne+=gt.length(Ie)}return new Ve(we)},Ve.prototype.compose=function(ye){var ge=gt.iterator(this.ops),we=gt.iterator(ye.ops),ve=[],Ne=we.peek();if(null!=Ne&&"number"==typeof Ne.retain&&null==Ne.attributes){for(var Ie=Ne.retain;"insert"===ge.peekType()&&ge.peekLength()<=Ie;)Ie-=ge.peekLength(),ve.push(ge.next());Ne.retain-Ie>0&&we.next(Ne.retain-Ie)}for(var Ce=new Ve(ve);ge.hasNext()||we.hasNext();)if("insert"===we.peekType())Ce.push(we.next());else if("delete"===ge.peekType())Ce.push(ge.next());else{var de=Math.min(ge.peekLength(),we.peekLength()),ot=ge.next(de),Ae=we.next(de);if("number"==typeof Ae.retain){var je={};"number"==typeof ot.retain?je.retain=de:je.insert=ot.insert;var Ke=gt.attributes.compose(ot.attributes,Ae.attributes,"number"==typeof ot.retain);if(Ke&&(je.attributes=Ke),Ce.push(je),!we.hasNext()&&Nt(Ce.ops[Ce.ops.length-1],je)){var yt=new Ve(ge.rest());return Ce.concat(yt).chop()}}else"number"==typeof Ae.delete&&"number"==typeof ot.retain&&Ce.push(Ae)}return Ce.chop()},Ve.prototype.concat=function(ye){var ge=new Ve(this.ops.slice());return ye.ops.length>0&&(ge.push(ye.ops[0]),ge.ops=ge.ops.concat(ye.ops.slice(1))),ge},Ve.prototype.diff=function(ye,ge){if(this.ops===ye.ops)return new Ve;var we=[this,ye].map(function(de){return de.map(function(ot){if(null!=ot.insert)return"string"==typeof ot.insert?ot.insert:et;throw new Error("diff() called "+(de===ye?"on":"with")+" non-document")}).join("")}),ve=new Ve,Ne=it(we[0],we[1],ge),Ie=gt.iterator(this.ops),Ce=gt.iterator(ye.ops);return Ne.forEach(function(de){for(var ot=de[1].length;ot>0;){var Ae=0;switch(de[0]){case it.INSERT:Ae=Math.min(Ce.peekLength(),ot),ve.push(Ce.next(Ae));break;case it.DELETE:Ae=Math.min(ot,Ie.peekLength()),Ie.next(Ae),ve.delete(Ae);break;case it.EQUAL:Ae=Math.min(Ie.peekLength(),Ce.peekLength(),ot);var je=Ie.next(Ae),Ke=Ce.next(Ae);Nt(je.insert,Ke.insert)?ve.retain(Ae,gt.attributes.diff(je.attributes,Ke.attributes)):ve.push(Ke).delete(Ae)}ot-=Ae}}),ve.chop()},Ve.prototype.eachLine=function(ye,ge){ge=ge||"\n";for(var we=gt.iterator(this.ops),ve=new Ve,Ne=0;we.hasNext();){if("insert"!==we.peekType())return;var Ie=we.peek(),Ce=gt.length(Ie)-we.peekLength(),de="string"==typeof Ie.insert?Ie.insert.indexOf(ge,Ce)-Ce:-1;if(de<0)ve.push(we.next());else if(de>0)ve.push(we.next(de));else{if(!1===ye(ve,we.next(1).attributes||{},Ne))return;Ne+=1,ve=new Ve}}ve.length()>0&&ye(ve,{},Ne)},Ve.prototype.transform=function(ye,ge){if(ge=!!ge,"number"==typeof ye)return this.transformPosition(ye,ge);for(var we=gt.iterator(this.ops),ve=gt.iterator(ye.ops),Ne=new Ve;we.hasNext()||ve.hasNext();)if("insert"!==we.peekType()||!ge&&"insert"===ve.peekType())if("insert"===ve.peekType())Ne.push(ve.next());else{var Ie=Math.min(we.peekLength(),ve.peekLength()),Ce=we.next(Ie),de=ve.next(Ie);if(Ce.delete)continue;de.delete?Ne.push(de):Ne.retain(Ie,gt.attributes.transform(Ce.attributes,de.attributes,ge))}else Ne.retain(gt.length(we.next()));return Ne.chop()},Ve.prototype.transformPosition=function(ye,ge){ge=!!ge;for(var we=gt.iterator(this.ops),ve=0;we.hasNext()&&ve<=ye;){var Ne=we.peekLength(),Ie=we.peekType();we.next(),"delete"!==Ie?("insert"===Ie&&(ve<ye||!ge)&&(ye+=Ne),ve+=Ne):ye-=Math.min(Ne,ye-ve)}return ye},Kt.exports=Ve},function(Kt,Ze,Oe){"use strict";function it(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}Object.defineProperty(Ze,"__esModule",{value:!0});var et=function(){function Ie(Ce,de){for(var ot=0;ot<de.length;ot++){var Ae=de[ot];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(Ce,Ae.key,Ae)}}return function(Ce,de,ot){return de&&Ie(Ce.prototype,de),ot&&Ie(Ce,ot),Ce}}(),Ve=function Ie(Ce,de,ot){null===Ce&&(Ce=Function.prototype);var Ae=Object.getOwnPropertyDescriptor(Ce,de);if(void 0===Ae){var je=Object.getPrototypeOf(Ce);return null===je?void 0:Ie(je,de,ot)}if("value"in Ae)return Ae.value;var Ke=Ae.get;return void 0!==Ke?Ke.call(ot):void 0},ge=it(Oe(8)),ve=it(Oe(0)),Ne=function(Ie){function Ce(){return function Nt(Ie,Ce){if(!(Ie instanceof Ce))throw new TypeError("Cannot call a class as a function")}(this,Ce),function nt(Ie,Ce){if(!Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ce||"object"!=typeof Ce&&"function"!=typeof Ce?Ie:Ce}(this,(Ce.__proto__||Object.getPrototypeOf(Ce)).apply(this,arguments))}return function gt(Ie,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Super expression must either be null or a function, not "+typeof Ce);Ie.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:Ie,enumerable:!1,writable:!0,configurable:!0}}),Ce&&(Object.setPrototypeOf?Object.setPrototypeOf(Ie,Ce):Ie.__proto__=Ce)}(Ce,Ie),et(Ce,[{key:"formatAt",value:function(de,ot,Ae,je){if(Ce.compare(this.statics.blotName,Ae)<0&&ve.default.query(Ae,ve.default.Scope.BLOT)){var Ke=this.isolate(de,ot);je&&Ke.wrap(Ae,je)}else Ve(Ce.prototype.__proto__||Object.getPrototypeOf(Ce.prototype),"formatAt",this).call(this,de,ot,Ae,je)}},{key:"optimize",value:function(de){if(Ve(Ce.prototype.__proto__||Object.getPrototypeOf(Ce.prototype),"optimize",this).call(this,de),this.parent instanceof Ce&&Ce.compare(this.statics.blotName,this.parent.statics.blotName)>0){var ot=this.parent.isolate(this.offset(),this.length());this.moveChildren(ot),ot.wrap(this)}}}],[{key:"compare",value:function(de,ot){var Ae=Ce.order.indexOf(de),je=Ce.order.indexOf(ot);return Ae>=0||je>=0?Ae-je:de===ot?0:de<ot?-1:1}}]),Ce}(ve.default.Inline);Ne.allowedChildren=[Ne,ve.default.Embed,ge.default],Ne.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],Ze.default=Ne},function(Kt,Ze,Oe){"use strict";function it(pn){return pn&&pn.__esModule?pn:{default:pn}}function Nt(pn,qe,Vt){return qe in pn?Object.defineProperty(pn,qe,{value:Vt,enumerable:!0,configurable:!0,writable:!0}):pn[qe]=Vt,pn}function gt(pn,qe){if((qe=(0,Qe.default)(!0,{container:pn,modules:{clipboard:!0,keyboard:!0,history:!0}},qe)).theme&&qe.theme!==hn.DEFAULTS.theme){if(qe.theme=hn.import("themes/"+qe.theme),null==qe.theme)throw new Error("Invalid theme "+qe.theme+". Did you register it?")}else qe.theme=It.default;var Vt=(0,Qe.default)(!0,{},qe.theme.DEFAULTS);[Vt,qe].forEach(function(ln){ln.modules=ln.modules||{},Object.keys(ln.modules).forEach(function(on){!0===ln.modules[on]&&(ln.modules[on]={})})});var ue=Object.keys(Vt.modules).concat(Object.keys(qe.modules)).reduce(function(ln,on){var jt=hn.import("modules/"+on);return null==jt?Hn.error("Cannot load "+on+" module. Are you sure you registered it?"):ln[on]=jt.DEFAULTS||{},ln},{});return null!=qe.modules&&qe.modules.toolbar&&qe.modules.toolbar.constructor!==Object&&(qe.modules.toolbar={container:qe.modules.toolbar}),qe=(0,Qe.default)(!0,{},hn.DEFAULTS,{modules:ue},Vt,qe),["bounds","container","scrollingContainer"].forEach(function(ln){"string"==typeof qe[ln]&&(qe[ln]=document.querySelector(qe[ln]))}),qe.modules=Object.keys(qe.modules).reduce(function(ln,on){return qe.modules[on]&&(ln[on]=qe.modules[on]),ln},{}),qe}function et(pn,qe,Vt,pe){if(this.options.strict&&!this.isEnabled()&&qe===Ae.default.sources.USER)return new Ie.default;var ue=null==Vt?null:this.getSelection(),ln=this.editor.delta,on=pn();if(null!=ue&&(!0===Vt&&(Vt=ue.index),null==pe?ue=ye(ue,on,qe):0!==pe&&(ue=ye(ue,Vt,pe,qe)),this.setSelection(ue,Ae.default.sources.SILENT)),on.length()>0){var jt,Et,Zt=[Ae.default.events.TEXT_CHANGE,on,ln,qe];(jt=this.emitter).emit.apply(jt,[Ae.default.events.EDITOR_CHANGE].concat(Zt)),qe!==Ae.default.sources.SILENT&&(Et=this.emitter).emit.apply(Et,Zt)}return on}function Ve(pn,qe,Vt,pe,ue){var ln={};return"number"==typeof pn.index&&"number"==typeof pn.length?"number"!=typeof qe?(ue=pe,pe=Vt,Vt=qe,qe=pn.length,pn=pn.index):(qe=pn.length,pn=pn.index):"number"!=typeof qe&&(ue=pe,pe=Vt,Vt=qe,qe=0),"object"===(void 0===Vt?"undefined":ge(Vt))?(ln=Vt,ue=pe):"string"==typeof Vt&&(null!=pe?ln[Vt]=pe:ue=Vt),[pn,qe,ln,ue=ue||Ae.default.sources.API]}function ye(pn,qe,Vt,pe){if(null==pn)return null;var ue=void 0,ln=void 0;if(qe instanceof Ie.default){var on=[pn.index,pn.index+pn.length].map(function(xn){return qe.transformPosition(xn,pe!==Ae.default.sources.USER)}),jt=we(on,2);ue=jt[0],ln=jt[1]}else{var Zt=[pn.index,pn.index+pn.length].map(function(xn){return xn<qe||xn===qe&&pe===Ae.default.sources.USER?xn:Vt>=0?xn+Vt:Math.max(qe,xn+Vt)}),Et=we(Zt,2);ue=Et[0],ln=Et[1]}return new wt.Range(ue,ln-ue)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.overload=Ze.expandConfig=void 0;var ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pn){return typeof pn}:function(pn){return pn&&"function"==typeof Symbol&&pn.constructor===Symbol&&pn!==Symbol.prototype?"symbol":typeof pn},we=function(qe,Vt){if(Array.isArray(qe))return qe;if(Symbol.iterator in Object(qe))return function pn(qe,Vt){var pe=[],ue=!0,ln=!1,on=void 0;try{for(var jt,Zt=qe[Symbol.iterator]();!(ue=(jt=Zt.next()).done)&&(pe.push(jt.value),!Vt||pe.length!==Vt);ue=!0);}catch(Et){ln=!0,on=Et}finally{try{!ue&&Zt.return&&Zt.return()}finally{if(ln)throw on}}return pe}(qe,Vt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ve=function(){function pn(qe,Vt){for(var pe=0;pe<Vt.length;pe++){var ue=Vt[pe];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(qe,ue.key,ue)}}return function(qe,Vt,pe){return Vt&&pn(qe.prototype,Vt),pe&&pn(qe,pe),qe}}();Oe(53);var Ie=it(Oe(4)),de=it(Oe(57)),Ae=it(Oe(9)),Ke=it(Oe(7)),Ot=it(Oe(0)),wt=Oe(22),lt=it(wt),Qe=it(Oe(2)),zt=it(Oe(10)),It=it(Oe(32)),Hn=(0,zt.default)("quill"),hn=function(){function pn(qe){var Vt=this,pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function nt(pn,qe){if(!(pn instanceof qe))throw new TypeError("Cannot call a class as a function")}(this,pn),this.options=gt(qe,pe),this.container=this.options.container,null==this.container)return Hn.error("Invalid Quill container",qe);this.options.debug&&pn.debug(this.options.debug);var ue=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new Ae.default,this.scroll=Ot.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new de.default(this.scroll),this.selection=new lt.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(Ae.default.events.EDITOR_CHANGE,function(on){on===Ae.default.events.TEXT_CHANGE&&Vt.root.classList.toggle("ql-blank",Vt.editor.isBlank())}),this.emitter.on(Ae.default.events.SCROLL_UPDATE,function(on,jt){var Zt=Vt.selection.lastRange,Et=Zt&&0===Zt.length?Zt.index:void 0;et.call(Vt,function(){return Vt.editor.update(null,jt,Et)},on)});var ln=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+ue+"<p><br></p></div>");this.setContents(ln),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return ve(pn,null,[{key:"debug",value:function(qe){!0===qe&&(qe="log"),zt.default.level(qe)}},{key:"find",value:function(qe){return qe.__quill||Ot.default.find(qe)}},{key:"import",value:function(qe){return null==this.imports[qe]&&Hn.error("Cannot import "+qe+". Are you sure it was registered?"),this.imports[qe]}},{key:"register",value:function(qe,Vt){var pe=this,ue=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof qe){var ln=qe.attrName||qe.blotName;"string"==typeof ln?this.register("formats/"+ln,qe,Vt):Object.keys(qe).forEach(function(on){pe.register(on,qe[on],Vt)})}else null==this.imports[qe]||ue||Hn.warn("Overwriting "+qe+" with",Vt),this.imports[qe]=Vt,(qe.startsWith("blots/")||qe.startsWith("formats/"))&&"abstract"!==Vt.blotName?Ot.default.register(Vt):qe.startsWith("modules")&&"function"==typeof Vt.register&&Vt.register()}}]),ve(pn,[{key:"addContainer",value:function(qe){var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof qe){var pe=qe;(qe=document.createElement("div")).classList.add(pe)}return this.container.insertBefore(qe,Vt),qe}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(qe,Vt,pe){var ue=this,ln=Ve(qe,Vt,pe),on=we(ln,4);return et.call(this,function(){return ue.editor.deleteText(qe,Vt)},pe=on[3],qe=on[0],-1*(Vt=on[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var qe=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(qe),this.container.classList.toggle("ql-disabled",!qe)}},{key:"focus",value:function(){var qe=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=qe,this.scrollIntoView()}},{key:"format",value:function(qe,Vt){var pe=this;return et.call(this,function(){var ln=pe.getSelection(!0),on=new Ie.default;if(null==ln)return on;if(Ot.default.query(qe,Ot.default.Scope.BLOCK))on=pe.editor.formatLine(ln.index,ln.length,Nt({},qe,Vt));else{if(0===ln.length)return pe.selection.format(qe,Vt),on;on=pe.editor.formatText(ln.index,ln.length,Nt({},qe,Vt))}return pe.setSelection(ln,Ae.default.sources.SILENT),on},arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae.default.sources.API)}},{key:"formatLine",value:function(qe,Vt,pe,ue,ln){var jt,on=this,Zt=Ve(qe,Vt,pe,ue,ln),Et=we(Zt,4);return Vt=Et[1],jt=Et[2],et.call(this,function(){return on.editor.formatLine(qe,Vt,jt)},ln=Et[3],qe=Et[0],0)}},{key:"formatText",value:function(qe,Vt,pe,ue,ln){var jt,on=this,Zt=Ve(qe,Vt,pe,ue,ln),Et=we(Zt,4);return Vt=Et[1],jt=Et[2],et.call(this,function(){return on.editor.formatText(qe,Vt,jt)},ln=Et[3],qe=Et[0],0)}},{key:"getBounds",value:function(qe){var pe;pe="number"==typeof qe?this.selection.getBounds(qe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(qe.index,qe.length);var ue=this.container.getBoundingClientRect();return{bottom:pe.bottom-ue.top,height:pe.height,left:pe.left-ue.left,right:pe.right-ue.left,top:pe.top-ue.top,width:pe.width}}},{key:"getContents",value:function(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-qe,pe=Ve(qe,Vt),ue=we(pe,2);return this.editor.getContents(qe=ue[0],Vt=ue[1])}},{key:"getFormat",value:function(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof qe?this.editor.getFormat(qe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(qe.index,qe.length)}},{key:"getIndex",value:function(qe){return qe.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(qe){return this.scroll.leaf(qe)}},{key:"getLine",value:function(qe){return this.scroll.line(qe)}},{key:"getLines",value:function(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof qe?this.scroll.lines(qe.index,qe.length):this.scroll.lines(qe,Vt)}},{key:"getModule",value:function(qe){return this.theme.modules[qe]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-qe,pe=Ve(qe,Vt),ue=we(pe,2);return this.editor.getText(qe=ue[0],Vt=ue[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(qe,Vt,pe){var ue=this;return et.call(this,function(){return ue.editor.insertEmbed(qe,Vt,pe)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:pn.sources.API,qe)}},{key:"insertText",value:function(qe,Vt,pe,ue,ln){var jt,on=this,Zt=Ve(qe,0,pe,ue,ln),Et=we(Zt,4);return jt=Et[2],et.call(this,function(){return on.editor.insertText(qe,Vt,jt)},ln=Et[3],qe=Et[0],Vt.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(qe,Vt,pe){this.clipboard.dangerouslyPasteHTML(qe,Vt,pe)}},{key:"removeFormat",value:function(qe,Vt,pe){var ue=this,ln=Ve(qe,Vt,pe),on=we(ln,4);return Vt=on[1],et.call(this,function(){return ue.editor.removeFormat(qe,Vt)},pe=on[3],qe=on[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(qe){var Vt=this;return et.call(this,function(){qe=new Ie.default(qe);var ue=Vt.getLength(),ln=Vt.editor.deleteText(0,ue),on=Vt.editor.applyDelta(qe),jt=on.ops[on.ops.length-1];return null!=jt&&"string"==typeof jt.insert&&"\n"===jt.insert[jt.insert.length-1]&&(Vt.editor.deleteText(Vt.getLength()-1,1),on.delete(1)),ln.compose(on)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.default.sources.API)}},{key:"setSelection",value:function(qe,Vt,pe){if(null==qe)this.selection.setRange(null,Vt||pn.sources.API);else{var ue=Ve(qe,Vt,pe),ln=we(ue,4);pe=ln[3],this.selection.setRange(new wt.Range(qe=ln[0],Vt=ln[1]),pe),pe!==Ae.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(qe){var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.default.sources.API,pe=(new Ie.default).insert(qe);return this.setContents(pe,Vt)}},{key:"update",value:function(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae.default.sources.USER,Vt=this.scroll.update(qe);return this.selection.update(qe),Vt}},{key:"updateContents",value:function(qe){var Vt=this,pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.default.sources.API;return et.call(this,function(){return qe=new Ie.default(qe),Vt.editor.applyDelta(qe,pe)},pe,!0)}}]),pn}();hn.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},hn.events=Ae.default.events,hn.sources=Ae.default.sources,hn.version="1.3.7",hn.imports={delta:Ie.default,parchment:Ot.default,"core/module":Ke.default,"core/theme":It.default},Ze.expandConfig=gt,Ze.overload=Ve,Ze.default=hn},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=function nt(gt){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function it(nt,gt){if(!(nt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,nt),this.quill=gt,this.options=et};Nt.DEFAULTS={},Ze.default=Nt},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var ye,Ve=function(ye){function ge(){return function it(ye,ge){if(!(ye instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ge),function Nt(ye,ge){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ge||"object"!=typeof ge&&"function"!=typeof ge?ye:ge}(this,(ge.__proto__||Object.getPrototypeOf(ge)).apply(this,arguments))}return function nt(ye,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ye.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,ge):ye.__proto__=ge)}(ge,ye),ge}(((ye=Oe(0))&&ye.__esModule?ye:{default:ye}).default.Text);Ze.default=Ve},function(Kt,Ze,Oe){"use strict";function it(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}Object.defineProperty(Ze,"__esModule",{value:!0});var et=function(){function Ce(de,ot){for(var Ae=0;Ae<ot.length;Ae++){var je=ot[Ae];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(de,je.key,je)}}return function(de,ot,Ae){return ot&&Ce(de.prototype,ot),Ae&&Ce(de,Ae),de}}(),Ve=function Ce(de,ot,Ae){null===de&&(de=Function.prototype);var je=Object.getOwnPropertyDescriptor(de,ot);if(void 0===je){var Ke=Object.getPrototypeOf(de);return null===Ke?void 0:Ce(Ke,ot,Ae)}if("value"in je)return je.value;var yt=je.get;return void 0!==yt?yt.call(Ae):void 0},ge=it(Oe(58)),Ne=(0,it(Oe(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(Ce){document.addEventListener(Ce,function(){for(var de=arguments.length,ot=Array(de),Ae=0;Ae<de;Ae++)ot[Ae]=arguments[Ae];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(je){var Ke;je.__quill&&je.__quill.emitter&&(Ke=je.__quill.emitter).handleDOM.apply(Ke,ot)})})});var Ie=function(Ce){function de(){!function Nt(Ce,de){if(!(Ce instanceof de))throw new TypeError("Cannot call a class as a function")}(this,de);var ot=function nt(Ce,de){if(!Ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!de||"object"!=typeof de&&"function"!=typeof de?Ce:de}(this,(de.__proto__||Object.getPrototypeOf(de)).call(this));return ot.listeners={},ot.on("error",Ne.error),ot}return function gt(Ce,de){if("function"!=typeof de&&null!==de)throw new TypeError("Super expression must either be null or a function, not "+typeof de);Ce.prototype=Object.create(de&&de.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(Ce,de):Ce.__proto__=de)}(de,Ce),et(de,[{key:"emit",value:function(){Ne.log.apply(Ne,arguments),Ve(de.prototype.__proto__||Object.getPrototypeOf(de.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(ot){for(var Ae=arguments.length,je=Array(Ae>1?Ae-1:0),Ke=1;Ke<Ae;Ke++)je[Ke-1]=arguments[Ke];(this.listeners[ot.type]||[]).forEach(function(yt){var Ot=yt.node,wt=yt.handler;(ot.target===Ot||Ot.contains(ot.target))&&wt.apply(void 0,[ot].concat(je))})}},{key:"listenDOM",value:function(ot,Ae,je){this.listeners[ot]||(this.listeners[ot]=[]),this.listeners[ot].push({node:Ae,handler:je})}}]),de}(ge.default);Ie.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},Ie.sources={API:"api",SILENT:"silent",USER:"user"},Ze.default=Ie},function(Kt,Ze,Oe){"use strict";function it(et){if(nt.indexOf(et)<=nt.indexOf(gt)){for(var Ve,ye=arguments.length,ge=Array(ye>1?ye-1:0),we=1;we<ye;we++)ge[we-1]=arguments[we];(Ve=console)[et].apply(Ve,ge)}}function Nt(et){return nt.reduce(function(Ve,ye){return Ve[ye]=it.bind(console,ye,et),Ve},{})}Object.defineProperty(Ze,"__esModule",{value:!0});var nt=["error","warn","log","info"],gt="warn";it.level=Nt.level=function(et){gt=et},Ze.default=Nt},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var it=Oe(1),Nt=function(){function nt(gt,et,Ve){void 0===Ve&&(Ve={}),this.attrName=gt,this.keyName=et,this.scope=null!=Ve.scope?Ve.scope&it.Scope.LEVEL|it.Scope.TYPE&it.Scope.ATTRIBUTE:it.Scope.ATTRIBUTE,null!=Ve.whitelist&&(this.whitelist=Ve.whitelist)}return nt.keys=function(gt){return[].map.call(gt.attributes,function(et){return et.name})},nt.prototype.add=function(gt,et){return!!this.canAdd(gt,et)&&(gt.setAttribute(this.keyName,et),!0)},nt.prototype.canAdd=function(gt,et){return null!=it.query(gt,it.Scope.BLOT&(this.scope|it.Scope.TYPE))&&(null==this.whitelist||("string"==typeof et?this.whitelist.indexOf(et.replace(/["']/g,""))>-1:this.whitelist.indexOf(et)>-1))},nt.prototype.remove=function(gt){gt.removeAttribute(this.keyName)},nt.prototype.value=function(gt){var et=gt.getAttribute(this.keyName);return this.canAdd(gt,et)&&et?et:""},nt}();Ze.default=Nt},function(Kt,Ze,Oe){function it(ge){return null==ge}function Nt(ge){return!(!ge||"object"!=typeof ge||"number"!=typeof ge.length||"function"!=typeof ge.copy||"function"!=typeof ge.slice||ge.length>0&&"number"!=typeof ge[0])}var gt=Array.prototype.slice,et=Oe(55),Ve=Oe(56),ye=Kt.exports=function(ge,we,ve){return ve||(ve={}),ge===we||(ge instanceof Date&&we instanceof Date?ge.getTime()===we.getTime():!ge||!we||"object"!=typeof ge&&"object"!=typeof we?ve.strict?ge===we:ge==we:function nt(ge,we,ve){var Ne,Ie;if(it(ge)||it(we)||ge.prototype!==we.prototype)return!1;if(Ve(ge))return!!Ve(we)&&(ge=gt.call(ge),we=gt.call(we),ye(ge,we,ve));if(Nt(ge)){if(!Nt(we)||ge.length!==we.length)return!1;for(Ne=0;Ne<ge.length;Ne++)if(ge[Ne]!==we[Ne])return!1;return!0}try{var Ce=et(ge),de=et(we)}catch{return!1}if(Ce.length!=de.length)return!1;for(Ce.sort(),de.sort(),Ne=Ce.length-1;Ne>=0;Ne--)if(Ce[Ne]!=de[Ne])return!1;for(Ne=Ce.length-1;Ne>=0;Ne--)if(!ye(ge[Ie=Ce[Ne]],we[Ie],ve))return!1;return typeof ge==typeof we}(ge,we,ve))}},function(Kt,Ze,Oe){"use strict";function it(Ot){return Ot&&Ot.__esModule?Ot:{default:Ot}}function Nt(Ot,wt){if(!(Ot instanceof wt))throw new TypeError("Cannot call a class as a function")}function nt(Ot,wt){if(!Ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!wt||"object"!=typeof wt&&"function"!=typeof wt?Ot:wt}function gt(Ot,wt){if("function"!=typeof wt&&null!==wt)throw new TypeError("Super expression must either be null or a function, not "+typeof wt);Ot.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Ot,enumerable:!1,writable:!0,configurable:!0}}),wt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ot,wt):Ot.__proto__=wt)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.Code=void 0;var et=function(wt,lt){if(Array.isArray(wt))return wt;if(Symbol.iterator in Object(wt))return function Ot(wt,lt){var $e=[],Qe=!0,rt=!1,zt=void 0;try{for(var _t,It=wt[Symbol.iterator]();!(Qe=(_t=It.next()).done)&&($e.push(_t.value),!lt||$e.length!==lt);Qe=!0);}catch(Hn){rt=!0,zt=Hn}finally{try{!Qe&&It.return&&It.return()}finally{if(rt)throw zt}}return $e}(wt,lt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ve=function(){function Ot(wt,lt){for(var $e=0;$e<lt.length;$e++){var Qe=lt[$e];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(wt,Qe.key,Qe)}}return function(wt,lt,$e){return lt&&Ot(wt.prototype,lt),$e&&Ot(wt,$e),wt}}(),ye=function Ot(wt,lt,$e){null===wt&&(wt=Function.prototype);var Qe=Object.getOwnPropertyDescriptor(wt,lt);if(void 0===Qe){var rt=Object.getPrototypeOf(wt);return null===rt?void 0:Ot(rt,lt,$e)}if("value"in Qe)return Qe.value;var zt=Qe.get;return void 0!==zt?zt.call($e):void 0},we=it(Oe(4)),Ne=it(Oe(0)),Ce=it(Oe(3)),ot=it(Oe(5)),je=it(Oe(8)),Ke=function(Ot){function wt(){return Nt(this,wt),nt(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}return gt(wt,Ot),wt}(ot.default);Ke.blotName="code",Ke.tagName="CODE";var yt=function(Ot){function wt(){return Nt(this,wt),nt(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}return gt(wt,Ot),Ve(wt,[{key:"delta",value:function(){var lt=this,$e=this.domNode.textContent;return $e.endsWith("\n")&&($e=$e.slice(0,-1)),$e.split("\n").reduce(function(Qe,rt){return Qe.insert(rt).insert("\n",lt.formats())},new we.default)}},{key:"format",value:function(lt,$e){if(lt!==this.statics.blotName||!$e){var Qe=this.descendant(je.default,this.length()-1),zt=et(Qe,1)[0];zt?.deleteAt(zt.length()-1,1),ye(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"format",this).call(this,lt,$e)}}},{key:"formatAt",value:function(lt,$e,Qe,rt){if(0!==$e&&null!=Ne.default.query(Qe,Ne.default.Scope.BLOCK)&&(Qe!==this.statics.blotName||rt!==this.statics.formats(this.domNode))){var zt=this.newlineIndex(lt);if(!(zt<0||zt>=lt+$e)){var _t=this.newlineIndex(lt,!0)+1,It=zt-_t+1,Hn=this.isolate(_t,It),hn=Hn.next;Hn.format(Qe,rt),hn instanceof wt&&hn.formatAt(0,lt-_t+$e-It,Qe,rt)}}}},{key:"insertAt",value:function(lt,$e,Qe){if(null==Qe){var rt=this.descendant(je.default,lt),zt=et(rt,2);zt[0].insertAt(zt[1],$e)}}},{key:"length",value:function(){var lt=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?lt:lt+1}},{key:"newlineIndex",value:function(lt){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,lt).lastIndexOf("\n");var $e=this.domNode.textContent.slice(lt).indexOf("\n");return $e>-1?lt+$e:-1}},{key:"optimize",value:function(lt){this.domNode.textContent.endsWith("\n")||this.appendChild(Ne.default.create("text","\n")),ye(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"optimize",this).call(this,lt);var $e=this.next;null!=$e&&$e.prev===this&&$e.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===$e.statics.formats($e.domNode)&&($e.optimize(lt),$e.moveChildren(this),$e.remove())}},{key:"replace",value:function(lt){ye(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"replace",this).call(this,lt),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function($e){var Qe=Ne.default.find($e);null==Qe?$e.parentNode.removeChild($e):Qe instanceof Ne.default.Embed?Qe.remove():Qe.unwrap()})}}],[{key:"create",value:function(lt){var $e=ye(wt.__proto__||Object.getPrototypeOf(wt),"create",this).call(this,lt);return $e.setAttribute("spellcheck",!1),$e}},{key:"formats",value:function(){return!0}}]),wt}(Ce.default);yt.blotName="code-block",yt.tagName="PRE",yt.TAB="  ",Ze.Code=Ke,Ze.default=yt},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var we,gt=function(){function we(ve,Ne){for(var Ie=0;Ie<Ne.length;Ie++){var Ce=Ne[Ie];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ve,Ce.key,Ce)}}return function(ve,Ne,Ie){return Ne&&we(ve.prototype,Ne),Ie&&we(ve,Ie),ve}}(),et=function we(ve,Ne,Ie){null===ve&&(ve=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(ve,Ne);if(void 0===Ce){var de=Object.getPrototypeOf(ve);return null===de?void 0:we(de,Ne,Ie)}if("value"in Ce)return Ce.value;var ot=Ce.get;return void 0!==ot?ot.call(Ie):void 0},ge=function(we){function ve(){return function it(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,ve),function Nt(we,ve){if(!we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ve||"object"!=typeof ve&&"function"!=typeof ve?we:ve}(this,(ve.__proto__||Object.getPrototypeOf(ve)).apply(this,arguments))}return function nt(we,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);we.prototype=Object.create(ve&&ve.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(we,ve):we.__proto__=ve)}(ve,we),gt(ve,[{key:"insertInto",value:function(Ne,Ie){0===Ne.children.length?et(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"insertInto",this).call(this,Ne,Ie):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),ve}(((we=Oe(0))&&we.__esModule?we:{default:we}).default.Embed);ge.blotName="break",ge.tagName="BR",Ze.default=ge},function(Kt,Ze,Oe){"use strict";function gt(ve,Ne){var Ie=document.createElement("a");Ie.href=ve;var Ce=Ie.href.slice(0,Ie.href.indexOf(":"));return Ne.indexOf(Ce)>-1}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.sanitize=Ze.default=void 0;var ve,et=function(){function ve(Ne,Ie){for(var Ce=0;Ce<Ie.length;Ce++){var de=Ie[Ce];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(Ne,de.key,de)}}return function(Ne,Ie,Ce){return Ie&&ve(Ne.prototype,Ie),Ce&&ve(Ne,Ce),Ne}}(),Ve=function ve(Ne,Ie,Ce){null===Ne&&(Ne=Function.prototype);var de=Object.getOwnPropertyDescriptor(Ne,Ie);if(void 0===de){var ot=Object.getPrototypeOf(Ne);return null===ot?void 0:ve(ot,Ie,Ce)}if("value"in de)return de.value;var Ae=de.get;return void 0!==Ae?Ae.call(Ce):void 0},we=function(ve){function Ne(){return function it(ve,Ne){if(!(ve instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,Ne),function Nt(ve,Ne){if(!ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ne||"object"!=typeof Ne&&"function"!=typeof Ne?ve:Ne}(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).apply(this,arguments))}return function nt(ve,Ne){if("function"!=typeof Ne&&null!==Ne)throw new TypeError("Super expression must either be null or a function, not "+typeof Ne);ve.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),Ne&&(Object.setPrototypeOf?Object.setPrototypeOf(ve,Ne):ve.__proto__=Ne)}(Ne,ve),et(Ne,[{key:"format",value:function(Ie,Ce){if(Ie!==this.statics.blotName||!Ce)return Ve(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"format",this).call(this,Ie,Ce);Ce=this.constructor.sanitize(Ce),this.domNode.setAttribute("href",Ce)}}],[{key:"create",value:function(Ie){var Ce=Ve(Ne.__proto__||Object.getPrototypeOf(Ne),"create",this).call(this,Ie);return Ie=this.sanitize(Ie),Ce.setAttribute("href",Ie),Ce.setAttribute("rel","noopener noreferrer"),Ce.setAttribute("target","_blank"),Ce}},{key:"formats",value:function(Ie){return Ie.getAttribute("href")}},{key:"sanitize",value:function(Ie){return gt(Ie,this.PROTOCOL_WHITELIST)?Ie:this.SANITIZED_URL}}]),Ne}(((ve=Oe(5))&&ve.__esModule?ve:{default:ve}).default);we.blotName="link",we.tagName="A",we.SANITIZED_URL="about:blank",we.PROTOCOL_WHITELIST=["http","https","mailto","tel"],Ze.default=we,Ze.sanitize=gt},function(Kt,Ze,Oe){"use strict";function it(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}function nt(Ie,Ce){Ie.setAttribute(Ce,"true"!==Ie.getAttribute(Ce))}Object.defineProperty(Ze,"__esModule",{value:!0});var gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ie){return typeof Ie}:function(Ie){return Ie&&"function"==typeof Symbol&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},et=function(){function Ie(Ce,de){for(var ot=0;ot<de.length;ot++){var Ae=de[ot];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(Ce,Ae.key,Ae)}}return function(Ce,de,ot){return de&&Ie(Ce.prototype,de),ot&&Ie(Ce,ot),Ce}}(),ye=it(Oe(25)),we=it(Oe(106)),ve=0,Ne=function(){function Ie(Ce){var de=this;(function Nt(Ie,Ce){if(!(Ie instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,Ie),this.select=Ce,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){de.togglePicker()}),this.label.addEventListener("keydown",function(ot){switch(ot.keyCode){case ye.default.keys.ENTER:de.togglePicker();break;case ye.default.keys.ESCAPE:de.escape(),ot.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return et(Ie,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),nt(this.label,"aria-expanded"),nt(this.options,"aria-hidden")}},{key:"buildItem",value:function(Ce){var de=this,ot=document.createElement("span");return ot.tabIndex="0",ot.setAttribute("role","button"),ot.classList.add("ql-picker-item"),Ce.hasAttribute("value")&&ot.setAttribute("data-value",Ce.getAttribute("value")),Ce.textContent&&ot.setAttribute("data-label",Ce.textContent),ot.addEventListener("click",function(){de.selectItem(ot,!0)}),ot.addEventListener("keydown",function(Ae){switch(Ae.keyCode){case ye.default.keys.ENTER:de.selectItem(ot,!0),Ae.preventDefault();break;case ye.default.keys.ESCAPE:de.escape(),Ae.preventDefault()}}),ot}},{key:"buildLabel",value:function(){var Ce=document.createElement("span");return Ce.classList.add("ql-picker-label"),Ce.innerHTML=we.default,Ce.tabIndex="0",Ce.setAttribute("role","button"),Ce.setAttribute("aria-expanded","false"),this.container.appendChild(Ce),Ce}},{key:"buildOptions",value:function(){var Ce=this,de=document.createElement("span");de.classList.add("ql-picker-options"),de.setAttribute("aria-hidden","true"),de.tabIndex="-1",de.id="ql-picker-options-"+ve,ve+=1,this.label.setAttribute("aria-controls",de.id),this.options=de,[].slice.call(this.select.options).forEach(function(ot){var Ae=Ce.buildItem(ot);de.appendChild(Ae),!0===ot.selected&&Ce.selectItem(Ae)}),this.container.appendChild(de)}},{key:"buildPicker",value:function(){var Ce=this;[].slice.call(this.select.attributes).forEach(function(de){Ce.container.setAttribute(de.name,de.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var Ce=this;this.close(),setTimeout(function(){return Ce.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(Ce){var de=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=this.container.querySelector(".ql-selected");if(Ce!==ot&&(ot?.classList.remove("ql-selected"),null!=Ce&&(Ce.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(Ce.parentNode.children,Ce),Ce.hasAttribute("data-value")?this.label.setAttribute("data-value",Ce.getAttribute("data-value")):this.label.removeAttribute("data-value"),Ce.hasAttribute("data-label")?this.label.setAttribute("data-label",Ce.getAttribute("data-label")):this.label.removeAttribute("data-label"),de))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":gt(Event))){var Ae=document.createEvent("Event");Ae.initEvent("change",!0,!0),this.select.dispatchEvent(Ae)}this.close()}}},{key:"update",value:function(){var Ce=void 0;if(this.select.selectedIndex>-1){var de=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];Ce=this.select.options[this.select.selectedIndex],this.selectItem(de)}else this.selectItem(null);var ot=null!=Ce&&Ce!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",ot)}}]),Ie}();Ze.default=Ne},function(Kt,Ze,Oe){"use strict";function it(ye){var ge=et.find(ye);if(null==ge)try{ge=et.create(ye)}catch{ge=et.create(et.Scope.INLINE),[].slice.call(ye.childNodes).forEach(function(ve){ge.domNode.appendChild(ve)}),ye.parentNode&&ye.parentNode.replaceChild(ge.domNode,ye),ge.attach()}return ge}var ye,Nt=this&&this.__extends||(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,we){ge.__proto__=we}||function(ge,we){for(var ve in we)we.hasOwnProperty(ve)&&(ge[ve]=we[ve])},function(ge,we){function ve(){this.constructor=ge}ye(ge,we),ge.prototype=null===we?Object.create(we):(ve.prototype=we.prototype,new ve)});Object.defineProperty(Ze,"__esModule",{value:!0});var nt=Oe(47),gt=Oe(27),et=Oe(1),Ve=function(ye){function ge(we){var ve=ye.call(this,we)||this;return ve.build(),ve}return Nt(ge,ye),ge.prototype.appendChild=function(we){this.insertBefore(we)},ge.prototype.attach=function(){ye.prototype.attach.call(this),this.children.forEach(function(we){we.attach()})},ge.prototype.build=function(){var we=this;this.children=new nt.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(ve){try{var Ne=it(ve);we.insertBefore(Ne,we.children.head||void 0)}catch(Ie){if(Ie instanceof et.ParchmentError)return;throw Ie}})},ge.prototype.deleteAt=function(we,ve){if(0===we&&ve===this.length())return this.remove();this.children.forEachAt(we,ve,function(Ne,Ie,Ce){Ne.deleteAt(Ie,Ce)})},ge.prototype.descendant=function(we,ve){var Ne=this.children.find(ve),Ie=Ne[0],Ce=Ne[1];return null==we.blotName&&we(Ie)||null!=we.blotName&&Ie instanceof we?[Ie,Ce]:Ie instanceof ge?Ie.descendant(we,Ce):[null,-1]},ge.prototype.descendants=function(we,ve,Ne){void 0===ve&&(ve=0),void 0===Ne&&(Ne=Number.MAX_VALUE);var Ie=[],Ce=Ne;return this.children.forEachAt(ve,Ne,function(de,ot,Ae){(null==we.blotName&&we(de)||null!=we.blotName&&de instanceof we)&&Ie.push(de),de instanceof ge&&(Ie=Ie.concat(de.descendants(we,ot,Ce))),Ce-=Ae}),Ie},ge.prototype.detach=function(){this.children.forEach(function(we){we.detach()}),ye.prototype.detach.call(this)},ge.prototype.formatAt=function(we,ve,Ne,Ie){this.children.forEachAt(we,ve,function(Ce,de,ot){Ce.formatAt(de,ot,Ne,Ie)})},ge.prototype.insertAt=function(we,ve,Ne){var Ie=this.children.find(we),Ce=Ie[0];if(Ce)Ce.insertAt(Ie[1],ve,Ne);else{var ot=null==Ne?et.create("text",ve):et.create(ve,Ne);this.appendChild(ot)}},ge.prototype.insertBefore=function(we,ve){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(Ne){return we instanceof Ne}))throw new et.ParchmentError("Cannot insert "+we.statics.blotName+" into "+this.statics.blotName);we.insertInto(this,ve)},ge.prototype.length=function(){return this.children.reduce(function(we,ve){return we+ve.length()},0)},ge.prototype.moveChildren=function(we,ve){this.children.forEach(function(Ne){we.insertBefore(Ne,ve)})},ge.prototype.optimize=function(we){if(ye.prototype.optimize.call(this,we),0===this.children.length)if(null!=this.statics.defaultChild){var ve=et.create(this.statics.defaultChild);this.appendChild(ve),ve.optimize(we)}else this.remove()},ge.prototype.path=function(we,ve){void 0===ve&&(ve=!1);var Ne=this.children.find(we,ve),Ie=Ne[0],Ce=Ne[1],de=[[this,we]];return Ie instanceof ge?de.concat(Ie.path(Ce,ve)):(null!=Ie&&de.push([Ie,Ce]),de)},ge.prototype.removeChild=function(we){this.children.remove(we)},ge.prototype.replace=function(we){we instanceof ge&&we.moveChildren(this),ye.prototype.replace.call(this,we)},ge.prototype.split=function(we,ve){if(void 0===ve&&(ve=!1),!ve){if(0===we)return this;if(we===this.length())return this.next}var Ne=this.clone();return this.parent.insertBefore(Ne,this.next),this.children.forEachAt(we,this.length(),function(Ie,Ce,de){Ie=Ie.split(Ce,ve),Ne.appendChild(Ie)}),Ne},ge.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},ge.prototype.update=function(we,ve){var Ne=this,Ie=[],Ce=[];we.forEach(function(de){de.target===Ne.domNode&&"childList"===de.type&&(Ie.push.apply(Ie,de.addedNodes),Ce.push.apply(Ce,de.removedNodes))}),Ce.forEach(function(de){if(!(null!=de.parentNode&&"IFRAME"!==de.tagName&&document.body.compareDocumentPosition(de)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var ot=et.find(de);null!=ot&&(null!=ot.domNode.parentNode&&ot.domNode.parentNode!==Ne.domNode||ot.detach())}}),Ie.filter(function(de){return de.parentNode==Ne.domNode}).sort(function(de,ot){return de===ot?0:de.compareDocumentPosition(ot)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(de){var ot=null;null!=de.nextSibling&&(ot=et.find(de.nextSibling));var Ae=it(de);Ae.next==ot&&null!=Ae.next||(null!=Ae.parent&&Ae.parent.removeChild(Ne),Ne.insertBefore(Ae,ot||void 0))})},ge}(gt.default);Ze.default=Ve},function(Kt,Ze,Oe){"use strict";var ye,it=this&&this.__extends||(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,we){ge.__proto__=we}||function(ge,we){for(var ve in we)we.hasOwnProperty(ve)&&(ge[ve]=we[ve])},function(ge,we){function ve(){this.constructor=ge}ye(ge,we),ge.prototype=null===we?Object.create(we):(ve.prototype=we.prototype,new ve)});Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=Oe(11),nt=Oe(28),gt=Oe(17),et=Oe(1),Ve=function(ye){function ge(we){var ve=ye.call(this,we)||this;return ve.attributes=new nt.default(ve.domNode),ve}return it(ge,ye),ge.formats=function(we){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?we.tagName.toLowerCase():void 0)},ge.prototype.format=function(we,ve){var Ne=et.query(we);Ne instanceof Nt.default?this.attributes.attribute(Ne,ve):ve&&(null==Ne||we===this.statics.blotName&&this.formats()[we]===ve||this.replaceWith(we,ve))},ge.prototype.formats=function(){var we=this.attributes.values(),ve=this.statics.formats(this.domNode);return null!=ve&&(we[this.statics.blotName]=ve),we},ge.prototype.replaceWith=function(we,ve){var Ne=ye.prototype.replaceWith.call(this,we,ve);return this.attributes.copy(Ne),Ne},ge.prototype.update=function(we,ve){var Ne=this;ye.prototype.update.call(this,we,ve),we.some(function(Ie){return Ie.target===Ne.domNode&&"attributes"===Ie.type})&&this.attributes.build()},ge.prototype.wrap=function(we,ve){var Ne=ye.prototype.wrap.call(this,we,ve);return Ne instanceof ge&&Ne.statics.scope===this.statics.scope&&this.attributes.move(Ne),Ne},ge}(gt.default);Ze.default=Ve},function(Kt,Ze,Oe){"use strict";var et,it=this&&this.__extends||(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ve,ye){Ve.__proto__=ye}||function(Ve,ye){for(var ge in ye)ye.hasOwnProperty(ge)&&(Ve[ge]=ye[ge])},function(Ve,ye){function ge(){this.constructor=Ve}et(Ve,ye),Ve.prototype=null===ye?Object.create(ye):(ge.prototype=ye.prototype,new ge)});Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=Oe(27),nt=Oe(1),gt=function(et){function Ve(){return null!==et&&et.apply(this,arguments)||this}return it(Ve,et),Ve.value=function(ye){return!0},Ve.prototype.index=function(ye,ge){return this.domNode===ye||this.domNode.compareDocumentPosition(ye)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(ge,1):-1},Ve.prototype.position=function(ye,ge){var we=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return ye>0&&(we+=1),[this.parent.domNode,we]},Ve.prototype.value=function(){var ye;return(ye={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,ye},Ve.scope=nt.Scope.INLINE_BLOT,Ve}(Nt.default);Ze.default=gt},function(Kt,Ze,Oe){function it(et){this.ops=et,this.index=0,this.offset=0}var Nt=Oe(12),nt=Oe(2),gt={attributes:{compose:function(et,Ve,ye){"object"!=typeof et&&(et={}),"object"!=typeof Ve&&(Ve={});var ge=nt(!0,{},Ve);for(var we in ye||(ge=Object.keys(ge).reduce(function(ve,Ne){return null!=ge[Ne]&&(ve[Ne]=ge[Ne]),ve},{})),et)void 0!==et[we]&&void 0===Ve[we]&&(ge[we]=et[we]);return Object.keys(ge).length>0?ge:void 0},diff:function(et,Ve){"object"!=typeof et&&(et={}),"object"!=typeof Ve&&(Ve={});var ye=Object.keys(et).concat(Object.keys(Ve)).reduce(function(ge,we){return Nt(et[we],Ve[we])||(ge[we]=void 0===Ve[we]?null:Ve[we]),ge},{});return Object.keys(ye).length>0?ye:void 0},transform:function(et,Ve,ye){if("object"!=typeof et)return Ve;if("object"==typeof Ve){if(!ye)return Ve;var ge=Object.keys(Ve).reduce(function(we,ve){return void 0===et[ve]&&(we[ve]=Ve[ve]),we},{});return Object.keys(ge).length>0?ge:void 0}}},iterator:function(et){return new it(et)},length:function(et){return"number"==typeof et.delete?et.delete:"number"==typeof et.retain?et.retain:"string"==typeof et.insert?et.insert.length:1}};it.prototype.hasNext=function(){return this.peekLength()<1/0},it.prototype.next=function(et){et||(et=1/0);var Ve=this.ops[this.index];if(Ve){var ye=this.offset,ge=gt.length(Ve);if(et>=ge-ye?(et=ge-ye,this.index+=1,this.offset=0):this.offset+=et,"number"==typeof Ve.delete)return{delete:et};var we={};return Ve.attributes&&(we.attributes=Ve.attributes),"number"==typeof Ve.retain?we.retain=et:we.insert="string"==typeof Ve.insert?Ve.insert.substr(ye,et):Ve.insert,we}return{retain:1/0}},it.prototype.peek=function(){return this.ops[this.index]},it.prototype.peekLength=function(){return this.ops[this.index]?gt.length(this.ops[this.index])-this.offset:1/0},it.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},it.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var et=this.offset,Ve=this.index,ye=this.next(),ge=this.ops.slice(this.index);return this.offset=et,this.index=Ve,[ye].concat(ge)}return[]},Kt.exports=gt},function(Kt,Ze){var Oe=function(){"use strict";function it(Ne,Ie){return null!=Ie&&Ne instanceof Ie}function Nt(Ne,Ie,Ce,de,ot){"object"==typeof Ie&&(Ce=Ie.depth,de=Ie.prototype,ot=Ie.includeNonEnumerable,Ie=Ie.circular);var je=[],Ke=[],yt=typeof Buffer<"u";return void 0===Ie&&(Ie=!0),void 0===Ce&&(Ce=1/0),function Ae(Ot,wt){if(null===Ot)return null;if(0===wt)return Ot;var lt,$e;if("object"!=typeof Ot)return Ot;if(it(Ot,ge))lt=new ge;else if(it(Ot,we))lt=new we;else if(it(Ot,ve))lt=new ve(function(qe,Vt){Ot.then(function(pe){qe(Ae(pe,wt-1))},function(pe){Vt(Ae(pe,wt-1))})});else if(Nt.__isArray(Ot))lt=[];else if(Nt.__isRegExp(Ot))lt=new RegExp(Ot.source,ye(Ot)),Ot.lastIndex&&(lt.lastIndex=Ot.lastIndex);else if(Nt.__isDate(Ot))lt=new Date(Ot.getTime());else{if(yt&&Buffer.isBuffer(Ot))return lt=Buffer.allocUnsafe?Buffer.allocUnsafe(Ot.length):new Buffer(Ot.length),Ot.copy(lt),lt;it(Ot,Error)?lt=Object.create(Ot):void 0===de?($e=Object.getPrototypeOf(Ot),lt=Object.create($e)):(lt=Object.create(de),$e=de)}if(Ie){var Qe=je.indexOf(Ot);if(-1!=Qe)return Ke[Qe];je.push(Ot),Ke.push(lt)}for(var rt in it(Ot,ge)&&Ot.forEach(function(qe,Vt){var pe=Ae(Vt,wt-1),ue=Ae(qe,wt-1);lt.set(pe,ue)}),it(Ot,we)&&Ot.forEach(function(qe){var Vt=Ae(qe,wt-1);lt.add(Vt)}),Ot){var zt;$e&&(zt=Object.getOwnPropertyDescriptor($e,rt)),zt&&null==zt.set||(lt[rt]=Ae(Ot[rt],wt-1))}if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(Ot);for(rt=0;rt<_t.length;rt++){var It=_t[rt];(!(Hn=Object.getOwnPropertyDescriptor(Ot,It))||Hn.enumerable||ot)&&(lt[It]=Ae(Ot[It],wt-1),Hn.enumerable||Object.defineProperty(lt,It,{enumerable:!1}))}}if(ot){var hn=Object.getOwnPropertyNames(Ot);for(rt=0;rt<hn.length;rt++){var Hn,pn=hn[rt];(Hn=Object.getOwnPropertyDescriptor(Ot,pn))&&Hn.enumerable||(lt[pn]=Ae(Ot[pn],wt-1),Object.defineProperty(lt,pn,{enumerable:!1}))}}return lt}(Ne,Ce)}function nt(Ne){return Object.prototype.toString.call(Ne)}function ye(Ne){var Ie="";return Ne.global&&(Ie+="g"),Ne.ignoreCase&&(Ie+="i"),Ne.multiline&&(Ie+="m"),Ie}var ge,we,ve;try{ge=Map}catch{ge=function(){}}try{we=Set}catch{we=function(){}}try{ve=Promise}catch{ve=function(){}}return Nt.clonePrototype=function(Ne){if(null===Ne)return null;var Ie=function(){};return Ie.prototype=Ne,new Ie},Nt.__objToStr=nt,Nt.__isDate=function gt(Ne){return"object"==typeof Ne&&"[object Date]"===nt(Ne)},Nt.__isArray=function et(Ne){return"object"==typeof Ne&&"[object Array]"===nt(Ne)},Nt.__isRegExp=function Ve(Ne){return"object"==typeof Ne&&"[object RegExp]"===nt(Ne)},Nt.__getRegExpFlags=ye,Nt}();"object"==typeof Kt&&Kt.exports&&(Kt.exports=Oe)},function(Kt,Ze,Oe){"use strict";function it(Ot){return Ot&&Ot.__esModule?Ot:{default:Ot}}function Nt(Ot){if(Array.isArray(Ot)){for(var wt=0,lt=Array(Ot.length);wt<Ot.length;wt++)lt[wt]=Ot[wt];return lt}return Array.from(Ot)}function nt(Ot,wt){if(!(Ot instanceof wt))throw new TypeError("Cannot call a class as a function")}function gt(Ot,wt){return wt instanceof Text&&(wt=wt.parentNode),Ot.contains(wt)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.Range=void 0;var et=function(wt,lt){if(Array.isArray(wt))return wt;if(Symbol.iterator in Object(wt))return function Ot(wt,lt){var $e=[],Qe=!0,rt=!1,zt=void 0;try{for(var _t,It=wt[Symbol.iterator]();!(Qe=(_t=It.next()).done)&&($e.push(_t.value),!lt||$e.length!==lt);Qe=!0);}catch(Hn){rt=!0,zt=Hn}finally{try{!Qe&&It.return&&It.return()}finally{if(rt)throw zt}}return $e}(wt,lt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ve=function(){function Ot(wt,lt){for(var $e=0;$e<lt.length;$e++){var Qe=lt[$e];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(wt,Qe.key,Qe)}}return function(wt,lt,$e){return lt&&Ot(wt.prototype,lt),$e&&Ot(wt,$e),wt}}(),ge=it(Oe(0)),ve=it(Oe(21)),Ie=it(Oe(12)),de=it(Oe(9)),je=(0,it(Oe(10)).default)("quill:selection"),Ke=function Ot(wt){var lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nt(this,Ot),this.index=wt,this.length=lt},yt=function(){function Ot(wt,lt){var $e=this;nt(this,Ot),this.emitter=lt,this.scroll=wt,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=ge.default.create("cursor",this),this.lastRange=this.savedRange=new Ke(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){$e.mouseDown||setTimeout($e.update.bind($e,de.default.sources.USER),1)}),this.emitter.on(de.default.events.EDITOR_CHANGE,function(Qe,rt){Qe===de.default.events.TEXT_CHANGE&&rt.length()>0&&$e.update(de.default.sources.SILENT)}),this.emitter.on(de.default.events.SCROLL_BEFORE_UPDATE,function(){if($e.hasFocus()){var Qe=$e.getNativeRange();null!=Qe&&Qe.start.node!==$e.cursor.textNode&&$e.emitter.once(de.default.events.SCROLL_UPDATE,function(){try{$e.setNativeRange(Qe.start.node,Qe.start.offset,Qe.end.node,Qe.end.offset)}catch{}})}}),this.emitter.on(de.default.events.SCROLL_OPTIMIZE,function(Qe,rt){if(rt.range){var zt=rt.range;$e.setNativeRange(zt.startNode,zt.startOffset,zt.endNode,zt.endOffset)}}),this.update(de.default.sources.SILENT)}return Ve(Ot,[{key:"handleComposition",value:function(){var wt=this;this.root.addEventListener("compositionstart",function(){wt.composing=!0}),this.root.addEventListener("compositionend",function(){if(wt.composing=!1,wt.cursor.parent){var lt=wt.cursor.restore();if(!lt)return;setTimeout(function(){wt.setNativeRange(lt.startNode,lt.startOffset,lt.endNode,lt.endOffset)},1)}})}},{key:"handleDragging",value:function(){var wt=this;this.emitter.listenDOM("mousedown",document.body,function(){wt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){wt.mouseDown=!1,wt.update(de.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(wt,lt){if(null==this.scroll.whitelist||this.scroll.whitelist[wt]){this.scroll.update();var $e=this.getNativeRange();if(null!=$e&&$e.native.collapsed&&!ge.default.query(wt,ge.default.Scope.BLOCK)){if($e.start.node!==this.cursor.textNode){var Qe=ge.default.find($e.start.node,!1);if(null==Qe)return;if(Qe instanceof ge.default.Leaf){var rt=Qe.split($e.start.offset);Qe.parent.insertBefore(this.cursor,rt)}else Qe.insertBefore(this.cursor,$e.start.node);this.cursor.attach()}this.cursor.format(wt,lt),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(wt){var lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,$e=this.scroll.length();wt=Math.min(wt,$e-1),lt=Math.min(wt+lt,$e-1)-wt;var Qe=void 0,rt=this.scroll.leaf(wt),zt=et(rt,2),_t=zt[0],It=zt[1];if(null==_t)return null;var Hn=_t.position(It,!0),hn=et(Hn,2);Qe=hn[0],It=hn[1];var pn=document.createRange();if(lt>0){pn.setStart(Qe,It);var qe=this.scroll.leaf(wt+lt),Vt=et(qe,2);if(null==(_t=Vt[0]))return null;var pe=_t.position(It=Vt[1],!0),ue=et(pe,2);return pn.setEnd(Qe=ue[0],It=ue[1]),pn.getBoundingClientRect()}var ln="left",on=void 0;return Qe instanceof Text?(It<Qe.data.length?(pn.setStart(Qe,It),pn.setEnd(Qe,It+1)):(pn.setStart(Qe,It-1),pn.setEnd(Qe,It),ln="right"),on=pn.getBoundingClientRect()):(on=_t.domNode.getBoundingClientRect(),It>0&&(ln="right")),{bottom:on.top+on.height,height:on.height,left:on[ln],right:on[ln],top:on.top,width:0}}},{key:"getNativeRange",value:function(){var wt=document.getSelection();if(null==wt||wt.rangeCount<=0)return null;var lt=wt.getRangeAt(0);if(null==lt)return null;var $e=this.normalizeNative(lt);return je.info("getNativeRange",$e),$e}},{key:"getRange",value:function(){var wt=this.getNativeRange();return null==wt?[null,null]:[this.normalizedToRange(wt),wt]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(wt){var lt=this,$e=[[wt.start.node,wt.start.offset]];wt.native.collapsed||$e.push([wt.end.node,wt.end.offset]);var Qe=$e.map(function(_t){var It=et(_t,2),Hn=It[0],hn=It[1],pn=ge.default.find(Hn,!0),qe=pn.offset(lt.scroll);return 0===hn?qe:pn instanceof ge.default.Container?qe+pn.length():qe+pn.index(Hn,hn)}),rt=Math.min(Math.max.apply(Math,Nt(Qe)),this.scroll.length()-1),zt=Math.min.apply(Math,[rt].concat(Nt(Qe)));return new Ke(zt,rt-zt)}},{key:"normalizeNative",value:function(wt){if(!gt(this.root,wt.startContainer)||!wt.collapsed&&!gt(this.root,wt.endContainer))return null;var lt={start:{node:wt.startContainer,offset:wt.startOffset},end:{node:wt.endContainer,offset:wt.endOffset},native:wt};return[lt.start,lt.end].forEach(function($e){for(var Qe=$e.node,rt=$e.offset;!(Qe instanceof Text)&&Qe.childNodes.length>0;)if(Qe.childNodes.length>rt)Qe=Qe.childNodes[rt],rt=0;else{if(Qe.childNodes.length!==rt)break;rt=(Qe=Qe.lastChild)instanceof Text?Qe.data.length:Qe.childNodes.length+1}$e.node=Qe,$e.offset=rt}),lt}},{key:"rangeToNative",value:function(wt){var lt=this,$e=wt.collapsed?[wt.index]:[wt.index,wt.index+wt.length],Qe=[],rt=this.scroll.length();return $e.forEach(function(zt,_t){zt=Math.min(rt-1,zt);var Hn=lt.scroll.leaf(zt),hn=et(Hn,2),qe=hn[1],Vt=hn[0].position(qe,0!==_t),pe=et(Vt,2);Qe.push(pe[0],qe=pe[1])}),Qe.length<2&&(Qe=Qe.concat(Qe)),Qe}},{key:"scrollIntoView",value:function(wt){var lt=this.lastRange;if(null!=lt){var $e=this.getBounds(lt.index,lt.length);if(null!=$e){var Qe=this.scroll.length()-1,rt=this.scroll.line(Math.min(lt.index,Qe)),_t=et(rt,1)[0],It=_t;if(lt.length>0){var Hn=this.scroll.line(Math.min(lt.index+lt.length,Qe));It=et(Hn,1)[0]}if(null!=_t&&null!=It){var hn=wt.getBoundingClientRect();$e.top<hn.top?wt.scrollTop-=hn.top-$e.top:$e.bottom>hn.bottom&&(wt.scrollTop+=$e.bottom-hn.bottom)}}}}},{key:"setNativeRange",value:function(wt,lt){var $e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt,Qe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:lt,rt=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(je.info("setNativeRange",wt,lt,$e,Qe),null==wt||null!=this.root.parentNode&&null!=wt.parentNode&&null!=$e.parentNode){var zt=document.getSelection();if(null!=zt)if(null!=wt){this.hasFocus()||this.root.focus();var _t=(this.getNativeRange()||{}).native;if(null==_t||rt||wt!==_t.startContainer||lt!==_t.startOffset||$e!==_t.endContainer||Qe!==_t.endOffset){"BR"==wt.tagName&&(lt=[].indexOf.call(wt.parentNode.childNodes,wt),wt=wt.parentNode),"BR"==$e.tagName&&(Qe=[].indexOf.call($e.parentNode.childNodes,$e),$e=$e.parentNode);var It=document.createRange();It.setStart(wt,lt),It.setEnd($e,Qe),zt.removeAllRanges(),zt.addRange(It)}}else zt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(wt){var lt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],$e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de.default.sources.API;if("string"==typeof lt&&($e=lt,lt=!1),je.info("setRange",wt),null!=wt){var Qe=this.rangeToNative(wt);this.setNativeRange.apply(this,Nt(Qe).concat([lt]))}else this.setNativeRange(null);this.update($e)}},{key:"update",value:function(){var wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.default.sources.USER,lt=this.lastRange,$e=this.getRange(),Qe=et($e,2),zt=Qe[1];if(this.lastRange=Qe[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,Ie.default)(lt,this.lastRange)){var _t;!this.composing&&null!=zt&&zt.native.collapsed&&zt.start.node!==this.cursor.textNode&&this.cursor.restore();var Hn,It=[de.default.events.SELECTION_CHANGE,(0,ve.default)(this.lastRange),(0,ve.default)(lt),wt];(_t=this.emitter).emit.apply(_t,[de.default.events.EDITOR_CHANGE].concat(It)),wt!==de.default.sources.SILENT&&(Hn=this.emitter).emit.apply(Hn,It)}}}]),Ot}();Ze.Range=Ke,Ze.default=yt},function(Kt,Ze,Oe){"use strict";function it(ve){return ve&&ve.__esModule?ve:{default:ve}}Object.defineProperty(Ze,"__esModule",{value:!0});var Ve=it(Oe(0)),ye=Oe(3),ge=it(ye),we=function(ve){function Ne(){return function Nt(ve,Ne){if(!(ve instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,Ne),function nt(ve,Ne){if(!ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ne||"object"!=typeof Ne&&"function"!=typeof Ne?ve:Ne}(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).apply(this,arguments))}return function gt(ve,Ne){if("function"!=typeof Ne&&null!==Ne)throw new TypeError("Super expression must either be null or a function, not "+typeof Ne);ve.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),Ne&&(Object.setPrototypeOf?Object.setPrototypeOf(ve,Ne):ve.__proto__=Ne)}(Ne,ve),Ne}(Ve.default.Container);we.allowedChildren=[ge.default,ye.BlockEmbed,we],Ze.default=we},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.ColorStyle=Ze.ColorClass=Ze.ColorAttributor=void 0;var Ne,gt=function(){function Ne(Ie,Ce){for(var de=0;de<Ce.length;de++){var ot=Ce[de];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(Ie,ot.key,ot)}}return function(Ie,Ce,de){return Ce&&Ne(Ie.prototype,Ce),de&&Ne(Ie,de),Ie}}(),et=function Ne(Ie,Ce,de){null===Ie&&(Ie=Function.prototype);var ot=Object.getOwnPropertyDescriptor(Ie,Ce);if(void 0===ot){var Ae=Object.getPrototypeOf(Ie);return null===Ae?void 0:Ne(Ae,Ce,de)}if("value"in ot)return ot.value;var je=ot.get;return void 0!==je?je.call(de):void 0},ye=(Ne=Oe(0))&&Ne.__esModule?Ne:{default:Ne},ge=function(Ne){function Ie(){return function it(Ne,Ie){if(!(Ne instanceof Ie))throw new TypeError("Cannot call a class as a function")}(this,Ie),function Nt(Ne,Ie){if(!Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ie||"object"!=typeof Ie&&"function"!=typeof Ie?Ne:Ie}(this,(Ie.__proto__||Object.getPrototypeOf(Ie)).apply(this,arguments))}return function nt(Ne,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Super expression must either be null or a function, not "+typeof Ie);Ne.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:Ne,enumerable:!1,writable:!0,configurable:!0}}),Ie&&(Object.setPrototypeOf?Object.setPrototypeOf(Ne,Ie):Ne.__proto__=Ie)}(Ie,Ne),gt(Ie,[{key:"value",value:function(Ce){var de=et(Ie.prototype.__proto__||Object.getPrototypeOf(Ie.prototype),"value",this).call(this,Ce);return de.startsWith("rgb(")?"#"+(de=de.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(ot){return("00"+parseInt(ot).toString(16)).slice(-2)}).join(""):de}}]),Ie}(ye.default.Attributor.Style),we=new ye.default.Attributor.Class("color","ql-color",{scope:ye.default.Scope.INLINE}),ve=new ge("color","color",{scope:ye.default.Scope.INLINE});Ze.ColorAttributor=ge,Ze.ColorClass=we,Ze.ColorStyle=ve},function(Kt,Ze,Oe){"use strict";function it(jt){return jt&&jt.__esModule?jt:{default:jt}}function Nt(jt,Zt,Et){return Zt in jt?Object.defineProperty(jt,Zt,{value:Et,enumerable:!0,configurable:!0,writable:!0}):jt[Zt]=Et,jt}function Ve(jt,Zt){var Et;return Nt(Et={key:jt,shiftKey:Zt,altKey:null},jt===on.keys.LEFT?"prefix":"suffix",/^$/),Nt(Et,"handler",function(Bt){var Ht=Bt.index;jt===on.keys.RIGHT&&(Ht+=Bt.length+1);var On=this.quill.getLeaf(Ht);return!(ot(On,1)[0]instanceof It.default.Embed&&(jt===on.keys.LEFT?Zt?this.quill.setSelection(Bt.index-1,Bt.length+1,hn.default.sources.USER):this.quill.setSelection(Bt.index-1,hn.default.sources.USER):Zt?this.quill.setSelection(Bt.index,Bt.length+1,hn.default.sources.USER):this.quill.setSelection(Bt.index+Bt.length+1,hn.default.sources.USER),1))}),Et}function ye(jt,Zt){if(!(0===jt.index||this.quill.getLength()<=1)){var Et=this.quill.getLine(jt.index),Bt=ot(Et,1)[0],Ht={};if(0===Zt.offset){var On=this.quill.getLine(jt.index-1),En=ot(On,1)[0];if(null!=En&&En.length()>1){var hi=Bt.formats(),pr=this.quill.getFormat(jt.index-1,1);Ht=zt.default.attributes.diff(hi,pr)||{}}}var jr=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Zt.prefix)?2:1;this.quill.deleteText(jt.index-jr,jr,hn.default.sources.USER),Object.keys(Ht).length>0&&this.quill.formatLine(jt.index-jr,jr,Ht,hn.default.sources.USER),this.quill.focus()}}function ge(jt,Zt){var Et=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Zt.suffix)?2:1;if(!(jt.index>=this.quill.getLength()-Et)){var xn={},Bt=0,Ht=this.quill.getLine(jt.index),xr=ot(Ht,1)[0];if(Zt.offset>=xr.length()-1){var En=this.quill.getLine(jt.index+1),pr=ot(En,1)[0];if(pr){var jr=xr.formats(),_n=this.quill.getFormat(jt.index,1);xn=zt.default.attributes.diff(jr,_n)||{},Bt=pr.length()}}this.quill.deleteText(jt.index,Et,hn.default.sources.USER),Object.keys(xn).length>0&&this.quill.formatLine(jt.index+Bt-1,Et,xn,hn.default.sources.USER)}}function we(jt){var Zt=this.quill.getLines(jt),Et={};if(Zt.length>1){var xn=Zt[0].formats(),Bt=Zt[Zt.length-1].formats();Et=zt.default.attributes.diff(Bt,xn)||{}}this.quill.deleteText(jt,hn.default.sources.USER),Object.keys(Et).length>0&&this.quill.formatLine(jt.index,1,Et,hn.default.sources.USER),this.quill.setSelection(jt.index,hn.default.sources.SILENT),this.quill.focus()}function ve(jt,Zt){var Et=this;jt.length>0&&this.quill.scroll.deleteAt(jt.index,jt.length);var xn=Object.keys(Zt.format).reduce(function(Bt,Ht){return It.default.query(Ht,It.default.Scope.BLOCK)&&!Array.isArray(Zt.format[Ht])&&(Bt[Ht]=Zt.format[Ht]),Bt},{});this.quill.insertText(jt.index,"\n",xn,hn.default.sources.USER),this.quill.setSelection(jt.index+1,hn.default.sources.SILENT),this.quill.focus(),Object.keys(Zt.format).forEach(function(Bt){null==xn[Bt]&&(Array.isArray(Zt.format[Bt])||"link"!==Bt&&Et.quill.format(Bt,Zt.format[Bt],hn.default.sources.USER))})}function Ne(jt){return{key:on.keys.TAB,shiftKey:!jt,format:{"code-block":!0},handler:function(Zt){var Et=It.default.query("code-block"),xn=Zt.index,Bt=Zt.length,Ht=this.quill.scroll.descendant(Et,xn),On=ot(Ht,2),xr=On[0],En=On[1];if(null!=xr){var hi=this.quill.getIndex(xr),pr=xr.newlineIndex(En,!0)+1,jr=xr.newlineIndex(hi+En+Bt),_n=xr.domNode.textContent.slice(pr,jr).split("\n");En=0,_n.forEach(function(Gn,di){jt?(xr.insertAt(pr+En,Et.TAB),En+=Et.TAB.length,0===di?xn+=Et.TAB.length:Bt+=Et.TAB.length):Gn.startsWith(Et.TAB)&&(xr.deleteAt(pr+En,Et.TAB.length),En-=Et.TAB.length,0===di?xn-=Et.TAB.length:Bt-=Et.TAB.length),En+=Gn.length+1}),this.quill.update(hn.default.sources.USER),this.quill.setSelection(xn,Bt,hn.default.sources.SILENT)}}}}function Ie(jt){return{key:jt[0].toUpperCase(),shortKey:!0,handler:function(Zt,Et){this.quill.format(jt,!Et.format[jt],hn.default.sources.USER)}}}function Ce(jt){if("string"==typeof jt||"number"==typeof jt)return Ce({key:jt});if("object"===(void 0===jt?"undefined":de(jt))&&(jt=(0,Ke.default)(jt,!1)),"string"==typeof jt.key)if(null!=on.keys[jt.key.toUpperCase()])jt.key=on.keys[jt.key.toUpperCase()];else{if(1!==jt.key.length)return null;jt.key=jt.key.toUpperCase().charCodeAt(0)}return jt.shortKey&&(jt[ln]=jt.shortKey,delete jt.shortKey),jt}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.SHORTKEY=Ze.default=void 0;var de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(jt){return typeof jt}:function(jt){return jt&&"function"==typeof Symbol&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt},ot=function(Zt,Et){if(Array.isArray(Zt))return Zt;if(Symbol.iterator in Object(Zt))return function jt(Zt,Et){var xn=[],Bt=!0,Ht=!1,On=void 0;try{for(var xr,En=Zt[Symbol.iterator]();!(Bt=(xr=En.next()).done)&&(xn.push(xr.value),!Et||xn.length!==Et);Bt=!0);}catch(hi){Ht=!0,On=hi}finally{try{!Bt&&En.return&&En.return()}finally{if(Ht)throw On}}return xn}(Zt,Et);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ae=function(){function jt(Zt,Et){for(var xn=0;xn<Et.length;xn++){var Bt=Et[xn];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Zt,Bt.key,Bt)}}return function(Zt,Et,xn){return Et&&jt(Zt.prototype,Et),xn&&jt(Zt,xn),Zt}}(),Ke=it(Oe(21)),Ot=it(Oe(12)),lt=it(Oe(2)),Qe=it(Oe(4)),zt=it(Oe(20)),It=it(Oe(0)),hn=it(Oe(6)),qe=it(Oe(10)),pe=it(Oe(7)),ue=(0,qe.default)("quill:keyboard"),ln=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",on=function(jt){function Zt(Et,xn){!function nt(jt,Zt){if(!(jt instanceof Zt))throw new TypeError("Cannot call a class as a function")}(this,Zt);var Bt=function gt(jt,Zt){if(!jt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Zt||"object"!=typeof Zt&&"function"!=typeof Zt?jt:Zt}(this,(Zt.__proto__||Object.getPrototypeOf(Zt)).call(this,Et,xn));return Bt.bindings={},Object.keys(Bt.options.bindings).forEach(function(Ht){("list autofill"!==Ht||null==Et.scroll.whitelist||Et.scroll.whitelist.list)&&Bt.options.bindings[Ht]&&Bt.addBinding(Bt.options.bindings[Ht])}),Bt.addBinding({key:Zt.keys.ENTER,shiftKey:null},ve),Bt.addBinding({key:Zt.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Bt.addBinding({key:Zt.keys.BACKSPACE},{collapsed:!0},ye),Bt.addBinding({key:Zt.keys.DELETE},{collapsed:!0},ge)):(Bt.addBinding({key:Zt.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ye),Bt.addBinding({key:Zt.keys.DELETE},{collapsed:!0,suffix:/^.?$/},ge)),Bt.addBinding({key:Zt.keys.BACKSPACE},{collapsed:!1},we),Bt.addBinding({key:Zt.keys.DELETE},{collapsed:!1},we),Bt.addBinding({key:Zt.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ye),Bt.listen(),Bt}return function et(jt,Zt){if("function"!=typeof Zt&&null!==Zt)throw new TypeError("Super expression must either be null or a function, not "+typeof Zt);jt.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:jt,enumerable:!1,writable:!0,configurable:!0}}),Zt&&(Object.setPrototypeOf?Object.setPrototypeOf(jt,Zt):jt.__proto__=Zt)}(Zt,jt),Ae(Zt,null,[{key:"match",value:function(Et,xn){return xn=Ce(xn),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Bt){return!!xn[Bt]!==Et[Bt]&&null!==xn[Bt]})&&xn.key===(Et.which||Et.keyCode)}}]),Ae(Zt,[{key:"addBinding",value:function(Et){var xn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Bt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ht=Ce(Et);if(null==Ht||null==Ht.key)return ue.warn("Attempted to add invalid keyboard binding",Ht);"function"==typeof xn&&(xn={handler:xn}),"function"==typeof Bt&&(Bt={handler:Bt}),Ht=(0,lt.default)(Ht,xn,Bt),this.bindings[Ht.key]=this.bindings[Ht.key]||[],this.bindings[Ht.key].push(Ht)}},{key:"listen",value:function(){var Et=this;this.quill.root.addEventListener("keydown",function(xn){if(!xn.defaultPrevented){var Ht=(Et.bindings[xn.which||xn.keyCode]||[]).filter(function(ir){return Zt.match(xn,ir)});if(0!==Ht.length){var On=Et.quill.getSelection();if(null!=On&&Et.quill.hasFocus()){var xr=Et.quill.getLine(On.index),En=ot(xr,2),hi=En[0],pr=En[1],jr=Et.quill.getLeaf(On.index),_n=ot(jr,2),Gn=_n[0],di=_n[1],bi=0===On.length?[Gn,di]:Et.quill.getLeaf(On.index+On.length),ai=ot(bi,2),Wi=ai[0],yi=ai[1],fr=Gn instanceof It.default.Text?Gn.value().slice(0,di):"",po=Wi instanceof It.default.Text?Wi.value().slice(yi):"",Fr={collapsed:0===On.length,empty:0===On.length&&hi.length()<=1,format:Et.quill.getFormat(On),offset:pr,prefix:fr,suffix:po};Ht.some(function(ir){if(null!=ir.collapsed&&ir.collapsed!==Fr.collapsed||null!=ir.empty&&ir.empty!==Fr.empty||null!=ir.offset&&ir.offset!==Fr.offset)return!1;if(Array.isArray(ir.format)){if(ir.format.every(function(Jr){return null==Fr.format[Jr]}))return!1}else if("object"===de(ir.format)&&!Object.keys(ir.format).every(function(Jr){return!0===ir.format[Jr]?null!=Fr.format[Jr]:!1===ir.format[Jr]?null==Fr.format[Jr]:(0,Ot.default)(ir.format[Jr],Fr.format[Jr])}))return!1;return!(null!=ir.prefix&&!ir.prefix.test(Fr.prefix)||null!=ir.suffix&&!ir.suffix.test(Fr.suffix)||!0===ir.handler.call(Et,On,Fr))})&&xn.preventDefault()}}}})}}]),Zt}(pe.default);on.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},on.DEFAULTS={bindings:{bold:Ie("bold"),italic:Ie("italic"),underline:Ie("underline"),indent:{key:on.keys.TAB,format:["blockquote","indent","list"],handler:function(jt,Zt){if(Zt.collapsed&&0!==Zt.offset)return!0;this.quill.format("indent","+1",hn.default.sources.USER)}},outdent:{key:on.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(jt,Zt){if(Zt.collapsed&&0!==Zt.offset)return!0;this.quill.format("indent","-1",hn.default.sources.USER)}},"outdent backspace":{key:on.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(jt,Zt){null!=Zt.format.indent?this.quill.format("indent","-1",hn.default.sources.USER):null!=Zt.format.list&&this.quill.format("list",!1,hn.default.sources.USER)}},"indent code-block":Ne(!0),"outdent code-block":Ne(!1),"remove tab":{key:on.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(jt){this.quill.deleteText(jt.index-1,1,hn.default.sources.USER)}},tab:{key:on.keys.TAB,handler:function(jt){this.quill.history.cutoff();var Zt=(new Qe.default).retain(jt.index).delete(jt.length).insert("\t");this.quill.updateContents(Zt,hn.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(jt.index+1,hn.default.sources.SILENT)}},"list empty enter":{key:on.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(jt,Zt){this.quill.format("list",!1,hn.default.sources.USER),Zt.format.indent&&this.quill.format("indent",!1,hn.default.sources.USER)}},"checklist enter":{key:on.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(jt){var Zt=this.quill.getLine(jt.index),Et=ot(Zt,2),xn=Et[0],Bt=Et[1],Ht=(0,lt.default)({},xn.formats(),{list:"checked"}),On=(new Qe.default).retain(jt.index).insert("\n",Ht).retain(xn.length()-Bt-1).retain(1,{list:"unchecked"});this.quill.updateContents(On,hn.default.sources.USER),this.quill.setSelection(jt.index+1,hn.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:on.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(jt,Zt){var Et=this.quill.getLine(jt.index),xn=ot(Et,2),Bt=xn[0],Ht=xn[1],On=(new Qe.default).retain(jt.index).insert("\n",Zt.format).retain(Bt.length()-Ht-1).retain(1,{header:null});this.quill.updateContents(On,hn.default.sources.USER),this.quill.setSelection(jt.index+1,hn.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(jt,Zt){var Et=Zt.prefix.length,xn=this.quill.getLine(jt.index),Bt=ot(xn,2),Ht=Bt[0],On=Bt[1];if(On>Et)return!0;var xr=void 0;switch(Zt.prefix.trim()){case"[]":case"[ ]":xr="unchecked";break;case"[x]":xr="checked";break;case"-":case"*":xr="bullet";break;default:xr="ordered"}this.quill.insertText(jt.index," ",hn.default.sources.USER),this.quill.history.cutoff();var En=(new Qe.default).retain(jt.index-On).delete(Et+1).retain(Ht.length()-2-On).retain(1,{list:xr});this.quill.updateContents(En,hn.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(jt.index-Et,hn.default.sources.SILENT)}},"code exit":{key:on.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(jt){var Zt=this.quill.getLine(jt.index),Et=ot(Zt,2),xn=Et[0],Bt=Et[1],Ht=(new Qe.default).retain(jt.index+xn.length()-Bt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ht,hn.default.sources.USER)}},"embed left":Ve(on.keys.LEFT,!1),"embed left shift":Ve(on.keys.LEFT,!0),"embed right":Ve(on.keys.RIGHT,!1),"embed right shift":Ve(on.keys.RIGHT,!0)}},Ze.default=on,Ze.SHORTKEY=ln},function(Kt,Ze,Oe){"use strict";Kt.exports={align:{"":Oe(75),center:Oe(76),right:Oe(77),justify:Oe(78)},background:Oe(79),blockquote:Oe(80),bold:Oe(81),clean:Oe(82),code:Oe(40),"code-block":Oe(40),color:Oe(83),direction:{"":Oe(84),rtl:Oe(85)},float:{center:Oe(86),full:Oe(87),left:Oe(88),right:Oe(89)},formula:Oe(90),header:{1:Oe(91),2:Oe(92)},italic:Oe(93),image:Oe(94),indent:{"+1":Oe(95),"-1":Oe(96)},link:Oe(97),list:{ordered:Oe(98),bullet:Oe(99),check:Oe(100)},script:{sub:Oe(101),super:Oe(102)},strike:Oe(103),underline:Oe(104),video:Oe(105)}},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var it=Oe(1),Nt=function(){function nt(gt){this.domNode=gt,this.domNode[it.DATA_KEY]={blot:this}}return Object.defineProperty(nt.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),nt.create=function(gt){if(null==this.tagName)throw new it.ParchmentError("Blot definition missing tagName");var et;return Array.isArray(this.tagName)?("string"==typeof gt&&(gt=gt.toUpperCase(),parseInt(gt).toString()===gt&&(gt=parseInt(gt))),et="number"==typeof gt?document.createElement(this.tagName[gt-1]):this.tagName.indexOf(gt)>-1?document.createElement(gt):document.createElement(this.tagName[0])):et=document.createElement(this.tagName),this.className&&et.classList.add(this.className),et},nt.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},nt.prototype.clone=function(){var gt=this.domNode.cloneNode(!1);return it.create(gt)},nt.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[it.DATA_KEY]},nt.prototype.deleteAt=function(gt,et){this.isolate(gt,et).remove()},nt.prototype.formatAt=function(gt,et,Ve,ye){var ge=this.isolate(gt,et);if(null!=it.query(Ve,it.Scope.BLOT)&&ye)ge.wrap(Ve,ye);else if(null!=it.query(Ve,it.Scope.ATTRIBUTE)){var we=it.create(this.statics.scope);ge.wrap(we),we.format(Ve,ye)}},nt.prototype.insertAt=function(gt,et,Ve){var ye=null==Ve?it.create("text",et):it.create(et,Ve),ge=this.split(gt);this.parent.insertBefore(ye,ge)},nt.prototype.insertInto=function(gt,et){void 0===et&&(et=null),null!=this.parent&&this.parent.children.remove(this);var Ve=null;gt.children.insertBefore(this,et),null!=et&&(Ve=et.domNode),this.domNode.parentNode==gt.domNode&&this.domNode.nextSibling==Ve||gt.domNode.insertBefore(this.domNode,Ve),this.parent=gt,this.attach()},nt.prototype.isolate=function(gt,et){var Ve=this.split(gt);return Ve.split(et),Ve},nt.prototype.length=function(){return 1},nt.prototype.offset=function(gt){return void 0===gt&&(gt=this.parent),null==this.parent||this==gt?0:this.parent.children.offset(this)+this.parent.offset(gt)},nt.prototype.optimize=function(gt){null!=this.domNode[it.DATA_KEY]&&delete this.domNode[it.DATA_KEY].mutations},nt.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},nt.prototype.replace=function(gt){null!=gt.parent&&(gt.parent.insertBefore(this,gt.next),gt.remove())},nt.prototype.replaceWith=function(gt,et){var Ve="string"==typeof gt?it.create(gt,et):gt;return Ve.replace(this),Ve},nt.prototype.split=function(gt,et){return 0===gt?this:this.next},nt.prototype.update=function(gt,et){},nt.prototype.wrap=function(gt,et){var Ve="string"==typeof gt?it.create(gt,et):gt;return null!=this.parent&&this.parent.insertBefore(Ve,this.next),Ve.appendChild(this),Ve},nt.blotName="abstract",nt}();Ze.default=Nt},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var it=Oe(11),Nt=Oe(29),nt=Oe(30),gt=Oe(1),et=function(){function Ve(ye){this.attributes={},this.domNode=ye,this.build()}return Ve.prototype.attribute=function(ye,ge){ge?ye.add(this.domNode,ge)&&(null!=ye.value(this.domNode)?this.attributes[ye.attrName]=ye:delete this.attributes[ye.attrName]):(ye.remove(this.domNode),delete this.attributes[ye.attrName])},Ve.prototype.build=function(){var ye=this;this.attributes={};var ge=it.default.keys(this.domNode),we=Nt.default.keys(this.domNode),ve=nt.default.keys(this.domNode);ge.concat(we).concat(ve).forEach(function(Ne){var Ie=gt.query(Ne,gt.Scope.ATTRIBUTE);Ie instanceof it.default&&(ye.attributes[Ie.attrName]=Ie)})},Ve.prototype.copy=function(ye){var ge=this;Object.keys(this.attributes).forEach(function(we){var ve=ge.attributes[we].value(ge.domNode);ye.format(we,ve)})},Ve.prototype.move=function(ye){var ge=this;this.copy(ye),Object.keys(this.attributes).forEach(function(we){ge.attributes[we].remove(ge.domNode)}),this.attributes={}},Ve.prototype.values=function(){var ye=this;return Object.keys(this.attributes).reduce(function(ge,we){return ge[we]=ye.attributes[we].value(ye.domNode),ge},{})},Ve}();Ze.default=et},function(Kt,Ze,Oe){"use strict";function it(et,Ve){return(et.getAttribute("class")||"").split(/\s+/).filter(function(ye){return 0===ye.indexOf(Ve+"-")})}var et,Nt=this&&this.__extends||(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ve,ye){Ve.__proto__=ye}||function(Ve,ye){for(var ge in ye)ye.hasOwnProperty(ge)&&(Ve[ge]=ye[ge])},function(Ve,ye){function ge(){this.constructor=Ve}et(Ve,ye),Ve.prototype=null===ye?Object.create(ye):(ge.prototype=ye.prototype,new ge)});Object.defineProperty(Ze,"__esModule",{value:!0});var gt=function(et){function Ve(){return null!==et&&et.apply(this,arguments)||this}return Nt(Ve,et),Ve.keys=function(ye){return(ye.getAttribute("class")||"").split(/\s+/).map(function(ge){return ge.split("-").slice(0,-1).join("-")})},Ve.prototype.add=function(ye,ge){return!!this.canAdd(ye,ge)&&(this.remove(ye),ye.classList.add(this.keyName+"-"+ge),!0)},Ve.prototype.remove=function(ye){it(ye,this.keyName).forEach(function(ge){ye.classList.remove(ge)}),0===ye.classList.length&&ye.removeAttribute("class")},Ve.prototype.value=function(ye){var we=(it(ye,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(ye,we)?we:""},Ve}(Oe(11).default);Ze.default=gt},function(Kt,Ze,Oe){"use strict";function it(et){var Ve=et.split("-"),ye=Ve.slice(1).map(function(ge){return ge[0].toUpperCase()+ge.slice(1)}).join("");return Ve[0]+ye}var et,Nt=this&&this.__extends||(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ve,ye){Ve.__proto__=ye}||function(Ve,ye){for(var ge in ye)ye.hasOwnProperty(ge)&&(Ve[ge]=ye[ge])},function(Ve,ye){function ge(){this.constructor=Ve}et(Ve,ye),Ve.prototype=null===ye?Object.create(ye):(ge.prototype=ye.prototype,new ge)});Object.defineProperty(Ze,"__esModule",{value:!0});var gt=function(et){function Ve(){return null!==et&&et.apply(this,arguments)||this}return Nt(Ve,et),Ve.keys=function(ye){return(ye.getAttribute("style")||"").split(";").map(function(ge){return ge.split(":")[0].trim()})},Ve.prototype.add=function(ye,ge){return!!this.canAdd(ye,ge)&&(ye.style[it(this.keyName)]=ge,!0)},Ve.prototype.remove=function(ye){ye.style[it(this.keyName)]="",ye.getAttribute("style")||ye.removeAttribute("style")},Ve.prototype.value=function(ye){var ge=ye.style[it(this.keyName)];return this.canAdd(ye,ge)?ge:""},Ve}(Oe(11).default);Ze.default=gt},function(Kt,Ze,Oe){"use strict";function it(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}Object.defineProperty(Ze,"__esModule",{value:!0});var Ve=function Ce(de,ot,Ae){null===de&&(de=Function.prototype);var je=Object.getOwnPropertyDescriptor(de,ot);if(void 0===je){var Ke=Object.getPrototypeOf(de);return null===Ke?void 0:Ce(Ke,ot,Ae)}if("value"in je)return je.value;var yt=je.get;return void 0!==yt?yt.call(Ae):void 0},ye=function(){function Ce(de,ot){for(var Ae=0;Ae<ot.length;Ae++){var je=ot[Ae];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(de,je.key,je)}}return function(de,ot,Ae){return ot&&Ce(de.prototype,ot),Ae&&Ce(de,Ae),de}}(),we=it(Oe(0)),Ne=it(Oe(8)),Ie=function(Ce){function de(ot,Ae){!function Nt(Ce,de){if(!(Ce instanceof de))throw new TypeError("Cannot call a class as a function")}(this,de);var je=function nt(Ce,de){if(!Ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!de||"object"!=typeof de&&"function"!=typeof de?Ce:de}(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,ot));return je.selection=Ae,je.textNode=document.createTextNode(de.CONTENTS),je.domNode.appendChild(je.textNode),je._length=0,je}return function gt(Ce,de){if("function"!=typeof de&&null!==de)throw new TypeError("Super expression must either be null or a function, not "+typeof de);Ce.prototype=Object.create(de&&de.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(Ce,de):Ce.__proto__=de)}(de,Ce),ye(de,null,[{key:"value",value:function(){}}]),ye(de,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(ot,Ae){if(0!==this._length)return Ve(de.prototype.__proto__||Object.getPrototypeOf(de.prototype),"format",this).call(this,ot,Ae);for(var je=this,Ke=0;null!=je&&je.statics.scope!==we.default.Scope.BLOCK_BLOT;)Ke+=je.offset(je.parent),je=je.parent;null!=je&&(this._length=de.CONTENTS.length,je.optimize(),je.formatAt(Ke,de.CONTENTS.length,ot,Ae),this._length=0)}},{key:"index",value:function(ot,Ae){return ot===this.textNode?0:Ve(de.prototype.__proto__||Object.getPrototypeOf(de.prototype),"index",this).call(this,ot,Ae)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){Ve(de.prototype.__proto__||Object.getPrototypeOf(de.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var ot=this.textNode,Ae=this.selection.getNativeRange(),je=void 0,Ke=void 0,yt=void 0;if(null!=Ae&&Ae.start.node===ot&&Ae.end.node===ot){var Ot=[ot,Ae.start.offset,Ae.end.offset];je=Ot[0],Ke=Ot[1],yt=Ot[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==de.CONTENTS){var wt=this.textNode.data.split(de.CONTENTS).join("");this.next instanceof Ne.default?(je=this.next.domNode,this.next.insertAt(0,wt),this.textNode.data=de.CONTENTS):(this.textNode.data=wt,this.parent.insertBefore(we.default.create(this.textNode),this),this.textNode=document.createTextNode(de.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=Ke){var $e=function(de,ot){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return function Ce(de,ot){var Ae=[],je=!0,Ke=!1,yt=void 0;try{for(var Ot,wt=de[Symbol.iterator]();!(je=(Ot=wt.next()).done)&&(Ae.push(Ot.value),!ot||Ae.length!==ot);je=!0);}catch(lt){Ke=!0,yt=lt}finally{try{!je&&wt.return&&wt.return()}finally{if(Ke)throw yt}}return Ae}(de,ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([Ke,yt].map(function(Qe){return Math.max(0,Math.min(je.data.length,Qe-1))}),2);return{startNode:je,startOffset:Ke=$e[0],endNode:je,endOffset:yt=$e[1]}}}}},{key:"update",value:function(ot,Ae){var je=this;if(ot.some(function(yt){return"characterData"===yt.type&&yt.target===je.textNode})){var Ke=this.restore();Ke&&(Ae.range=Ke)}}},{key:"value",value:function(){return""}}]),de}(we.default.Embed);Ie.blotName="cursor",Ie.className="ql-cursor",Ie.tagName="span",Ie.CONTENTS="\ufeff",Ze.default=Ie},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=function(){function gt(et,Ve){for(var ye=0;ye<Ve.length;ye++){var ge=Ve[ye];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(et,ge.key,ge)}}return function(et,Ve,ye){return Ve&&gt(et.prototype,Ve),ye&&gt(et,ye),et}}(),nt=function(){function gt(et,Ve){(function it(gt,et){if(!(gt instanceof et))throw new TypeError("Cannot call a class as a function")})(this,gt),this.quill=et,this.options=Ve,this.modules={}}return Nt(gt,[{key:"init",value:function(){var et=this;Object.keys(this.options.modules).forEach(function(Ve){null==et.modules[Ve]&&et.addModule(Ve)})}},{key:"addModule",value:function(et){var Ve=this.quill.constructor.import("modules/"+et);return this.modules[et]=new Ve(this.quill,this.options.modules[et]||{}),this.modules[et]}}]),gt}();nt.DEFAULTS={modules:{}},nt.themes={default:nt},Ze.default=nt},function(Kt,Ze,Oe){"use strict";function it(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}Object.defineProperty(Ze,"__esModule",{value:!0});var et=function(){function Ce(de,ot){for(var Ae=0;Ae<ot.length;Ae++){var je=ot[Ae];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(de,je.key,je)}}return function(de,ot,Ae){return ot&&Ce(de.prototype,ot),Ae&&Ce(de,Ae),de}}(),Ve=function Ce(de,ot,Ae){null===de&&(de=Function.prototype);var je=Object.getOwnPropertyDescriptor(de,ot);if(void 0===je){var Ke=Object.getPrototypeOf(de);return null===Ke?void 0:Ce(Ke,ot,Ae)}if("value"in je)return je.value;var yt=je.get;return void 0!==yt?yt.call(Ae):void 0},ge=it(Oe(0)),ve=it(Oe(8)),Ne="\ufeff",Ie=function(Ce){function de(ot){!function Nt(Ce,de){if(!(Ce instanceof de))throw new TypeError("Cannot call a class as a function")}(this,de);var Ae=function nt(Ce,de){if(!Ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!de||"object"!=typeof de&&"function"!=typeof de?Ce:de}(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,ot));return Ae.contentNode=document.createElement("span"),Ae.contentNode.setAttribute("contenteditable",!1),[].slice.call(Ae.domNode.childNodes).forEach(function(je){Ae.contentNode.appendChild(je)}),Ae.leftGuard=document.createTextNode(Ne),Ae.rightGuard=document.createTextNode(Ne),Ae.domNode.appendChild(Ae.leftGuard),Ae.domNode.appendChild(Ae.contentNode),Ae.domNode.appendChild(Ae.rightGuard),Ae}return function gt(Ce,de){if("function"!=typeof de&&null!==de)throw new TypeError("Super expression must either be null or a function, not "+typeof de);Ce.prototype=Object.create(de&&de.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(Ce,de):Ce.__proto__=de)}(de,Ce),et(de,[{key:"index",value:function(ot,Ae){return ot===this.leftGuard?0:ot===this.rightGuard?1:Ve(de.prototype.__proto__||Object.getPrototypeOf(de.prototype),"index",this).call(this,ot,Ae)}},{key:"restore",value:function(ot){var Ae=void 0,je=void 0,Ke=ot.data.split(Ne).join("");if(ot===this.leftGuard)if(this.prev instanceof ve.default){var yt=this.prev.length();this.prev.insertAt(yt,Ke),Ae={startNode:this.prev.domNode,startOffset:yt+Ke.length}}else je=document.createTextNode(Ke),this.parent.insertBefore(ge.default.create(je),this),Ae={startNode:je,startOffset:Ke.length};else ot===this.rightGuard&&(this.next instanceof ve.default?(this.next.insertAt(0,Ke),Ae={startNode:this.next.domNode,startOffset:Ke.length}):(je=document.createTextNode(Ke),this.parent.insertBefore(ge.default.create(je),this.next),Ae={startNode:je,startOffset:Ke.length}));return ot.data=Ne,Ae}},{key:"update",value:function(ot,Ae){var je=this;ot.forEach(function(Ke){if("characterData"===Ke.type&&(Ke.target===je.leftGuard||Ke.target===je.rightGuard)){var yt=je.restore(Ke.target);yt&&(Ae.range=yt)}})}}]),de}(ge.default.Embed);Ze.default=Ie},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.AlignStyle=Ze.AlignClass=Ze.AlignAttribute=void 0;var ye,Nt=(ye=Oe(0))&&ye.__esModule?ye:{default:ye},nt={scope:Nt.default.Scope.BLOCK,whitelist:["right","center","justify"]},gt=new Nt.default.Attributor.Attribute("align","align",nt),et=new Nt.default.Attributor.Class("align","ql-align",nt),Ve=new Nt.default.Attributor.Style("align","text-align",nt);Ze.AlignAttribute=gt,Ze.AlignClass=et,Ze.AlignStyle=Ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.BackgroundStyle=Ze.BackgroundClass=void 0;var Ve,Nt=(Ve=Oe(0))&&Ve.__esModule?Ve:{default:Ve},nt=Oe(24),gt=new Nt.default.Attributor.Class("background","ql-bg",{scope:Nt.default.Scope.INLINE}),et=new nt.ColorAttributor("background","background-color",{scope:Nt.default.Scope.INLINE});Ze.BackgroundClass=gt,Ze.BackgroundStyle=et},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.DirectionStyle=Ze.DirectionClass=Ze.DirectionAttribute=void 0;var ye,Nt=(ye=Oe(0))&&ye.__esModule?ye:{default:ye},nt={scope:Nt.default.Scope.BLOCK,whitelist:["rtl"]},gt=new Nt.default.Attributor.Attribute("direction","dir",nt),et=new Nt.default.Attributor.Class("direction","ql-direction",nt),Ve=new Nt.default.Attributor.Style("direction","direction",nt);Ze.DirectionAttribute=gt,Ze.DirectionClass=et,Ze.DirectionStyle=Ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.FontClass=Ze.FontStyle=void 0;var Ie,gt=function(){function Ie(Ce,de){for(var ot=0;ot<de.length;ot++){var Ae=de[ot];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(Ce,Ae.key,Ae)}}return function(Ce,de,ot){return de&&Ie(Ce.prototype,de),ot&&Ie(Ce,ot),Ce}}(),et=function Ie(Ce,de,ot){null===Ce&&(Ce=Function.prototype);var Ae=Object.getOwnPropertyDescriptor(Ce,de);if(void 0===Ae){var je=Object.getPrototypeOf(Ce);return null===je?void 0:Ie(je,de,ot)}if("value"in Ae)return Ae.value;var Ke=Ae.get;return void 0!==Ke?Ke.call(ot):void 0},ye=(Ie=Oe(0))&&Ie.__esModule?Ie:{default:Ie},ge={scope:ye.default.Scope.INLINE,whitelist:["serif","monospace"]},we=new ye.default.Attributor.Class("font","ql-font",ge),ve=function(Ie){function Ce(){return function it(Ie,Ce){if(!(Ie instanceof Ce))throw new TypeError("Cannot call a class as a function")}(this,Ce),function Nt(Ie,Ce){if(!Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ce||"object"!=typeof Ce&&"function"!=typeof Ce?Ie:Ce}(this,(Ce.__proto__||Object.getPrototypeOf(Ce)).apply(this,arguments))}return function nt(Ie,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Super expression must either be null or a function, not "+typeof Ce);Ie.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:Ie,enumerable:!1,writable:!0,configurable:!0}}),Ce&&(Object.setPrototypeOf?Object.setPrototypeOf(Ie,Ce):Ie.__proto__=Ce)}(Ce,Ie),gt(Ce,[{key:"value",value:function(de){return et(Ce.prototype.__proto__||Object.getPrototypeOf(Ce.prototype),"value",this).call(this,de).replace(/["']/g,"")}}]),Ce}(ye.default.Attributor.Style),Ne=new ve("font","font-family",ge);Ze.FontStyle=Ne,Ze.FontClass=we},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.SizeStyle=Ze.SizeClass=void 0;var et,Nt=(et=Oe(0))&&et.__esModule?et:{default:et},nt=new Nt.default.Attributor.Class("size","ql-size",{scope:Nt.default.Scope.INLINE,whitelist:["small","large","huge"]}),gt=new Nt.default.Attributor.Style("size","font-size",{scope:Nt.default.Scope.INLINE,whitelist:["10px","18px","32px"]});Ze.SizeClass=nt,Ze.SizeStyle=gt},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var we,gt=function(){function we(ve,Ne){for(var Ie=0;Ie<Ne.length;Ie++){var Ce=Ne[Ie];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ve,Ce.key,Ce)}}return function(ve,Ne,Ie){return Ne&&we(ve.prototype,Ne),Ie&&we(ve,Ie),ve}}(),et=function we(ve,Ne,Ie){null===ve&&(ve=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(ve,Ne);if(void 0===Ce){var de=Object.getPrototypeOf(ve);return null===de?void 0:we(de,Ne,Ie)}if("value"in Ce)return Ce.value;var ot=Ce.get;return void 0!==ot?ot.call(Ie):void 0},ge=function(we){function ve(){return function it(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,ve),function Nt(we,ve){if(!we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ve||"object"!=typeof ve&&"function"!=typeof ve?we:ve}(this,(ve.__proto__||Object.getPrototypeOf(ve)).apply(this,arguments))}return function nt(we,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);we.prototype=Object.create(ve&&ve.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(we,ve):we.__proto__=ve)}(ve,we),gt(ve,[{key:"optimize",value:function(Ne){et(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"optimize",this).call(this,Ne),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return et(ve.__proto__||Object.getPrototypeOf(ve),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),ve}(((we=Oe(5))&&we.__esModule?we:{default:we}).default);ge.blotName="bold",ge.tagName=["STRONG","B"],Ze.default=ge},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var we,gt=function(){function we(ve,Ne){for(var Ie=0;Ie<Ne.length;Ie++){var Ce=Ne[Ie];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ve,Ce.key,Ce)}}return function(ve,Ne,Ie){return Ne&&we(ve.prototype,Ne),Ie&&we(ve,Ie),ve}}(),et=function we(ve,Ne,Ie){null===ve&&(ve=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(ve,Ne);if(void 0===Ce){var de=Object.getPrototypeOf(ve);return null===de?void 0:we(de,Ne,Ie)}if("value"in Ce)return Ce.value;var ot=Ce.get;return void 0!==ot?ot.call(Ie):void 0},ge=function(we){function ve(Ne,Ie){!function it(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,ve);var Ce=function Nt(we,ve){if(!we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ve||"object"!=typeof ve&&"function"!=typeof ve?we:ve}(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,Ne));return Ce.label.innerHTML=Ie,Ce.container.classList.add("ql-color-picker"),[].slice.call(Ce.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(de){de.classList.add("ql-primary")}),Ce}return function nt(we,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);we.prototype=Object.create(ve&&ve.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(we,ve):we.__proto__=ve)}(ve,we),gt(ve,[{key:"buildItem",value:function(Ne){var Ie=et(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"buildItem",this).call(this,Ne);return Ie.style.backgroundColor=Ne.getAttribute("value")||"",Ie}},{key:"selectItem",value:function(Ne,Ie){et(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"selectItem",this).call(this,Ne,Ie);var Ce=this.label.querySelector(".ql-color-label"),de=Ne&&Ne.getAttribute("data-value")||"";Ce&&("line"===Ce.tagName?Ce.style.stroke=de:Ce.style.fill=de)}}]),ve}(((we=Oe(16))&&we.__esModule?we:{default:we}).default);Ze.default=ge},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var we,gt=function(){function we(ve,Ne){for(var Ie=0;Ie<Ne.length;Ie++){var Ce=Ne[Ie];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ve,Ce.key,Ce)}}return function(ve,Ne,Ie){return Ne&&we(ve.prototype,Ne),Ie&&we(ve,Ie),ve}}(),et=function we(ve,Ne,Ie){null===ve&&(ve=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(ve,Ne);if(void 0===Ce){var de=Object.getPrototypeOf(ve);return null===de?void 0:we(de,Ne,Ie)}if("value"in Ce)return Ce.value;var ot=Ce.get;return void 0!==ot?ot.call(Ie):void 0},ge=function(we){function ve(Ne,Ie){!function it(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,ve);var Ce=function Nt(we,ve){if(!we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ve||"object"!=typeof ve&&"function"!=typeof ve?we:ve}(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,Ne));return Ce.container.classList.add("ql-icon-picker"),[].forEach.call(Ce.container.querySelectorAll(".ql-picker-item"),function(de){de.innerHTML=Ie[de.getAttribute("data-value")||""]}),Ce.defaultItem=Ce.container.querySelector(".ql-selected"),Ce.selectItem(Ce.defaultItem),Ce}return function nt(we,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);we.prototype=Object.create(ve&&ve.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(we,ve):we.__proto__=ve)}(ve,we),gt(ve,[{key:"selectItem",value:function(Ne,Ie){et(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"selectItem",this).call(this,Ne,Ie),this.label.innerHTML=(Ne=Ne||this.defaultItem).innerHTML}}]),ve}(((we=Oe(16))&&we.__esModule?we:{default:we}).default);Ze.default=ge},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=function(){function gt(et,Ve){for(var ye=0;ye<Ve.length;ye++){var ge=Ve[ye];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(et,ge.key,ge)}}return function(et,Ve,ye){return Ve&&gt(et.prototype,Ve),ye&&gt(et,ye),et}}(),nt=function(){function gt(et,Ve){var ye=this;(function it(gt,et){if(!(gt instanceof et))throw new TypeError("Cannot call a class as a function")})(this,gt),this.quill=et,this.boundsContainer=Ve||document.body,this.root=et.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){ye.root.style.marginTop=-1*ye.quill.root.scrollTop+"px"}),this.hide()}return Nt(gt,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(et){var Ve=et.left+et.width/2-this.root.offsetWidth/2,ye=et.bottom+this.quill.root.scrollTop;this.root.style.left=Ve+"px",this.root.style.top=ye+"px",this.root.classList.remove("ql-flip");var ge=this.boundsContainer.getBoundingClientRect(),we=this.root.getBoundingClientRect(),ve=0;return we.right>ge.right&&(this.root.style.left=Ve+(ve=ge.right-we.right)+"px"),we.left<ge.left&&(this.root.style.left=Ve+(ve=ge.left-we.left)+"px"),we.bottom>ge.bottom&&(this.root.style.top=ye-(et.bottom-et.top+(we.bottom-we.top))+"px",this.root.classList.add("ql-flip")),ve}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),gt}();Ze.default=nt},function(Kt,Ze,Oe){"use strict";function it(pe){return pe&&pe.__esModule?pe:{default:pe}}function Nt(pe,ue){if(!(pe instanceof ue))throw new TypeError("Cannot call a class as a function")}function nt(pe,ue){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ue||"object"!=typeof ue&&"function"!=typeof ue?pe:ue}function gt(pe,ue){if("function"!=typeof ue&&null!==ue)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);pe.prototype=Object.create(ue&&ue.prototype,{constructor:{value:pe,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(pe,ue):pe.__proto__=ue)}function Ve(pe,ue){var ln=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ue.forEach(function(on){var jt=document.createElement("option");on===ln?jt.setAttribute("selected","selected"):jt.setAttribute("value",on),pe.appendChild(jt)})}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.BaseTooltip=void 0;var ye=function(){function pe(ue,ln){for(var on=0;on<ln.length;on++){var jt=ln[on];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(ue,jt.key,jt)}}return function(ue,ln,on){return ln&&pe(ue.prototype,ln),on&&pe(ue,on),ue}}(),ge=function pe(ue,ln,on){null===ue&&(ue=Function.prototype);var jt=Object.getOwnPropertyDescriptor(ue,ln);if(void 0===jt){var Zt=Object.getPrototypeOf(ue);return null===Zt?void 0:pe(Zt,ln,on)}if("value"in jt)return jt.value;var Et=jt.get;return void 0!==Et?Et.call(on):void 0},ve=it(Oe(2)),Ie=it(Oe(4)),de=it(Oe(9)),Ae=it(Oe(25)),Ke=it(Oe(32)),Ot=it(Oe(41)),lt=it(Oe(42)),Qe=it(Oe(16)),zt=it(Oe(43)),_t=[!1,"center","right","justify"],It=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Hn=[!1,"serif","monospace"],hn=["1","2","3",!1],pn=["small",!1,"large","huge"],qe=function(pe){function ue(ln,on){Nt(this,ue);var jt=nt(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,ln,on));return ln.emitter.listenDOM("click",document.body,function Et(xn){if(!document.body.contains(ln.root))return document.body.removeEventListener("click",Et);null==jt.tooltip||jt.tooltip.root.contains(xn.target)||document.activeElement===jt.tooltip.textbox||jt.quill.hasFocus()||jt.tooltip.hide(),null!=jt.pickers&&jt.pickers.forEach(function(Bt){Bt.container.contains(xn.target)||Bt.close()})}),jt}return gt(ue,pe),ye(ue,[{key:"addModule",value:function(ln){var on=ge(ue.prototype.__proto__||Object.getPrototypeOf(ue.prototype),"addModule",this).call(this,ln);return"toolbar"===ln&&this.extendToolbar(on),on}},{key:"buildButtons",value:function(ln,on){ln.forEach(function(jt){(jt.getAttribute("class")||"").split(/\s+/).forEach(function(Zt){if(Zt.startsWith("ql-")&&(Zt=Zt.slice(3),null!=on[Zt]))if("direction"===Zt)jt.innerHTML=on[Zt][""]+on[Zt].rtl;else if("string"==typeof on[Zt])jt.innerHTML=on[Zt];else{var Et=jt.value||"";null!=Et&&on[Zt][Et]&&(jt.innerHTML=on[Zt][Et])}})})}},{key:"buildPickers",value:function(ln,on){var jt=this;this.pickers=ln.map(function(Et){if(Et.classList.contains("ql-align"))return null==Et.querySelector("option")&&Ve(Et,_t),new lt.default(Et,on.align);if(Et.classList.contains("ql-background")||Et.classList.contains("ql-color")){var xn=Et.classList.contains("ql-background")?"background":"color";return null==Et.querySelector("option")&&Ve(Et,It,"background"===xn?"#ffffff":"#000000"),new Ot.default(Et,on[xn])}return null==Et.querySelector("option")&&(Et.classList.contains("ql-font")?Ve(Et,Hn):Et.classList.contains("ql-header")?Ve(Et,hn):Et.classList.contains("ql-size")&&Ve(Et,pn)),new Qe.default(Et)}),this.quill.on(de.default.events.EDITOR_CHANGE,function(){jt.pickers.forEach(function(Et){Et.update()})})}}]),ue}(Ke.default);qe.DEFAULTS=(0,ve.default)(!0,{},Ke.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var pe=this,ue=this.container.querySelector("input.ql-image[type=file]");null==ue&&((ue=document.createElement("input")).setAttribute("type","file"),ue.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ue.classList.add("ql-image"),ue.addEventListener("change",function(){if(null!=ue.files&&null!=ue.files[0]){var ln=new FileReader;ln.onload=function(on){var jt=pe.quill.getSelection(!0);pe.quill.updateContents((new Ie.default).retain(jt.index).delete(jt.length).insert({image:on.target.result}),de.default.sources.USER),pe.quill.setSelection(jt.index+1,de.default.sources.SILENT),ue.value=""},ln.readAsDataURL(ue.files[0])}}),this.container.appendChild(ue)),ue.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Vt=function(pe){function ue(ln,on){Nt(this,ue);var jt=nt(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,ln,on));return jt.textbox=jt.root.querySelector('input[type="text"]'),jt.listen(),jt}return gt(ue,pe),ye(ue,[{key:"listen",value:function(){var ln=this;this.textbox.addEventListener("keydown",function(on){Ae.default.match(on,"enter")?(ln.save(),on.preventDefault()):Ae.default.match(on,"escape")&&(ln.cancel(),on.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ln=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",on=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=on?this.textbox.value=on:ln!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ln)||""),this.root.setAttribute("data-mode",ln)}},{key:"restoreFocus",value:function(){var ln=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ln}},{key:"save",value:function(){var ln=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var on=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ln,de.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ln,de.default.sources.USER)),this.quill.root.scrollTop=on;break;case"video":ln=function et(pe){var ue=pe.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||pe.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return ue?(ue[1]||"https")+"://www.youtube.com/embed/"+ue[2]+"?showinfo=0":(ue=pe.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(ue[1]||"https")+"://player.vimeo.com/video/"+ue[2]+"/":pe}(ln);case"formula":if(!ln)break;var jt=this.quill.getSelection(!0);if(null!=jt){var Zt=jt.index+jt.length;this.quill.insertEmbed(Zt,this.root.getAttribute("data-mode"),ln,de.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Zt+1," ",de.default.sources.USER),this.quill.setSelection(Zt+2,de.default.sources.USER)}}this.textbox.value="",this.hide()}}]),ue}(zt.default);Ze.BaseTooltip=Vt,Ze.default=qe},function(Kt,Ze,Oe){"use strict";function it(Wi){return Wi&&Wi.__esModule?Wi:{default:Wi}}Object.defineProperty(Ze,"__esModule",{value:!0});var nt=it(Oe(46)),gt=Oe(34),et=Oe(36),Ve=Oe(62),ge=it(Oe(63)),ve=it(Oe(64)),Ne=Oe(65),Ie=it(Ne),Ce=Oe(35),de=Oe(24),ot=Oe(37),Ae=Oe(38),Ke=it(Oe(39)),Ot=it(Oe(66)),lt=it(Oe(15)),Qe=it(Oe(67)),zt=it(Oe(68)),It=it(Oe(69)),hn=it(Oe(70)),qe=it(Oe(71)),Vt=Oe(13),pe=it(Vt),ln=it(Oe(72)),jt=it(Oe(73)),Et=it(Oe(74)),Bt=it(Oe(26)),On=it(Oe(16)),En=it(Oe(41)),pr=it(Oe(42)),_n=it(Oe(43)),di=it(Oe(107)),ai=it(Oe(108));nt.default.register({"attributors/attribute/direction":et.DirectionAttribute,"attributors/class/align":gt.AlignClass,"attributors/class/background":Ce.BackgroundClass,"attributors/class/color":de.ColorClass,"attributors/class/direction":et.DirectionClass,"attributors/class/font":ot.FontClass,"attributors/class/size":Ae.SizeClass,"attributors/style/align":gt.AlignStyle,"attributors/style/background":Ce.BackgroundStyle,"attributors/style/color":de.ColorStyle,"attributors/style/direction":et.DirectionStyle,"attributors/style/font":ot.FontStyle,"attributors/style/size":Ae.SizeStyle},!0),nt.default.register({"formats/align":gt.AlignClass,"formats/direction":et.DirectionClass,"formats/indent":Ve.IndentClass,"formats/background":Ce.BackgroundStyle,"formats/color":de.ColorStyle,"formats/font":ot.FontClass,"formats/size":Ae.SizeClass,"formats/blockquote":ge.default,"formats/code-block":pe.default,"formats/header":ve.default,"formats/list":Ie.default,"formats/bold":Ke.default,"formats/code":Vt.Code,"formats/italic":Ot.default,"formats/link":lt.default,"formats/script":Qe.default,"formats/strike":zt.default,"formats/underline":It.default,"formats/image":hn.default,"formats/video":qe.default,"formats/list/item":Ne.ListItem,"modules/formula":ln.default,"modules/syntax":jt.default,"modules/toolbar":Et.default,"themes/bubble":di.default,"themes/snow":ai.default,"ui/icons":Bt.default,"ui/picker":On.default,"ui/icon-picker":pr.default,"ui/color-picker":En.default,"ui/tooltip":_n.default},!0),Ze.default=nt.default},function(Kt,Ze,Oe){"use strict";function it(It){return It&&It.__esModule?It:{default:It}}Object.defineProperty(Ze,"__esModule",{value:!0});var nt=it(Oe(0)),et=it(Oe(6)),Ve=Oe(3),ye=it(Ve),we=it(Oe(14)),Ne=it(Oe(23)),Ce=it(Oe(31)),ot=it(Oe(33)),je=it(Oe(5)),yt=it(Oe(59)),wt=it(Oe(8)),$e=it(Oe(60)),rt=it(Oe(61)),_t=it(Oe(25));et.default.register({"blots/block":ye.default,"blots/block/embed":Ve.BlockEmbed,"blots/break":we.default,"blots/container":Ne.default,"blots/cursor":Ce.default,"blots/embed":ot.default,"blots/inline":je.default,"blots/scroll":yt.default,"blots/text":wt.default,"modules/clipboard":$e.default,"modules/history":rt.default,"modules/keyboard":_t.default}),nt.default.register(ye.default,we.default,Ce.default,je.default,yt.default,wt.default),Ze.default=et.default},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var it=function(){function Nt(){this.head=this.tail=null,this.length=0}return Nt.prototype.append=function(){for(var nt=[],gt=0;gt<arguments.length;gt++)nt[gt]=arguments[gt];this.insertBefore(nt[0],null),nt.length>1&&this.append.apply(this,nt.slice(1))},Nt.prototype.contains=function(nt){for(var gt,et=this.iterator();gt=et();)if(gt===nt)return!0;return!1},Nt.prototype.insertBefore=function(nt,gt){nt&&(nt.next=gt,null!=gt?(nt.prev=gt.prev,null!=gt.prev&&(gt.prev.next=nt),gt.prev=nt,gt===this.head&&(this.head=nt)):null!=this.tail?(this.tail.next=nt,nt.prev=this.tail,this.tail=nt):(nt.prev=null,this.head=this.tail=nt),this.length+=1)},Nt.prototype.offset=function(nt){for(var gt=0,et=this.head;null!=et;){if(et===nt)return gt;gt+=et.length(),et=et.next}return-1},Nt.prototype.remove=function(nt){this.contains(nt)&&(null!=nt.prev&&(nt.prev.next=nt.next),null!=nt.next&&(nt.next.prev=nt.prev),nt===this.head&&(this.head=nt.next),nt===this.tail&&(this.tail=nt.prev),this.length-=1)},Nt.prototype.iterator=function(nt){return void 0===nt&&(nt=this.head),function(){var gt=nt;return null!=nt&&(nt=nt.next),gt}},Nt.prototype.find=function(nt,gt){void 0===gt&&(gt=!1);for(var et,Ve=this.iterator();et=Ve();){var ye=et.length();if(nt<ye||gt&&nt===ye&&(null==et.next||0!==et.next.length()))return[et,nt];nt-=ye}return[null,0]},Nt.prototype.forEach=function(nt){for(var gt,et=this.iterator();gt=et();)nt(gt)},Nt.prototype.forEachAt=function(nt,gt,et){if(!(gt<=0))for(var Ve,ye=this.find(nt),ve=nt-ye[1],Ne=this.iterator(ye[0]);(Ve=Ne())&&ve<nt+gt;){var Ie=Ve.length();nt>ve?et(Ve,nt-ve,Math.min(gt,ve+Ie-nt)):et(Ve,0,Math.min(Ie,nt+gt-ve)),ve+=Ie}},Nt.prototype.map=function(nt){return this.reduce(function(gt,et){return gt.push(nt(et)),gt},[])},Nt.prototype.reduce=function(nt,gt){for(var et,Ve=this.iterator();et=Ve();)gt=nt(gt,et);return gt},Nt}();Ze.default=it},function(Kt,Ze,Oe){"use strict";var Ve,it=this&&this.__extends||(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,ge){ye.__proto__=ge}||function(ye,ge){for(var we in ge)ge.hasOwnProperty(we)&&(ye[we]=ge[we])},function(ye,ge){function we(){this.constructor=ye}Ve(ye,ge),ye.prototype=null===ge?Object.create(ge):(we.prototype=ge.prototype,new we)});Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=Oe(17),nt=Oe(1),gt={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},et=function(Ve){function ye(ge){var we=Ve.call(this,ge)||this;return we.scroll=we,we.observer=new MutationObserver(function(ve){we.update(ve)}),we.observer.observe(we.domNode,gt),we.attach(),we}return it(ye,Ve),ye.prototype.detach=function(){Ve.prototype.detach.call(this),this.observer.disconnect()},ye.prototype.deleteAt=function(ge,we){this.update(),0===ge&&we===this.length()?this.children.forEach(function(ve){ve.remove()}):Ve.prototype.deleteAt.call(this,ge,we)},ye.prototype.formatAt=function(ge,we,ve,Ne){this.update(),Ve.prototype.formatAt.call(this,ge,we,ve,Ne)},ye.prototype.insertAt=function(ge,we,ve){this.update(),Ve.prototype.insertAt.call(this,ge,we,ve)},ye.prototype.optimize=function(ge,we){var ve=this;void 0===ge&&(ge=[]),void 0===we&&(we={}),Ve.prototype.optimize.call(this,we);for(var Ne=[].slice.call(this.observer.takeRecords());Ne.length>0;)ge.push(Ne.pop());for(var Ie=function(Ae,je){void 0===je&&(je=!0),null!=Ae&&Ae!==ve&&null!=Ae.domNode.parentNode&&(null==Ae.domNode[nt.DATA_KEY].mutations&&(Ae.domNode[nt.DATA_KEY].mutations=[]),je&&Ie(Ae.parent))},Ce=function(Ae){null!=Ae.domNode[nt.DATA_KEY]&&null!=Ae.domNode[nt.DATA_KEY].mutations&&(Ae instanceof Nt.default&&Ae.children.forEach(Ce),Ae.optimize(we))},de=ge,ot=0;de.length>0;ot+=1){if(ot>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(de.forEach(function(Ae){var je=nt.find(Ae.target,!0);null!=je&&(je.domNode===Ae.target&&("childList"===Ae.type?(Ie(nt.find(Ae.previousSibling,!1)),[].forEach.call(Ae.addedNodes,function(Ke){var yt=nt.find(Ke,!1);Ie(yt,!1),yt instanceof Nt.default&&yt.children.forEach(function(Ot){Ie(Ot,!1)})})):"attributes"===Ae.type&&Ie(je.prev)),Ie(je))}),this.children.forEach(Ce),Ne=(de=[].slice.call(this.observer.takeRecords())).slice();Ne.length>0;)ge.push(Ne.pop())}},ye.prototype.update=function(ge,we){var ve=this;void 0===we&&(we={}),(ge=ge||this.observer.takeRecords()).map(function(Ne){var Ie=nt.find(Ne.target,!0);return null==Ie?null:null==Ie.domNode[nt.DATA_KEY].mutations?(Ie.domNode[nt.DATA_KEY].mutations=[Ne],Ie):(Ie.domNode[nt.DATA_KEY].mutations.push(Ne),null)}).forEach(function(Ne){null!=Ne&&Ne!==ve&&null!=Ne.domNode[nt.DATA_KEY]&&Ne.update(Ne.domNode[nt.DATA_KEY].mutations||[],we)}),null!=this.domNode[nt.DATA_KEY].mutations&&Ve.prototype.update.call(this,this.domNode[nt.DATA_KEY].mutations,we),this.optimize(ge,we)},ye.blotName="scroll",ye.defaultChild="block",ye.scope=nt.Scope.BLOCK_BLOT,ye.tagName="DIV",ye}(Nt.default);Ze.default=et},function(Kt,Ze,Oe){"use strict";var Ve,Nt=this&&this.__extends||(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,ge){ye.__proto__=ge}||function(ye,ge){for(var we in ge)ge.hasOwnProperty(we)&&(ye[we]=ge[we])},function(ye,ge){function we(){this.constructor=ye}Ve(ye,ge),ye.prototype=null===ge?Object.create(ge):(we.prototype=ge.prototype,new we)});Object.defineProperty(Ze,"__esModule",{value:!0});var nt=Oe(18),gt=Oe(1),et=function(Ve){function ye(){return null!==Ve&&Ve.apply(this,arguments)||this}return Nt(ye,Ve),ye.formats=function(ge){if(ge.tagName!==ye.tagName)return Ve.formats.call(this,ge)},ye.prototype.format=function(ge,we){var ve=this;ge!==this.statics.blotName||we?Ve.prototype.format.call(this,ge,we):(this.children.forEach(function(Ne){Ne instanceof nt.default||(Ne=Ne.wrap(ye.blotName,!0)),ve.attributes.copy(Ne)}),this.unwrap())},ye.prototype.formatAt=function(ge,we,ve,Ne){null!=this.formats()[ve]||gt.query(ve,gt.Scope.ATTRIBUTE)?this.isolate(ge,we).format(ve,Ne):Ve.prototype.formatAt.call(this,ge,we,ve,Ne)},ye.prototype.optimize=function(ge){Ve.prototype.optimize.call(this,ge);var we=this.formats();if(0===Object.keys(we).length)return this.unwrap();var ve=this.next;ve instanceof ye&&ve.prev===this&&function it(Ve,ye){if(Object.keys(Ve).length!==Object.keys(ye).length)return!1;for(var ge in Ve)if(Ve[ge]!==ye[ge])return!1;return!0}(we,ve.formats())&&(ve.moveChildren(this),ve.remove())},ye.blotName="inline",ye.scope=gt.Scope.INLINE_BLOT,ye.tagName="SPAN",ye}(nt.default);Ze.default=et},function(Kt,Ze,Oe){"use strict";var et,it=this&&this.__extends||(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ve,ye){Ve.__proto__=ye}||function(Ve,ye){for(var ge in ye)ye.hasOwnProperty(ge)&&(Ve[ge]=ye[ge])},function(Ve,ye){function ge(){this.constructor=Ve}et(Ve,ye),Ve.prototype=null===ye?Object.create(ye):(ge.prototype=ye.prototype,new ge)});Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=Oe(18),nt=Oe(1),gt=function(et){function Ve(){return null!==et&&et.apply(this,arguments)||this}return it(Ve,et),Ve.formats=function(ye){var ge=nt.query(Ve.blotName).tagName;if(ye.tagName!==ge)return et.formats.call(this,ye)},Ve.prototype.format=function(ye,ge){null!=nt.query(ye,nt.Scope.BLOCK)&&(ye!==this.statics.blotName||ge?et.prototype.format.call(this,ye,ge):this.replaceWith(Ve.blotName))},Ve.prototype.formatAt=function(ye,ge,we,ve){null!=nt.query(we,nt.Scope.BLOCK)?this.format(we,ve):et.prototype.formatAt.call(this,ye,ge,we,ve)},Ve.prototype.insertAt=function(ye,ge,we){if(null==we||null!=nt.query(ge,nt.Scope.INLINE))et.prototype.insertAt.call(this,ye,ge,we);else{var ve=this.split(ye),Ne=nt.create(ge,we);ve.parent.insertBefore(Ne,ve)}},Ve.prototype.update=function(ye,ge){navigator.userAgent.match(/Trident/)?this.build():et.prototype.update.call(this,ye,ge)},Ve.blotName="block",Ve.scope=nt.Scope.BLOCK_BLOT,Ve.tagName="P",Ve}(Nt.default);Ze.default=gt},function(Kt,Ze,Oe){"use strict";var gt,it=this&&this.__extends||(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,Ve){et.__proto__=Ve}||function(et,Ve){for(var ye in Ve)Ve.hasOwnProperty(ye)&&(et[ye]=Ve[ye])},function(et,Ve){function ye(){this.constructor=et}gt(et,Ve),et.prototype=null===Ve?Object.create(Ve):(ye.prototype=Ve.prototype,new ye)});Object.defineProperty(Ze,"__esModule",{value:!0});var nt=function(gt){function et(){return null!==gt&&gt.apply(this,arguments)||this}return it(et,gt),et.formats=function(Ve){},et.prototype.format=function(Ve,ye){gt.prototype.formatAt.call(this,0,this.length(),Ve,ye)},et.prototype.formatAt=function(Ve,ye,ge,we){0===Ve&&ye===this.length()?this.format(ge,we):gt.prototype.formatAt.call(this,Ve,ye,ge,we)},et.prototype.formats=function(){return this.statics.formats(this.domNode)},et}(Oe(19).default);Ze.default=nt},function(Kt,Ze,Oe){"use strict";var et,it=this&&this.__extends||(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ve,ye){Ve.__proto__=ye}||function(Ve,ye){for(var ge in ye)ye.hasOwnProperty(ge)&&(Ve[ge]=ye[ge])},function(Ve,ye){function ge(){this.constructor=Ve}et(Ve,ye),Ve.prototype=null===ye?Object.create(ye):(ge.prototype=ye.prototype,new ge)});Object.defineProperty(Ze,"__esModule",{value:!0});var Nt=Oe(19),nt=Oe(1),gt=function(et){function Ve(ye){var ge=et.call(this,ye)||this;return ge.text=ge.statics.value(ge.domNode),ge}return it(Ve,et),Ve.create=function(ye){return document.createTextNode(ye)},Ve.value=function(ye){var ge=ye.data;return ge.normalize&&(ge=ge.normalize()),ge},Ve.prototype.deleteAt=function(ye,ge){this.domNode.data=this.text=this.text.slice(0,ye)+this.text.slice(ye+ge)},Ve.prototype.index=function(ye,ge){return this.domNode===ye?ge:-1},Ve.prototype.insertAt=function(ye,ge,we){null==we?(this.text=this.text.slice(0,ye)+ge+this.text.slice(ye),this.domNode.data=this.text):et.prototype.insertAt.call(this,ye,ge,we)},Ve.prototype.length=function(){return this.text.length},Ve.prototype.optimize=function(ye){et.prototype.optimize.call(this,ye),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof Ve&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},Ve.prototype.position=function(ye,ge){return void 0===ge&&(ge=!1),[this.domNode,ye]},Ve.prototype.split=function(ye,ge){if(void 0===ge&&(ge=!1),!ge){if(0===ye)return this;if(ye===this.length())return this.next}var we=nt.create(this.domNode.splitText(ye));return this.parent.insertBefore(we,this.next),this.text=this.statics.value(this.domNode),we},Ve.prototype.update=function(ye,ge){var we=this;ye.some(function(ve){return"characterData"===ve.type&&ve.target===we.domNode})&&(this.text=this.statics.value(this.domNode))},Ve.prototype.value=function(){return this.text},Ve.blotName="text",Ve.scope=nt.Scope.INLINE_BLOT,Ve}(Nt.default);Ze.default=gt},function(Kt,Ze,Oe){"use strict";var it=document.createElement("div");if(it.classList.toggle("test-class",!1),it.classList.contains("test-class")){var Nt=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(nt,gt){return arguments.length>1&&!this.contains(nt)==!gt?gt:Nt.call(this,nt)}}String.prototype.startsWith||(String.prototype.startsWith=function(nt,gt){return this.substr(gt=gt||0,nt.length)===nt}),String.prototype.endsWith||(String.prototype.endsWith=function(nt,gt){var et=this.toString();("number"!=typeof gt||!isFinite(gt)||Math.floor(gt)!==gt||gt>et.length)&&(gt=et.length);var Ve=et.indexOf(nt,gt-=nt.length);return-1!==Ve&&Ve===gt}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(nt){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof nt)throw new TypeError("predicate must be a function");for(var gt,et=Object(this),Ve=et.length>>>0,ye=arguments[1],ge=0;ge<Ve;ge++)if(nt.call(ye,gt=et[ge],ge,et))return gt}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(Kt,Ze){function Oe(Ae,je,Ke){if(Ae==je)return Ae?[[de,Ae]]:[];(Ke<0||Ae.length<Ke)&&(Ke=null);var yt=gt(Ae,je),Ot=Ae.substring(0,yt);yt=et(Ae=Ae.substring(yt),je=je.substring(yt));var wt=Ae.substring(Ae.length-yt),lt=function it(Ae,je){var Ke;if(!Ae)return[[Ce,je]];if(!je)return[[Ie,Ae]];var yt=Ae.length>je.length?Ae:je,Ot=Ae.length>je.length?je:Ae,wt=yt.indexOf(Ot);if(-1!=wt)return Ke=[[Ce,yt.substring(0,wt)],[de,Ot],[Ce,yt.substring(wt+Ot.length)]],Ae.length>je.length&&(Ke[0][0]=Ke[2][0]=Ie),Ke;if(1==Ot.length)return[[Ie,Ae],[Ce,je]];var lt=function Ve(Ae,je){function Ke(It,Hn,hn){for(var pn,qe,Vt,pe,ue=It.substring(hn,hn+Math.floor(It.length/4)),ln=-1,on="";-1!=(ln=Hn.indexOf(ue,ln+1));){var jt=gt(It.substring(hn),Hn.substring(ln)),Zt=et(It.substring(0,hn),Hn.substring(0,ln));on.length<Zt+jt&&(on=Hn.substring(ln-Zt,ln)+Hn.substring(ln,ln+jt),pn=It.substring(0,hn-Zt),qe=It.substring(hn+jt),Vt=Hn.substring(0,ln-Zt),pe=Hn.substring(ln+jt))}return 2*on.length>=It.length?[pn,qe,Vt,pe,on]:null}var yt=Ae.length>je.length?Ae:je,Ot=Ae.length>je.length?je:Ae;if(yt.length<4||2*Ot.length<yt.length)return null;var wt,Qe,rt,zt,_t,lt=Ke(yt,Ot,Math.ceil(yt.length/4)),$e=Ke(yt,Ot,Math.ceil(yt.length/2));return lt||$e?(wt=$e?lt&&lt[4].length>$e[4].length?lt:$e:lt,Ae.length>je.length?(Qe=wt[0],rt=wt[1],zt=wt[2],_t=wt[3]):(zt=wt[0],_t=wt[1],Qe=wt[2],rt=wt[3]),[Qe,rt,zt,_t,wt[4]]):null}(Ae,je);if(lt){var Qe=lt[1],zt=lt[3],_t=lt[4],It=Oe(lt[0],lt[2]),Hn=Oe(Qe,zt);return It.concat([[de,_t]],Hn)}return function Nt(Ae,je){for(var Ke=Ae.length,yt=je.length,Ot=Math.ceil((Ke+yt)/2),wt=Ot,lt=2*Ot,$e=new Array(lt),Qe=new Array(lt),rt=0;rt<lt;rt++)$e[rt]=-1,Qe[rt]=-1;$e[wt+1]=0,Qe[wt+1]=0;for(var zt=Ke-yt,_t=zt%2!=0,It=0,Hn=0,hn=0,pn=0,qe=0;qe<Ot;qe++){for(var Vt=-qe+It;Vt<=qe-Hn;Vt+=2){for(var ue=wt+Vt,ln=(pe=Vt==-qe||Vt!=qe&&$e[ue-1]<$e[ue+1]?$e[ue+1]:$e[ue-1]+1)-Vt;pe<Ke&&ln<yt&&Ae.charAt(pe)==je.charAt(ln);)pe++,ln++;if($e[ue]=pe,pe>Ke)Hn+=2;else if(ln>yt)It+=2;else if(_t&&(on=wt+zt-Vt)>=0&&on<lt&&-1!=Qe[on]&&pe>=(jt=Ke-Qe[on]))return nt(Ae,je,pe,ln)}for(var Zt=-qe+hn;Zt<=qe-pn;Zt+=2){for(var jt,on=wt+Zt,Et=(jt=Zt==-qe||Zt!=qe&&Qe[on-1]<Qe[on+1]?Qe[on+1]:Qe[on-1]+1)-Zt;jt<Ke&&Et<yt&&Ae.charAt(Ke-jt-1)==je.charAt(yt-Et-1);)jt++,Et++;if(Qe[on]=jt,jt>Ke)pn+=2;else if(Et>yt)hn+=2;else if(!_t){var pe;if((ue=wt+zt-Zt)>=0&&ue<lt&&-1!=$e[ue])if(ln=wt+(pe=$e[ue])-ue,pe>=(jt=Ke-jt))return nt(Ae,je,pe,ln)}}}return[[Ie,Ae],[Ce,je]]}(Ae,je)}(Ae=Ae.substring(0,Ae.length-yt),je=je.substring(0,je.length-yt));return Ot&&lt.unshift([de,Ot]),wt&&lt.push([de,wt]),ye(lt),null!=Ke&&(lt=function we(Ae,je){var Ke=function ge(Ae,je){if(0===je)return[de,Ae];for(var Ke=0,yt=0;yt<Ae.length;yt++){var Ot=Ae[yt];if(Ot[0]===Ie||Ot[0]===de){var wt=Ke+Ot[1].length;if(je===wt)return[yt+1,Ae];if(je<wt){Ae=Ae.slice();var lt=je-Ke,$e=[Ot[0],Ot[1].slice(0,lt)],Qe=[Ot[0],Ot[1].slice(lt)];return Ae.splice(yt,1,$e,Qe),[yt+1,Ae]}Ke=wt}}throw new Error("cursor_pos is out of bounds!")}(Ae,je),yt=Ke[1],Ot=Ke[0],wt=yt[Ot],lt=yt[Ot+1];if(null==wt||wt[0]!==de)return Ae;if(null!=lt&&wt[1]+lt[1]===lt[1]+wt[1])return yt.splice(Ot,2,lt,wt),Ne(yt,Ot,2);if(null!=lt&&0===lt[1].indexOf(wt[1])){yt.splice(Ot,2,[lt[0],wt[1]],[0,wt[1]]);var $e=lt[1].slice(wt[1].length);return $e.length>0&&yt.splice(Ot+2,0,[lt[0],$e]),Ne(yt,Ot,3)}return Ae}(lt,Ke)),function ve(Ae){for(var je=!1,Ke=function(wt){return wt.charCodeAt(0)>=56320&&wt.charCodeAt(0)<=57343},yt=2;yt<Ae.length;yt+=1)Ae[yt-2][0]===de&&function(wt){return wt.charCodeAt(wt.length-1)>=55296&&wt.charCodeAt(wt.length-1)<=56319}(Ae[yt-2][1])&&Ae[yt-1][0]===Ie&&Ke(Ae[yt-1][1])&&Ae[yt][0]===Ce&&Ke(Ae[yt][1])&&(je=!0,Ae[yt-1][1]=Ae[yt-2][1].slice(-1)+Ae[yt-1][1],Ae[yt][1]=Ae[yt-2][1].slice(-1)+Ae[yt][1],Ae[yt-2][1]=Ae[yt-2][1].slice(0,-1));if(!je)return Ae;var Ot=[];for(yt=0;yt<Ae.length;yt+=1)Ae[yt][1].length>0&&Ot.push(Ae[yt]);return Ot}(lt)}function nt(Ae,je,Ke,yt){var Ot=Ae.substring(0,Ke),wt=je.substring(0,yt),lt=Ae.substring(Ke),$e=je.substring(yt),Qe=Oe(Ot,wt),rt=Oe(lt,$e);return Qe.concat(rt)}function gt(Ae,je){if(!Ae||!je||Ae.charAt(0)!=je.charAt(0))return 0;for(var Ke=0,yt=Math.min(Ae.length,je.length),Ot=yt,wt=0;Ke<Ot;)Ae.substring(wt,Ot)==je.substring(wt,Ot)?wt=Ke=Ot:yt=Ot,Ot=Math.floor((yt-Ke)/2+Ke);return Ot}function et(Ae,je){if(!Ae||!je||Ae.charAt(Ae.length-1)!=je.charAt(je.length-1))return 0;for(var Ke=0,yt=Math.min(Ae.length,je.length),Ot=yt,wt=0;Ke<Ot;)Ae.substring(Ae.length-Ot,Ae.length-wt)==je.substring(je.length-Ot,je.length-wt)?wt=Ke=Ot:yt=Ot,Ot=Math.floor((yt-Ke)/2+Ke);return Ot}function ye(Ae){Ae.push([de,""]);for(var je,Ke=0,yt=0,Ot=0,wt="",lt="";Ke<Ae.length;)switch(Ae[Ke][0]){case Ce:Ot++,lt+=Ae[Ke][1],Ke++;break;case Ie:yt++,wt+=Ae[Ke][1],Ke++;break;case de:yt+Ot>1?(0!==yt&&0!==Ot&&(0!==(je=gt(lt,wt))&&(Ke-yt-Ot>0&&Ae[Ke-yt-Ot-1][0]==de?Ae[Ke-yt-Ot-1][1]+=lt.substring(0,je):(Ae.splice(0,0,[de,lt.substring(0,je)]),Ke++),lt=lt.substring(je),wt=wt.substring(je)),0!==(je=et(lt,wt))&&(Ae[Ke][1]=lt.substring(lt.length-je)+Ae[Ke][1],lt=lt.substring(0,lt.length-je),wt=wt.substring(0,wt.length-je))),0===yt?Ae.splice(Ke-Ot,yt+Ot,[Ce,lt]):0===Ot?Ae.splice(Ke-yt,yt+Ot,[Ie,wt]):Ae.splice(Ke-yt-Ot,yt+Ot,[Ie,wt],[Ce,lt]),Ke=Ke-yt-Ot+(yt?1:0)+(Ot?1:0)+1):0!==Ke&&Ae[Ke-1][0]==de?(Ae[Ke-1][1]+=Ae[Ke][1],Ae.splice(Ke,1)):Ke++,Ot=0,yt=0,wt="",lt=""}""===Ae[Ae.length-1][1]&&Ae.pop();var $e=!1;for(Ke=1;Ke<Ae.length-1;)Ae[Ke-1][0]==de&&Ae[Ke+1][0]==de&&(Ae[Ke][1].substring(Ae[Ke][1].length-Ae[Ke-1][1].length)==Ae[Ke-1][1]?(Ae[Ke][1]=Ae[Ke-1][1]+Ae[Ke][1].substring(0,Ae[Ke][1].length-Ae[Ke-1][1].length),Ae[Ke+1][1]=Ae[Ke-1][1]+Ae[Ke+1][1],Ae.splice(Ke-1,1),$e=!0):Ae[Ke][1].substring(0,Ae[Ke+1][1].length)==Ae[Ke+1][1]&&(Ae[Ke-1][1]+=Ae[Ke+1][1],Ae[Ke][1]=Ae[Ke][1].substring(Ae[Ke+1][1].length)+Ae[Ke+1][1],Ae.splice(Ke+1,1),$e=!0)),Ke++;$e&&ye(Ae)}function Ne(Ae,je,Ke){for(var yt=je+Ke-1;yt>=0&&yt>=je-1;yt--)if(yt+1<Ae.length){var Ot=Ae[yt],wt=Ae[yt+1];Ot[0]===wt[1]&&Ae.splice(yt,2,[Ot[0],Ot[1]+wt[1]])}return Ae}var Ie=-1,Ce=1,de=0,ot=Oe;ot.INSERT=Ce,ot.DELETE=Ie,ot.EQUAL=de,Kt.exports=ot},function(Kt,Ze){function Oe(it){var Nt=[];for(var nt in it)Nt.push(nt);return Nt}(Kt.exports="function"==typeof Object.keys?Object.keys:Oe).shim=Oe},function(Kt,Ze){function Oe(nt){return"[object Arguments]"==Object.prototype.toString.call(nt)}function it(nt){return nt&&"object"==typeof nt&&"number"==typeof nt.length&&Object.prototype.hasOwnProperty.call(nt,"callee")&&!Object.prototype.propertyIsEnumerable.call(nt,"callee")||!1}var Nt="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(Ze=Kt.exports=Nt?Oe:it).supported=Oe,Ze.unsupported=it},function(Kt,Ze,Oe){"use strict";function it(pn){return pn&&pn.__esModule?pn:{default:pn}}function gt(pn,qe){return Object.keys(qe).reduce(function(Vt,pe){return null==pn[pe]||(qe[pe]===pn[pe]?Vt[pe]=qe[pe]:Array.isArray(qe[pe])?qe[pe].indexOf(pn[pe])<0&&(Vt[pe]=qe[pe].concat([pn[pe]])):Vt[pe]=[qe[pe],pn[pe]]),Vt},{})}Object.defineProperty(Ze,"__esModule",{value:!0});var Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pn){return typeof pn}:function(pn){return pn&&"function"==typeof Symbol&&pn.constructor===Symbol&&pn!==Symbol.prototype?"symbol":typeof pn},ye=function(qe,Vt){if(Array.isArray(qe))return qe;if(Symbol.iterator in Object(qe))return function pn(qe,Vt){var pe=[],ue=!0,ln=!1,on=void 0;try{for(var jt,Zt=qe[Symbol.iterator]();!(ue=(jt=Zt.next()).done)&&(pe.push(jt.value),!Vt||pe.length!==Vt);ue=!0);}catch(Et){ln=!0,on=Et}finally{try{!ue&&Zt.return&&Zt.return()}finally{if(ln)throw on}}return pe}(qe,Vt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ge=function(){function pn(qe,Vt){for(var pe=0;pe<Vt.length;pe++){var ue=Vt[pe];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(qe,ue.key,ue)}}return function(qe,Vt,pe){return Vt&&pn(qe.prototype,Vt),pe&&pn(qe,pe),qe}}(),ve=it(Oe(4)),Ie=it(Oe(20)),de=it(Oe(0)),Ae=it(Oe(13)),Ke=it(Oe(31)),yt=Oe(3),Ot=it(yt),lt=it(Oe(14)),Qe=it(Oe(21)),zt=it(Oe(12)),It=it(Oe(2)),Hn=/^[ -~]*$/,hn=function(){function pn(qe){(function nt(pn,qe){if(!(pn instanceof qe))throw new TypeError("Cannot call a class as a function")})(this,pn),this.scroll=qe,this.delta=this.getDelta()}return ge(pn,[{key:"applyDelta",value:function(qe){var Vt=this,pe=!1;this.scroll.update();var ue=this.scroll.length();return this.scroll.batchStart(),qe=function et(pn){return pn.reduce(function(qe,Vt){if(1===Vt.insert){var pe=(0,Qe.default)(Vt.attributes);return delete pe.image,qe.insert({image:Vt.attributes.image},pe)}if(null==Vt.attributes||!0!==Vt.attributes.list&&!0!==Vt.attributes.bullet||((Vt=(0,Qe.default)(Vt)).attributes.list?Vt.attributes.list="ordered":(Vt.attributes.list="bullet",delete Vt.attributes.bullet)),"string"==typeof Vt.insert){var ue=Vt.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return qe.insert(ue,Vt.attributes)}return qe.push(Vt)},new ve.default)}(qe),qe.reduce(function(ln,on){var jt=on.retain||on.delete||on.insert.length||1,Zt=on.attributes||{};if(null!=on.insert){if("string"==typeof on.insert){var Et=on.insert;Et.endsWith("\n")&&pe&&(pe=!1,Et=Et.slice(0,-1)),ln>=ue&&!Et.endsWith("\n")&&(pe=!0),Vt.scroll.insertAt(ln,Et);var xn=Vt.scroll.line(ln),Bt=ye(xn,2),Ht=Bt[0],On=Bt[1],xr=(0,It.default)({},(0,yt.bubbleFormats)(Ht));if(Ht instanceof Ot.default){var En=Ht.descendant(de.default.Leaf,On),hi=ye(En,1);xr=(0,It.default)(xr,(0,yt.bubbleFormats)(hi[0]))}Zt=Ie.default.attributes.diff(xr,Zt)||{}}else if("object"===Ve(on.insert)){var jr=Object.keys(on.insert)[0];if(null==jr)return ln;Vt.scroll.insertAt(ln,jr,on.insert[jr])}ue+=jt}return Object.keys(Zt).forEach(function(_n){Vt.scroll.formatAt(ln,jt,_n,Zt[_n])}),ln+jt},0),qe.reduce(function(ln,on){return"number"==typeof on.delete?(Vt.scroll.deleteAt(ln,on.delete),ln):ln+(on.retain||on.insert.length||1)},0),this.scroll.batchEnd(),this.update(qe)}},{key:"deleteText",value:function(qe,Vt){return this.scroll.deleteAt(qe,Vt),this.update((new ve.default).retain(qe).delete(Vt))}},{key:"formatLine",value:function(qe,Vt){var pe=this,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ue).forEach(function(ln){if(null==pe.scroll.whitelist||pe.scroll.whitelist[ln]){var on=pe.scroll.lines(qe,Math.max(Vt,1)),jt=Vt;on.forEach(function(Zt){var Et=Zt.length();if(Zt instanceof Ae.default){var xn=qe-Zt.offset(pe.scroll),Bt=Zt.newlineIndex(xn+jt)-xn+1;Zt.formatAt(xn,Bt,ln,ue[ln])}else Zt.format(ln,ue[ln]);jt-=Et})}}),this.scroll.optimize(),this.update((new ve.default).retain(qe).retain(Vt,(0,Qe.default)(ue)))}},{key:"formatText",value:function(qe,Vt){var pe=this,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ue).forEach(function(ln){pe.scroll.formatAt(qe,Vt,ln,ue[ln])}),this.update((new ve.default).retain(qe).retain(Vt,(0,Qe.default)(ue)))}},{key:"getContents",value:function(qe,Vt){return this.delta.slice(qe,qe+Vt)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(qe,Vt){return qe.concat(Vt.delta())},new ve.default)}},{key:"getFormat",value:function(qe){var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,pe=[],ue=[];0===Vt?this.scroll.path(qe).forEach(function(on){var Zt=ye(on,1)[0];Zt instanceof Ot.default?pe.push(Zt):Zt instanceof de.default.Leaf&&ue.push(Zt)}):(pe=this.scroll.lines(qe,Vt),ue=this.scroll.descendants(de.default.Leaf,qe,Vt));var ln=[pe,ue].map(function(on){if(0===on.length)return{};for(var jt=(0,yt.bubbleFormats)(on.shift());Object.keys(jt).length>0;){var Zt=on.shift();if(null==Zt)return jt;jt=gt((0,yt.bubbleFormats)(Zt),jt)}return jt});return It.default.apply(It.default,ln)}},{key:"getText",value:function(qe,Vt){return this.getContents(qe,Vt).filter(function(pe){return"string"==typeof pe.insert}).map(function(pe){return pe.insert}).join("")}},{key:"insertEmbed",value:function(qe,Vt,pe){return this.scroll.insertAt(qe,Vt,pe),this.update((new ve.default).retain(qe).insert(function Nt(pn,qe,Vt){return qe in pn?Object.defineProperty(pn,qe,{value:Vt,enumerable:!0,configurable:!0,writable:!0}):pn[qe]=Vt,pn}({},Vt,pe)))}},{key:"insertText",value:function(qe,Vt){var pe=this,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Vt=Vt.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(qe,Vt),Object.keys(ue).forEach(function(ln){pe.scroll.formatAt(qe,Vt.length,ln,ue[ln])}),this.update((new ve.default).retain(qe).insert(Vt,(0,Qe.default)(ue)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var qe=this.scroll.children.head;return qe.statics.blotName===Ot.default.blotName&&!(qe.children.length>1)&&qe.children.head instanceof lt.default}},{key:"removeFormat",value:function(qe,Vt){var pe=this.getText(qe,Vt),ue=this.scroll.line(qe+Vt),ln=ye(ue,2),on=ln[0],jt=ln[1],Zt=0,Et=new ve.default;null!=on&&(Zt=on instanceof Ae.default?on.newlineIndex(jt)-jt+1:on.length()-jt,Et=on.delta().slice(jt,jt+Zt-1).insert("\n"));var Bt=this.getContents(qe,Vt+Zt).diff((new ve.default).insert(pe).concat(Et)),Ht=(new ve.default).retain(qe).concat(Bt);return this.applyDelta(Ht)}},{key:"update",value:function(qe){var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ue=this.delta;if(1===Vt.length&&"characterData"===Vt[0].type&&Vt[0].target.data.match(Hn)&&de.default.find(Vt[0].target)){var ln=de.default.find(Vt[0].target),on=(0,yt.bubbleFormats)(ln),jt=ln.offset(this.scroll),Zt=Vt[0].oldValue.replace(Ke.default.CONTENTS,""),Et=(new ve.default).insert(Zt),xn=(new ve.default).insert(ln.value());qe=(new ve.default).retain(jt).concat(Et.diff(xn,pe)).reduce(function(Bt,Ht){return Ht.insert?Bt.insert(Ht.insert,on):Bt.push(Ht)},new ve.default),this.delta=ue.compose(qe)}else this.delta=this.getDelta(),qe&&(0,zt.default)(ue.compose(qe),this.delta)||(qe=ue.diff(this.delta,pe));return qe}}]),pn}();Ze.default=hn},function(Kt,Ze){"use strict";function Oe(){}function it(et,Ve,ye){this.fn=et,this.context=Ve,this.once=ye||!1}function Nt(){this._events=new Oe,this._eventsCount=0}var nt=Object.prototype.hasOwnProperty,gt="~";Object.create&&(Oe.prototype=Object.create(null),(new Oe).__proto__||(gt=!1)),Nt.prototype.eventNames=function(){var et,Ve,ye=[];if(0===this._eventsCount)return ye;for(Ve in et=this._events)nt.call(et,Ve)&&ye.push(gt?Ve.slice(1):Ve);return Object.getOwnPropertySymbols?ye.concat(Object.getOwnPropertySymbols(et)):ye},Nt.prototype.listeners=function(et,Ve){var ge=this._events[gt?gt+et:et];if(Ve)return!!ge;if(!ge)return[];if(ge.fn)return[ge.fn];for(var we=0,ve=ge.length,Ne=new Array(ve);we<ve;we++)Ne[we]=ge[we].fn;return Ne},Nt.prototype.emit=function(et,Ve,ye,ge,we,ve){var Ne=gt?gt+et:et;if(!this._events[Ne])return!1;var Ie,Ce,de=this._events[Ne],ot=arguments.length;if(de.fn){switch(de.once&&this.removeListener(et,de.fn,void 0,!0),ot){case 1:return de.fn.call(de.context),!0;case 2:return de.fn.call(de.context,Ve),!0;case 3:return de.fn.call(de.context,Ve,ye),!0;case 4:return de.fn.call(de.context,Ve,ye,ge),!0;case 5:return de.fn.call(de.context,Ve,ye,ge,we),!0;case 6:return de.fn.call(de.context,Ve,ye,ge,we,ve),!0}for(Ce=1,Ie=new Array(ot-1);Ce<ot;Ce++)Ie[Ce-1]=arguments[Ce];de.fn.apply(de.context,Ie)}else{var Ae,je=de.length;for(Ce=0;Ce<je;Ce++)switch(de[Ce].once&&this.removeListener(et,de[Ce].fn,void 0,!0),ot){case 1:de[Ce].fn.call(de[Ce].context);break;case 2:de[Ce].fn.call(de[Ce].context,Ve);break;case 3:de[Ce].fn.call(de[Ce].context,Ve,ye);break;case 4:de[Ce].fn.call(de[Ce].context,Ve,ye,ge);break;default:if(!Ie)for(Ae=1,Ie=new Array(ot-1);Ae<ot;Ae++)Ie[Ae-1]=arguments[Ae];de[Ce].fn.apply(de[Ce].context,Ie)}}return!0},Nt.prototype.on=function(et,Ve,ye){var ge=new it(Ve,ye||this),we=gt?gt+et:et;return this._events[we]?this._events[we].fn?this._events[we]=[this._events[we],ge]:this._events[we].push(ge):(this._events[we]=ge,this._eventsCount++),this},Nt.prototype.once=function(et,Ve,ye){var ge=new it(Ve,ye||this,!0),we=gt?gt+et:et;return this._events[we]?this._events[we].fn?this._events[we]=[this._events[we],ge]:this._events[we].push(ge):(this._events[we]=ge,this._eventsCount++),this},Nt.prototype.removeListener=function(et,Ve,ye,ge){var we=gt?gt+et:et;if(!this._events[we])return this;if(!Ve)return 0==--this._eventsCount?this._events=new Oe:delete this._events[we],this;var ve=this._events[we];if(ve.fn)ve.fn!==Ve||ge&&!ve.once||ye&&ve.context!==ye||(0==--this._eventsCount?this._events=new Oe:delete this._events[we]);else{for(var Ne=0,Ie=[],Ce=ve.length;Ne<Ce;Ne++)(ve[Ne].fn!==Ve||ge&&!ve[Ne].once||ye&&ve[Ne].context!==ye)&&Ie.push(ve[Ne]);Ie.length?this._events[we]=1===Ie.length?Ie[0]:Ie:0==--this._eventsCount?this._events=new Oe:delete this._events[we]}return this},Nt.prototype.removeAllListeners=function(et){var Ve;return et?this._events[Ve=gt?gt+et:et]&&(0==--this._eventsCount?this._events=new Oe:delete this._events[Ve]):(this._events=new Oe,this._eventsCount=0),this},Nt.prototype.off=Nt.prototype.removeListener,Nt.prototype.addListener=Nt.prototype.on,Nt.prototype.setMaxListeners=function(){return this},Nt.prefixed=gt,Nt.EventEmitter=Nt,void 0!==Kt&&(Kt.exports=Nt)},function(Kt,Ze,Oe){"use strict";function it(lt){return lt&&lt.__esModule?lt:{default:lt}}function et(lt){return lt instanceof de.default||lt instanceof Ce.BlockEmbed}Object.defineProperty(Ze,"__esModule",{value:!0});var Ve=function($e,Qe){if(Array.isArray($e))return $e;if(Symbol.iterator in Object($e))return function lt($e,Qe){var rt=[],zt=!0,_t=!1,It=void 0;try{for(var Hn,hn=$e[Symbol.iterator]();!(zt=(Hn=hn.next()).done)&&(rt.push(Hn.value),!Qe||rt.length!==Qe);zt=!0);}catch(pn){_t=!0,It=pn}finally{try{!zt&&hn.return&&hn.return()}finally{if(_t)throw It}}return rt}($e,Qe);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ye=function(){function lt($e,Qe){for(var rt=0;rt<Qe.length;rt++){var zt=Qe[rt];zt.enumerable=zt.enumerable||!1,zt.configurable=!0,"value"in zt&&(zt.writable=!0),Object.defineProperty($e,zt.key,zt)}}return function($e,Qe,rt){return Qe&&lt($e.prototype,Qe),rt&&lt($e,rt),$e}}(),ge=function lt($e,Qe,rt){null===$e&&($e=Function.prototype);var zt=Object.getOwnPropertyDescriptor($e,Qe);if(void 0===zt){var _t=Object.getPrototypeOf($e);return null===_t?void 0:lt(_t,Qe,rt)}if("value"in zt)return zt.value;var It=zt.get;return void 0!==It?It.call(rt):void 0},ve=it(Oe(0)),Ie=it(Oe(9)),Ce=Oe(3),de=it(Ce),Ae=it(Oe(14)),Ke=it(Oe(13)),Ot=it(Oe(23)),wt=function(lt){function $e(Qe,rt){!function Nt(lt,$e){if(!(lt instanceof $e))throw new TypeError("Cannot call a class as a function")}(this,$e);var zt=function nt(lt,$e){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$e||"object"!=typeof $e&&"function"!=typeof $e?lt:$e}(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,Qe));return zt.emitter=rt.emitter,Array.isArray(rt.whitelist)&&(zt.whitelist=rt.whitelist.reduce(function(_t,It){return _t[It]=!0,_t},{})),zt.domNode.addEventListener("DOMNodeInserted",function(){}),zt.optimize(),zt.enable(),zt}return function gt(lt,$e){if("function"!=typeof $e&&null!==$e)throw new TypeError("Super expression must either be null or a function, not "+typeof $e);lt.prototype=Object.create($e&&$e.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),$e&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,$e):lt.__proto__=$e)}($e,lt),ye($e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Qe,rt){var zt=this.line(Qe),_t=Ve(zt,2),It=_t[0],Hn=_t[1],hn=this.line(Qe+rt),qe=Ve(hn,1)[0];if(ge($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"deleteAt",this).call(this,Qe,rt),null!=qe&&It!==qe&&Hn>0){if(It instanceof Ce.BlockEmbed||qe instanceof Ce.BlockEmbed)return void this.optimize();if(It instanceof Ke.default){var Vt=It.newlineIndex(It.length(),!0);if(Vt>-1&&(It=It.split(Vt+1))===qe)return void this.optimize()}else if(qe instanceof Ke.default){var pe=qe.newlineIndex(0);pe>-1&&qe.split(pe+1)}It.moveChildren(qe,qe.children.head instanceof Ae.default?null:qe.children.head),It.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(Qe,rt,zt,_t){(null==this.whitelist||this.whitelist[zt])&&(ge($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"formatAt",this).call(this,Qe,rt,zt,_t),this.optimize())}},{key:"insertAt",value:function(Qe,rt,zt){if(null==zt||null==this.whitelist||this.whitelist[rt]){if(Qe>=this.length())if(null==zt||null==ve.default.query(rt,ve.default.Scope.BLOCK)){var _t=ve.default.create(this.statics.defaultChild);this.appendChild(_t),null==zt&&rt.endsWith("\n")&&(rt=rt.slice(0,-1)),_t.insertAt(0,rt,zt)}else{var It=ve.default.create(rt,zt);this.appendChild(It)}else ge($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"insertAt",this).call(this,Qe,rt,zt);this.optimize()}}},{key:"insertBefore",value:function(Qe,rt){if(Qe.statics.scope===ve.default.Scope.INLINE_BLOT){var zt=ve.default.create(this.statics.defaultChild);zt.appendChild(Qe),Qe=zt}ge($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"insertBefore",this).call(this,Qe,rt)}},{key:"leaf",value:function(Qe){return this.path(Qe).pop()||[null,-1]}},{key:"line",value:function(Qe){return Qe===this.length()?this.line(Qe-1):this.descendant(et,Qe)}},{key:"lines",value:function(){return function zt(_t,It,Hn){var hn=[],pn=Hn;return _t.children.forEachAt(It,Hn,function(qe,Vt,pe){et(qe)?hn.push(qe):qe instanceof ve.default.Container&&(hn=hn.concat(zt(qe,Vt,pn))),pn-=pe}),hn}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var Qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(ge($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"optimize",this).call(this,Qe,rt),Qe.length>0&&this.emitter.emit(Ie.default.events.SCROLL_OPTIMIZE,Qe,rt))}},{key:"path",value:function(Qe){return ge($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"path",this).call(this,Qe).slice(1)}},{key:"update",value:function(Qe){if(!0!==this.batch){var rt=Ie.default.sources.USER;"string"==typeof Qe&&(rt=Qe),Array.isArray(Qe)||(Qe=this.observer.takeRecords()),Qe.length>0&&this.emitter.emit(Ie.default.events.SCROLL_BEFORE_UPDATE,rt,Qe),ge($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"update",this).call(this,Qe.concat([])),Qe.length>0&&this.emitter.emit(Ie.default.events.SCROLL_UPDATE,rt,Qe)}}}]),$e}(ve.default.Scroll);wt.blotName="scroll",wt.className="ql-editor",wt.tagName="DIV",wt.defaultChild="block",wt.allowedChildren=[de.default,Ce.BlockEmbed,Ot.default],Ze.default=wt},function(Kt,Ze,Oe){"use strict";function it(_n){return _n&&_n.__esModule?_n:{default:_n}}function Nt(_n,Gn,di){return Gn in _n?Object.defineProperty(_n,Gn,{value:di,enumerable:!0,configurable:!0,writable:!0}):_n[Gn]=di,_n}function Ve(_n,Gn,di){return"object"===(void 0===Gn?"undefined":wt(Gn))?Object.keys(Gn).reduce(function(bi,ai){return Ve(bi,ai,Gn[ai])},_n):_n.reduce(function(bi,ai){return ai.attributes&&ai.attributes[Gn]?bi.push(ai):bi.insert(ai.insert,(0,rt.default)({},Nt({},Gn,di),ai.attributes))},new _t.default)}function ye(_n){return _n.nodeType!==Node.ELEMENT_NODE?{}:_n["__ql-computed-style"]||(_n["__ql-computed-style"]=window.getComputedStyle(_n))}function ge(_n,Gn){for(var di="",bi=_n.ops.length-1;bi>=0&&di.length<Gn.length;--bi){var ai=_n.ops[bi];if("string"!=typeof ai.insert)break;di=ai.insert+di}return di.slice(-1*Gn.length)===Gn}function we(_n){return 0!==_n.childNodes.length&&["block","list-item"].indexOf(ye(_n).display)>-1}function ve(_n,Gn,di){return _n.nodeType===_n.TEXT_NODE?di.reduce(function(bi,ai){return ai(_n,bi)},new _t.default):_n.nodeType===_n.ELEMENT_NODE?[].reduce.call(_n.childNodes||[],function(bi,ai){var Wi=ve(ai,Gn,di);return ai.nodeType===_n.ELEMENT_NODE&&(Wi=Gn.reduce(function(yi,fr){return fr(ai,yi)},Wi),Wi=(ai[xr]||[]).reduce(function(yi,fr){return fr(ai,yi)},Wi)),bi.concat(Wi)},new _t.default):new _t.default}function Ne(_n,Gn,di){return Ve(di,_n,!0)}function Ie(_n,Gn){var di=Hn.default.Attributor.Attribute.keys(_n),bi=Hn.default.Attributor.Class.keys(_n),ai=Hn.default.Attributor.Style.keys(_n),Wi={};return di.concat(bi).concat(ai).forEach(function(yi){var fr=Hn.default.query(yi,Hn.default.Scope.ATTRIBUTE);null!=fr&&(Wi[fr.attrName]=fr.value(_n),Wi[fr.attrName])||(null==(fr=hi[yi])||fr.attrName!==yi&&fr.keyName!==yi||(Wi[fr.attrName]=fr.value(_n)||void 0),null==(fr=pr[yi])||fr.attrName!==yi&&fr.keyName!==yi||(Wi[(fr=pr[yi]).attrName]=fr.value(_n)||void 0))}),Object.keys(Wi).length>0&&(Gn=Ve(Gn,Wi)),Gn}function Ce(_n,Gn){var di=Hn.default.query(_n);if(null==di)return Gn;if(di.prototype instanceof Hn.default.Embed){var bi={},ai=di.value(_n);null!=ai&&(bi[di.blotName]=ai,Gn=(new _t.default).insert(bi,di.formats(_n)))}else"function"==typeof di.formats&&(Gn=Ve(Gn,di.blotName,di.formats(_n)));return Gn}function je(_n,Gn){return ge(Gn,"\n")||(we(_n)||Gn.length()>0&&_n.nextSibling&&we(_n.nextSibling))&&Gn.insert("\n"),Gn}function Ke(_n,Gn){if(we(_n)&&null!=_n.nextElementSibling&&!ge(Gn,"\n\n")){var di=_n.offsetHeight+parseFloat(ye(_n).marginTop)+parseFloat(ye(_n).marginBottom);_n.nextElementSibling.offsetTop>_n.offsetTop+1.5*di&&Gn.insert("\n")}return Gn}function Ot(_n,Gn){var di=_n.data;if("O:P"===_n.parentNode.tagName)return Gn.insert(di.trim());if(0===di.trim().length&&_n.parentNode.classList.contains("ql-clipboard"))return Gn;if(!ye(_n.parentNode).whiteSpace.startsWith("pre")){var bi=function(ai,Wi){return(Wi=Wi.replace(/[^\u00a0]/g,"")).length<1&&ai?" ":Wi};di=(di=di.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,bi.bind(bi,!0)),(null==_n.previousSibling&&we(_n.parentNode)||null!=_n.previousSibling&&we(_n.previousSibling))&&(di=di.replace(/^\s+/,bi.bind(bi,!1))),(null==_n.nextSibling&&we(_n.parentNode)||null!=_n.nextSibling&&we(_n.nextSibling))&&(di=di.replace(/\s+$/,bi.bind(bi,!1)))}return Gn.insert(di)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.matchText=Ze.matchSpacing=Ze.matchNewline=Ze.matchBlot=Ze.matchAttributor=Ze.default=void 0;var wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_n){return typeof _n}:function(_n){return _n&&"function"==typeof Symbol&&_n.constructor===Symbol&&_n!==Symbol.prototype?"symbol":typeof _n},lt=function(Gn,di){if(Array.isArray(Gn))return Gn;if(Symbol.iterator in Object(Gn))return function _n(Gn,di){var bi=[],ai=!0,Wi=!1,yi=void 0;try{for(var fr,po=Gn[Symbol.iterator]();!(ai=(fr=po.next()).done)&&(bi.push(fr.value),!di||bi.length!==di);ai=!0);}catch(Fr){Wi=!0,yi=Fr}finally{try{!ai&&po.return&&po.return()}finally{if(Wi)throw yi}}return bi}(Gn,di);throw new TypeError("Invalid attempt to destructure non-iterable instance")},$e=function(){function _n(Gn,di){for(var bi=0;bi<di.length;bi++){var ai=di[bi];ai.enumerable=ai.enumerable||!1,ai.configurable=!0,"value"in ai&&(ai.writable=!0),Object.defineProperty(Gn,ai.key,ai)}}return function(Gn,di,bi){return di&&_n(Gn.prototype,di),bi&&_n(Gn,bi),Gn}}(),rt=it(Oe(2)),_t=it(Oe(4)),Hn=it(Oe(0)),pn=it(Oe(6)),Vt=it(Oe(10)),ue=it(Oe(7)),ln=Oe(34),on=Oe(35),Zt=it(Oe(13)),Et=Oe(24),xn=Oe(36),Bt=Oe(37),Ht=Oe(38),On=(0,Vt.default)("quill:clipboard"),xr="__ql-matcher",En=[[Node.TEXT_NODE,Ot],[Node.TEXT_NODE,je],["br",function de(_n,Gn){return ge(Gn,"\n")||Gn.insert("\n"),Gn}],[Node.ELEMENT_NODE,je],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,Ke],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,function yt(_n,Gn){var di={},bi=_n.style||{};return bi.fontStyle&&"italic"===ye(_n).fontStyle&&(di.italic=!0),bi.fontWeight&&(ye(_n).fontWeight.startsWith("bold")||parseInt(ye(_n).fontWeight)>=700)&&(di.bold=!0),Object.keys(di).length>0&&(Gn=Ve(Gn,di)),parseFloat(bi.textIndent||0)>0&&(Gn=(new _t.default).insert("\t").concat(Gn)),Gn}],["li",function Ae(_n,Gn){var di=Hn.default.query(_n);if(null==di||"list-item"!==di.blotName||!ge(Gn,"\n"))return Gn;for(var bi=-1,ai=_n.parentNode;!ai.classList.contains("ql-clipboard");)"list"===(Hn.default.query(ai)||{}).blotName&&(bi+=1),ai=ai.parentNode;return bi<=0?Gn:Gn.compose((new _t.default).retain(Gn.length()-1).retain(1,{indent:bi}))}],["b",Ne.bind(Ne,"bold")],["i",Ne.bind(Ne,"italic")],["style",function ot(){return new _t.default}]],hi=[ln.AlignAttribute,xn.DirectionAttribute].reduce(function(_n,Gn){return _n[Gn.keyName]=Gn,_n},{}),pr=[ln.AlignStyle,on.BackgroundStyle,Et.ColorStyle,xn.DirectionStyle,Bt.FontStyle,Ht.SizeStyle].reduce(function(_n,Gn){return _n[Gn.keyName]=Gn,_n},{}),jr=function(_n){function Gn(di,bi){!function nt(_n,Gn){if(!(_n instanceof Gn))throw new TypeError("Cannot call a class as a function")}(this,Gn);var ai=function gt(_n,Gn){if(!_n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Gn||"object"!=typeof Gn&&"function"!=typeof Gn?_n:Gn}(this,(Gn.__proto__||Object.getPrototypeOf(Gn)).call(this,di,bi));return ai.quill.root.addEventListener("paste",ai.onPaste.bind(ai)),ai.container=ai.quill.addContainer("ql-clipboard"),ai.container.setAttribute("contenteditable",!0),ai.container.setAttribute("tabindex",-1),ai.matchers=[],En.concat(ai.options.matchers).forEach(function(Wi){var yi=lt(Wi,2),po=yi[1];(bi.matchVisual||po!==Ke)&&ai.addMatcher(yi[0],po)}),ai}return function et(_n,Gn){if("function"!=typeof Gn&&null!==Gn)throw new TypeError("Super expression must either be null or a function, not "+typeof Gn);_n.prototype=Object.create(Gn&&Gn.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}}),Gn&&(Object.setPrototypeOf?Object.setPrototypeOf(_n,Gn):_n.__proto__=Gn)}(Gn,_n),$e(Gn,[{key:"addMatcher",value:function(di,bi){this.matchers.push([di,bi])}},{key:"convert",value:function(di){if("string"==typeof di)return this.container.innerHTML=di.replace(/\>\r?\n +\</g,"><"),this.convert();var bi=this.quill.getFormat(this.quill.selection.savedRange.index);if(bi[Zt.default.blotName]){var ai=this.container.innerText;return this.container.innerHTML="",(new _t.default).insert(ai,Nt({},Zt.default.blotName,bi[Zt.default.blotName]))}var Wi=this.prepareMatching(),yi=lt(Wi,2),Fr=ve(this.container,yi[0],yi[1]);return ge(Fr,"\n")&&null==Fr.ops[Fr.ops.length-1].attributes&&(Fr=Fr.compose((new _t.default).retain(Fr.length()-1).delete(1))),On.log("convert",this.container.innerHTML,Fr),this.container.innerHTML="",Fr}},{key:"dangerouslyPasteHTML",value:function(di,bi){var ai=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pn.default.sources.API;if("string"==typeof di)this.quill.setContents(this.convert(di),bi),this.quill.setSelection(0,pn.default.sources.SILENT);else{var Wi=this.convert(bi);this.quill.updateContents((new _t.default).retain(di).concat(Wi),ai),this.quill.setSelection(di+Wi.length(),pn.default.sources.SILENT)}}},{key:"onPaste",value:function(di){var bi=this;if(!di.defaultPrevented&&this.quill.isEnabled()){var ai=this.quill.getSelection(),Wi=(new _t.default).retain(ai.index),yi=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(pn.default.sources.SILENT),setTimeout(function(){Wi=Wi.concat(bi.convert()).delete(ai.length),bi.quill.updateContents(Wi,pn.default.sources.USER),bi.quill.setSelection(Wi.length()-ai.length,pn.default.sources.SILENT),bi.quill.scrollingContainer.scrollTop=yi,bi.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var di=this,bi=[],ai=[];return this.matchers.forEach(function(Wi){var yi=lt(Wi,2),fr=yi[0],po=yi[1];switch(fr){case Node.TEXT_NODE:ai.push(po);break;case Node.ELEMENT_NODE:bi.push(po);break;default:[].forEach.call(di.container.querySelectorAll(fr),function(Fr){Fr[xr]=Fr[xr]||[],Fr[xr].push(po)})}}),[bi,ai]}}]),Gn}(ue.default);jr.DEFAULTS={matchers:[],matchVisual:!0},Ze.default=jr,Ze.matchAttributor=Ie,Ze.matchBlot=Ce,Ze.matchNewline=je,Ze.matchSpacing=Ke,Ze.matchText=Ot},function(Kt,Ze,Oe){"use strict";function it(ot){return ot&&ot.__esModule?ot:{default:ot}}function Ve(ot){var Ae=ot.reduce(function(Ke,yt){return Ke+(yt.delete||0)},0),je=ot.length()-Ae;return function et(ot){var Ae=ot.ops[ot.ops.length-1];return null!=Ae&&(null!=Ae.insert?"string"==typeof Ae.insert&&Ae.insert.endsWith("\n"):null!=Ae.attributes&&Object.keys(Ae.attributes).some(function(je){return null!=we.default.query(je,we.default.Scope.BLOCK)}))}(ot)&&(je-=1),je}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.getLastChangeIndex=Ze.default=void 0;var ye=function(){function ot(Ae,je){for(var Ke=0;Ke<je.length;Ke++){var yt=je[Ke];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(Ae,yt.key,yt)}}return function(Ae,je,Ke){return je&&ot(Ae.prototype,je),Ke&&ot(Ae,Ke),Ae}}(),we=it(Oe(0)),Ne=it(Oe(6)),de=function(ot){function Ae(je,Ke){!function Nt(ot,Ae){if(!(ot instanceof Ae))throw new TypeError("Cannot call a class as a function")}(this,Ae);var yt=function nt(ot,Ae){if(!ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ae||"object"!=typeof Ae&&"function"!=typeof Ae?ot:Ae}(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this,je,Ke));return yt.lastRecorded=0,yt.ignoreChange=!1,yt.clear(),yt.quill.on(Ne.default.events.EDITOR_CHANGE,function(Ot,wt,lt,$e){Ot!==Ne.default.events.TEXT_CHANGE||yt.ignoreChange||(yt.options.userOnly&&$e!==Ne.default.sources.USER?yt.transform(wt):yt.record(wt,lt))}),yt.quill.keyboard.addBinding({key:"Z",shortKey:!0},yt.undo.bind(yt)),yt.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},yt.redo.bind(yt)),/Win/i.test(navigator.platform)&&yt.quill.keyboard.addBinding({key:"Y",shortKey:!0},yt.redo.bind(yt)),yt}return function gt(ot,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Super expression must either be null or a function, not "+typeof Ae);ot.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),Ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,Ae):ot.__proto__=Ae)}(Ae,ot),ye(Ae,[{key:"change",value:function(je,Ke){if(0!==this.stack[je].length){var yt=this.stack[je].pop();this.stack[Ke].push(yt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(yt[je],Ne.default.sources.USER),this.ignoreChange=!1;var Ot=Ve(yt[je]);this.quill.setSelection(Ot)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(je,Ke){if(0!==je.ops.length){this.stack.redo=[];var yt=this.quill.getContents().diff(Ke),Ot=Date.now();if(this.lastRecorded+this.options.delay>Ot&&this.stack.undo.length>0){var wt=this.stack.undo.pop();yt=yt.compose(wt.undo),je=wt.redo.compose(je)}else this.lastRecorded=Ot;this.stack.undo.push({redo:je,undo:yt}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(je){this.stack.undo.forEach(function(Ke){Ke.undo=je.transform(Ke.undo,!0),Ke.redo=je.transform(Ke.redo,!0)}),this.stack.redo.forEach(function(Ke){Ke.undo=je.transform(Ke.undo,!0),Ke.redo=je.transform(Ke.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),Ae}(it(Oe(7)).default);de.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},Ze.default=de,Ze.getLastChangeIndex=Ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.IndentClass=void 0;var ve,gt=function(){function ve(Ne,Ie){for(var Ce=0;Ce<Ie.length;Ce++){var de=Ie[Ce];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(Ne,de.key,de)}}return function(Ne,Ie,Ce){return Ie&&ve(Ne.prototype,Ie),Ce&&ve(Ne,Ce),Ne}}(),et=function ve(Ne,Ie,Ce){null===Ne&&(Ne=Function.prototype);var de=Object.getOwnPropertyDescriptor(Ne,Ie);if(void 0===de){var ot=Object.getPrototypeOf(Ne);return null===ot?void 0:ve(ot,Ie,Ce)}if("value"in de)return de.value;var Ae=de.get;return void 0!==Ae?Ae.call(Ce):void 0},ye=(ve=Oe(0))&&ve.__esModule?ve:{default:ve},ge=function(ve){function Ne(){return function it(ve,Ne){if(!(ve instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,Ne),function Nt(ve,Ne){if(!ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ne||"object"!=typeof Ne&&"function"!=typeof Ne?ve:Ne}(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).apply(this,arguments))}return function nt(ve,Ne){if("function"!=typeof Ne&&null!==Ne)throw new TypeError("Super expression must either be null or a function, not "+typeof Ne);ve.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),Ne&&(Object.setPrototypeOf?Object.setPrototypeOf(ve,Ne):ve.__proto__=Ne)}(Ne,ve),gt(Ne,[{key:"add",value:function(Ie,Ce){if("+1"===Ce||"-1"===Ce){var de=this.value(Ie)||0;Ce="+1"===Ce?de+1:de-1}return 0===Ce?(this.remove(Ie),!0):et(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"add",this).call(this,Ie,Ce)}},{key:"canAdd",value:function(Ie,Ce){return et(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"canAdd",this).call(this,Ie,Ce)||et(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"canAdd",this).call(this,Ie,parseInt(Ce))}},{key:"value",value:function(Ie){return parseInt(et(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"value",this).call(this,Ie))||void 0}}]),Ne}(ye.default.Attributor.Class),we=new ge("indent","ql-indent",{scope:ye.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});Ze.IndentClass=we},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var ye,Ve=function(ye){function ge(){return function it(ye,ge){if(!(ye instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ge),function Nt(ye,ge){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ge||"object"!=typeof ge&&"function"!=typeof ge?ye:ge}(this,(ge.__proto__||Object.getPrototypeOf(ge)).apply(this,arguments))}return function nt(ye,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ye.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,ge):ye.__proto__=ge)}(ge,ye),ge}(((ye=Oe(3))&&ye.__esModule?ye:{default:ye}).default);Ve.blotName="blockquote",Ve.tagName="blockquote",Ze.default=Ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var ge,gt=function(){function ge(we,ve){for(var Ne=0;Ne<ve.length;Ne++){var Ie=ve[Ne];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(we,Ie.key,Ie)}}return function(we,ve,Ne){return ve&&ge(we.prototype,ve),Ne&&ge(we,Ne),we}}(),ye=function(ge){function we(){return function it(ge,we){if(!(ge instanceof we))throw new TypeError("Cannot call a class as a function")}(this,we),function Nt(ge,we){if(!ge)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!we||"object"!=typeof we&&"function"!=typeof we?ge:we}(this,(we.__proto__||Object.getPrototypeOf(we)).apply(this,arguments))}return function nt(ge,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function, not "+typeof we);ge.prototype=Object.create(we&&we.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}}),we&&(Object.setPrototypeOf?Object.setPrototypeOf(ge,we):ge.__proto__=we)}(we,ge),gt(we,null,[{key:"formats",value:function(ve){return this.tagName.indexOf(ve.tagName)+1}}]),we}(((ge=Oe(3))&&ge.__esModule?ge:{default:ge}).default);ye.blotName="header",ye.tagName=["H1","H2","H3","H4","H5","H6"],Ze.default=ye},function(Kt,Ze,Oe){"use strict";function it(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}function nt(Ae,je){if(!(Ae instanceof je))throw new TypeError("Cannot call a class as a function")}function gt(Ae,je){if(!Ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!je||"object"!=typeof je&&"function"!=typeof je?Ae:je}function et(Ae,je){if("function"!=typeof je&&null!==je)throw new TypeError("Super expression must either be null or a function, not "+typeof je);Ae.prototype=Object.create(je&&je.prototype,{constructor:{value:Ae,enumerable:!1,writable:!0,configurable:!0}}),je&&(Object.setPrototypeOf?Object.setPrototypeOf(Ae,je):Ae.__proto__=je)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.ListItem=void 0;var Ve=function(){function Ae(je,Ke){for(var yt=0;yt<Ke.length;yt++){var Ot=Ke[yt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(je,Ot.key,Ot)}}return function(je,Ke,yt){return Ke&&Ae(je.prototype,Ke),yt&&Ae(je,yt),je}}(),ye=function Ae(je,Ke,yt){null===je&&(je=Function.prototype);var Ot=Object.getOwnPropertyDescriptor(je,Ke);if(void 0===Ot){var wt=Object.getPrototypeOf(je);return null===wt?void 0:Ae(wt,Ke,yt)}if("value"in Ot)return Ot.value;var lt=Ot.get;return void 0!==lt?lt.call(yt):void 0},we=it(Oe(0)),Ne=it(Oe(3)),Ce=it(Oe(23)),de=function(Ae){function je(){return nt(this,je),gt(this,(je.__proto__||Object.getPrototypeOf(je)).apply(this,arguments))}return et(je,Ae),Ve(je,[{key:"format",value:function(Ke,yt){Ke!==ot.blotName||yt?ye(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"format",this).call(this,Ke,yt):this.replaceWith(we.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():ye(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(Ke,yt){return this.parent.isolate(this.offset(this.parent),this.length()),Ke===this.parent.statics.blotName?(this.parent.replaceWith(Ke,yt),this):(this.parent.unwrap(),ye(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"replaceWith",this).call(this,Ke,yt))}}],[{key:"formats",value:function(Ke){return Ke.tagName===this.tagName?void 0:ye(je.__proto__||Object.getPrototypeOf(je),"formats",this).call(this,Ke)}}]),je}(Ne.default);de.blotName="list-item",de.tagName="LI";var ot=function(Ae){function je(Ke){nt(this,je);var yt=gt(this,(je.__proto__||Object.getPrototypeOf(je)).call(this,Ke)),Ot=function(wt){if(wt.target.parentNode===Ke){var lt=yt.statics.formats(Ke),$e=we.default.find(wt.target);"checked"===lt?$e.format("list","unchecked"):"unchecked"===lt&&$e.format("list","checked")}};return Ke.addEventListener("touchstart",Ot),Ke.addEventListener("mousedown",Ot),yt}return et(je,Ae),Ve(je,null,[{key:"create",value:function(Ke){var yt="ordered"===Ke?"OL":"UL",Ot=ye(je.__proto__||Object.getPrototypeOf(je),"create",this).call(this,yt);return"checked"!==Ke&&"unchecked"!==Ke||Ot.setAttribute("data-checked","checked"===Ke),Ot}},{key:"formats",value:function(Ke){return"OL"===Ke.tagName?"ordered":"UL"===Ke.tagName?Ke.hasAttribute("data-checked")?"true"===Ke.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),Ve(je,[{key:"format",value:function(Ke,yt){this.children.length>0&&this.children.tail.format(Ke,yt)}},{key:"formats",value:function(){return function Nt(Ae,je,Ke){return je in Ae?Object.defineProperty(Ae,je,{value:Ke,enumerable:!0,configurable:!0,writable:!0}):Ae[je]=Ke,Ae}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(Ke,yt){if(Ke instanceof de)ye(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"insertBefore",this).call(this,Ke,yt);else{var Ot=null==yt?this.length():yt.offset(this),wt=this.split(Ot);wt.parent.insertBefore(Ke,wt)}}},{key:"optimize",value:function(Ke){ye(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"optimize",this).call(this,Ke);var yt=this.next;null!=yt&&yt.prev===this&&yt.statics.blotName===this.statics.blotName&&yt.domNode.tagName===this.domNode.tagName&&yt.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(yt.moveChildren(this),yt.remove())}},{key:"replace",value:function(Ke){if(Ke.statics.blotName!==this.statics.blotName){var yt=we.default.create(this.statics.defaultChild);Ke.moveChildren(yt),this.appendChild(yt)}ye(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"replace",this).call(this,Ke)}}]),je}(Ce.default);ot.blotName="list",ot.scope=we.default.Scope.BLOCK_BLOT,ot.tagName=["OL","UL"],ot.defaultChild="list-item",ot.allowedChildren=[de],Ze.ListItem=de,Ze.default=ot},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var ye,Ve=function(ye){function ge(){return function it(ye,ge){if(!(ye instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ge),function Nt(ye,ge){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ge||"object"!=typeof ge&&"function"!=typeof ge?ye:ge}(this,(ge.__proto__||Object.getPrototypeOf(ge)).apply(this,arguments))}return function nt(ye,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ye.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,ge):ye.__proto__=ge)}(ge,ye),ge}(((ye=Oe(39))&&ye.__esModule?ye:{default:ye}).default);Ve.blotName="italic",Ve.tagName=["EM","I"],Ze.default=Ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var we,gt=function(){function we(ve,Ne){for(var Ie=0;Ie<Ne.length;Ie++){var Ce=Ne[Ie];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ve,Ce.key,Ce)}}return function(ve,Ne,Ie){return Ne&&we(ve.prototype,Ne),Ie&&we(ve,Ie),ve}}(),et=function we(ve,Ne,Ie){null===ve&&(ve=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(ve,Ne);if(void 0===Ce){var de=Object.getPrototypeOf(ve);return null===de?void 0:we(de,Ne,Ie)}if("value"in Ce)return Ce.value;var ot=Ce.get;return void 0!==ot?ot.call(Ie):void 0},ge=function(we){function ve(){return function it(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,ve),function Nt(we,ve){if(!we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ve||"object"!=typeof ve&&"function"!=typeof ve?we:ve}(this,(ve.__proto__||Object.getPrototypeOf(ve)).apply(this,arguments))}return function nt(we,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);we.prototype=Object.create(ve&&ve.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(we,ve):we.__proto__=ve)}(ve,we),gt(ve,null,[{key:"create",value:function(Ne){return"super"===Ne?document.createElement("sup"):"sub"===Ne?document.createElement("sub"):et(ve.__proto__||Object.getPrototypeOf(ve),"create",this).call(this,Ne)}},{key:"formats",value:function(Ne){return"SUB"===Ne.tagName?"sub":"SUP"===Ne.tagName?"super":void 0}}]),ve}(((we=Oe(5))&&we.__esModule?we:{default:we}).default);ge.blotName="script",ge.tagName=["SUB","SUP"],Ze.default=ge},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var ye,Ve=function(ye){function ge(){return function it(ye,ge){if(!(ye instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ge),function Nt(ye,ge){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ge||"object"!=typeof ge&&"function"!=typeof ge?ye:ge}(this,(ge.__proto__||Object.getPrototypeOf(ge)).apply(this,arguments))}return function nt(ye,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ye.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,ge):ye.__proto__=ge)}(ge,ye),ge}(((ye=Oe(5))&&ye.__esModule?ye:{default:ye}).default);Ve.blotName="strike",Ve.tagName="S",Ze.default=Ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var ye,Ve=function(ye){function ge(){return function it(ye,ge){if(!(ye instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ge),function Nt(ye,ge){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ge||"object"!=typeof ge&&"function"!=typeof ge?ye:ge}(this,(ge.__proto__||Object.getPrototypeOf(ge)).apply(this,arguments))}return function nt(ye,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ye.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,ge):ye.__proto__=ge)}(ge,ye),ge}(((ye=Oe(5))&&ye.__esModule?ye:{default:ye}).default);Ve.blotName="underline",Ve.tagName="U",Ze.default=Ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var Ne,gt=function(){function Ne(Ie,Ce){for(var de=0;de<Ce.length;de++){var ot=Ce[de];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(Ie,ot.key,ot)}}return function(Ie,Ce,de){return Ce&&Ne(Ie.prototype,Ce),de&&Ne(Ie,de),Ie}}(),et=function Ne(Ie,Ce,de){null===Ie&&(Ie=Function.prototype);var ot=Object.getOwnPropertyDescriptor(Ie,Ce);if(void 0===ot){var Ae=Object.getPrototypeOf(Ie);return null===Ae?void 0:Ne(Ae,Ce,de)}if("value"in ot)return ot.value;var je=ot.get;return void 0!==je?je.call(de):void 0},ye=(Ne=Oe(0))&&Ne.__esModule?Ne:{default:Ne},ge=Oe(15),we=["alt","height","width"],ve=function(Ne){function Ie(){return function it(Ne,Ie){if(!(Ne instanceof Ie))throw new TypeError("Cannot call a class as a function")}(this,Ie),function Nt(Ne,Ie){if(!Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ie||"object"!=typeof Ie&&"function"!=typeof Ie?Ne:Ie}(this,(Ie.__proto__||Object.getPrototypeOf(Ie)).apply(this,arguments))}return function nt(Ne,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Super expression must either be null or a function, not "+typeof Ie);Ne.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:Ne,enumerable:!1,writable:!0,configurable:!0}}),Ie&&(Object.setPrototypeOf?Object.setPrototypeOf(Ne,Ie):Ne.__proto__=Ie)}(Ie,Ne),gt(Ie,[{key:"format",value:function(Ce,de){we.indexOf(Ce)>-1?de?this.domNode.setAttribute(Ce,de):this.domNode.removeAttribute(Ce):et(Ie.prototype.__proto__||Object.getPrototypeOf(Ie.prototype),"format",this).call(this,Ce,de)}}],[{key:"create",value:function(Ce){var de=et(Ie.__proto__||Object.getPrototypeOf(Ie),"create",this).call(this,Ce);return"string"==typeof Ce&&de.setAttribute("src",this.sanitize(Ce)),de}},{key:"formats",value:function(Ce){return we.reduce(function(de,ot){return Ce.hasAttribute(ot)&&(de[ot]=Ce.getAttribute(ot)),de},{})}},{key:"match",value:function(Ce){return/\.(jpe?g|gif|png)$/.test(Ce)||/^data:image\/.+;base64/.test(Ce)}},{key:"sanitize",value:function(Ce){return(0,ge.sanitize)(Ce,["http","https","data"])?Ce:"//:0"}},{key:"value",value:function(Ce){return Ce.getAttribute("src")}}]),Ie}(ye.default.Embed);ve.blotName="image",ve.tagName="IMG",Ze.default=ve},function(Kt,Ze,Oe){"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var Ne,gt=function(){function Ne(Ie,Ce){for(var de=0;de<Ce.length;de++){var ot=Ce[de];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(Ie,ot.key,ot)}}return function(Ie,Ce,de){return Ce&&Ne(Ie.prototype,Ce),de&&Ne(Ie,de),Ie}}(),et=function Ne(Ie,Ce,de){null===Ie&&(Ie=Function.prototype);var ot=Object.getOwnPropertyDescriptor(Ie,Ce);if(void 0===ot){var Ae=Object.getPrototypeOf(Ie);return null===Ae?void 0:Ne(Ae,Ce,de)}if("value"in ot)return ot.value;var je=ot.get;return void 0!==je?je.call(de):void 0},Ve=Oe(3),ge=(Ne=Oe(15))&&Ne.__esModule?Ne:{default:Ne},we=["height","width"],ve=function(Ne){function Ie(){return function it(Ne,Ie){if(!(Ne instanceof Ie))throw new TypeError("Cannot call a class as a function")}(this,Ie),function Nt(Ne,Ie){if(!Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ie||"object"!=typeof Ie&&"function"!=typeof Ie?Ne:Ie}(this,(Ie.__proto__||Object.getPrototypeOf(Ie)).apply(this,arguments))}return function nt(Ne,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Super expression must either be null or a function, not "+typeof Ie);Ne.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:Ne,enumerable:!1,writable:!0,configurable:!0}}),Ie&&(Object.setPrototypeOf?Object.setPrototypeOf(Ne,Ie):Ne.__proto__=Ie)}(Ie,Ne),gt(Ie,[{key:"format",value:function(Ce,de){we.indexOf(Ce)>-1?de?this.domNode.setAttribute(Ce,de):this.domNode.removeAttribute(Ce):et(Ie.prototype.__proto__||Object.getPrototypeOf(Ie.prototype),"format",this).call(this,Ce,de)}}],[{key:"create",value:function(Ce){var de=et(Ie.__proto__||Object.getPrototypeOf(Ie),"create",this).call(this,Ce);return de.setAttribute("frameborder","0"),de.setAttribute("allowfullscreen",!0),de.setAttribute("src",this.sanitize(Ce)),de}},{key:"formats",value:function(Ce){return we.reduce(function(de,ot){return Ce.hasAttribute(ot)&&(de[ot]=Ce.getAttribute(ot)),de},{})}},{key:"sanitize",value:function(Ce){return ge.default.sanitize(Ce)}},{key:"value",value:function(Ce){return Ce.getAttribute("src")}}]),Ie}(Ve.BlockEmbed);ve.blotName="video",ve.className="ql-video",ve.tagName="IFRAME",Ze.default=ve},function(Kt,Ze,Oe){"use strict";function it(ot){return ot&&ot.__esModule?ot:{default:ot}}function Nt(ot,Ae){if(!(ot instanceof Ae))throw new TypeError("Cannot call a class as a function")}function nt(ot,Ae){if(!ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ae||"object"!=typeof Ae&&"function"!=typeof Ae?ot:Ae}function gt(ot,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Super expression must either be null or a function, not "+typeof Ae);ot.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),Ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,Ae):ot.__proto__=Ae)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.FormulaBlot=void 0;var et=function(){function ot(Ae,je){for(var Ke=0;Ke<je.length;Ke++){var yt=je[Ke];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(Ae,yt.key,yt)}}return function(Ae,je,Ke){return je&&ot(Ae.prototype,je),Ke&&ot(Ae,Ke),Ae}}(),Ve=function ot(Ae,je,Ke){null===Ae&&(Ae=Function.prototype);var yt=Object.getOwnPropertyDescriptor(Ae,je);if(void 0===yt){var Ot=Object.getPrototypeOf(Ae);return null===Ot?void 0:ot(Ot,je,Ke)}if("value"in yt)return yt.value;var wt=yt.get;return void 0!==wt?wt.call(Ke):void 0},ge=it(Oe(33)),ve=it(Oe(6)),Ie=it(Oe(7)),Ce=function(ot){function Ae(){return Nt(this,Ae),nt(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).apply(this,arguments))}return gt(Ae,ot),et(Ae,null,[{key:"create",value:function(je){var Ke=Ve(Ae.__proto__||Object.getPrototypeOf(Ae),"create",this).call(this,je);return"string"==typeof je&&(window.katex.render(je,Ke,{throwOnError:!1,errorColor:"#f00"}),Ke.setAttribute("data-value",je)),Ke}},{key:"value",value:function(je){return je.getAttribute("data-value")}}]),Ae}(ge.default);Ce.blotName="formula",Ce.className="ql-formula",Ce.tagName="SPAN";var de=function(ot){function Ae(){Nt(this,Ae);var je=nt(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return je}return gt(Ae,ot),et(Ae,null,[{key:"register",value:function(){ve.default.register(Ce,!0)}}]),Ae}(Ie.default);Ze.FormulaBlot=Ce,Ze.default=de},function(Kt,Ze,Oe){"use strict";function it(Ke){return Ke&&Ke.__esModule?Ke:{default:Ke}}function Nt(Ke,yt){if(!(Ke instanceof yt))throw new TypeError("Cannot call a class as a function")}function nt(Ke,yt){if(!Ke)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!yt||"object"!=typeof yt&&"function"!=typeof yt?Ke:yt}function gt(Ke,yt){if("function"!=typeof yt&&null!==yt)throw new TypeError("Super expression must either be null or a function, not "+typeof yt);Ke.prototype=Object.create(yt&&yt.prototype,{constructor:{value:Ke,enumerable:!1,writable:!0,configurable:!0}}),yt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ke,yt):Ke.__proto__=yt)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.CodeToken=Ze.CodeBlock=void 0;var et=function(){function Ke(yt,Ot){for(var wt=0;wt<Ot.length;wt++){var lt=Ot[wt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(yt,lt.key,lt)}}return function(yt,Ot,wt){return Ot&&Ke(yt.prototype,Ot),wt&&Ke(yt,wt),yt}}(),Ve=function Ke(yt,Ot,wt){null===yt&&(yt=Function.prototype);var lt=Object.getOwnPropertyDescriptor(yt,Ot);if(void 0===lt){var $e=Object.getPrototypeOf(yt);return null===$e?void 0:Ke($e,Ot,wt)}if("value"in lt)return lt.value;var Qe=lt.get;return void 0!==Qe?Qe.call(wt):void 0},ge=it(Oe(0)),ve=it(Oe(6)),Ie=it(Oe(7)),ot=function(Ke){function yt(){return Nt(this,yt),nt(this,(yt.__proto__||Object.getPrototypeOf(yt)).apply(this,arguments))}return gt(yt,Ke),et(yt,[{key:"replaceWith",value:function(Ot){this.domNode.textContent=this.domNode.textContent,this.attach(),Ve(yt.prototype.__proto__||Object.getPrototypeOf(yt.prototype),"replaceWith",this).call(this,Ot)}},{key:"highlight",value:function(Ot){var wt=this.domNode.textContent;this.cachedText!==wt&&((wt.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=Ot(wt),this.domNode.normalize(),this.attach()),this.cachedText=wt)}}]),yt}(it(Oe(13)).default);ot.className="ql-syntax";var Ae=new ge.default.Attributor.Class("token","hljs",{scope:ge.default.Scope.INLINE}),je=function(Ke){function yt(Ot,wt){Nt(this,yt);var lt=nt(this,(yt.__proto__||Object.getPrototypeOf(yt)).call(this,Ot,wt));if("function"!=typeof lt.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var $e=null;return lt.quill.on(ve.default.events.SCROLL_OPTIMIZE,function(){clearTimeout($e),$e=setTimeout(function(){lt.highlight(),$e=null},lt.options.interval)}),lt.highlight(),lt}return gt(yt,Ke),et(yt,null,[{key:"register",value:function(){ve.default.register(Ae,!0),ve.default.register(ot,!0)}}]),et(yt,[{key:"highlight",value:function(){var Ot=this;if(!this.quill.selection.composing){this.quill.update(ve.default.sources.USER);var wt=this.quill.getSelection();this.quill.scroll.descendants(ot).forEach(function(lt){lt.highlight(Ot.options.highlight)}),this.quill.update(ve.default.sources.SILENT),null!=wt&&this.quill.setSelection(wt,ve.default.sources.SILENT)}}}]),yt}(Ie.default);je.DEFAULTS={highlight:null==window.hljs?null:function(Ke){return window.hljs.highlightAuto(Ke).value},interval:1e3},Ze.CodeBlock=ot,Ze.CodeToken=Ae,Ze.default=je},function(Kt,Ze,Oe){"use strict";function it($e){return $e&&$e.__esModule?$e:{default:$e}}function gt($e,Qe){if(!$e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Qe||"object"!=typeof Qe&&"function"!=typeof Qe?$e:Qe}function Ve($e,Qe,rt){var zt=document.createElement("button");zt.setAttribute("type","button"),zt.classList.add("ql-"+Qe),null!=rt&&(zt.value=rt),$e.appendChild(zt)}function ye($e,Qe){Array.isArray(Qe[0])||(Qe=[Qe]),Qe.forEach(function(rt){var zt=document.createElement("span");zt.classList.add("ql-formats"),rt.forEach(function(_t){if("string"==typeof _t)Ve(zt,_t);else{var It=Object.keys(_t)[0],Hn=_t[It];Array.isArray(Hn)?function ge($e,Qe,rt){var zt=document.createElement("select");zt.classList.add("ql-"+Qe),rt.forEach(function(_t){var It=document.createElement("option");!1!==_t?It.setAttribute("value",_t):It.setAttribute("selected","selected"),zt.appendChild(It)}),$e.appendChild(zt)}(zt,It,Hn):Ve(zt,It,Hn)}}),$e.appendChild(zt)})}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.addControls=Ze.default=void 0;var we=function(Qe,rt){if(Array.isArray(Qe))return Qe;if(Symbol.iterator in Object(Qe))return function $e(Qe,rt){var zt=[],_t=!0,It=!1,Hn=void 0;try{for(var hn,pn=Qe[Symbol.iterator]();!(_t=(hn=pn.next()).done)&&(zt.push(hn.value),!rt||zt.length!==rt);_t=!0);}catch(qe){It=!0,Hn=qe}finally{try{!_t&&pn.return&&pn.return()}finally{if(It)throw Hn}}return zt}(Qe,rt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ve=function(){function $e(Qe,rt){for(var zt=0;zt<rt.length;zt++){var _t=rt[zt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(Qe,_t.key,_t)}}return function(Qe,rt,zt){return rt&&$e(Qe.prototype,rt),zt&&$e(Qe,zt),Qe}}(),Ie=it(Oe(4)),de=it(Oe(0)),Ae=it(Oe(6)),Ke=it(Oe(10)),Ot=it(Oe(7)),wt=(0,Ke.default)("quill:toolbar"),lt=function($e){function Qe(rt,zt){!function nt($e,Qe){if(!($e instanceof Qe))throw new TypeError("Cannot call a class as a function")}(this,Qe);var Hn,_t=gt(this,(Qe.__proto__||Object.getPrototypeOf(Qe)).call(this,rt,zt));if(Array.isArray(_t.options.container)){var It=document.createElement("div");ye(It,_t.options.container),rt.container.parentNode.insertBefore(It,rt.container),_t.container=It}else _t.container="string"==typeof _t.options.container?document.querySelector(_t.options.container):_t.options.container;return _t.container instanceof HTMLElement?(_t.container.classList.add("ql-toolbar"),_t.controls=[],_t.handlers={},Object.keys(_t.options.handlers).forEach(function(hn){_t.addHandler(hn,_t.options.handlers[hn])}),[].forEach.call(_t.container.querySelectorAll("button, select"),function(hn){_t.attach(hn)}),_t.quill.on(Ae.default.events.EDITOR_CHANGE,function(hn,pn){hn===Ae.default.events.SELECTION_CHANGE&&_t.update(pn)}),_t.quill.on(Ae.default.events.SCROLL_OPTIMIZE,function(){var hn=_t.quill.selection.getRange(),pn=we(hn,1);_t.update(pn[0])}),_t):(Hn=wt.error("Container required for toolbar",_t.options),gt(_t,Hn))}return function et($e,Qe){if("function"!=typeof Qe&&null!==Qe)throw new TypeError("Super expression must either be null or a function, not "+typeof Qe);$e.prototype=Object.create(Qe&&Qe.prototype,{constructor:{value:$e,enumerable:!1,writable:!0,configurable:!0}}),Qe&&(Object.setPrototypeOf?Object.setPrototypeOf($e,Qe):$e.__proto__=Qe)}(Qe,$e),ve(Qe,[{key:"addHandler",value:function(rt,zt){this.handlers[rt]=zt}},{key:"attach",value:function(rt){var zt=this,_t=[].find.call(rt.classList,function(Hn){return 0===Hn.indexOf("ql-")});if(_t){if(_t=_t.slice(3),"BUTTON"===rt.tagName&&rt.setAttribute("type","button"),null==this.handlers[_t]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[_t])return void wt.warn("ignoring attaching to disabled format",_t,rt);if(null==de.default.query(_t))return void wt.warn("ignoring attaching to nonexistent format",_t,rt)}rt.addEventListener("SELECT"===rt.tagName?"change":"click",function(Hn){var hn=void 0;if("SELECT"===rt.tagName){if(rt.selectedIndex<0)return;var pn=rt.options[rt.selectedIndex];hn=!pn.hasAttribute("selected")&&(pn.value||!1)}else hn=!rt.classList.contains("ql-active")&&(rt.value||!rt.hasAttribute("value")),Hn.preventDefault();zt.quill.focus();var qe=zt.quill.selection.getRange(),pe=we(qe,1)[0];if(null!=zt.handlers[_t])zt.handlers[_t].call(zt,hn);else if(de.default.query(_t).prototype instanceof de.default.Embed){if(!(hn=prompt("Enter "+_t)))return;zt.quill.updateContents((new Ie.default).retain(pe.index).delete(pe.length).insert(function Nt($e,Qe,rt){return Qe in $e?Object.defineProperty($e,Qe,{value:rt,enumerable:!0,configurable:!0,writable:!0}):$e[Qe]=rt,$e}({},_t,hn)),Ae.default.sources.USER)}else zt.quill.format(_t,hn,Ae.default.sources.USER);zt.update(pe)}),this.controls.push([_t,rt])}}},{key:"update",value:function(rt){var zt=null==rt?{}:this.quill.getFormat(rt);this.controls.forEach(function(_t){var It=we(_t,2),Hn=It[0],hn=It[1];if("SELECT"===hn.tagName){var pn=void 0;if(null==rt)pn=null;else if(null==zt[Hn])pn=hn.querySelector("option[selected]");else if(!Array.isArray(zt[Hn])){var qe=zt[Hn];"string"==typeof qe&&(qe=qe.replace(/\"/g,'\\"')),pn=hn.querySelector('option[value="'+qe+'"]')}null==pn?(hn.value="",hn.selectedIndex=-1):pn.selected=!0}else if(null==rt)hn.classList.remove("ql-active");else if(hn.hasAttribute("value")){var Vt=zt[Hn]===hn.getAttribute("value")||null!=zt[Hn]&&zt[Hn].toString()===hn.getAttribute("value")||null==zt[Hn]&&!hn.getAttribute("value");hn.classList.toggle("ql-active",Vt)}else hn.classList.toggle("ql-active",null!=zt[Hn])})}}]),Qe}(Ot.default);lt.DEFAULTS={},lt.DEFAULTS={container:null,handlers:{clean:function(){var $e=this,Qe=this.quill.getSelection();if(null!=Qe)if(0==Qe.length){var rt=this.quill.getFormat();Object.keys(rt).forEach(function(zt){null!=de.default.query(zt,de.default.Scope.INLINE)&&$e.quill.format(zt,!1)})}else this.quill.removeFormat(Qe,Ae.default.sources.USER)},direction:function($e){var Qe=this.quill.getFormat().align;"rtl"===$e&&null==Qe?this.quill.format("align","right",Ae.default.sources.USER):$e||"right"!==Qe||this.quill.format("align",!1,Ae.default.sources.USER),this.quill.format("direction",$e,Ae.default.sources.USER)},indent:function($e){var Qe=this.quill.getSelection(),rt=this.quill.getFormat(Qe),zt=parseInt(rt.indent||0);if("+1"===$e||"-1"===$e){var _t="+1"===$e?1:-1;"rtl"===rt.direction&&(_t*=-1),this.quill.format("indent",zt+_t,Ae.default.sources.USER)}},link:function($e){!0===$e&&($e=prompt("Enter link URL:")),this.quill.format("link",$e,Ae.default.sources.USER)},list:function($e){var Qe=this.quill.getSelection(),rt=this.quill.getFormat(Qe);this.quill.format("list","check"===$e?"checked"!==rt.list&&"unchecked"!==rt.list&&"unchecked":$e,Ae.default.sources.USER)}}},Ze.default=lt,Ze.addControls=ye},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(Kt,Ze){Kt.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(Kt,Ze){Kt.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(Kt,Ze){Kt.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(Kt,Ze){Kt.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(Kt,Ze){Kt.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(Kt,Ze,Oe){"use strict";function it(yt){return yt&&yt.__esModule?yt:{default:yt}}function Nt(yt,Ot){if(!(yt instanceof Ot))throw new TypeError("Cannot call a class as a function")}function nt(yt,Ot){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ot||"object"!=typeof Ot&&"function"!=typeof Ot?yt:Ot}function gt(yt,Ot){if("function"!=typeof Ot&&null!==Ot)throw new TypeError("Super expression must either be null or a function, not "+typeof Ot);yt.prototype=Object.create(Ot&&Ot.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),Ot&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,Ot):yt.__proto__=Ot)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.BubbleTooltip=void 0;var et=function yt(Ot,wt,lt){null===Ot&&(Ot=Function.prototype);var $e=Object.getOwnPropertyDescriptor(Ot,wt);if(void 0===$e){var Qe=Object.getPrototypeOf(Ot);return null===Qe?void 0:yt(Qe,wt,lt)}if("value"in $e)return $e.value;var rt=$e.get;return void 0!==rt?rt.call(lt):void 0},Ve=function(){function yt(Ot,wt){for(var lt=0;lt<wt.length;lt++){var $e=wt[lt];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ot,$e.key,$e)}}return function(Ot,wt,lt){return wt&&yt(Ot.prototype,wt),lt&&yt(Ot,lt),Ot}}(),ge=it(Oe(2)),ve=it(Oe(9)),Ne=Oe(44),Ie=it(Ne),Ce=Oe(22),ot=it(Oe(26)),Ae=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],je=function(yt){function Ot(wt,lt){Nt(this,Ot),null!=lt.modules.toolbar&&null==lt.modules.toolbar.container&&(lt.modules.toolbar.container=Ae);var $e=nt(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,wt,lt));return $e.quill.container.classList.add("ql-bubble"),$e}return gt(Ot,yt),Ve(Ot,[{key:"extendToolbar",value:function(wt){this.tooltip=new Ke(this.quill,this.options.bounds),this.tooltip.root.appendChild(wt.container),this.buildButtons([].slice.call(wt.container.querySelectorAll("button")),ot.default),this.buildPickers([].slice.call(wt.container.querySelectorAll("select")),ot.default)}}]),Ot}(Ie.default);je.DEFAULTS=(0,ge.default)(!0,{},Ie.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(yt){yt?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var Ke=function(yt){function Ot(wt,lt){Nt(this,Ot);var $e=nt(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,wt,lt));return $e.quill.on(ve.default.events.EDITOR_CHANGE,function(Qe,rt,zt,_t){if(Qe===ve.default.events.SELECTION_CHANGE)if(null!=rt&&rt.length>0&&_t===ve.default.sources.USER){$e.show(),$e.root.style.left="0px",$e.root.style.width="",$e.root.style.width=$e.root.offsetWidth+"px";var It=$e.quill.getLines(rt.index,rt.length);if(1===It.length)$e.position($e.quill.getBounds(rt));else{var Hn=It[It.length-1],hn=$e.quill.getIndex(Hn),pn=Math.min(Hn.length()-1,rt.index+rt.length-hn),qe=$e.quill.getBounds(new Ce.Range(hn,pn));$e.position(qe)}}else document.activeElement!==$e.textbox&&$e.quill.hasFocus()&&$e.hide()}),$e}return gt(Ot,yt),Ve(Ot,[{key:"listen",value:function(){var wt=this;et(Ot.prototype.__proto__||Object.getPrototypeOf(Ot.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){wt.root.classList.remove("ql-editing")}),this.quill.on(ve.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!wt.root.classList.contains("ql-hidden")){var lt=wt.quill.getSelection();null!=lt&&wt.position(wt.quill.getBounds(lt))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(wt){var lt=et(Ot.prototype.__proto__||Object.getPrototypeOf(Ot.prototype),"position",this).call(this,wt),$e=this.root.querySelector(".ql-tooltip-arrow");if($e.style.marginLeft="",0===lt)return lt;$e.style.marginLeft=-1*lt-$e.offsetWidth/2+"px"}}]),Ot}(Ne.BaseTooltip);Ke.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),Ze.BubbleTooltip=Ke,Ze.default=je},function(Kt,Ze,Oe){"use strict";function it(lt){return lt&&lt.__esModule?lt:{default:lt}}function Nt(lt,$e){if(!(lt instanceof $e))throw new TypeError("Cannot call a class as a function")}function nt(lt,$e){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$e||"object"!=typeof $e&&"function"!=typeof $e?lt:$e}function gt(lt,$e){if("function"!=typeof $e&&null!==$e)throw new TypeError("Super expression must either be null or a function, not "+typeof $e);lt.prototype=Object.create($e&&$e.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),$e&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,$e):lt.__proto__=$e)}Object.defineProperty(Ze,"__esModule",{value:!0});var Ve=function lt($e,Qe,rt){null===$e&&($e=Function.prototype);var zt=Object.getOwnPropertyDescriptor($e,Qe);if(void 0===zt){var _t=Object.getPrototypeOf($e);return null===_t?void 0:lt(_t,Qe,rt)}if("value"in zt)return zt.value;var It=zt.get;return void 0!==It?It.call(rt):void 0},ye=function(){function lt($e,Qe){for(var rt=0;rt<Qe.length;rt++){var zt=Qe[rt];zt.enumerable=zt.enumerable||!1,zt.configurable=!0,"value"in zt&&(zt.writable=!0),Object.defineProperty($e,zt.key,zt)}}return function($e,Qe,rt){return Qe&&lt($e.prototype,Qe),rt&&lt($e,rt),$e}}(),we=it(Oe(2)),Ne=it(Oe(9)),Ie=Oe(44),Ce=it(Ie),ot=it(Oe(15)),Ae=Oe(22),Ke=it(Oe(26)),yt=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Ot=function(lt){function $e(Qe,rt){Nt(this,$e),null!=rt.modules.toolbar&&null==rt.modules.toolbar.container&&(rt.modules.toolbar.container=yt);var zt=nt(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,Qe,rt));return zt.quill.container.classList.add("ql-snow"),zt}return gt($e,lt),ye($e,[{key:"extendToolbar",value:function(Qe){Qe.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Qe.container.querySelectorAll("button")),Ke.default),this.buildPickers([].slice.call(Qe.container.querySelectorAll("select")),Ke.default),this.tooltip=new wt(this.quill,this.options.bounds),Qe.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(rt,zt){Qe.handlers.link.call(Qe,!zt.format.link)})}}]),$e}(Ce.default);Ot.DEFAULTS=(0,we.default)(!0,{},Ce.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(lt){if(lt){var $e=this.quill.getSelection();if(null==$e||0==$e.length)return;var Qe=this.quill.getText($e);/^\S+@\S+\.\S+$/.test(Qe)&&0!==Qe.indexOf("mailto:")&&(Qe="mailto:"+Qe),this.quill.theme.tooltip.edit("link",Qe)}else this.quill.format("link",!1)}}}}});var wt=function(lt){function $e(Qe,rt){Nt(this,$e);var zt=nt(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,Qe,rt));return zt.preview=zt.root.querySelector("a.ql-preview"),zt}return gt($e,lt),ye($e,[{key:"listen",value:function(){var Qe=this;Ve($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(rt){Qe.root.classList.contains("ql-editing")?Qe.save():Qe.edit("link",Qe.preview.textContent),rt.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(rt){if(null!=Qe.linkRange){var zt=Qe.linkRange;Qe.restoreFocus(),Qe.quill.formatText(zt,"link",!1,Ne.default.sources.USER),delete Qe.linkRange}rt.preventDefault(),Qe.hide()}),this.quill.on(Ne.default.events.SELECTION_CHANGE,function(rt,zt,_t){if(null!=rt){if(0===rt.length&&_t===Ne.default.sources.USER){var Hn=function($e,Qe){if(Array.isArray($e))return $e;if(Symbol.iterator in Object($e))return function lt($e,Qe){var rt=[],zt=!0,_t=!1,It=void 0;try{for(var Hn,hn=$e[Symbol.iterator]();!(zt=(Hn=hn.next()).done)&&(rt.push(Hn.value),!Qe||rt.length!==Qe);zt=!0);}catch(pn){_t=!0,It=pn}finally{try{!zt&&hn.return&&hn.return()}finally{if(_t)throw It}}return rt}($e,Qe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(Qe.quill.scroll.descendant(ot.default,rt.index),2),hn=Hn[0];if(null!=hn){Qe.linkRange=new Ae.Range(rt.index-Hn[1],hn.length());var qe=ot.default.formats(hn.domNode);return Qe.preview.textContent=qe,Qe.preview.setAttribute("href",qe),Qe.show(),void Qe.position(Qe.quill.getBounds(Qe.linkRange))}}else delete Qe.linkRange;Qe.hide()}})}},{key:"show",value:function(){Ve($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),$e}(Ie.BaseTooltip);wt.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),Ze.default=Ot}]).default}),function(){"use strict";var Kt=function(s){if(null===s)return"null";if(void 0===s)return"undefined";var c=typeof s;return"object"===c&&(Array.prototype.isPrototypeOf(s)||s.constructor&&"Array"===s.constructor.name)?"array":"object"===c&&(String.prototype.isPrototypeOf(s)||s.constructor&&"String"===s.constructor.name)?"string":c},Ze=function(s){return{eq:s}},Oe=Ze(function(s,c){return s===c}),it=function(s){return Ze(function(c,p){if(c.length!==p.length)return!1;for(var m=c.length,b=0;b<m;b++)if(!s.eq(c[b],p[b]))return!1;return!0})},Nt=function(s){return Ze(function(c,p){var z,X,$,m=Object.keys(c),b=Object.keys(p);if(!(z=Oe,X=it(z),$=function(X){return Array.prototype.slice.call(X).sort(void 0)},Ze(function(re,he){return X.eq($(re),$(he))})).eq(m,b))return!1;for(var _=m.length,k=0;k<_;k++){var D=m[k];if(!s.eq(c[D],p[D]))return!1}return!0})},nt=Ze(function(s,c){if(s===c)return!0;var p=Kt(s);return p===Kt(c)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(p)?s===c:"array"===p?it(nt).eq(s,c):"object"===p&&Nt(nt).eq(s,c))});const gt=Object.getPrototypeOf,et=(s,c,p)=>{var m;return!!p(s,c.prototype)||(null===(m=s.constructor)||void 0===m?void 0:m.name)===c.name},Ve=s=>c=>(p=>{const m=typeof p;return null===p?"null":"object"===m&&Array.isArray(p)?"array":"object"===m&&et(p,String,(b,_)=>_.isPrototypeOf(b))?"string":m})(c)===s,ye=s=>c=>typeof c===s,ge=s=>c=>s===c,we=(s,c)=>Ne(s)&&et(s,c,(p,m)=>gt(p)===m),ve=Ve("string"),Ne=Ve("object"),Ie=s=>we(s,Object),Ce=Ve("array"),de=ge(null),ot=ye("boolean"),Ae=ge(void 0),je=s=>null==s,Ke=s=>!je(s),yt=ye("function"),Ot=ye("number"),wt=(s,c)=>{if(Ce(s)){for(let p=0,m=s.length;p<m;++p)if(!c(s[p]))return!1;return!0}return!1},lt=()=>{},$e=(s,c)=>(...p)=>s(c.apply(null,p)),Qe=(s,c)=>p=>s(c(p)),rt=s=>()=>s,zt=s=>s,_t=(s,c)=>s===c;function It(s,...c){return(...p)=>{const m=c.concat(p);return s.apply(null,m)}}const Hn=s=>c=>!s(c),hn=s=>()=>{throw new Error(s)},pn=s=>s(),qe=s=>{s()},Vt=rt(!1),pe=rt(!0);class ue{constructor(c,p){this.tag=c,this.value=p}static some(c){return new ue(!0,c)}static none(){return ue.singletonNone}fold(c,p){return this.tag?p(this.value):c()}isSome(){return this.tag}isNone(){return!this.tag}map(c){return this.tag?ue.some(c(this.value)):ue.none()}bind(c){return this.tag?c(this.value):ue.none()}exists(c){return this.tag&&c(this.value)}forall(c){return!this.tag||c(this.value)}filter(c){return!this.tag||c(this.value)?this:ue.none()}getOr(c){return this.tag?this.value:c}or(c){return this.tag?this:c}getOrThunk(c){return this.tag?this.value:c()}orThunk(c){return this.tag?this:c()}getOrDie(c){if(this.tag)return this.value;throw new Error(c??"Called getOrDie on None")}static from(c){return Ke(c)?ue.some(c):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(c){this.tag&&c(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const ln=Array.prototype.slice,on=Array.prototype.indexOf,jt=Array.prototype.push,Zt=(s,c)=>on.call(s,c),Et=(s,c)=>Zt(s,c)>-1,xn=(s,c)=>{for(let p=0,m=s.length;p<m;p++)if(c(s[p],p))return!0;return!1},Bt=(s,c)=>{const p=s.length,m=new Array(p);for(let b=0;b<p;b++)m[b]=c(s[b],b);return m},Ht=(s,c)=>{for(let p=0,m=s.length;p<m;p++)c(s[p],p)},On=(s,c)=>{for(let p=s.length-1;p>=0;p--)c(s[p],p)},xr=(s,c)=>{const p=[],m=[];for(let b=0,_=s.length;b<_;b++){const k=s[b];(c(k,b)?p:m).push(k)}return{pass:p,fail:m}},En=(s,c)=>{const p=[];for(let m=0,b=s.length;m<b;m++){const _=s[m];c(_,m)&&p.push(_)}return p},hi=(s,c,p)=>(On(s,(m,b)=>{p=c(p,m,b)}),p),pr=(s,c,p)=>(Ht(s,(m,b)=>{p=c(p,m,b)}),p),jr=(s,c,p)=>{for(let m=0,b=s.length;m<b;m++){const _=s[m];if(c(_,m))return ue.some(_);if(p(_,m))break}return ue.none()},_n=(s,c)=>jr(s,c,Vt),Gn=(s,c)=>{for(let p=0,m=s.length;p<m;p++)if(c(s[p],p))return ue.some(p);return ue.none()},di=s=>{const c=[];for(let p=0,m=s.length;p<m;++p){if(!Ce(s[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+s);jt.apply(c,s[p])}return c},bi=(s,c)=>di(Bt(s,c)),ai=(s,c)=>{for(let p=0,m=s.length;p<m;++p)if(!0!==c(s[p],p))return!1;return!0},Wi=s=>{const c=ln.call(s,0);return c.reverse(),c},yi=(s,c)=>En(s,p=>!Et(c,p)),fr=(s,c)=>{const p={};for(let m=0,b=s.length;m<b;m++){const _=s[m];p[String(_)]=c(_,m)}return p},po=(s,c)=>{const p=ln.call(s,0);return p.sort(c),p},Fr=(s,c)=>c>=0&&c<s.length?ue.some(s[c]):ue.none(),ir=s=>Fr(s,0),Jr=s=>Fr(s,s.length-1),Zo=yt(Array.from)?Array.from:s=>ln.call(s),ns=(s,c)=>{for(let p=0;p<s.length;p++){const m=c(s[p],p);if(m.isSome())return m}return ue.none()},Do=Object.keys,fa=Object.hasOwnProperty,Ye=(s,c)=>{const p=Do(s);for(let m=0,b=p.length;m<b;m++){const _=p[m];c(s[_],_)}},Te=(s,c)=>be(s,(p,m)=>({k:m,v:c(p,m)})),be=(s,c)=>{const p={};return Ye(s,(m,b)=>{const _=c(m,b);p[_.k]=_.v}),p},at=s=>(c,p)=>{s[p]=c},bt=(s,c,p,m)=>{Ye(s,(b,_)=>{(c(b,_)?p:m)(b,_)})},Pt=(s,c)=>{const p={};return bt(s,c,at(p),lt),p},ft=(s,c)=>{const p=[];return Ye(s,(m,b)=>{p.push(c(m,b))}),p},At=s=>ft(s,zt),Ft=(s,c)=>Gt(s,c)?ue.from(s[c]):ue.none(),Gt=(s,c)=>fa.call(s,c),zn=(s,c)=>Gt(s,c)&&null!=s[c],Xn=s=>{const c={};return Ht(s,p=>{c[p]={}}),Do(c)},ei=s=>void 0!==s.length,Qn=Array.isArray,ti=(s,c,p)=>{if(!s)return!1;if(p=p||s,ei(s)){for(let m=0,b=s.length;m<b;m++)if(!1===c.call(p,s[m],m,s))return!1}else for(const m in s)if(Gt(s,m)&&!1===c.call(p,s[m],m,s))return!1;return!0},Qi=(s,c)=>{const p=[];return ti(s,(m,b)=>{p.push(c(m,b,s))}),p},Ui=(s,c)=>{const p=[];return ti(s,(m,b)=>{c&&!c(m,b,s)||p.push(m)}),p},gr=(s,c,p,m)=>{let b=Ae(p)?s[0]:p;for(let _=0;_<s.length;_++)b=c.call(m,b,s[_],_);return b},Vn=(s,c,p)=>{for(let m=0,b=s.length;m<b;m++)if(c.call(p,s[m],m,s))return m;return-1},Li=s=>s[s.length-1],Ir=s=>{let c,p=!1;return(...m)=>(p||(p=!0,c=s.apply(null,m)),c)},wr=()=>tr(0,0),tr=(s,c)=>({major:s,minor:c}),Rr={nu:tr,detect:(s,c)=>{const p=String(c).toLowerCase();return 0===s.length?wr():((m,b)=>{const _=((D,z)=>{for(let H=0;H<D.length;H++){const X=D[H];if(X.test(z))return X}})(m,b);if(!_)return{major:0,minor:0};const k=D=>Number(b.replace(_,"$"+D));return tr(k(1),k(2))})(s,p)},unknown:wr},or=(s,c)=>{const p=String(c).toLowerCase();return _n(s,m=>m.search(p))},ar=(s,c,p)=>""===c||s.length>=c.length&&s.substr(p,p+c.length)===c,Yr=(s,c)=>Fn(s,c)?s.substring(c.length):s,Sr=(s,c,p=0,m)=>{const b=s.indexOf(c,p);return-1!==b&&(!!Ae(m)||b+c.length<=m)},Fn=(s,c)=>ar(s,c,0),ni=(s,c)=>ar(s,c,s.length-c.length),Jn=s=>c=>c.replace(s,""),fi=Jn(/^\s+|\s+$/g),xi=Jn(/^\s+/g),We=Jn(/\s+$/g),h=s=>s.length>0,d=s=>!h(s),v=(s,c=10)=>{const p=parseInt(s,c);return isNaN(p)?ue.none():ue.some(p)},S=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,T=s=>c=>Sr(c,s),I=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>Sr(s,"edge/")&&Sr(s,"chrome")&&Sr(s,"safari")&&Sr(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,S],search:s=>Sr(s,"chrome")&&!Sr(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>Sr(s,"msie")||Sr(s,"trident")},{name:"Opera",versionRegexes:[S,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:T("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:T("firefox")},{name:"Safari",versionRegexes:[S,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(Sr(s,"safari")||Sr(s,"mobile/"))&&Sr(s,"applewebkit")}],N=[{name:"Windows",search:T("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>Sr(s,"iphone")||Sr(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:T("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:T("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:T("linux"),versionRegexes:[]},{name:"Solaris",search:T("sunos"),versionRegexes:[]},{name:"FreeBSD",search:T("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:T("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],V={browsers:rt(I),oses:rt(N)},G="Edge",K="Chromium",J="Opera",ie="Firefox",Se=s=>{const c=s.current,m=b=>()=>c===b;return{current:c,version:s.version,isEdge:m(G),isChromium:m(K),isIE:m("IE"),isOpera:m(J),isFirefox:m(ie),isSafari:m("Safari")}},Le=()=>Se({current:void 0,version:Rr.unknown()}),Fe=Se,tt=(rt(G),rt(K),rt("IE"),rt(J),rt(ie),rt("Safari"),"Windows"),vt="Android",W="Linux",De="Solaris",Ue="FreeBSD",dt="ChromeOS",kt=s=>{const c=s.current,m=b=>()=>c===b;return{current:c,version:s.version,isWindows:m(tt),isiOS:m("iOS"),isAndroid:m(vt),isMacOS:m("macOS"),isLinux:m(W),isSolaris:m(De),isFreeBSD:m(Ue),isChromeOS:m(dt)}},Xt=()=>kt({current:void 0,version:Rr.unknown()}),qt=kt,Sn=(rt(tt),rt("iOS"),rt(vt),rt(W),rt("macOS"),rt(De),rt(Ue),rt(dt),s=>window.matchMedia(s).matches);let Mn=Ir(()=>((s,c,p)=>{const m=V.browsers(),b=V.oses(),_=c.bind(z=>{return H=m,ns(z.brands,$=>{const re=$.brand.toLowerCase();return _n(H,he=>{var se;return re===(null===(se=he.brand)||void 0===se?void 0:se.toLowerCase())}).map(he=>({current:he.name,version:Rr.nu(parseInt($.version,10),0)}))});var H}).orThunk(()=>{return or(m,H=s).map(X=>{const $=Rr.detect(X.versionRegexes,H);return{current:X.name,version:$}});var H}).fold(Le,Fe),k=(z=b,H=s,or(z,H).map(X=>{const $=Rr.detect(X.versionRegexes,H);return{current:X.name,version:$}})).fold(Xt,qt),D=((z,H,X,$)=>{const re=z.isiOS()&&!0===/ipad/i.test(X),he=z.isiOS()&&!re,se=z.isiOS()||z.isAndroid(),xe=se||$("(pointer:coarse)"),ce=re||!he&&se&&$("(min-device-width:768px)"),Me=he||se&&!ce,He=H.isSafari()&&z.isiOS()&&!1===/safari/i.test(X),Xe=!Me&&!ce&&!He;return{isiPad:rt(re),isiPhone:rt(he),isTablet:rt(ce),isPhone:rt(Me),isTouch:rt(xe),isAndroid:z.isAndroid,isiOS:z.isiOS,isWebView:rt(He),isDesktop:rt(Xe)}})(k,_,s,p);var z,H;return{browser:_,os:k,deviceType:D}})(navigator.userAgent,ue.from(navigator.userAgentData),Sn));const Cn=()=>Mn(),gi=navigator.userAgent,Ei=Cn(),Bi=Ei.browser,sr=Ei.os,mr=Ei.deviceType,si=-1!==gi.indexOf("Windows Phone"),Mi={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Bi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Bi.isIE(),windowsPhone:si,browser:{current:Bi.current,version:Bi.version,isChromium:Bi.isChromium,isEdge:Bi.isEdge,isFirefox:Bi.isFirefox,isIE:Bi.isIE,isOpera:Bi.isOpera,isSafari:Bi.isSafari},os:{current:sr.current,version:sr.version,isAndroid:sr.isAndroid,isChromeOS:sr.isChromeOS,isFreeBSD:sr.isFreeBSD,isiOS:sr.isiOS,isLinux:sr.isLinux,isMacOS:sr.isMacOS,isSolaris:sr.isSolaris,isWindows:sr.isWindows},deviceType:{isDesktop:mr.isDesktop,isiPad:mr.isiPad,isiPhone:mr.isiPhone,isPhone:mr.isPhone,isTablet:mr.isTablet,isTouch:mr.isTouch,isWebView:mr.isWebView}},Ur=/^\s*|\s*$/g,Fo=s=>je(s)?"":(""+s).replace(Ur,""),So=function(s,c,p,m){m=m||this,s&&(p&&(s=s[p]),ti(s,(b,_)=>!1!==c.call(m,b,_,p)&&(So(b,c,p,m),!0)))},Dn={trim:Fo,isArray:Qn,is:(s,c)=>c?!("array"!==c||!Qn(s))||typeof s===c:void 0!==s,toArray:s=>{if(Qn(s))return s;{const c=[];for(let p=0,m=s.length;p<m;p++)c[p]=s[p];return c}},makeMap:(s,c,p={})=>{const m=ve(s)?s.split(c||","):s||[];let b=m.length;for(;b--;)p[m[b]]={};return p},each:ti,map:Qi,grep:Ui,inArray:(s,c)=>{if(s)for(let p=0,m=s.length;p<m;p++)if(s[p]===c)return p;return-1},hasOwn:Gt,extend:(s,...c)=>{for(let p=0;p<c.length;p++){const m=c[p];for(const b in m)if(Gt(m,b)){const _=m[b];void 0!==_&&(s[b]=_)}}return s},walk:So,resolve:(s,c=window)=>{const p=s.split(".");for(let m=0,b=p.length;m<b&&(c=c[p[m]]);m++);return c},explode:(s,c)=>Ce(s)?s:""===s?[]:Qi(s.split(c||","),Fo),_addCacheSuffix:s=>{const c=Mi.cacheSuffix;return c&&(s+=(-1===s.indexOf("?")?"?":"&")+c),s}},uo=(s,c,p=_t)=>s.exists(m=>p(m,c)),Lo=(s,c,p=_t)=>Gr(s,c,p).getOr(s.isNone()&&c.isNone()),Gr=(s,c,p)=>s.isSome()&&c.isSome()?ue.some(p(s.getOrDie(),c.getOrDie())):ue.none(),lr=(s,c)=>s?ue.some(c):ue.none(),Wc=typeof window<"u"?window:Function("return this;")(),Mg=(s,c)=>((p,m)=>{let b=m??Wc;for(let _=0;_<p.length&&null!=b;++_)b=b[p[_]];return b})(s.split("."),c),Tg=Object.getPrototypeOf,Cr=s=>s.dom.nodeName.toLowerCase(),gc=s=>s.dom.nodeType,Sl=s=>c=>gc(c)===s,mc=s=>ys(s)&&(s=>{const c=Mg("ownerDocument.defaultView",s);return Ne(s)&&((p=c,((m,b)=>{const _=Mg(m,b);if(null==_)throw new Error(m+" not available on this browser");return _})("HTMLElement",p)).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(Tg(s).constructor.name));var p})(s.dom),ys=Sl(1),ja=Sl(3),rd=Sl(9),od=Sl(11),jc=s=>c=>ys(c)&&Cr(c)===s,ad=(s,c,p)=>{if(!(ve(p)||ot(p)||Ot(p)))throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",p,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(c,p+"")},Ho=(s,c,p)=>{ad(s.dom,c,p)},bs=(s,c)=>{const p=s.dom;Ye(c,(m,b)=>{ad(p,b,m)})},Ya=(s,c)=>{const p=s.dom.getAttribute(c);return null===p?void 0:p},Xs=(s,c)=>ue.from(Ya(s,c)),qs=(s,c)=>{const p=s.dom;return!(!p||!p.hasAttribute)&&p.hasAttribute(c)},Sa=(s,c)=>{s.dom.removeAttribute(c)},Xl=s=>pr(s.dom.attributes,(c,p)=>(c[p.name]=p.value,c),{}),vc=(s,c)=>{const p=Ya(s,c);return void 0===p||""===p?[]:p.split(" ")},ql=s=>void 0!==s.dom.classList,Cl=s=>vc(s,"class"),Cu=(s,c)=>((p,m,b)=>{const _=vc(p,m).concat([b]);return Ho(p,m,_.join(" ")),!0})(s,"class",c),_h=(s,c)=>((p,m,b)=>{const _=En(vc(p,m),k=>k!==b);return _.length>0?Ho(p,m,_.join(" ")):Sa(p,m),!1})(s,"class",c),kl=(s,c)=>{ql(s)?s.dom.classList.add(c):Cu(s,c)},wh=s=>{0===(ql(s)?s.dom.classList:Cl(s)).length&&Sa(s,"class")},xs=(s,c)=>{ql(s)?s.dom.classList.remove(c):_h(s,c),wh(s)},Ca=(s,c)=>ql(s)&&s.dom.classList.contains(c),Pa=s=>{if(null==s)throw new Error("Node cannot be null or undefined");return{dom:s}},is=(s,c)=>{const p=(c||document).createElement("div");if(p.innerHTML=s,!p.hasChildNodes()||p.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,s),new Error(m)}return Pa(p.childNodes[0])},ra=(s,c)=>{const p=(c||document).createElement(s);return Pa(p)},Ko=(s,c)=>{const p=(c||document).createTextNode(s);return Pa(p)},Yt=Pa,Kd=(s,c)=>{const p=[],m=_=>(p.push(_),c(_));let b=c(s);do{b=b.bind(m)}while(b.isSome());return p},Vo=(s,c)=>{const p=s.dom;if(1!==p.nodeType)return!1;{const m=p;if(void 0!==m.matches)return m.matches(c);if(void 0!==m.msMatchesSelector)return m.msMatchesSelector(c);if(void 0!==m.webkitMatchesSelector)return m.webkitMatchesSelector(c);if(void 0!==m.mozMatchesSelector)return m.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")}},ku=s=>1!==s.nodeType&&9!==s.nodeType&&11!==s.nodeType||0===s.childElementCount,Br=(s,c)=>s.dom===c.dom,$r=(s,c)=>{const p=s.dom,m=c.dom;return p!==m&&p.contains(m)},oa=s=>Yt(s.dom.ownerDocument),_s=s=>rd(s)?s:oa(s),Ul=s=>Yt(_s(s).dom.defaultView),ba=s=>ue.from(s.dom.parentNode).map(Yt),Al=s=>ue.from(s.dom.parentElement).map(Yt),sd=(s,c)=>{const p=yt(c)?c:Vt;let m=s.dom;const b=[];for(;null!=m.parentNode;){const _=m.parentNode,k=Yt(_);if(b.push(k),!0===p(k))break;m=_}return b},Ml=s=>ue.from(s.dom.previousSibling).map(Yt),Tl=s=>ue.from(s.dom.nextSibling).map(Yt),$l=s=>Wi(Kd(s,Ml)),Qd=s=>Kd(s,Tl),Po=s=>Bt(s.dom.childNodes,Yt),Yc=(s,c)=>ue.from(s.dom.childNodes[c]).map(Yt),Ls=s=>Yc(s,0),Gc=s=>Yc(s,s.dom.childNodes.length-1),ld=s=>s.dom.childNodes.length,yc=s=>od(s)&&Ke(s.dom.host),Jd=yt(Element.prototype.attachShadow)&&yt(Node.prototype.getRootNode),ol=rt(Jd),xa=Jd?s=>Yt(s.dom.getRootNode()):_s,ws=s=>yc(s)?s:(c=>{const p=c.dom.head;if(null==p)throw new Error("Head is not available yet");return Yt(p)})(_s(s)),cd=s=>Yt(s.dom.host),Au=s=>{if(ol()&&Ke(s.target)){const c=Yt(s.target);if(ys(c)&&Xc(c)&&s.composed&&s.composedPath){const p=s.composedPath();if(p)return ir(p)}}return ue.from(s.target)},Xc=s=>Ke(s.dom.shadowRoot),_a=s=>{const c=ja(s)?s.dom.parentNode:s.dom;if(null==c||null===c.ownerDocument)return!1;const p=c.ownerDocument;return(m=>{const b=xa(m);return yc(b)?ue.some(b):ue.none()})(Yt(c)).fold(()=>p.body.contains(c),Qe(_a,cd))};var qc=(s,c,p,m,b)=>s(p,m)?ue.some(p):yt(b)&&b(p)?ue.none():c(p,m,b);const Ps=(s,c,p)=>{let m=s.dom;const b=yt(p)?p:Vt;for(;m.parentNode;){m=m.parentNode;const _=Yt(m);if(c(_))return ue.some(_);if(b(_))break}return ue.none()},Na=(s,c,p)=>qc((m,b)=>b(m),Ps,s,c,p),Eg=(s,c)=>{const p=m=>{for(let b=0;b<m.childNodes.length;b++){const _=Yt(m.childNodes[b]);if(c(_))return ue.some(_);const k=p(m.childNodes[b]);if(k.isSome())return k}return ue.none()};return p(s.dom)},Uc=(s,c,p)=>Ps(s,m=>Vo(m,c),p),Mu=(s,c)=>((p,m)=>{const b=void 0===m?document:m.dom;return ku(b)?ue.none():ue.from(b.querySelector(p)).map(Yt)})(c,s),al=(s,c,p)=>qc((m,b)=>Vo(m,b),Uc,s,c,p),El=(s,c=!1)=>{return _a(s)?s.dom.isContentEditable:(p=s,al(p,"[contenteditable]")).fold(rt(c),m=>"true"===rs(m));var p},rs=s=>s.dom.contentEditable,Us=s=>void 0!==s.style&&yt(s.style.getPropertyValue),ep=(s,c,p)=>{if(!ve(p))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",p,":: Element ",s),new Error("CSS value must be a string: "+p);Us(s)&&s.style.setProperty(c,p)},Qo=(s,c,p)=>{ep(s.dom,c,p)},Il=(s,c)=>{const p=s.dom;Ye(c,(m,b)=>{ep(p,b,m)})},$s=(s,c)=>{const p=s.dom,m=window.getComputedStyle(p).getPropertyValue(c);return""!==m||_a(s)?m:aa(p,c)},aa=(s,c)=>Us(s)?s.style.getPropertyValue(c):"",Tu=(s,c)=>{const m=aa(s.dom,c);return ue.from(m).filter(b=>b.length>0)},Ch=s=>{const c={},p=s.dom;if(Us(p))for(let m=0;m<p.style.length;m++){const b=p.style.item(m);c[b]=p.style[b]}return c},tp=(s,c)=>{var p,m;m=c,Us(p=s.dom)&&p.style.removeProperty(m),uo(Xs(s,"style").map(fi),"")&&Sa(s,"style")},Ga=(s,c)=>{ba(s).each(p=>{p.dom.insertBefore(c.dom,s.dom)})},Ns=(s,c)=>{Tl(s).fold(()=>{ba(s).each(p=>{qo(p,c)})},p=>{Ga(p,c)})},np=(s,c)=>{Ls(s).fold(()=>{qo(s,c)},p=>{s.dom.insertBefore(c.dom,p.dom)})},qo=(s,c)=>{s.dom.appendChild(c.dom)},Eu=(s,c)=>{Ga(s,c),qo(c,s)},Ol=(s,c)=>{Ht(c,p=>{qo(s,p)})},$c=s=>{s.dom.textContent="",Ht(Po(s),c=>{yo(c)})},yo=s=>{const c=s.dom;null!==c.parentNode&&c.parentNode.removeChild(c)},sl=s=>{const c=Po(s);var p,m;c.length>0&&(p=s,Ht(m=c,(b,_)=>{Ns(0===_?p:m[_-1],b)})),yo(s)},Iu=s=>Bt(s,Yt),Dl=s=>s.dom.innerHTML,Ou=(s,c)=>{const p=oa(s).dom,m=Yt(p.createDocumentFragment()),b=((_,k)=>{const D=(k||document).createElement("div");return D.innerHTML=_,Po(Yt(D))})(c,p);Ol(m,b),$c(s),qo(s,m)},Pl=(s,c,p,m)=>{s.dom.removeEventListener(c,p,m)},nf=(s,c)=>({left:s,top:c,translate:(p,m)=>nf(s+p,c+m)}),Du=nf,Nl=(s,c)=>void 0!==s?s:void 0!==c?c:0,Zc=s=>{const c=s.dom,p=c.ownerDocument.body;return p===c?Du(p.offsetLeft,p.offsetTop):_a(s)?(m=>{const b=m.getBoundingClientRect();return Du(b.left,b.top)})(c):Du(0,0)},kh=s=>{const c=void 0!==s?s.dom:document;return Du(c.body.scrollLeft||c.documentElement.scrollLeft,c.body.scrollTop||c.documentElement.scrollTop)},Lu=(s,c,p)=>{const m=(void 0!==p?p.dom:document).defaultView;m&&m.scrollTo(s,c)},Pu=(s,c)=>{Cn().browser.isSafari()&&yt(s.dom.scrollIntoViewIfNeeded)?s.dom.scrollIntoViewIfNeeded(!1):s.dom.scrollIntoView(c)},Ig=(s,c,p,m)=>({x:s,y:c,width:p,height:m,right:s+p,bottom:c+m}),ud=s=>{const c=void 0===s?window:s,m=kh(Yt(c.document));return(b=>{const _=void 0===b?window:b;return Cn().browser.isFirefox()?ue.none():ue.from(_.visualViewport)})(c).fold(()=>{const b=c.document.documentElement;return Ig(m.left,m.top,b.clientWidth,b.clientHeight)},b=>Ig(Math.max(b.pageLeft,m.left),Math.max(b.pageTop,m.top),b.width,b.height))},bc=(s,c)=>{let p=[];return Ht(Po(s),m=>{c(m)&&(p=p.concat([m])),p=p.concat(bc(m,c))}),p},ga=(s,c)=>((p,m)=>{const b=void 0===m?document:m.dom;return ku(b)?[]:Bt(b.querySelectorAll(p),Yt)})(c,s),Nu=(s,c,p)=>Uc(s,c,p).isSome();class Jo{constructor(c,p){this.node=c,this.rootNode=p,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(c){return this.node=this.findSibling(this.node,"firstChild","nextSibling",c),this.node}prev(c){return this.node=this.findSibling(this.node,"lastChild","previousSibling",c),this.node}prev2(c){return this.node=this.findPreviousNode(this.node,c),this.node}findSibling(c,p,m,b){if(c){if(!b&&c[p])return c[p];if(c!==this.rootNode){let _=c[m];if(_)return _;for(let k=c.parentNode;k&&k!==this.rootNode;k=k.parentNode)if(_=k[m],_)return _}}}findPreviousNode(c,p){if(c){const m=c.previousSibling;if(this.rootNode&&m===this.rootNode)return;if(m){if(!p)for(let _=m.lastChild;_;_=_.lastChild)if(!_.lastChild)return _;return m}const b=c.parentNode;if(b&&b!==this.rootNode)return b}}}const Zl=s=>c=>!!c&&c.nodeType===s,Rs=s=>!!s&&!Object.getPrototypeOf(s),pi=Zl(1),Xa=s=>pi(s)&&mc(Yt(s)),Kl=s=>{const c=s.toLowerCase();return p=>Ke(p)&&p.nodeName.toLowerCase()===c},Bs=s=>{const c=s.map(p=>p.toLowerCase());return p=>{if(p&&p.nodeName){const m=p.nodeName.toLowerCase();return Et(c,m)}return!1}},Ru=(s,c)=>{const p=c.toLowerCase().split(" ");return m=>{if(pi(m)){const b=m.ownerDocument.defaultView;if(b)for(let _=0;_<p.length;_++){const k=b.getComputedStyle(m,null);if((k?k.getPropertyValue(s):null)===p[_])return!0}}return!1}},ip=s=>c=>pi(c)&&c.hasAttribute(s),Bu=s=>pi(s)&&s.hasAttribute("data-mce-bogus"),sa=s=>pi(s)&&"TABLE"===s.tagName,hd=s=>c=>!(!Xa(c)||c.contentEditable!==s&&c.getAttribute("data-mce-contenteditable")!==s),rf=Bs(["textarea","input"]),Rn=Zl(3),xc=Zl(4),Ah=Zl(7),ka=Zl(8),Mh=Zl(9),Kc=Zl(11),Co=Kl("br"),Th=Kl("img"),Ss=hd("true"),fo=hd("false"),Rl=Bs(["td","th"]),zu=Bs(["td","th","caption"]),qa=Bs(["video","audio","object","embed"]),Ql=Kl("li"),Qc=Kl("details"),rp=Kl("summary"),go="\xa0",_c=s=>"\ufeff"===s,Fu=((s,c)=>{const p=m=>s(m)?ue.from(m.dom.nodeValue):ue.none();return{get:m=>{if(!s(m))throw new Error("Can only get text value of a text node");return p(m).getOr("")},getOption:p,set:(m,b)=>{if(!s(m))throw new Error("Can only set raw text value of a text node");m.dom.nodeValue=b}}})(ja),$a=s=>Fu.get(s),of=s=>Fu.getOption(s),Bl=s=>{let c;return p=>(c=c||fr(s,pe),Gt(c,Cr(p)))},ll=s=>ys(s)&&"br"===Cr(s),cl=Bl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),ul=Bl(["ul","ol","dl"]),os=Bl(["li","dd","dt"]),Vu=Bl(["thead","tbody","tfoot"]),Jc=Bl(["td","th"]),Eh=Bl(["pre","script","textarea","style"]),eu=()=>{const s=ra("br");return Ho(s,"data-mce-bogus","1"),s},bo=s=>{$c(s),qo(s,eu())},ma="\ufeff",Zs=_c,Oa=s=>s.replace(/\uFEFF/g,""),op=pi,Hu=Rn,Jl=s=>(Hu(s)&&(s=s.parentNode),op(s)&&s.hasAttribute("data-mce-caret")),Gi=s=>Hu(s)&&Zs(s.data),ea=s=>Jl(s)||Gi(s),wc=s=>s.firstChild!==s.lastChild||!Co(s.firstChild),Ih=s=>{const c=s.container();return!!Rn(c)&&(c.data.charAt(s.offset())===ma||s.isAtStart()&&Gi(c.previousSibling))},Wu=s=>{const c=s.container();return!!Rn(c)&&(c.data.charAt(s.offset()-1)===ma||s.isAtEnd()&&Gi(c.nextSibling))},ju=s=>Hu(s)&&s.data[0]===ma,Yu=s=>Hu(s)&&s.data[s.data.length-1]===ma,Oh=s=>s&&s.hasAttribute("data-mce-caret")?((c=>{var p;const m=c.getElementsByTagName("br"),b=m[m.length-1];Bu(b)&&(null===(p=b.parentNode)||void 0===p||p.removeChild(b))})(s),s.removeAttribute("data-mce-caret"),s.removeAttribute("data-mce-bogus"),s.removeAttribute("style"),s.removeAttribute("data-mce-style"),s.removeAttribute("_moz_abspos"),s):null,oo=s=>Jl(s.startContainer),ri=Ss,lo=fo,as=Co,zl=Rn,af=Bs(["script","style","textarea"]),ap=Bs(["img","input","textarea","hr","iframe","video","audio","object","embed"]),sf=Bs(["table"]),Nv=ea,zs=s=>!Nv(s)&&(zl(s)?!af(s.parentNode):ap(s)||as(s)||sf(s)||Gu(s)),Gu=s=>{return!(pi(c=s)&&"true"===c.getAttribute("unselectable"))&&lo(s);var c},Xu=(s,c)=>zs(s)&&((p,m)=>{for(let b=p.parentNode;b&&b!==m;b=b.parentNode){if(Gu(b))return!1;if(ri(b))return!0}return!0})(s,c),sp=/^[ \t\r\n]*$/,Wo=s=>sp.test(s),lf=s=>{for(const c of s)if(!_c(c))return!1;return!0},Dh=s=>"\n"===s||"\r"===s,Cs=(s,c=4,p=!0,m=!0)=>{const b=(z=c)<=0?"":new Array(z+1).join(" "),_=s.replace(/\t/g,b);var z;return pr(_,(D,z)=>{return-1!==" \f\t\v".indexOf(z)||z===go?D.pcIsSpace||""===D.str&&p||D.str.length===_.length-1&&m||(X=D.str.length+1)<(H=_).length&&X>=0&&Dh(H[X])?{pcIsSpace:!1,str:D.str+go}:{pcIsSpace:!0,str:D.str+" "}:{pcIsSpace:Dh(z),str:D.str+z};var H,X},{pcIsSpace:!1,str:""}).str},ht=(s,c)=>{return zs(s)&&(m=c,!(Rn(p=s)&&Wo(p.data)&&!((b,_)=>{const k=Yt(_),D=Yt(b);return Nu(D,"pre,code",It(Br,k))})(p,m)))||(p=>pi(p)&&"A"===p.nodeName&&!p.hasAttribute("href")&&(p.hasAttribute("name")||p.hasAttribute("id")))(s)||te(s);var p,m},te=ip("data-mce-bookmark"),ze=ip("data-mce-bogus"),Dt=s=>pi(s)&&"all"===s.getAttribute("data-mce-bogus"),yn=s=>Al(Yt(s)).exists(c=>!El(c)),dn=(s,c=!0)=>((p,m)=>{let b=0;if(ht(p,p))return!1;{let _=p.firstChild;if(!_)return!0;const k=new Jo(_,p);do{if(m){if(Dt(_)){_=k.next(!0);continue}if(ze(_)){_=k.next();continue}}if(Ss(_)&&yn(_))return!1;if(Co(_))b++,_=k.next();else{if(ht(_,p))return!1;_=k.next()}}while(_);return b<=1}})(s.dom,c),Ln=s=>"svg"===s.toLowerCase(),ii=s=>Ln(s.nodeName),qn=s=>"svg"===s?.nodeName?"svg":"html",rr=["svg"],$i="data-mce-block",Pi=s=>{return Bt((c=s,En(Do(c),p=>!/[A-Z]/.test(p))),c=>`${c}:`+Bt(rr,p=>`not(${p} ${c})`).join(":")).join(",");var c},Xi=(s,c)=>Ke(c.querySelector(s))?(c.setAttribute($i,"true"),"inline-boundary"===c.getAttribute("data-mce-selected")&&c.removeAttribute("data-mce-selected"),!0):(c.removeAttribute($i),!1),vr=(s,c)=>{const p=Pi(s.getTransparentElements()),m=Pi(s.getBlockElements());return En(c.querySelectorAll(p),b=>Xi(m,b))},Vr=(s,c)=>{var p;const m=c?"lastChild":"firstChild";for(let b=s[m];b;b=b[m])if(dn(Yt(b)))return void(null===(p=b.parentNode)||void 0===p||p.removeChild(b))},Pr=(s,c)=>{const p=vr(s,c);var m,b,_;((s,c,p)=>{const m=s.getBlockElements(),b=Yt(c),_=D=>Cr(D)in m,k=D=>Br(D,b);Ht(Iu(p),D=>{Ps(D,_,k).each(z=>{const H=En(Po(D),re=>_(re)&&!s.isValidChild(Cr(z),Cr(re)));if(H.length>0){const X=Al(z);Ht(H,$=>{Ps($,_,k).each(re=>{((he,se)=>{const xe=document.createRange(),ce=he.parentNode;if(ce){xe.setStartBefore(he),xe.setEndBefore(se);const Me=xe.extractContents();Vr(Me,!0),xe.setStartAfter(se),xe.setEndAfter(he);const He=xe.extractContents();Vr(He,!1),dn(Yt(Me))||ce.insertBefore(Me,he),dn(Yt(se))||ce.insertBefore(se,he),dn(Yt(He))||ce.insertBefore(He,he),ce.removeChild(he)}})(re.dom,$.dom)})}),X.each($=>vr(s,$.dom))}})})})(s,c,p),m=s,b=c,_=p,Ht([..._,...Nr(m,b)?[b]:[]],k=>Ht(ga(Yt(k),k.nodeName.toLowerCase()),D=>{eo(m,D.dom)&&sl(D)}))},Mo=(s,c)=>{if(Ar(s,c)){const p=Pi(s.getBlockElements());Xi(p,c)}},No=s=>s.hasAttribute($i),Xr=(s,c)=>Gt(s.getTransparentElements(),c),Ar=(s,c)=>pi(c)&&Xr(s,c.nodeName),Nr=(s,c)=>Ar(s,c)&&No(c),eo=(s,c)=>Ar(s,c)&&!No(c),no=(s,c)=>1===c.type&&Xr(s,c.name)&&ve(c.attr($i)),nr=Cn().browser,xo=s=>_n(s,ys),to=(s,c)=>s.children&&Et(s.children,c),Za=(s,c={})=>{let p=0;const m={},b=Yt(s),_=_s(b),k=$=>{qo(ws(b),$)},D=$=>{const re=ws(b);Mu(re,"#"+$).each(yo)},z=$=>Ft(m,$).getOrThunk(()=>({id:"mce-u"+p++,passed:[],failed:[],count:0})),H=$=>new Promise((re,he)=>{let se;const xe=Dn._addCacheSuffix($),ce=z(xe);m[xe]=ce,ce.count++;const Me=(ut,Rt)=>{Ht(ut,qe),ce.status=Rt,ce.passed=[],ce.failed=[],se&&(se.onload=null,se.onerror=null,se=null)},He=()=>Me(ce.passed,2),Xe=()=>Me(ce.failed,3);if(re&&ce.passed.push(re),he&&ce.failed.push(he),1===ce.status)return;if(2===ce.status)return void He();if(3===ce.status)return void Xe();ce.status=1;const pt=ra("link",_.dom);bs(pt,{rel:"stylesheet",type:"text/css",id:ce.id}),c.contentCssCors&&Ho(pt,"crossOrigin","anonymous"),c.referrerPolicy&&Ho(pt,"referrerpolicy",c.referrerPolicy),se=pt.dom,se.onload=He,se.onerror=Xe,k(pt),Ho(pt,"href",xe)}),X=$=>{const re=Dn._addCacheSuffix($);Ft(m,re).each(he=>{0==--he.count&&(delete m[re],D(he.id))})};return{load:H,loadRawCss:($,re)=>{const he=z($);m[$]=he,he.count++;const se=ra("style",_.dom);bs(se,{rel:"stylesheet",type:"text/css",id:he.id}),se.dom.innerHTML=re,k(se)},loadAll:$=>Promise.allSettled(Bt($,re=>H(re).then(rt(re)))).then(re=>{const he=xr(re,se=>"fulfilled"===se.status);return he.fail.length>0?Promise.reject(Bt(he.fail,se=>se.reason)):Bt(he.pass,se=>se.value)}),unload:X,unloadRawCss:$=>{Ft(m,$).each(re=>{0==--re.count&&(delete m[$],D(re.id))})},unloadAll:$=>{Ht($,re=>{X(re)})},_setReferrerPolicy:$=>{c.referrerPolicy=$},_setContentCssCors:$=>{c.contentCssCors=$}}},_o=(()=>{const s=new WeakMap;return{forElement:(c,p)=>{const m=xa(c).dom;return ue.from(s.get(m)).getOrThunk(()=>{const b=Za(m,p);return s.set(m,b),b})}}})(),Ka=(s,c,p)=>Ke(s)&&(ht(s,c)||p.isInline(s.nodeName.toLowerCase())),Ra=s=>"span"===s.nodeName.toLowerCase()&&"bookmark"===s.getAttribute("data-mce-type"),ss=(s,c,p,m)=>{var b;const _=m||c;if(pi(c)&&Ra(c))return c;const k=c.childNodes;for(let D=k.length-1;D>=0;D--)ss(s,k[D],p,_);if(pi(c)){const D=c.childNodes;1===D.length&&Ra(D[0])&&(null===(b=c.parentNode)||void 0===b||b.insertBefore(D[0],c))}return Kc(D=c)||Mh(D)||ht(c,_)||(D=>!!pi(D)&&D.childNodes.length>0)(c)||((D,z,H)=>Rn(D)&&D.data.length>0&&((X,$,re)=>{const he=new Jo(X,$).prev(!1),se=new Jo(X,$).next(!1),xe=Ae(he)||Ka(he,$,re),ce=Ae(se)||Ka(se,$,re);return xe&&ce})(D,z,H))(c,_,p)||s.remove(c),c;var D},jo=Dn.makeMap,Qa=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Aa=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sc=/[<>&\"\']/g,zo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,To={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},la={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ec=(s,c)=>{const p={};if(s){const m=s.split(",");c=c||10;for(let b=0;b<m.length;b+=2){const _=String.fromCharCode(parseInt(m[b],c));if(!la[_]){const k="&"+m[b+1]+";";p[_]=k,p[k]=_}}return p}},Lh=ec("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),qu=(s,c)=>s.replace(c?Qa:Aa,p=>la[p]||p),tc=(s,c)=>s.replace(c?Qa:Aa,p=>p.length>1?"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";":la[p]||"&#"+p.charCodeAt(0)+";"),Ph=(s,c,p)=>{const m=p||Lh;return s.replace(c?Qa:Aa,b=>la[b]||m[b]||b)},nc={encodeRaw:qu,encodeAllRaw:s=>(""+s).replace(Sc,c=>la[c]||c),encodeNumeric:tc,encodeNamed:Ph,getEncodeFunc:(s,c)=>{const p=ec(c)||Lh,m=jo(s.replace(/\+/g,","));return m.named&&m.numeric?(b,_)=>b.replace(_?Qa:Aa,k=>void 0!==la[k]?la[k]:void 0!==p[k]?p[k]:k.length>1?"&#"+(1024*(k.charCodeAt(0)-55296)+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"):m.named?c?(b,_)=>Ph(b,_,p):Ph:m.numeric?tc:qu},decode:s=>s.replace(zo,(c,p)=>p?(p="x"===p.charAt(0).toLowerCase()?parseInt(p.substr(1),16):parseInt(p,10))>65535?(p-=65536,String.fromCharCode(55296+(p>>10),56320+(1023&p))):To[p]||String.fromCharCode(p):hl[c]||Lh[c]||(m=>{const b=ra("div").dom;return b.innerHTML=m,b.textContent||b.innerText||m})(c))},ca=(s,c)=>(s=Dn.trim(s))?s.split(c||" "):[],dd=s=>new RegExp("^"+s.replace(/([?+*])/g,".$1")+"$"),Uu={},tu=Dn.makeMap,Fs=Dn.each,Nh=Dn.extend,lp=Dn.explode,cf=(s,c={})=>{const p=tu(s," ",tu(s.toUpperCase()," "));return Nh(p,c)},cp=s=>cf("td th li dt dd figcaption caption details summary",s.getTextBlockElements()),Cc=(s,c)=>{if(s){const p={};return ve(s)&&(s={"*":s}),Fs(s,(m,b)=>{p[b]=p[b.toUpperCase()]="map"===c?tu(m,/[, ]/):lp(m,/[, ]/)}),p}},Ks=(s={})=>{var c;const p={},m={};let b=[];const _={},k={},D=(Oi,kr,Dr)=>{const dr=s[Oi];if(dr)return tu(dr,/[, ]/,tu(dr.toUpperCase(),/[, ]/));{let Lr=Uu[Oi];return Lr||(Lr=cf(kr,Dr),Uu[Oi]=Lr),Lr}},z=null!==(c=s.schema)&&void 0!==c?c:"html5",H=(Oi=>{const{globalAttributes:kr,phrasingContent:Dr,flowContent:dr}=(Oo=>{let Ta,ts,rl;Ta="id accesskey class dir lang style tabindex title role",ts="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",rl="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==Oo&&(Ta+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",ts+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",rl+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==Oo&&(Ta+=" xml:lang",rl=[rl,"acronym applet basefont big font strike tt"].join(" "),ts=[ts,"center dir isindex noframes"].join(" "));const Fc=[ts,rl].join(" ");return{globalAttributes:Ta,blockContent:ts,phrasingContent:rl,flowContent:Fc}})(Oi),Lr={},La=(Oo,Ta,ts)=>{Lr[Oo]={attributes:fr(Ta,rt({})),attributesOrder:Ta,children:fr(ts,rt({}))}},Fi=(Oo,Ta="",ts="")=>{const rl=ca(ts),Fc=ca(Oo);let Is=Fc.length;const Vc=ca([kr,Ta].join(" "));for(;Is--;)La(Fc[Is],Vc.slice(),rl)},Mr=(Oo,Ta)=>{const ts=ca(Oo),rl=ca(Ta);let Fc=ts.length;for(;Fc--;){const Is=Lr[ts[Fc]];for(let Vc=0,Ea=rl.length;Vc<Ea;Vc++)Is.attributes[rl[Vc]]={},Is.attributesOrder.push(rl[Vc])}};return"html5-strict"!==Oi&&(Ht(ca("acronym applet basefont big font strike tt"),Oo=>{Fi(Oo,"",Dr)}),Ht(ca("center dir isindex noframes"),Oo=>{Fi(Oo,"",dr)})),Fi("html","manifest","head body"),Fi("head","","base command link meta noscript script style title"),Fi("title hr noscript br"),Fi("base","href target"),Fi("link","href rel media hreflang type sizes hreflang"),Fi("meta","name http-equiv content charset"),Fi("style","media type scoped"),Fi("script","src async defer type charset"),Fi("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",dr),Fi("dd div","",dr),Fi("address dt caption","","html4"===Oi?Dr:dr),Fi("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",Dr),Fi("blockquote","cite",dr),Fi("ol","reversed start type","li"),Fi("ul","","li"),Fi("li","value",dr),Fi("dl","","dt dd"),Fi("a","href target rel media hreflang type","html4"===Oi?Dr:dr),Fi("q","cite",Dr),Fi("ins del","cite datetime",dr),Fi("img","src sizes srcset alt usemap ismap width height"),Fi("iframe","src name width height",dr),Fi("embed","src type width height"),Fi("object","data type typemustmatch name usemap form width height",[dr,"param"].join(" ")),Fi("param","name value"),Fi("map","name",[dr,"area"].join(" ")),Fi("area","alt coords shape href target rel media hreflang type"),Fi("table","border","caption colgroup thead tfoot tbody tr"+("html4"===Oi?" col":"")),Fi("colgroup","span","col"),Fi("col","span"),Fi("tbody thead tfoot","","tr"),Fi("tr","","td th"),Fi("td","colspan rowspan headers",dr),Fi("th","colspan rowspan headers scope abbr",dr),Fi("form","accept-charset action autocomplete enctype method name novalidate target",dr),Fi("fieldset","disabled form name",[dr,"legend"].join(" ")),Fi("label","form for",Dr),Fi("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Fi("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===Oi?dr:Dr),Fi("select","disabled form multiple name required size","option optgroup"),Fi("optgroup","disabled label","option"),Fi("option","disabled label selected value"),Fi("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Fi("menu","type label",[dr,"li"].join(" ")),Fi("noscript","",dr),"html4"!==Oi&&(Fi("wbr"),Fi("ruby","",[Dr,"rt rp"].join(" ")),Fi("figcaption","",dr),Fi("mark rt rp bdi","",Dr),Fi("summary","",[Dr,"h1 h2 h3 h4 h5 h6"].join(" ")),Fi("canvas","width height",dr),Fi("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[dr,"track source"].join(" ")),Fi("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[dr,"track source"].join(" ")),Fi("picture","","img source"),Fi("source","src srcset type media sizes"),Fi("track","kind src srclang label default"),Fi("datalist","",[Dr,"option"].join(" ")),Fi("article section nav aside main header footer","",dr),Fi("hgroup","","h1 h2 h3 h4 h5 h6"),Fi("figure","",[dr,"figcaption"].join(" ")),Fi("time","datetime",Dr),Fi("dialog","open",dr),Fi("command","type label icon disabled checked radiogroup command"),Fi("output","for form name",Dr),Fi("progress","value max",Dr),Fi("meter","value min max low high optimum",Dr),Fi("details","open",[dr,"summary"].join(" ")),Fi("keygen","autofocus challenge disabled form keytype name"),La("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==Oi&&(Mr("script","language xml:space"),Mr("style","xml:space"),Mr("object","declare classid code codebase codetype archive standby align border hspace vspace"),Mr("embed","align name hspace vspace"),Mr("param","valuetype type"),Mr("a","charset name rev shape coords"),Mr("br","clear"),Mr("applet","codebase archive code object alt name width height align hspace vspace"),Mr("img","name longdesc align border hspace vspace"),Mr("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Mr("font basefont","size color face"),Mr("input","usemap align"),Mr("select"),Mr("textarea"),Mr("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Mr("ul","type compact"),Mr("li","type"),Mr("ol dl menu dir","compact"),Mr("pre","width xml:space"),Mr("hr","align noshade size width"),Mr("isindex","prompt"),Mr("table","summary width frame rules cellspacing cellpadding align bgcolor"),Mr("col","width align char charoff valign"),Mr("colgroup","width align char charoff valign"),Mr("thead","align char charoff valign"),Mr("tr","align char charoff valign bgcolor"),Mr("th","axis align char charoff valign nowrap bgcolor width height"),Mr("form","accept"),Mr("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Mr("tfoot","align char charoff valign"),Mr("tbody","align char charoff valign"),Mr("area","nohref"),Mr("body","background bgcolor text link vlink alink")),"html4"!==Oi&&(Mr("input button select textarea","autofocus"),Mr("input textarea","placeholder"),Mr("a","download"),Mr("link script img","crossorigin"),Mr("img","loading"),Mr("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==Oi&&Ht([Lr.video,Lr.audio],Oo=>{delete Oo.children.audio,delete Oo.children.video}),Ht(ca("a form meter progress dfn"),Oo=>{Lr[Oo]&&delete Lr[Oo].children[Oo]}),delete Lr.caption.children.table,delete Lr.script,Lr})(z);!1===s.verify_html&&(s.valid_elements="*[*]");const X=Cc(s.valid_styles),$=Cc(s.invalid_styles,"map"),re=Cc(s.valid_classes,"map"),he=D("whitespace_elements","pre script noscript style textarea video audio iframe object code"),se=D("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),xe=D("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ce=D("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Me="td th iframe video audio object script code",He=D("non_empty_elements",Me+" pre svg",xe),Xe=D("move_caret_before_on_enter_elements",Me+" table",xe),pt="h1 h2 h3 h4 h5 h6",ut=D("text_block_elements",pt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Rt=D("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",ut),Jt=D("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),rn=D("transparent_elements","a ins del canvas map"),sn=D("wrap_block_elements","pre "+pt);Fs("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Oi=>{k[Oi]=new RegExp("</"+Oi+"[^>]*>","gi")});const fn=Oi=>{const kr=ue.from(p["@"]),Dr=/[*?+]/;Ht(((dr,Lr)=>{const La=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return bi(ca(Lr,","),Fi=>{const Mr=La.exec(Fi);if(Mr){const Oo=Mr[1],Ta=Mr[2],ts=Mr[3],rl=Mr[4],Fc=Mr[5],Is={attributes:{},attributesOrder:[]};if(dr.each(Vc=>{return Jh=Is,Ye((Ea=Vc).attributes,(Gl,Hc)=>{Jh.attributes[Hc]=Gl}),void Jh.attributesOrder.push(...Ea.attributesOrder);var Ea,Jh}),"#"===Oo?Is.paddEmpty=!0:"-"===Oo&&(Is.removeEmpty=!0),"!"===rl&&(Is.removeEmptyAttrs=!0),Fc&&((Vc,Ea)=>{const Jh=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Gl=/[*?+]/,{attributes:Hc,attributesOrder:_g}=Ea;Ht(ca(Vc,"|"),X0=>{const Zp=Jh.exec(X0);if(Zp){const fc={},j_=Zp[1],Yo=Zp[2].replace(/[\\:]:/g,":"),bh=Zp[3],Kp=Zp[4];if("!"===j_&&(Ea.attributesRequired=Ea.attributesRequired||[],Ea.attributesRequired.push(Yo),fc.required=!0),"-"===j_)return delete Hc[Yo],void _g.splice(Dn.inArray(_g,Yo),1);if(bh&&("="===bh?(Ea.attributesDefault=Ea.attributesDefault||[],Ea.attributesDefault.push({name:Yo,value:Kp}),fc.defaultValue=Kp):"~"===bh?(Ea.attributesForced=Ea.attributesForced||[],Ea.attributesForced.push({name:Yo,value:Kp}),fc.forcedValue=Kp):"<"===bh&&(fc.validValues=Dn.makeMap(Kp,"?"))),Gl.test(Yo)){const q0=fc;Ea.attributePatterns=Ea.attributePatterns||[],q0.pattern=dd(Yo),Ea.attributePatterns.push(q0)}else Hc[Yo]||_g.push(Yo),Hc[Yo]=fc}})})(Fc,Is),ts&&(Is.outputName=Ta),"@"===Ta){if(!dr.isNone())return[];dr=ue.some(Is)}return[ts?{name:Ta,element:Is,aliasName:ts}:{name:Ta,element:Is}]}return[]})})(kr,Oi??""),({name:dr,element:Lr,aliasName:La})=>{if(La&&(p[La]=Lr),Dr.test(dr)){const Fi=Lr;Fi.pattern=dd(dr),b.push(Fi)}else p[dr]=Lr})},Wt=Oi=>{b=[],Ht(Do(p),kr=>{delete p[kr]}),fn(Oi)},en=Oi=>{delete Uu.text_block_elements,delete Uu.block_elements,Ht((kr=>{const Dr=/^(~)?(.+)$/;return bi(ca(kr,","),dr=>{const Lr=Dr.exec(dr);if(Lr){const La="~"===Lr[1];return[{inline:La,cloneName:La?"span":"div",name:Lr[2]}]}return[]})})(Oi??""),({inline:kr,name:Dr,cloneName:dr})=>{if(m[Dr]=m[dr],_[Dr]=dr,He[Dr.toUpperCase()]={},He[Dr]={},kr||(Rt[Dr.toUpperCase()]={},Rt[Dr]={}),!p[Dr]){let Lr=p[dr];Lr=Nh({},Lr),delete Lr.removeEmptyAttrs,delete Lr.removeEmpty,p[Dr]=Lr}Ye(m,(Lr,La)=>{Lr[dr]&&(m[La]=Lr=Nh({},m[La]),Lr[Dr]=Lr[dr])})})},un=Oi=>{Ht((kr=>{const Dr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return bi(ca(kr,","),dr=>{const Lr=Dr.exec(dr);if(Lr){const La=Lr[1];return[{operation:La?(Mr=La,"-"===Mr?"remove":"add"):"replace",name:Lr[2],validChildren:ca(Lr[3],"|")}]}var Mr;return[]})})(Oi??""),({operation:kr,name:Dr,validChildren:dr})=>{const Lr="replace"===kr?{"#comment":{}}:m[Dr];Ht(dr,La=>{"remove"===kr?delete Lr[La]:Lr[La]={}}),m[Dr]=Lr})},An=Oi=>{const kr=p[Oi];if(kr)return kr;let Dr=b.length;for(;Dr--;){const dr=b[Dr];if(dr.pattern.test(Oi))return dr}};s.valid_elements?(Wt(s.valid_elements),Fs(H,(Oi,kr)=>{m[kr]=Oi.children})):(Fs(H,(Oi,kr)=>{p[kr]={attributes:Oi.attributes,attributesOrder:Oi.attributesOrder},m[kr]=Oi.children}),Fs(ca("strong/b em/i"),Oi=>{const kr=ca(Oi,"/");p[kr[1]].outputName=kr[0]}),Fs(Jt,(Oi,kr)=>{p[kr]&&(s.padd_empty_block_inline_children&&(p[kr].paddInEmptyBlock=!0),p[kr].removeEmpty=!0)}),Fs(ca("ol ul blockquote a table tbody"),Oi=>{p[Oi]&&(p[Oi].removeEmpty=!0)}),Fs(ca("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Oi=>{p[Oi]&&(p[Oi].paddEmpty=!0)}),Fs(ca("span"),Oi=>{p[Oi].removeEmptyAttrs=!0})),delete p.svg,en(s.custom_elements),un(s.valid_children),fn(s.extended_valid_elements),un("+ol[ul|ol],+ul[ul|ol]"),Fs({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Oi,kr)=>{p[kr]&&(p[kr].parentsRequired=ca(Oi))}),s.invalid_elements&&Fs(lp(s.invalid_elements),Oi=>{p[Oi]&&delete p[Oi]}),An("span")||fn("span[!data-mce-type|*]");const li=rt(X),$n=rt($),zi=rt(re),Ii=rt(ce),Ji=rt(Rt),Hi=rt(ut),mi=rt(Jt),Ai=rt(Object.seal(xe)),cr=rt(se),Qt=rt(He),tn=rt(Xe),Tn=rt(he),In=rt(rn),Nn=rt(sn),Ci=rt(Object.seal(k)),Yi=(Oi,kr)=>{const Dr=An(Oi);if(Dr){if(!kr)return!0;{if(Dr.attributes[kr])return!0;const dr=Dr.attributePatterns;if(dr){let Lr=dr.length;for(;Lr--;)if(dr[Lr].pattern.test(kr))return!0}}}return!1},ur=Oi=>Gt(Ji(),Oi),er=Oi=>!Fn(Oi,"#")&&Yi(Oi)&&!ur(Oi),ko=rt(_);return{type:z,children:m,elements:p,getValidStyles:li,getValidClasses:zi,getBlockElements:Ji,getInvalidStyles:$n,getVoidElements:Ai,getTextBlockElements:Hi,getTextInlineElements:mi,getBoolAttrs:Ii,getElementRule:An,getSelfClosingElements:cr,getNonEmptyElements:Qt,getMoveCaretBeforeOnEnterElements:tn,getWhitespaceElements:Tn,getTransparentElements:In,getSpecialElements:Ci,isValidChild:(Oi,kr)=>{const Dr=m[Oi.toLowerCase()];return!(!Dr||!Dr[kr.toLowerCase()])},isValid:Yi,isBlock:ur,isInline:er,isWrapper:Oi=>Gt(Nn(),Oi)||er(Oi),getCustomElements:ko,addValidElements:fn,setValidElements:Wt,addCustomElements:en,addValidChildren:un}},Rh=s=>{const c=s.toString(16);return(1===c.length?"0"+c:c).toUpperCase()},uf=s=>{return{value:(p=Rh(s.red)+Rh(s.green)+Rh(s.blue),Yr(p,"#").toUpperCase())};var p},pd=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,hf=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,df=(s,c,p,m)=>({red:s,green:c,blue:p,alpha:m}),fd=(s,c,p,m)=>{const b=parseInt(s,10),_=parseInt(c,10),k=parseInt(p,10),D=parseFloat(m);return df(b,_,k,D)},Bh=s=>{if("transparent"===s)return ue.some(df(0,0,0,0));const c=pd.exec(s);if(null!==c)return ue.some(fd(c[1],c[2],c[3],"1"));const p=hf.exec(s);return null!==p?ue.some(fd(p[1],p[2],p[3],p[4])):ue.none()},nu=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,iu=s=>Bh(s).map(uf).map(c=>"#"+c.value).getOr(s),ru=(s={},c)=>{const p=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,b=/\s+$/,_={};let k,D;c&&(k=c.getValidStyles(),D=c.getInvalidStyles());const H="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let $=0;$<H.length;$++)_[H[$]]="\ufeff"+$,_["\ufeff"+$]=H[$];const X={parse:$=>{const re={};let he=!1;const se=s.url_converter,xe=s.url_converter_scope||X,ce=(fn,Wt,en)=>{const un=re[fn+"-top"+Wt];if(!un)return;const An=re[fn+"-right"+Wt];if(!An)return;const li=re[fn+"-bottom"+Wt];if(!li)return;const $n=re[fn+"-left"+Wt];if(!$n)return;const zi=[un,An,li,$n];let Ii=zi.length-1;for(;Ii--&&zi[Ii]===zi[Ii+1];);Ii>-1&&en||(re[fn+Wt]=-1===Ii?zi[0]:zi.join(" "),delete re[fn+"-top"+Wt],delete re[fn+"-right"+Wt],delete re[fn+"-bottom"+Wt],delete re[fn+"-left"+Wt])},Me=fn=>{const Wt=re[fn];if(!Wt)return;const en=Wt.indexOf(",")>-1?[Wt]:Wt.split(" ");let un=en.length;for(;un--;)if(en[un]!==en[0])return!1;return re[fn]=en[0],!0},He=fn=>(he=!0,_[fn]),Xe=(fn,Wt)=>(he&&(fn=fn.replace(/\uFEFF[0-9]/g,en=>_[en])),Wt||(fn=fn.replace(/\\([\'\";:])/g,"$1")),fn),pt=fn=>String.fromCharCode(parseInt(fn.slice(1),16)),ut=fn=>fn.replace(/\\[0-9a-f]+/gi,pt),Rt=(fn,Wt,en,un,An,li)=>{if(An=An||li)return"'"+(An=Xe(An)).replace(/\'/g,"\\'")+"'";if(Wt=Xe(Wt||en||un||""),!s.allow_script_urls){const $n=Wt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test($n)||!s.allow_svg_data_urls&&/^data:image\/svg/i.test($n))return""}return se&&(Wt=se.call(xe,Wt,"style")),"url('"+Wt.replace(/\'/g,"\\'")+"')"};if($){let fn;for($=($=$.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,He).replace(/\"[^\"]+\"|\'[^\']+\'/g,Wt=>Wt.replace(/[;:]/g,He));fn=m.exec($);){m.lastIndex=fn.index+fn[0].length;let Wt=fn[1].replace(b,"").toLowerCase(),en=fn[2].replace(b,"");if(Wt&&en){if(Wt=ut(Wt),en=ut(en),-1!==Wt.indexOf("\ufeff")||-1!==Wt.indexOf('"')||!s.allow_script_urls&&("behavior"===Wt||/expression\s*\(|\/\*|\*\//.test(en)))continue;"font-weight"===Wt&&"700"===en?en="bold":"color"!==Wt&&"background-color"!==Wt||(en=en.toLowerCase()),ve(s.force_hex_color)&&"off"!==s.force_hex_color&&Bh(en).each(un=>{"always"!==s.force_hex_color&&1!==un.alpha||(en=iu(nu(un)))}),en=en.replace(p,Rt),re[Wt]=he?Xe(en,!0):en}}ce("border","",!0),ce("border","-width"),ce("border","-color"),ce("border","-style"),ce("padding",""),ce("margin",""),rn="border-style",sn="border-color",Me(Jt="border-width")&&Me(rn)&&Me(sn)&&(re.border=re[Jt]+" "+re[rn]+" "+re[sn],delete re[Jt],delete re[rn],delete re[sn]),"medium none"===re.border&&delete re.border,"none"===re["border-image"]&&delete re["border-image"]}var Jt,rn,sn;return re},serialize:($,re)=>{let he="";const se=(xe,ce)=>{const Me=ce[xe];if(Me)for(let He=0,Xe=Me.length;He<Xe;He++){const pt=Me[He],ut=$[pt];ut&&(he+=(he.length>0?" ":"")+pt+": "+ut+";")}};return re&&k?(se("*",k),se(re,k)):Ye($,(xe,ce)=>{xe&&((Me,He)=>{if(!D||!He)return!0;let Xe=D["*"];return!(Xe&&Xe[Me]||(Xe=D[He],Xe&&Xe[Me]))})(ce,re)&&(he+=(he.length>0?" ":"")+ce+": "+xe+";")}),he}};return X},Og={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Vs=(s,c)=>{const p=c??{};for(const m in s)Gt(Og,m)||(p[m]=s[m]);return Ke(s.composedPath)&&(p.composedPath=()=>s.composedPath()),Ke(s.getModifierState)&&(p.getModifierState=m=>s.getModifierState(m)),Ke(s.getTargetRanges)&&(p.getTargetRanges=()=>s.getTargetRanges()),p},pf=(s,c,p,m)=>{var b;const _=Vs(c,m);return _.type=s,je(_.target)&&(_.target=null!==(b=_.srcElement)&&void 0!==b?b:p),(je((k=c).preventDefault)||(D=k)instanceof Event||yt(D.initEvent))&&(_.preventDefault=()=>{_.defaultPrevented=!0,_.isDefaultPrevented=pe,yt(c.preventDefault)&&c.preventDefault()},_.stopPropagation=()=>{_.cancelBubble=!0,_.isPropagationStopped=pe,yt(c.stopPropagation)&&c.stopPropagation()},_.stopImmediatePropagation=()=>{_.isImmediatePropagationStopped=pe,_.stopPropagation()},(k=>k.isDefaultPrevented===pe||k.isDefaultPrevented===Vt)(_)||(_.isDefaultPrevented=!0===_.defaultPrevented?pe:Vt,_.isPropagationStopped=!0===_.cancelBubble?pe:Vt,_.isImmediatePropagationStopped=Vt)),_;var k,D},gd=/^(?:mouse|contextmenu)|click/,ua=(s,c,p,m)=>{s.addEventListener(c,p,m||!1)},ha=(s,c,p,m)=>{s.removeEventListener(c,p,m||!1)},md=(s,c)=>{const p=pf(s.type,s,document,c);if(Ke(m=s)&&gd.test(m.type)&&Ae(s.pageX)&&!Ae(s.clientX)){const m=p.target.ownerDocument||document,b=m.documentElement,_=m.body,k=p;k.pageX=s.clientX+(b&&b.scrollLeft||_&&_.scrollLeft||0)-(b&&b.clientLeft||_&&_.clientLeft||0),k.pageY=s.clientY+(b&&b.scrollTop||_&&_.scrollTop||0)-(b&&b.clientTop||_&&_.clientTop||0)}var m;return p},Dg=(s,c,p)=>{const m=s.document,b={type:"ready"};if(p.domLoaded)return void c(b);const _=()=>{ha(s,"DOMContentLoaded",_),ha(s,"load",_),p.domLoaded||(p.domLoaded=!0,c(b)),s=null};"complete"===m.readyState||"interactive"===m.readyState&&m.body?_():ua(s,"DOMContentLoaded",_),p.domLoaded||ua(s,"load",_)};class Fl{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(c,p,m,b){const _=this;let k;const D=window,z=re=>{_.executeHandlers(md(re||D.event),H)};if(!c||Rn(c)||ka(c))return m;let H;c[_.expando]?H=c[_.expando]:(H=_.count++,c[_.expando]=H,_.events[H]={}),b=b||c;const X=p.split(" ");let $=X.length;for(;$--;){let re=X[$],he=z,se=!1,xe=!1;"DOMContentLoaded"===re&&(re="ready"),_.domLoaded&&"ready"===re&&"complete"===c.readyState?m.call(b,md({type:re})):(_.hasFocusIn||"focusin"!==re&&"focusout"!==re||(se=!0,xe="focusin"===re?"focus":"blur",he=ce=>{const Me=md(ce||D.event);Me.type="focus"===Me.type?"focusin":"focusout",_.executeHandlers(Me,H)}),k=_.events[H][re],k?"ready"===re&&_.domLoaded?m(md({type:re})):k.push({func:m,scope:b}):(_.events[H][re]=k=[{func:m,scope:b}],k.fakeName=xe,k.capture=se,k.nativeHandler=he,"ready"===re?Dg(c,he,_):ua(c,xe||re,he,se)))}return c=k=null,m}unbind(c,p,m){if(!c||Rn(c)||ka(c))return this;const b=c[this.expando];if(b){let _=this.events[b];if(p){const k=p.split(" ");let D=k.length;for(;D--;){const z=k[D],H=_[z];if(H){if(m){let X=H.length;for(;X--;)if(H[X].func===m){const $=H.nativeHandler,re=H.fakeName,he=H.capture,se=H.slice(0,X).concat(H.slice(X+1));se.nativeHandler=$,se.fakeName=re,se.capture=he,_[z]=se}}m&&0!==H.length||(delete _[z],ha(c,H.fakeName||z,H.nativeHandler,H.capture))}}}else Ye(_,(k,D)=>{ha(c,k.fakeName||D,k.nativeHandler,k.capture)}),_={};for(const k in _)if(Gt(_,k))return this;delete this.events[b];try{delete c[this.expando]}catch{c[this.expando]=null}}return this}fire(c,p,m){return this.dispatch(c,p,m)}dispatch(c,p,m){if(!c||Rn(c)||ka(c))return this;const b=md({type:p,target:c},m);do{const _=c[this.expando];_&&this.executeHandlers(b,_),c=c.parentNode||c.ownerDocument||c.defaultView||c.parentWindow}while(c&&!b.isPropagationStopped());return this}clean(c){if(!c||Rn(c)||ka(c))return this;if(c[this.expando]&&this.unbind(c),c.getElementsByTagName||(c=c.document),c&&c.getElementsByTagName){this.unbind(c);const p=c.getElementsByTagName("*");let m=p.length;for(;m--;)(c=p[m])[this.expando]&&this.unbind(c)}return this}destroy(){this.events={}}cancel(c){return c&&(c.preventDefault(),c.stopImmediatePropagation()),!1}executeHandlers(c,p){const m=this.events[p],b=m&&m[c.type];if(b)for(let _=0,k=b.length;_<k;_++){const D=b[_];if(D&&!1===D.func.call(D.scope,c)&&c.preventDefault(),c.isImmediatePropagationStopped())return}}}Fl.Event=new Fl;const vd=Dn.each,ff=Dn.grep,$u="data-mce-style",gf=Dn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),yd=(s,c,p)=>{je(p)||""===p?Sa(s,c):Ho(s,c,p)},Lg=s=>s.replace(/[A-Z]/g,c=>"-"+c.toLowerCase()),Ba=(s,c)=>{let p=0;if(s)for(let m=s.nodeType,b=s.previousSibling;b;b=b.previousSibling){const _=b.nodeType;(!c||!Rn(b)||_!==m&&b.data.length)&&(p++,m=_)}return p},Rv=(s,c)=>{const p=Ya(c,"style"),m=s.serialize(s.parse(p),Cr(c));yd(c,$u,m)},J0=(s,c,p)=>{const m=Lg(c);var b,_;je(p)||""===p?tp(s,m):Qo(s,m,(_=m,Ot(b=p)?Gt(gf,_)?b+"":b+"px":b))},E=(s,c={})=>{const p={},m=window,b={};let _=0;const k=_o.forElement(Yt(s),{contentCssCors:c.contentCssCors,referrerPolicy:c.referrerPolicy}),D=[],z=c.schema?c.schema:Ks({}),H=ru({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope,force_hex_color:c.force_hex_color},c.schema),X=c.ownEvents?new Fl:Fl.Event,$=z.getBlockElements(),re=Qt=>Qt&&s&&ve(Qt)?s.getElementById(Qt):Qt,he=Qt=>{const tn=re(Qt);return Ke(tn)?Yt(tn):null},se=(Qt,tn,Tn="")=>{let In;const Nn=he(Qt);if(Ke(Nn)&&ys(Nn)){const Ci=cr[tn];In=Ci&&Ci.get?Ci.get(Nn.dom,tn):Ya(Nn,tn)}return Ke(In)?In:Tn},xe=Qt=>{const tn=re(Qt);return je(tn)?[]:tn.attributes},ce=(Qt,tn,Tn)=>{rn(Qt,In=>{if(pi(In)){const Nn=Yt(In),Ci=""===Tn?null:Tn,Yi=Ya(Nn,tn),ur=cr[tn];ur&&ur.set?ur.set(Nn.dom,Ci,tn):yd(Nn,tn,Ci),Yi!==Ci&&c.onSetAttrib&&c.onSetAttrib({attrElm:Nn.dom,attrName:tn,attrValue:Ci})}})},Me=()=>c.root_element||s.body,He=(Qt,tn)=>((Tn,In,Nn)=>{let Ci=0,Yi=0;const ur=Tn.ownerDocument;if(Nn=Nn||Tn,In){if(Nn===Tn&&In.getBoundingClientRect&&"static"===$s(Yt(Tn),"position")){const ko=In.getBoundingClientRect();return Ci=ko.left+(ur.documentElement.scrollLeft||Tn.scrollLeft)-ur.documentElement.clientLeft,Yi=ko.top+(ur.documentElement.scrollTop||Tn.scrollTop)-ur.documentElement.clientTop,{x:Ci,y:Yi}}let er=In;for(;er&&er!==Nn&&er.nodeType&&!to(er,Nn);)Ci+=er.offsetLeft||0,Yi+=er.offsetTop||0,er=er.offsetParent;for(er=In.parentNode;er&&er!==Nn&&er.nodeType&&!to(er,Nn);)Ci-=er.scrollLeft||0,Yi-=er.scrollTop||0,er=er.parentNode;Yi+=(ko=Yt(In),nr.isFirefox()&&"table"===Cr(ko)?xo(Po(ko)).filter(Oi=>"caption"===Cr(Oi)).bind(Oi=>xo(Qd(Oi)).map(kr=>kr.dom.offsetTop<=Oi.dom.offsetTop?-Oi.dom.offsetHeight:0)).getOr(0):0)}var ko;return{x:Ci,y:Yi}})(s.body,re(Qt),tn),Xe=(Qt,tn,Tn)=>{const In=re(Qt);var Nn;if(!je(In)&&(Xa(In)||pi(Nn=In)&&"http://www.w3.org/2000/svg"===Nn.namespaceURI))return Tn?$s(Yt(In),Lg(tn)):("float"===(tn=tn.replace(/-(\D)/g,(Ci,Yi)=>Yi.toUpperCase()))&&(tn="cssFloat"),In.style?In.style[tn]:void 0)},pt=Qt=>{const tn=re(Qt);if(!tn)return{w:0,h:0};let Tn=Xe(tn,"width"),In=Xe(tn,"height");return Tn&&-1!==Tn.indexOf("px")||(Tn="0"),In&&-1!==In.indexOf("px")||(In="0"),{w:parseInt(Tn,10)||tn.offsetWidth||tn.clientWidth,h:parseInt(In,10)||tn.offsetHeight||tn.clientHeight}},ut=(Qt,tn)=>{if(!Qt)return!1;const Tn=Ce(Qt)?Qt:[Qt];return xn(Tn,In=>Vo(Yt(In),tn))},Rt=(Qt,tn,Tn,In)=>{const Nn=[];let Ci=re(Qt);In=void 0===In;const Yi=Tn||("BODY"!==Me().nodeName?Me().parentNode:null);if(ve(tn))if("*"===tn)tn=pi;else{const ur=tn;tn=er=>ut(er,ur)}for(;Ci&&!(Ci===Yi||je(Ci.nodeType)||Mh(Ci)||Kc(Ci));){if(!tn||tn(Ci)){if(!In)return[Ci];Nn.push(Ci)}Ci=Ci.parentNode}return In?Nn:null},Jt=(Qt,tn,Tn)=>{let In=tn;if(Qt){ve(tn)&&(In=Nn=>ut(Nn,tn));for(let Nn=Qt[Tn];Nn;Nn=Nn[Tn])if(yt(In)&&In(Nn))return Nn}return null},rn=function(Qt,tn,Tn){const In=Tn??this;if(Ce(Qt)){const Nn=[];return vd(Qt,(Ci,Yi)=>{const ur=re(Ci);ur&&Nn.push(tn.call(In,ur,Yi))}),Nn}{const Nn=re(Qt);return!!Nn&&tn.call(In,Nn)}},sn=(Qt,tn)=>{rn(Qt,Tn=>{Ye(tn,(In,Nn)=>{ce(Tn,Nn,In)})})},fn=(Qt,tn)=>{rn(Qt,Tn=>{const In=Yt(Tn);Ou(In,tn)})},Wt=(Qt,tn,Tn,In,Nn)=>rn(Qt,Ci=>{const Yi=ve(tn)?s.createElement(tn):tn;return Ke(Tn)&&sn(Yi,Tn),In&&(!ve(In)&&In.nodeType?Yi.appendChild(In):ve(In)&&fn(Yi,In)),Nn?Yi:Ci.appendChild(Yi)}),en=(Qt,tn,Tn)=>Wt(s.createElement(Qt),Qt,tn,Tn,!0),un=nc.encodeAllRaw,An=(Qt,tn)=>rn(Qt,Tn=>{const In=Yt(Tn);return tn&&Ht(Po(In),Nn=>{ja(Nn)&&0===Nn.dom.length?yo(Nn):Ga(In,Nn)}),yo(In),In.dom}),li=(Qt,tn,Tn)=>{rn(Qt,In=>{if(pi(In)){const Nn=Yt(In),Ci=tn.split(" ");Ht(Ci,Yi=>{var ur,er,Oi,kr;Ke(Tn)?(Tn?kl:xs)(Nn,Yi):(er=Yi,ql(ur=Nn)?ur.dom.classList.toggle(er):(kr=er,Et(Cl(Oi=ur),kr)?_h(Oi,kr):Cu(Oi,kr)),wh(ur))})}})},$n=(Qt,tn,Tn)=>rn(tn,In=>{var Nn;const Ci=Ce(tn)?Qt.cloneNode(!0):Qt;return Tn&&vd(ff(In.childNodes),Yi=>{Ci.appendChild(Yi)}),null===(Nn=In.parentNode)||void 0===Nn||Nn.replaceChild(Ci,In),In}),zi=Qt=>{if(pi(Qt)){const tn="a"===Qt.nodeName.toLowerCase()&&!se(Qt,"href")&&se(Qt,"id");if(se(Qt,"name")||se(Qt,"data-mce-bookmark")||tn)return!0}return!1},Ii=()=>s.createRange(),Ji=(Qt,tn,Tn,In)=>{if(Ce(Qt)){let Nn=Qt.length;const Ci=[];for(;Nn--;)Ci[Nn]=Ji(Qt[Nn],tn,Tn,In);return Ci}return!c.collect||Qt!==s&&Qt!==m||D.push([Qt,tn,Tn,In]),X.bind(Qt,tn,Tn,In||Ai)},Hi=(Qt,tn,Tn)=>{if(Ce(Qt)){let In=Qt.length;const Nn=[];for(;In--;)Nn[In]=Hi(Qt[In],tn,Tn);return Nn}if(D.length>0&&(Qt===s||Qt===m)){let In=D.length;for(;In--;){const[Nn,Ci,Yi]=D[In];Qt!==Nn||tn&&tn!==Ci||Tn&&Tn!==Yi||X.unbind(Nn,Ci,Yi)}}return X.unbind(Qt,tn,Tn)},mi=Qt=>{if(Qt&&Xa(Qt)){const tn=Qt.getAttribute("data-mce-contenteditable");return tn&&"inherit"!==tn?tn:"inherit"!==Qt.contentEditable?Qt.contentEditable:null}return null},Ai={doc:s,settings:c,win:m,files:b,stdMode:!0,boxModel:!0,styleSheetLoader:k,boundEvents:D,styles:H,schema:z,events:X,isBlock:Qt=>ve(Qt)?Gt($,Qt):pi(Qt)&&(Gt($,Qt.nodeName)||Nr(z,Qt)),root:null,clone:(Qt,tn)=>Qt.cloneNode(tn),getRoot:Me,getViewPort:Qt=>{const tn=ud(Qt);return{x:tn.x,y:tn.y,w:tn.width,h:tn.height}},getRect:Qt=>{const tn=re(Qt),Tn=He(tn),In=pt(tn);return{x:Tn.x,y:Tn.y,w:In.w,h:In.h}},getSize:pt,getParent:(Qt,tn,Tn)=>{const In=Rt(Qt,tn,Tn,!1);return In&&In.length>0?In[0]:null},getParents:Rt,get:re,getNext:(Qt,tn)=>Jt(Qt,tn,"nextSibling"),getPrev:(Qt,tn)=>Jt(Qt,tn,"previousSibling"),select:(Qt,tn)=>{var Tn,In;const Nn=null!==(In=null!==(Tn=re(tn))&&void 0!==Tn?Tn:c.root_element)&&void 0!==In?In:s;return yt(Nn.querySelectorAll)?Zo(Nn.querySelectorAll(Qt)):[]},is:ut,add:Wt,create:en,createHTML:(Qt,tn,Tn="")=>{let In="<"+Qt;for(const Nn in tn)zn(tn,Nn)&&(In+=" "+Nn+'="'+un(tn[Nn])+'"');return d(Tn)&&Gt(z.getVoidElements(),Qt)?In+" />":In+">"+Tn+"</"+Qt+">"},createFragment:Qt=>{const tn=s.createElement("div"),Tn=s.createDocumentFragment();let In;for(Tn.appendChild(tn),Qt&&(tn.innerHTML=Qt);In=tn.firstChild;)Tn.appendChild(In);return Tn.removeChild(tn),Tn},remove:An,setStyle:(Qt,tn,Tn)=>{rn(Qt,In=>{const Nn=Yt(In);J0(Nn,tn,Tn),c.update_styles&&Rv(H,Nn)})},getStyle:Xe,setStyles:(Qt,tn)=>{rn(Qt,Tn=>{const In=Yt(Tn);Ye(tn,(Nn,Ci)=>{J0(In,Ci,Nn)}),c.update_styles&&Rv(H,In)})},removeAllAttribs:Qt=>rn(Qt,tn=>{const Tn=tn.attributes;for(let In=Tn.length-1;In>=0;In--)tn.removeAttributeNode(Tn.item(In))}),setAttrib:ce,setAttribs:sn,getAttrib:se,getPos:He,parseStyle:Qt=>H.parse(Qt),serializeStyle:(Qt,tn)=>H.serialize(Qt,tn),addStyle:Qt=>{if(Ai!==E.DOM&&s===document){if(p[Qt])return;p[Qt]=!0}let tn=s.getElementById("mceDefaultStyles");if(!tn){tn=s.createElement("style"),tn.id="mceDefaultStyles",tn.type="text/css";const Tn=s.head;Tn.firstChild?Tn.insertBefore(tn,Tn.firstChild):Tn.appendChild(tn)}tn.styleSheet?tn.styleSheet.cssText+=Qt:tn.appendChild(s.createTextNode(Qt))},loadCSS:Qt=>{Qt||(Qt=""),Ht(Qt.split(","),tn=>{b[tn]=!0,k.load(tn).catch(lt)})},addClass:(Qt,tn)=>{li(Qt,tn,!0)},removeClass:(Qt,tn)=>{li(Qt,tn,!1)},hasClass:(Qt,tn)=>{const Tn=he(Qt),In=tn.split(" ");return Ke(Tn)&&ai(In,Nn=>Ca(Tn,Nn))},toggleClass:li,show:Qt=>{rn(Qt,tn=>tp(Yt(tn),"display"))},hide:Qt=>{rn(Qt,tn=>Qo(Yt(tn),"display","none"))},isHidden:Qt=>{const tn=he(Qt);return Ke(tn)&&uo(Tu(tn,"display"),"none")},uniqueId:Qt=>(Qt||"mce_")+_++,setHTML:fn,getOuterHTML:Qt=>{const tn=he(Qt);return Ke(tn)?pi(tn.dom)?tn.dom.outerHTML:(Tn=>{const In=ra("div"),Nn=Yt(Tn.dom.cloneNode(!0));return qo(In,Nn),Dl(In)})(tn):""},setOuterHTML:(Qt,tn)=>{rn(Qt,Tn=>{pi(Tn)&&(Tn.outerHTML=tn)})},decode:nc.decode,encode:un,insertAfter:(Qt,tn)=>{const Tn=re(tn);return rn(Qt,In=>{const Nn=Tn?.parentNode,Ci=Tn?.nextSibling;return Nn&&(Ci?Nn.insertBefore(In,Ci):Nn.appendChild(In)),In})},replace:$n,rename:(Qt,tn)=>{if(Qt.nodeName!==tn.toUpperCase()){const Tn=en(tn);return vd(xe(Qt),In=>{ce(Tn,In.nodeName,se(Qt,In.nodeName))}),$n(Tn,Qt,!0),Tn}return Qt},findCommonAncestor:(Qt,tn)=>{let Tn=Qt;for(;Tn;){let In=tn;for(;In&&Tn!==In;)In=In.parentNode;if(Tn===In)break;Tn=Tn.parentNode}return!Tn&&Qt.ownerDocument?Qt.ownerDocument.documentElement:Tn},run:rn,getAttribs:xe,isEmpty:(Qt,tn,Tn)=>{let In=0;if(zi(Qt))return!1;const Nn=Qt.firstChild;if(Nn){const Ci=new Jo(Nn,Qt),Yi=z?z.getWhitespaceElements():{},ur=tn||(z?z.getNonEmptyElements():null);let er=Nn;do{if(pi(er)){const ko=er.getAttribute("data-mce-bogus");if(ko){er=Ci.next("all"===ko);continue}const Oi=er.nodeName.toLowerCase();if(ur&&ur[Oi]){if("br"===Oi){In++,er=Ci.next();continue}return!1}if(zi(er))return!1}if(ka(er)||Rn(er)&&!Wo(er.data)&&(!Tn?.includeZwsp||!lf(er.data))||Rn(er)&&er.parentNode&&Yi[er.parentNode.nodeName]&&Wo(er.data))return!1;er=Ci.next()}while(er)}return In<=1},createRng:Ii,nodeIndex:Ba,split:(Qt,tn,Tn)=>{let In,Nn,Ci=Ii();if(Qt&&tn&&Qt.parentNode&&tn.parentNode){const Yi=Qt.parentNode;return Ci.setStart(Yi,Ba(Qt)),Ci.setEnd(tn.parentNode,Ba(tn)),In=Ci.extractContents(),Ci=Ii(),Ci.setStart(tn.parentNode,Ba(tn)+1),Ci.setEnd(Yi,Ba(Qt)+1),Nn=Ci.extractContents(),Yi.insertBefore(ss(Ai,In,z),Qt),Yi.insertBefore(Tn||tn,Qt),Yi.insertBefore(ss(Ai,Nn,z),Qt),An(Qt),Tn||tn}},bind:Ji,unbind:Hi,fire:(Qt,tn,Tn)=>X.dispatch(Qt,tn,Tn),dispatch:(Qt,tn,Tn)=>X.dispatch(Qt,tn,Tn),getContentEditable:mi,getContentEditableParent:Qt=>{const tn=Me();let Tn=null;for(let In=Qt;In&&In!==tn&&(Tn=mi(In),null===Tn);In=In.parentNode);return Tn},isEditable:Qt=>{if(Ke(Qt)){const tn=pi(Qt)?Qt:Qt.parentElement;return Ke(tn)&&Xa(tn)&&El(Yt(tn))}return!1},destroy:()=>{if(D.length>0){let Qt=D.length;for(;Qt--;){const[tn,Tn,In]=D[Qt];X.unbind(tn,Tn,In)}}Ye(b,(Qt,tn)=>{k.unload(tn),delete b[tn]})},isChildOf:(Qt,tn)=>Qt===tn||tn.contains(Qt),dumpRng:Qt=>"startContainer: "+Qt.startContainer.nodeName+", startOffset: "+Qt.startOffset+", endContainer: "+Qt.endContainer.nodeName+", endOffset: "+Qt.endOffset},cr=((Qt,tn,Tn)=>{const In=tn.keep_values,Ci={style:{set:(Yi,ur)=>{const er=Yt(Yi);In&&yd(er,$u,ur),Sa(er,"style"),ve(ur)&&Il(er,Qt.parse(ur))},get:Yi=>{const ur=Yt(Yi),er=Ya(ur,$u)||Ya(ur,"style");return Qt.serialize(Qt.parse(er),Cr(ur))}}};return In&&(Ci.href=Ci.src={set:(Yi,ur,er)=>{const ko=Yt(Yi);yt(tn.url_converter)&&Ke(ur)&&(ur=tn.url_converter.call(tn.url_converter_scope||Tn(),String(ur),er,Yi)),yd(ko,"data-mce-"+er,ur),yd(ko,er,ur)},get:(Yi,ur)=>{const er=Yt(Yi);return Ya(er,"data-mce-"+ur)||Ya(er,ur)}}),Ci})(H,c,rt(Ai));return Ai};E.DOM=E(document),E.nodeIndex=Ba;const x=E.DOM;class A{constructor(c={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=c}_setReferrerPolicy(c){this.settings.referrerPolicy=c}loadScript(c){return new Promise((p,m)=>{const b=x;let _;const k=()=>{b.remove(D),_&&(_.onerror=_.onload=_=null)},D=b.uniqueId();_=document.createElement("script"),_.id=D,_.type="text/javascript",_.src=Dn._addCacheSuffix(c),this.settings.referrerPolicy&&b.setAttrib(_,"referrerpolicy",this.settings.referrerPolicy),_.onload=()=>{k(),p()},_.onerror=()=>{k(),m("Failed to load script: "+c)},(document.getElementsByTagName("head")[0]||document.body).appendChild(_)})}isDone(c){return 2===this.states[c]}markDone(c){this.states[c]=2}add(c){const p=this;return p.queue.push(c),void 0===p.states[c]&&(p.states[c]=0),new Promise((m,b)=>{p.scriptLoadedCallbacks[c]||(p.scriptLoadedCallbacks[c]=[]),p.scriptLoadedCallbacks[c].push({resolve:m,reject:b})})}load(c){return this.add(c)}remove(c){delete this.states[c],delete this.scriptLoadedCallbacks[c]}loadQueue(){const c=this.queue;return this.queue=[],this.loadScripts(c)}loadScripts(c){const p=this,m=(z,H)=>{Ft(p.scriptLoadedCallbacks,H).each(X=>{Ht(X,$=>$[z](H))}),delete p.scriptLoadedCallbacks[H]},b=z=>{const H=En(z,X=>"rejected"===X.status);return H.length>0?Promise.reject(bi(H,({reason:X})=>Ce(X)?X:[X])):Promise.resolve()},_=z=>Promise.allSettled(Bt(z,H=>2===p.states[H]?(m("resolve",H),Promise.resolve()):3===p.states[H]?(m("reject",H),Promise.reject(H)):(p.states[H]=1,p.loadScript(H).then(()=>{p.states[H]=2,m("resolve",H);const X=p.queue;return X.length>0?(p.queue=[],_(X).then(b)):Promise.resolve()},()=>(p.states[H]=3,m("reject",H),Promise.reject(H)))))),k=z=>(p.loading=!0,_(z).then(H=>{p.loading=!1;const X=p.queueLoadedCallbacks.shift();return ue.from(X).each(qe),b(H)})),D=Xn(c);return p.loading?new Promise((z,H)=>{p.queueLoadedCallbacks.push(()=>{k(D).then(z,H)})}):k(D)}}A.ScriptLoader=new A;const P=s=>{let c=s;return{get:()=>c,set:p=>{c=p}}},B={},j=P("en"),U=()=>Ft(B,j.get()),ee={getData:()=>Te(B,s=>({...s})),setCode:s=>{s&&j.set(s)},getCode:()=>j.get(),add:(s,c)=>{let p=B[s];p||(B[s]=p={});const m=Bt(Do(c),b=>b.toLowerCase());Ye(c,(b,_)=>{const k=_.toLowerCase();k!==_&&((D,z)=>{const H=D.indexOf(z);return-1!==H&&D.indexOf(z,H+1)>H})(m,k)?(Gt(c,k)||(p[k]=b),p[_]=b):p[k]=b})},translate:s=>{const c=U().getOr({}),p=D=>yt(D)?Object.prototype.toString.call(D):m(D)?"":""+D,m=D=>""===D||null==D,b=D=>{const z=p(D);return Gt(c,z)?p(c[z]):Ft(c,z.toLowerCase()).map(p).getOr(z)},_=D=>D.replace(/{context:\w+}$/,"");if(m(s))return"";if(Ne(k=s)&&Gt(k,"raw"))return p(s.raw);var k,D;if(Ce(D=s)&&D.length>1){const D=s.slice(1);return _(b(s[0]).replace(/\{([0-9]+)\}/g,(z,H)=>Gt(D,H)?p(D[H]):z))}return _(b(s))},isRtl:()=>U().bind(s=>Ft(s,"_dir")).exists(s=>"rtl"===s),hasCode:s=>Gt(B,s)},le=()=>{const s=[],c={},p={},m=[],b=(z,H)=>{const X=En(m,$=>$.name===z&&$.state===H);Ht(X,$=>$.resolve())},_=z=>Gt(c,z),k=(z,H)=>{const X=ee.getCode();!X||H&&-1===(","+(H||"")+",").indexOf(","+X+",")||A.ScriptLoader.add(c[z]+"/langs/"+X+".js")},D=(z,H="added")=>"added"===H&&Gt(p,z)||"loaded"===H&&_(z)?Promise.resolve():new Promise(X=>{m.push({name:z,state:H,resolve:X})});return{items:s,urls:c,lookup:p,get:z=>{if(p[z])return p[z].instance},requireLangPack:(z,H)=>{!1!==le.languageLoad&&(_(z)?k(z,H):D(z,"loaded").then(()=>k(z,H)))},add:(z,H)=>(s.push(H),p[z]={instance:H},b(z,"added"),H),remove:z=>{delete c[z],delete p[z]},createUrl:(z,H)=>ve(H)?ve(z)?{prefix:"",resource:H,suffix:""}:{prefix:z.prefix,resource:H,suffix:z.suffix}:H,load:(z,H)=>{if(c[z])return Promise.resolve();let X=ve(H)?H:H.prefix+H.resource+H.suffix;0!==X.indexOf("/")&&-1===X.indexOf("://")&&(X=le.baseURL+"/"+X),c[z]=X.substring(0,X.lastIndexOf("/"));const $=()=>(b(z,"loaded"),Promise.resolve());return p[z]?$():A.ScriptLoader.add(X).then($)},waitFor:D}};le.languageLoad=!0,le.baseURL="",le.PluginManager=le(),le.ThemeManager=le(),le.ModelManager=le();const me=s=>{const c=P(ue.none()),p=()=>c.get().each(m=>clearInterval(m));return{clear:()=>{p(),c.set(ue.none())},isSet:()=>c.get().isSome(),get:()=>c.get(),set:m=>{p(),c.set(ue.some(setInterval(m,s)))}}},Be=()=>{const s=(c=>{const p=P(ue.none()),m=()=>p.get().each(c);return{clear:()=>{m(),p.set(ue.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:b=>{m(),p.set(ue.some(b))}}})(lt);return{...s,on:c=>s.get().each(c)}},Pe=(s,c)=>{let p=null;return{cancel:()=>{de(p)||(clearTimeout(p),p=null)},throttle:(...m)=>{de(p)&&(p=setTimeout(()=>{p=null,s.apply(null,m)},c))}}},Ge=(s,c)=>{let p=null;const m=()=>{de(p)||(clearTimeout(p),p=null)};return{cancel:m,throttle:(...b)=>{m(),p=setTimeout(()=>{p=null,s.apply(null,b)},c)}}},ct=rt("mce-annotation"),Ct=rt("data-mce-annotation"),xt=rt("data-mce-annotation-uid"),Mt=rt("data-mce-annotation-active"),Ut=rt("data-mce-annotation-classes"),bn=rt("data-mce-annotation-attrs"),gn=s=>c=>Br(c,s),mn=(s,c)=>{const p=s.selection.getRng(),m=Yt(p.startContainer),b=Yt(s.getBody()),_=c.fold(()=>"."+ct(),D=>`[${Ct()}="${D}"]`),k=Yc(m,p.startOffset).getOr(m);return al(k,_,gn(b)).bind(D=>Xs(D,`${xt()}`).bind(z=>Xs(D,`${Ct()}`).map(H=>{const X=Kn(s,z);return{uid:z,name:H,elements:X}})))},Bn=(s,c)=>qs(s,"data-mce-bogus")||Nu(s,'[data-mce-bogus="all"]',gn(c)),Kn=(s,c)=>{const p=Yt(s.getBody()),m=ga(p,`[${xt()}="${c}"]`);return En(m,b=>!Bn(b,p))},Si=(s,c)=>{const p=Yt(s.getBody()),m=ga(p,`[${Ct()}="${c}"]`),b={};return Ht(m,_=>{if(!Bn(_,p)){const k=Ya(_,xt()),D=Ft(b,k).getOr([]);b[k]=D.concat([_])}}),b};let wi=0;const Ni=s=>{const c=(new Date).getTime(),p=Math.floor(1e9*Math.random());return wi++,s+"_"+p+wi+String(c)},ji=(s,c)=>Yt(s.dom.cloneNode(c)),Vi=s=>ji(s,!1),qi=s=>ji(s,!0),Ri=(s,c,p=Vt)=>{const m=new Jo(s,c),b=_=>{let k;do{k=m[_]()}while(k&&!Rn(k)&&!p(k));return ue.from(k).filter(Rn)};return{current:()=>ue.from(m.current()).filter(Rn),next:()=>b("next"),prev:()=>b("prev"),prev2:()=>b("prev2")}},_i=(s,c)=>{const p=c||(b=>s.isBlock(b)||Co(b)||fo(b)),m=(b,_,k,D)=>{if(Rn(b)){const z=D(b,_,b.data);if(-1!==z)return ue.some({container:b,offset:z})}return k().bind(z=>m(z.container,z.offset,k,D))};return{backwards:(b,_,k,D)=>{const z=Ri(b,D??s.getRoot(),p);return m(b,_,()=>z.prev().map(H=>({container:H,offset:H.length})),k).getOrNull()},forwards:(b,_,k,D)=>{const z=Ri(b,D??s.getRoot(),p);return m(b,_,()=>z.next().map(H=>({container:H,offset:0})),k).getOrNull()}}},ki=Math.round,Or=s=>s?{left:ki(s.left),top:ki(s.top),bottom:ki(s.bottom),right:ki(s.right),width:ki(s.width),height:ki(s.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Ro=(s,c)=>(s=Or(s),c||(s.left=s.left+s.width),s.right=s.left,s.width=0,s),wo=(s,c,p)=>s>=0&&s<=Math.min(c.height,p.height)/2,Ma=(s,c)=>{const p=Math.min(c.height/2,s.height/2);return s.bottom-p<c.top||!(s.top>c.bottom)&&wo(c.top-s.bottom,s,c)},za=(s,c)=>s.top>c.bottom||!(s.bottom<c.top)&&wo(c.bottom-s.top,s,c),dl=(s,c,p)=>{const m=Math.max(Math.min(c,s.left+s.width),s.left),b=Math.max(Math.min(p,s.top+s.height),s.top);return Math.sqrt((c-m)*(c-m)+(p-b)*(p-b))},ks=s=>{const c=s.startContainer,p=s.startOffset;return c===s.endContainer&&c.hasChildNodes()&&s.endOffset===p+1?c.childNodes[p]:null},hr=(s,c)=>{if(pi(s)&&s.hasChildNodes()){const p=s.childNodes;return p[(k=p.length-1,Math.min(Math.max(c,0),k))]}var k;return s},kc=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),As=s=>ve(s)&&s.charCodeAt(0)>=768&&kc.test(s),ic=pi,VO=zs,ls=Ru("display","block table"),Pg=Ru("float","left right"),Ng=((...s)=>c=>{for(let p=0;p<s.length;p++)if(!s[p](c))return!1;return!0})(ic,VO,Hn(Pg)),vM=Hn(Ru("white-space","pre pre-line pre-wrap")),Zu=Rn,tw=Co,yM=E.nodeIndex,Zr=(s,c)=>c<0&&pi(s)&&s.hasChildNodes()?void 0:hr(s,c),eb=s=>s?s.createRange():E.DOM.createRng(),nw=s=>ve(s)&&/[\r\n\t ]/.test(s),Qr=s=>!!s.setStart&&!!s.setEnd,iw=s=>{const c=s.startContainer,p=s.startOffset;if(nw(s.toString())&&vM(c.parentNode)&&Rn(c)){const m=c.data;if(nw(m[p-1])||nw(m[p+1]))return!0}return!1},bM=s=>0===s.left&&0===s.right&&0===s.top&&0===s.bottom,bd=s=>{var c;let p;const m=s.getClientRects();return p=Or(m.length>0?m[0]:s.getBoundingClientRect()),!Qr(s)&&tw(s)&&bM(p)?(b=>{const _=b.ownerDocument,k=eb(_),D=_.createTextNode(go),z=b.parentNode;z.insertBefore(D,b),k.setStart(D,0),k.setEnd(D,1);const H=Or(k.getBoundingClientRect());return z.removeChild(D),H})(s):bM(p)&&Qr(s)&&null!==(c=(b=>{const k=b.endContainer,D=b.startOffset,z=b.endOffset;if(b.startContainer===k&&Rn(k)&&0===D&&1===z){const H=b.cloneRange();return H.setEndAfter(k),bd(H)}return null})(s))&&void 0!==c?c:p},up=(s,c)=>{const p=Ro(s,c);return p.width=1,p.right=p.left+1,p},wn=(s,c,p)=>{const m=()=>(p||(p=(b=>{const _=[],k=X=>{var $,re;0!==X.height&&(_.length>0&&($=X).left===(re=_[_.length-1]).left&&$.top===re.top&&$.bottom===re.bottom&&$.right===re.right||_.push(X))},D=(X,$)=>{const re=eb(X.ownerDocument);if($<X.data.length){if(As(X.data[$]))return;if(As(X.data[$-1])&&(re.setStart(X,$),re.setEnd(X,$+1),!iw(re)))return void k(up(bd(re),!1))}$>0&&(re.setStart(X,$-1),re.setEnd(X,$),iw(re)||k(up(bd(re),!1))),$<X.data.length&&(re.setStart(X,$),re.setEnd(X,$+1),iw(re)||k(up(bd(re),!0)))},z=b.container(),H=b.offset();if(Zu(z))return D(z,H),_;if(ic(z))if(b.isAtEnd()){const X=Zr(z,H);Zu(X)&&D(X,X.data.length),Ng(X)&&!tw(X)&&k(up(bd(X),!1))}else{const X=Zr(z,H);if(Zu(X)&&D(X,0),Ng(X)&&b.isAtEnd())return k(up(bd(X),!1)),_;const $=Zr(b.container(),b.offset()-1);Ng($)&&!tw($)&&(ls($)||ls(X)||!Ng(X))&&k(up(bd($),!1)),Ng(X)&&k(up(bd(X),!0))}return _})(wn(s,c))),p);return{container:rt(s),offset:rt(c),toRange:()=>{const b=eb(s.ownerDocument);return b.setStart(s,c),b.setEnd(s,c),b},getClientRects:m,isVisible:()=>m().length>0,isAtStart:()=>(Zu(s),0===c),isAtEnd:()=>Zu(s)?c>=s.data.length:c>=s.childNodes.length,isEqual:b=>b&&s===b.container()&&c===b.offset(),getNode:b=>Zr(s,b?c-1:c)}};wn.fromRangeStart=s=>wn(s.startContainer,s.startOffset),wn.fromRangeEnd=s=>wn(s.endContainer,s.endOffset),wn.after=s=>wn(s.parentNode,yM(s)+1),wn.before=s=>wn(s.parentNode,yM(s)),wn.isAbove=(s,c)=>Gr(ir(c.getClientRects()),Jr(s.getClientRects()),Ma).getOr(!1),wn.isBelow=(s,c)=>Gr(Jr(c.getClientRects()),ir(s.getClientRects()),za).getOr(!1),wn.isAtStart=s=>!!s&&s.isAtStart(),wn.isAtEnd=s=>!!s&&s.isAtEnd(),wn.isTextPosition=s=>!!s&&Rn(s.container()),wn.isElementPosition=s=>!wn.isTextPosition(s);const Bv=(s,c)=>{Rn(c)&&0===c.data.length&&s.remove(c)},tb=(s,c,p)=>{var m,_;Kc(p)?((m,b,_)=>{const k=ue.from(_.firstChild),D=ue.from(_.lastChild);b.insertNode(_),k.each(z=>Bv(m,z.previousSibling)),D.each(z=>Bv(m,z.nextSibling))})(s,c,p):(m=s,c.insertNode(_=p),Bv(m,_.previousSibling),Bv(m,_.nextSibling))},ou=Rn,rw=Bu,ow=E.nodeIndex,aw=s=>{const c=s.parentNode;return rw(c)?aw(c):c},zv=s=>s?gr(s.childNodes,(c,p)=>(rw(p)&&"BR"!==p.nodeName?c=c.concat(zv(p)):c.push(p),c),[]):[],_r=s=>c=>s===c,nb=s=>(ou(s)?"text()":s.nodeName.toLowerCase())+"["+(c=>{let p,m;p=zv(aw(c)),m=Vn(p,_r(c),c),p=p.slice(0,m+1);const b=gr(p,(_,k,D)=>(ou(k)&&ou(p[D-1])&&_++,_),0);return p=Ui(p,Bs([c.nodeName])),m=Vn(p,_r(c),c),m-b})(s)+"]",sw=(s,c)=>{let p,m=[],b=c.container(),_=c.offset();if(ou(b))p=((D,z)=>{let H=D;for(;(H=H.previousSibling)&&ou(H);)z+=H.data.length;return z})(b,_);else{const D=b.childNodes;_>=D.length?(p="after",_=D.length-1):p="before",b=D[_]}m.push(nb(b));let k=((D,z,H)=>{const X=[];for(let $=z.parentNode;$&&$!==D;$=$.parentNode)X.push($);return X})(s,b);return k=Ui(k,Hn(Bu)),m=m.concat(Qi(k,D=>nb(D))),m.reverse().join("/")+","+p},lw=(s,c)=>{if(!c)return null;const p=c.split(","),m=p[0].split("/"),b=p.length>1?p[1]:"before",_=gr(m,(k,D)=>{const z=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(D);return z?("text()"===z[1]&&(z[1]="#text"),((H,X,$)=>{let re=zv(H);return re=Ui(re,(he,se)=>!ou(he)||!ou(re[se-1])),re=Ui(re,Bs([X])),re[$]})(k,z[1],parseInt(z[2],10))):null},s);if(!_)return null;if(!ou(_)&&_.parentNode){let k;return k="after"===b?ow(_)+1:ow(_),wn(_.parentNode,k)}return((k,D)=>{let z=k,H=0;for(;ou(z);){const X=z.data.length;if(D>=H&&D<=H+X){k=z,D-=H;break}if(!ou(z.nextSibling)){k=z,D=X;break}H+=X,z=z.nextSibling}return ou(k)&&D>k.data.length&&(D=k.data.length),wn(k,D)})(_,parseInt(b,10))},Fv=fo,ib=(s,c,p,m,b)=>{const _=b?m.startContainer:m.endContainer;let k=b?m.startOffset:m.endOffset;const D=[],z=s.getRoot();if(Rn(_))D.push(p?((H,X,$)=>{let re=H(X.data.slice(0,$)).length;for(let he=X.previousSibling;he&&Rn(he);he=he.previousSibling)re+=H(he.data).length;return re})(c,_,k):k);else{let H=0;const X=_.childNodes;k>=X.length&&X.length&&(H=1,k=Math.max(0,X.length-1)),D.push(s.nodeIndex(X[k],p)+H)}for(let H=_;H&&H!==z;H=H.parentNode)D.push(s.nodeIndex(H,p));return D},Qs=(s,c,p)=>{let m=0;return Dn.each(s.select(c),b=>"all"===b.getAttribute("data-mce-bogus")?void 0:b!==p&&void m++),m},Rg=(s,c)=>{let p=c?s.startContainer:s.endContainer,m=c?s.startOffset:s.endOffset;if(pi(p)&&"TR"===p.nodeName){const b=p.childNodes;p=b[Math.min(c?m:m-1,b.length-1)],p&&(m=c?0:p.childNodes.length,c?s.setStart(p,m):s.setEnd(p,m))}},xM=s=>(Rg(s,!0),Rg(s,!1),s),hp=(s,c)=>{if(pi(s)&&(s=hr(s,c),Fv(s)))return s;if(ea(s)){Rn(s)&&Jl(s)&&(s=s.parentNode);let p=s.previousSibling;if(Fv(p)||(p=s.nextSibling,Fv(p)))return p}},Vv=(s,c,p)=>{const m=p.getNode(),b=p.getRng();if("IMG"===m.nodeName||Fv(m)){const k=m.nodeName;return{name:k,index:Qs(p.dom,k,m)}}const _=hp((k=b).startContainer,k.startOffset)||hp(k.endContainer,k.endOffset);var k;if(_){const k=_.tagName;return{name:k,index:Qs(p.dom,k,_)}}return((k,D,z,H)=>{const X=D.dom,$=ib(X,k,z,H,!0),re=D.isForward(),he=oo(H)?{isFakeCaret:!0}:{};return D.isCollapsed()?{start:$,forward:re,...he}:{start:$,end:ib(X,k,z,H,!1),forward:re,...he}})(s,p,c,b)},Bg=(s,c,p)=>{const m={"data-mce-type":"bookmark",id:c,style:"overflow:hidden;line-height:0px"};return p?s.create("span",m,"&#xFEFF;"):s.create("span",m)},Hv=(s,c)=>{const p=s.dom;let m=s.getRng();const b=p.uniqueId(),_=s.isCollapsed(),k=s.getNode(),D=k.nodeName,z=s.isForward();if("IMG"===D)return{name:D,index:Qs(p,D,k)};const H=xM(m.cloneRange());if(!_){H.collapse(!1);const $=Bg(p,b+"_end",c);tb(p,H,$)}m=xM(m),m.collapse(!0);const X=Bg(p,b+"_start",c);return tb(p,m,X),s.moveToBookmark({id:b,keep:!0,forward:z}),{id:b,forward:z}},mf=It(Vv,zt,!0),vf=s=>{const c=_=>_(s),p=rt(s),m=()=>b,b={tag:!0,inner:s,fold:(_,k)=>k(s),isValue:pe,isError:Vt,map:_=>Js.value(_(s)),mapError:m,bind:c,exists:c,forall:c,getOr:p,or:m,getOrThunk:p,orThunk:m,getOrDie:p,each:_=>{_(s)},toOptional:()=>ue.some(s)};return b},cw=s=>{const c=()=>p,p={tag:!1,inner:s,fold:(m,b)=>m(s),isValue:Vt,isError:pe,map:c,mapError:m=>Js.error(m(s)),bind:c,exists:Vt,forall:pe,getOr:zt,or:zt,getOrThunk:pn,orThunk:pn,getOrDie:hn(String(s)),each:lt,toOptional:ue.none};return p},Js={value:vf,error:cw,fromOption:(s,c)=>s.fold(()=>cw(c),vf)},Ac=s=>{if(!Ce(s))throw new Error("cases must be an array");if(0===s.length)throw new Error("there must be at least one case");const c=[],p={};return Ht(s,(m,b)=>{const _=Do(m);if(1!==_.length)throw new Error("one and only one name per case");const k=_[0],D=m[k];if(void 0!==p[k])throw new Error("duplicate key detected:"+k);if("cata"===k)throw new Error("cannot have a case named cata (sorry)");if(!Ce(D))throw new Error("case arguments must be an array");c.push(k),p[k]=(...z)=>{const H=z.length;if(H!==D.length)throw new Error("Wrong number of arguments to case "+k+". Expected "+D.length+" ("+D+"), got "+H);return{fold:(...X)=>{if(X.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+X.length);return X[b].apply(null,z)},match:X=>{const $=Do(X);if(c.length!==$.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+$.join(","));if(!ai(c,re=>Et($,re)))throw new Error("Not all branches were specified when using match. Specified: "+$.join(", ")+"\nRequired: "+c.join(", "));return X[k].apply(null,z)},log:X=>{console.log(X,{constructors:c,constructor:k,params:z})}}}}),p};Ac([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _M=s=>"inline-command"===s.type||"inline-format"===s.type,wM=s=>"block-command"===s.type||"block-format"===s.type,uw=s=>{const c=m=>Js.error({message:m,pattern:s}),p=(m,b,_)=>{if(void 0!==s.format){let k;if(Ce(s.format)){if(!ai(s.format,ve))return c(m+" pattern has non-string items in the `format` array");k=s.format}else{if(!ve(s.format))return c(m+" pattern has non-string `format` parameter");k=[s.format]}return Js.value(b(k))}return void 0!==s.cmd?ve(s.cmd)?Js.value(_(s.cmd,s.value)):c(m+" pattern has non-string `cmd` parameter"):c(m+" pattern is missing both `format` and `cmd` parameters")};if(!Ne(s))return c("Raw pattern is not an object");if(!ve(s.start))return c("Raw pattern is missing `start` parameter");if(void 0!==s.end){if(!ve(s.end))return c("Inline pattern has non-string `end` parameter");if(0===s.start.length&&0===s.end.length)return c("Inline pattern has empty `start` and `end` parameters");let m=s.start,b=s.end;return 0===b.length&&(b=m,m=""),p("Inline",_=>({type:"inline-format",start:m,end:b,format:_}),(_,k)=>({type:"inline-command",start:m,end:b,cmd:_,value:k}))}return void 0!==s.replacement?ve(s.replacement)?0===s.start.length?c("Replacement pattern has empty `start` parameter"):Js.value({type:"inline-command",start:"",end:s.start,cmd:"mceInsertContent",value:s.replacement}):c("Replacement pattern has non-string `replacement` parameter"):0===s.start.length?c("Block pattern has empty `start` parameter"):p("Block",m=>({type:"block-format",start:s.start,format:m[0]}),(m,b)=>({type:"block-command",start:s.start,cmd:m,value:b}))},hw=s=>En(s,wM),SM=s=>En(s,_M),CM=s=>{const c=(p=>{const m=[],b=[];return Ht(p,_=>{_.fold(k=>{m.push(k)},k=>{b.push(k)})}),{errors:m,values:b}})(Bt(s,uw));return Ht(c.errors,p=>console.error(p.message,p.pattern)),c.values},rb=Cn().deviceType,xd=rb.isTouch(),ob=E.DOM,ab=s=>we(s,RegExp),ci=s=>c=>c.options.get(s),sb=s=>ve(s)||Ne(s),dw=(s,c="")=>p=>{const m=ve(p);if(m){if(-1!==p.indexOf("=")){const b=(_=>{const k=_.indexOf("=")>0?_.split(/[;,](?![^=;,]*(?:[;,]|$))/):_.split(",");return pr(k,(D,z)=>{const H=z.split("="),X=H[0],$=H.length>1?H[1]:X;return D[fi(X)]=fi($),D},{})})(p);return{value:Ft(b,s.id).getOr(c),valid:m}}return{value:p,valid:m}}return{valid:!1,message:"Must be a string."}},_d=ci("iframe_attrs"),wd=ci("doctype"),pw=ci("document_base_url"),fw=ci("body_id"),kM=ci("body_class"),gw=ci("content_security_policy"),AM=ci("br_in_pre"),Ms=ci("forced_root_block"),yf=ci("forced_root_block_attrs"),mw=ci("newline_behavior"),vw=ci("br_newline_selector"),MM=ci("no_newline_selector"),HO=ci("keep_styles"),dp=ci("end_container_on_empty_block"),wa=ci("automatic_uploads"),lb=ci("images_reuse_filename"),TM=ci("images_replace_blob_uris"),EM=ci("icons"),el=ci("icons_url"),bf=ci("images_upload_url"),Wv=ci("images_upload_base_path"),yw=ci("images_upload_credentials"),IM=ci("images_upload_handler"),zg=ci("content_css_cors"),bw=ci("referrer_policy"),xw=ci("language"),WO=ci("language_url"),_w=ci("indent_use_margin"),ww=ci("indentation"),cb=ci("content_css"),ub=ci("content_style"),Fg=ci("font_css"),OM=ci("directionality"),Sw=ci("inline_boundaries_selector"),Cw=ci("object_resizing"),DM=ci("resize_img_proportional"),jO=ci("placeholder"),LM=ci("event_root"),PM=ci("service_message"),xf=ci("theme"),NM=ci("theme_url"),hb=ci("model"),kw=ci("model_url"),jv=ci("inline_boundaries"),au=ci("formats"),YO=ci("preview_styles"),Yv=ci("format_empty_lines"),RM=ci("format_noneditable_selector"),Aw=ci("custom_ui_selector"),Sd=ci("inline"),Vg=ci("hidden_input"),GO=ci("submit_patch"),pl=ci("add_form_submit_trigger"),BM=ci("add_unload_trigger"),Gv=ci("custom_undo_redo_levels"),Xv=ci("disable_nodechange"),Ku=ci("readonly"),Qu=ci("editable_root"),qv=ci("content_css_cors"),db=ci("plugins"),XO=ci("external_plugins"),fl=ci("block_unsupported_drop"),qO=ci("visual"),Hg=ci("visual_table_class"),Mw=ci("visual_anchor_class"),UO=ci("iframe_aria_text"),gl=ci("setup"),$O=ci("init_instance_callback"),ml=ci("urlconverter_callback"),ZO=ci("auto_focus"),KO=ci("browser_spellcheck"),cs=ci("protect"),rc=ci("paste_block_drop"),pb=ci("paste_data_images"),zM=ci("paste_preprocess"),Wg=ci("paste_postprocess"),QO=ci("newdocument_content"),Uv=ci("paste_webkit_styles"),fb=ci("paste_remove_styles_if_webkit"),FM=ci("paste_merge_formats"),jg=ci("smart_paste"),Tw=ci("paste_as_text"),_f=ci("paste_tab_spaces"),wf=ci("allow_html_data_urls"),gb=ci("text_patterns"),mb=ci("text_patterns_lookup"),$v=ci("noneditable_class"),JO=ci("editable_class"),VM=ci("noneditable_regexp"),HM=ci("preserve_cdata"),Yg=ci("highlight_on_focus"),Zv=ci("xss_sanitization"),co=ci("init_content_sync"),Uo=s=>Dn.explode(s.options.get("images_file_types")),Gg=ci("table_tab_navigation"),pp=ci("details_initial_state"),WM=ci("details_serialized_state"),Kv=ci("force_hex_color"),Mc=ci("sandbox_iframes"),vb=pi,Qv=Rn,yb=s=>{const c=s.parentNode;c&&c.removeChild(s)},Ew=s=>{const c=Oa(s);return{count:s.length-c.length,text:c}},jM=s=>{let c;for(;-1!==(c=s.data.lastIndexOf(ma));)s.deleteData(c,1)},Iw=(s,c)=>(zh(s),c),zh=s=>{vb(s)&&ea(s)&&(wc(s)?s.removeAttribute("data-mce-caret"):yb(s)),Qv(s)&&(jM(s),0===s.data.length&&yb(s))},Jv=fo,Ow=qa,YM=Rl,oc=(s,c,p)=>{const m=Ro(c.getBoundingClientRect(),p);let b,_;if("BODY"===s.tagName){const D=s.ownerDocument.documentElement;b=s.scrollLeft||D.scrollLeft,_=s.scrollTop||D.scrollTop}else{const D=s.getBoundingClientRect();b=s.scrollLeft-D.left,_=s.scrollTop-D.top}m.left+=b,m.right+=b,m.top+=_,m.bottom+=_,m.width=1;let k=c.offsetWidth-c.clientWidth;return k>0&&(p&&(k*=-1),m.left+=k,m.right+=k),m},Sf=()=>Mi.browser.isFirefox(),fp=s=>Jv(s)||Ow(s),lu=s=>(fp(s)||sa(s)&&Sf())&&Al(Yt(s)).exists(El),Ju=Ss,Xg=fo,GM=qa,qg=Ru("display","block table table-cell table-caption list-item"),bb=ea,Lw=Jl,Ug=pi,ey=Rn,XM=zs,gp=s=>s>0,cu=s=>s<0,ty=(s,c)=>{let p;for(;p=s(c);)if(!Lw(p))return p;return null},uu=(s,c,p,m,b)=>{const _=new Jo(s,m),k=Xg(s)||Lw(s);let D;if(cu(c)){if(k&&(D=ty(_.prev.bind(_),!0),p(D)))return D;for(;D=ty(_.prev.bind(_),b);)if(p(D))return D}if(gp(c)){if(k&&(D=ty(_.next.bind(_),!0),p(D)))return D;for(;D=ty(_.next.bind(_),b);)if(p(D))return D}return null},hu=(s,c)=>{for(;s&&s!==c;){if(qg(s))return s;s=s.parentNode}return null},Tc=(s,c,p)=>hu(s.container(),p)===hu(c.container(),p),xb=(s,c)=>{if(!c)return ue.none();const p=c.container(),m=c.offset();return Ug(p)?ue.from(p.childNodes[m+s]):ue.none()},_b=(s,c)=>{var p;const m=(null!==(p=c.ownerDocument)&&void 0!==p?p:document).createRange();return s?(m.setStartBefore(c),m.setEndBefore(c)):(m.setStartAfter(c),m.setEndAfter(c)),m},tl=(s,c,p)=>hu(c,s)===hu(p,s),us=(s,c,p)=>{const m=s?"previousSibling":"nextSibling";let b=p;for(;b&&b!==c;){let _=b[m];if(_&&bb(_)&&(_=_[m]),Xg(_)||GM(_)){if(tl(c,_,b))return _;break}if(XM(_))break;b=b.parentNode}return null},Eo=It(_b,!0),mp=It(_b,!1),wb=(s,c,p)=>{let m;const b=It(us,!0,c),_=It(us,!1,c),k=p.startContainer,D=p.startOffset;if(Jl(k)){const z=ey(k)?k.parentNode:k,H=z.getAttribute("data-mce-caret");if("before"===H&&(m=z.nextSibling,lu(m)))return Eo(m);if("after"===H&&(m=z.previousSibling,lu(m)))return mp(m)}if(!p.collapsed)return p;if(Rn(k)){if(bb(k)){if(1===s){if(m=_(k),m)return Eo(m);if(m=b(k),m)return mp(m)}if(-1===s){if(m=b(k),m)return mp(m);if(m=_(k),m)return Eo(m)}return p}if(Yu(k)&&D>=k.data.length-1)return 1===s&&(m=_(k),m)?Eo(m):p;if(ju(k)&&D<=1)return-1===s&&(m=b(k),m)?mp(m):p;if(D===k.data.length)return m=_(k),m?Eo(m):p;if(0===D)return m=b(k),m?mp(m):p}return p},Pw=(s,c)=>xb(s?0:-1,c).filter(Xg),$g=(s,c,p)=>{const m=wb(s,c,p);return-1===s?wn.fromRangeStart(m):wn.fromRangeEnd(m)},ny=s=>ue.from(s.getNode()).map(Yt),Sb=(s,c)=>{let p=c;for(;p=s(p);)if(p.isVisible())return p;return p},Cd=(s,c)=>{const p=Tc(s,c);return!(p||!Co(s.getNode()))||p};var Fa,s;(s=Fa||(Fa={}))[s.Backwards=-1]="Backwards",s[s.Forwards=1]="Forwards";const qM=fo,du=Rn,Cb=pi,Nw=Co,vp=zs,kb=s=>{return ap(s)||!!Gu(c=s)&&!pr(Zo(c.getElementsByTagName("*")),(p,m)=>p||ri(m),!1);var c},Ab=Xu,Rw=(s,c)=>s.hasChildNodes()&&c<s.childNodes.length?s.childNodes[c]:null,UM=(s,c)=>{if(gp(s)){if(vp(c.previousSibling)&&!du(c.previousSibling))return wn.before(c);if(du(c))return wn(c,0)}if(cu(s)){if(vp(c.nextSibling)&&!du(c.nextSibling))return wn.after(c);if(du(c))return wn(c,c.data.length)}return cu(s)?Nw(c)?wn.before(c):wn.after(c):wn.before(c)},Bw=(s,c,p)=>{let m,b,_,k;if(!Cb(p)||!c)return null;if(c.isEqual(wn.after(p))&&p.lastChild){if(k=wn.after(p.lastChild),cu(s)&&vp(p.lastChild)&&Cb(p.lastChild))return Nw(p.lastChild)?wn.before(p.lastChild):k}else k=c;const D=k.container();let z=k.offset();if(du(D)){if(cu(s)&&z>0)return wn(D,--z);if(gp(s)&&z<D.length)return wn(D,++z);m=D}else{if(cu(s)&&z>0&&(b=Rw(D,z-1),vp(b)))return!kb(b)&&(_=uu(b,s,Ab,b),_)?du(_)?wn(_,_.data.length):wn.after(_):du(b)?wn(b,b.data.length):wn.before(b);if(gp(s)&&z<D.childNodes.length&&(b=Rw(D,z),vp(b)))return Nw(b)?((X,$)=>{const re=$.nextSibling;return re&&vp(re)?du(re)?wn(re,0):wn.before(re):Bw(Fa.Forwards,wn.after($),X)})(p,b):!kb(b)&&(_=uu(b,s,Ab,b),_)?du(_)?wn(_,0):wn.before(_):du(b)?wn(b,0):wn.after(b);m=b||k.getNode()}if(m&&(gp(s)&&k.isAtEnd()||cu(s)&&k.isAtStart())&&(m=uu(m,s,pe,p,!0),Ab(m,p)))return UM(s,m);b=m&&uu(m,s,Ab,p);const H=Li(En(((X,$)=>{const re=[];let he=X;for(;he&&he!==$;)re.push(he),he=he.parentNode;return re})(D,p),qM));return!H||b&&H.contains(b)?b?UM(s,b):null:(k=gp(s)?wn.after(H):wn.before(H),k)},eh=s=>({next:c=>Bw(Fa.Forwards,c,s),prev:c=>Bw(Fa.Backwards,c,s)}),$M=s=>wn.isTextPosition(s)?0===s.offset():zs(s.getNode()),ZM=s=>{if(wn.isTextPosition(s)){const c=s.container();return s.offset()===c.data.length}return zs(s.getNode(!0))},ho=(s,c)=>!wn.isTextPosition(s)&&!wn.isTextPosition(c)&&s.getNode()===c.getNode(!0),Ec=(s,c,p)=>{const m=eh(c);return ue.from(s?m.next(p):m.prev(p))},th=(s,c,p)=>Ec(s,c,p).bind(m=>{return Tc(p,m,c)&&(_=p,k=m,s?!ho(_,k)&&(wn.isTextPosition(D=_)||!Co(D.getNode()))&&ZM(_)&&$M(k):!ho(k,_)&&$M(_)&&ZM(k))?Ec(s,c,m):ue.some(m);var _,k,D}),kd=(s,c,p,m)=>th(s,c,p).bind(b=>m(b)?kd(s,c,b,m):ue.some(b)),Ad=(s,c)=>{const p=s?c.firstChild:c.lastChild;return Rn(p)?ue.some(wn(p,s?0:p.data.length)):p?zs(p)?ue.some(s?wn.before(p):Co(m=p)?wn.before(m):wn.after(m)):((b,_,k)=>{const D=b?wn.before(k):wn.after(k);return Ec(b,_,D)})(s,c,p):ue.none();var m},Hs=It(Ec,!0),Ws=It(Ec,!1),Ja=It(Ad,!0),ac=It(Ad,!1),Mb="_mce_caret",Vl=s=>pi(s)&&s.id===Mb,Md=(s,c)=>{let p=c;for(;p&&p!==s;){if(Vl(p))return p;p=p.parentNode}return null},zw=s=>Gt(s,"name"),Fw=s=>Dn.isArray(s.start),iy=s=>!(!zw(s)&&ot(s.forward))||s.forward,Zg=(s,c)=>(pi(c)&&s.isBlock(c)&&!c.innerHTML&&(c.innerHTML='<br data-mce-bogus="1" />'),c),KM=(s,c)=>ac(s).fold(Vt,p=>(c.setStart(p.container(),p.offset()),c.setEnd(p.container(),p.offset()),!0)),Kg=(s,c,p)=>!(c.hasChildNodes()||!Md(s,c)||(((m,b)=>{var _;const k=(null!==(_=m.ownerDocument)&&void 0!==_?_:document).createTextNode(ma);m.appendChild(k),b.setStart(k,0),b.setEnd(k,0)})(c,p),0)),ry=(s,c,p,m)=>{const b=p[c?"start":"end"],_=s.getRoot();if(b){let k=_,D=b[0];for(let z=b.length-1;k&&z>=1;z--){const H=k.childNodes;if(Kg(_,k,m))return!0;if(b[z]>H.length-1)return!!Kg(_,k,m)||KM(k,m);k=H[b[z]]}Rn(k)&&(D=Math.min(b[0],k.data.length)),pi(k)&&(D=Math.min(b[0],k.childNodes.length)),c?m.setStart(k,D):m.setEnd(k,D)}return!0},Tb=s=>Rn(s)&&s.data.length>0,Eb=(s,c,p)=>{const m=s.get(p.id+"_"+c),b=m?.parentNode,_=p.keep;if(m&&b){let k,D;if("start"===c?_?m.hasChildNodes()?(k=m.firstChild,D=1):Tb(m.nextSibling)?(k=m.nextSibling,D=0):Tb(m.previousSibling)?(k=m.previousSibling,D=m.previousSibling.data.length):(k=b,D=s.nodeIndex(m)+1):(k=b,D=s.nodeIndex(m)):_?m.hasChildNodes()?(k=m.firstChild,D=1):Tb(m.previousSibling)?(k=m.previousSibling,D=m.previousSibling.data.length):(k=b,D=s.nodeIndex(m)):(k=b,D=s.nodeIndex(m)),!_){const z=m.previousSibling,H=m.nextSibling;let X;for(Dn.each(Dn.grep(m.childNodes),$=>{Rn($)&&($.data=$.data.replace(/\uFEFF/g,""))});X=s.get(p.id+"_"+c);)s.remove(X,!0);if(Rn(H)&&Rn(z)&&!Mi.browser.isOpera()){const $=z.data.length;z.appendData(H.data),s.remove(H),k=z,D=$}}return ue.some(wn(k,D))}return ue.none()},QM=(s,c,p)=>((m,b,_=!1)=>{return 2===b?Vv(Oa,_,m):3===b?(k=>{const D=k.getRng();return{start:sw(k.dom.getRoot(),wn.fromRangeStart(D)),end:sw(k.dom.getRoot(),wn.fromRangeEnd(D)),forward:k.isForward()}})(m):b?{rng:(k=m).getRng(),forward:k.isForward()}:Hv(m,!1);var k})(s,c,p),Hl=(s,c)=>{((p,m)=>{const b=p.dom;if(m){if(Fw(m))return((_,k)=>{const D=_.createRng();return ry(_,!0,k,D)&&ry(_,!1,k,D)?ue.some({range:D,forward:iy(k)}):ue.none()})(b,m);if(ve(m.start))return((_,k)=>{const D=ue.from(lw(_.getRoot(),k.start)),z=ue.from(lw(_.getRoot(),k.end));return Gr(D,z,(H,X)=>{const $=_.createRng();return $.setStart(H.container(),H.offset()),$.setEnd(X.container(),X.offset()),{range:$,forward:iy(k)}})})(b,m);if(Gt(m,"id"))return((_,k)=>{const D=Eb(_,"start",k),z=Eb(_,"end",k);return Gr(D,z.or(D),(H,X)=>{const $=_.createRng();return $.setStart(Zg(_,H.container()),H.offset()),$.setEnd(Zg(_,X.container()),X.offset()),{range:$,forward:iy(k)}})})(b,m);if(zw(m))return((_,k)=>ue.from(_.select(k.name)[k.index]).map(D=>{const z=_.createRng();return z.selectNode(D),{range:z,forward:!0}}))(b,m);if((_=>Gt(_,"rng"))(m))return ue.some({range:m.rng,forward:iy(m)})}return ue.none()})(s,c).each(({range:p,forward:m})=>{s.setRng(p,m)})},js=s=>pi(s)&&"SPAN"===s.tagName&&"bookmark"===s.getAttribute("data-mce-type"),Ib=(Qg=go,s=>Qg===s);var Qg;const Cf=s=>""!==s&&-1!==" \f\n\r\t\v".indexOf(s),Ob=s=>!Cf(s)&&!Ib(s)&&!_c(s),oy=s=>{const c=[];if(s)for(let p=0;p<s.rangeCount;p++)c.push(s.getRangeAt(p));return c},kf=(s,c)=>{const p=ga(c,"td[data-mce-selected],th[data-mce-selected]");return p.length>0?p:En(bi(s,_=>{const k=ks(_);return k?[Yt(k)]:[]}),Jc)},Td=s=>kf(oy(s.selection.getSel()),Yt(s.getBody())),Ed=(s,c)=>Uc(s,"table",c),ay=s=>Ls(s).fold(rt([s]),c=>[s].concat(ay(c))),Jg=s=>Gc(s).fold(rt([s]),c=>"br"===Cr(c)?Ml(c).map(p=>[s].concat(Jg(p))).getOr([]):[s].concat(Jg(c))),em=(s,c)=>Gr((p=>{const m=p.startContainer,b=p.startOffset;return Rn(m)?0===b?ue.some(Yt(m)):ue.none():ue.from(m.childNodes[b]).map(Yt)})(c),(p=>{const m=p.endContainer,b=p.endOffset;return Rn(m)?b===m.data.length?ue.some(Yt(m)):ue.none():ue.from(m.childNodes[b-1]).map(Yt)})(c),(p,m)=>{const b=_n(ay(s),It(Br,p)),_=_n(Jg(s),It(Br,m));return b.isSome()&&_.isSome()}).getOr(!1),Vw=(s,c,p,m)=>{const b=p,_=new Jo(p,b),k=Pt(s.schema.getMoveCaretBeforeOnEnterElements(),(z,H)=>!Et(["td","th","table"],H.toLowerCase()));let D=p;do{if(Rn(D)&&0!==Dn.trim(D.data).length)return void(m?c.setStart(D,0):c.setEnd(D,D.data.length));if(k[D.nodeName])return void(m?c.setStartBefore(D):"BR"===D.nodeName?c.setEndBefore(D):c.setEndAfter(D))}while(D=m?_.next():_.prev());"BODY"===b.nodeName&&(m?c.setStart(b,0):c.setEnd(b,b.childNodes.length))},sy=s=>{const c=s.selection.getSel();return Ke(c)&&c.rangeCount>0},Db=(s,c)=>{const p=Td(s);p.length>0?Ht(p,m=>{const b=m.dom,_=s.dom.createRng();_.setStartBefore(b),_.setEndAfter(b),c(_,!0)}):c(s.selection.getRng(),!1)},Hw=(s,c,p)=>{const m=Hv(s,c);p(m),s.moveToBookmark(m)},tm=s=>Ot(s?.nodeType),Lb=s=>pi(s)&&!js(s)&&!Vl(s)&&!Bu(s),Ww=(s,c,p)=>{const{selection:m,dom:b}=s,_=m.getNode(),k=fo(_);Hw(m,!0,()=>{c()}),k&&fo(_)&&b.isChildOf(_,s.getBody())?s.selection.select(_):p(m.getStart())&&jw(b,m)},jw=(s,c)=>{var p,m;const b=c.getRng(),{startContainer:_,startOffset:k}=b;if(!((D,z)=>{if(Lb(z)&&!/^(TD|TH)$/.test(z.nodeName)){const H=D.getAttrib(z,"data-mce-selected"),X=parseInt(H,10);return!isNaN(X)&&X>0}return!1})(s,c.getNode())&&pi(_)){const D=_.childNodes,z=s.getRoot();let H;if(k<D.length){const X=D[k];H=new Jo(X,null!==(p=s.getParent(X,s.isBlock))&&void 0!==p?p:z)}else{const X=D[D.length-1];H=new Jo(X,null!==(m=s.getParent(X,s.isBlock))&&void 0!==m?m:z),H.next(!0)}for(let X=H.current();X;X=H.next()){if("false"===s.getContentEditable(X))return;if(Rn(X)&&!Nb(X))return b.setStart(X,0),void c.setRng(b)}}},Pb=(s,c,p)=>{if(s){const m=c?"nextSibling":"previousSibling";for(s=p?s:s[m];s;s=s[m])if(pi(s)||!Nb(s))return s}},Id=(s,c)=>!!s.getTextBlockElements()[c.nodeName.toLowerCase()]||Nr(s,c),yp=(s,c,p)=>s.schema.isValidChild(c,p),Nb=(s,c=!1)=>{if(Ke(s)&&Rn(s)){const p=c?s.data.replace(/ /g,"\xa0"):s.data;return Wo(p)}return!1},Rb=(s,c)=>{const p=s.dom;return Lb(c)&&"false"===p.getContentEditable(c)&&((m,b)=>{const _="[data-mce-cef-wrappable]",k=RM(m),D=d(k)?_:`${_},${k}`;return Vo(Yt(b),D)})(s,c)&&0===p.select('[contenteditable="true"]',c).length},Fh=(s,c)=>yt(s)?s(c):(Ke(c)&&(s=s.replace(/%(\w+)/g,(p,m)=>c[m]||p)),s),Bb=(s,c)=>(s=""+((s=s||"").nodeName||s),c=""+((c=c||"").nodeName||c),s.toLowerCase()===c.toLowerCase()),Od=(s,c)=>{if(je(s))return null;{let p=String(s);return"color"!==c&&"backgroundColor"!==c||(p=iu(p)),"fontWeight"===c&&700===s&&(p="bold"),"fontFamily"===c&&(p=p.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),p}},Af=(s,c,p)=>{const m=s.getStyle(c,p);return Od(m,p)},ly=(s,c)=>{let p;return s.getParent(c,m=>!!pi(m)&&(p=s.getStyle(m,"text-decoration"),!!p&&"none"!==p)),p},cy=(s,c,p)=>s.getParents(c,p,s.getRoot()),Dd=(s,c,p)=>{const m=s.formatter.get(c);return Ke(m)&&xn(m,p)},pu=s=>zn(s,"block"),Ts=s=>zn(s,"selector"),io=s=>zn(s,"inline"),nm=s=>Ts(s)&&!1!==s.expand&&!io(s),im=s=>(c=>{const p=[];let m=c;for(;m;){if(Rn(m)&&m.data!==ma||m.childNodes.length>1)return[];pi(m)&&p.push(m),m=m.firstChild}return p})(s).length>0,Vh=s=>Vl(s.dom)&&im(s.dom),nh=js,Yw=cy,JM=Nb,qr=Id,Gw=(s,c)=>{let p=c;for(;p;){if(pi(p)&&s.getContentEditable(p))return"false"===s.getContentEditable(p)?p:c;p=p.parentNode}return c},Mf=(s,c,p,m)=>{const b=c.data;if(s){for(let _=p;_>0;_--)if(m(b.charAt(_-1)))return _}else for(let _=p;_<b.length;_++)if(m(b.charAt(_)))return _;return-1},eD=(s,c,p)=>Mf(s,c,p,m=>Ib(m)||Cf(m)),eT=(s,c,p)=>Mf(s,c,p,Ob),Ic=(s,c,p,m,b,_)=>{let k;const D=s.getParent(p,s.isBlock)||c,z=(H,X,$)=>{const re=_i(s);return ue.from((b?re.backwards:re.forwards)(H,X,(se,xe)=>nh(se.parentNode)?-1:(k=se,$(b,se,xe)),D))};return z(p,m,eD).bind(H=>_?z(H.container,H.offset+(b?-1:0),eT):ue.some(H)).orThunk(()=>k?ue.some({container:k,offset:b?0:k.length}):ue.none())},nl=(s,c,p,m,b)=>{const _=m[b];Rn(m)&&d(m.data)&&_&&(m=_);const k=Yw(s,m);for(let D=0;D<k.length;D++)for(let z=0;z<c.length;z++){const H=c[z];if((!Ke(H.collapsed)||H.collapsed===p.collapsed)&&Ts(H)&&s.is(k[D],H.selector))return k[D]}return m},Oc=(s,c,p,m)=>{var b;let _=p;const k=s.getRoot(),D=c[0];if(pu(D)&&(_=D.wrapper?null:s.getParent(p,D.block,k)),!_){const z=null!==(b=s.getParent(p,"LI,TD,TH,SUMMARY"))&&void 0!==b?b:k;_=s.getParent(Rn(p)?p.parentNode:p,H=>H!==k&&qr(s.schema,H),z)}if(_&&pu(D)&&D.wrapper&&(_=Yw(s,_,"ul,ol").reverse()[0]||_),!_)for(_=p;_&&_[m]&&!s.isBlock(_[m])&&(_=_[m],!Bb(_,"br")););return _||p},ih=(s,c,p,m)=>{const b=p.parentNode;return!Ke(p[m])&&(!(b!==c&&!je(b)&&!s.isBlock(b))||ih(s,c,b,m))},rh=(s,c,p,m,b)=>{let _=p;const k=b?"previousSibling":"nextSibling",D=s.getRoot();if(Rn(p)&&!JM(p)&&(b?m>0:m<p.data.length))return p;for(;_;){if(!c[0].block_expand&&s.isBlock(_))return _;for(let H=_[k];H;H=H[k]){const X=Rn(H)&&!ih(s,D,H,k);if(!nh(H)&&(!Co(z=H)||!z.getAttribute("data-mce-bogus")||z.nextSibling)&&!JM(H,X))return _}if(_===D||_.parentNode===D){p=_;break}_=_.parentNode}var z;return p},Xw=s=>nh(s.parentNode)||nh(s),vl=(s,c,p,m=!1)=>{let{startContainer:b,startOffset:_,endContainer:k,endOffset:D}=c;const z=p[0];return pi(b)&&b.hasChildNodes()&&(b=hr(b,_),Rn(b)&&(_=0)),pi(k)&&k.hasChildNodes()&&(k=hr(k,c.collapsed?D:D-1),Rn(k)&&(D=k.data.length)),b=Gw(s,b),k=Gw(s,k),Xw(b)&&(b=nh(b)?b:b.parentNode,b=c.collapsed?b.previousSibling||b:b.nextSibling||b,Rn(b)&&(_=c.collapsed?b.length:0)),Xw(k)&&(k=nh(k)?k:k.parentNode,k=c.collapsed?k.nextSibling||k:k.previousSibling||k,Rn(k)&&(D=c.collapsed?0:k.length)),c.collapsed&&(Ic(s,s.getRoot(),b,_,!0,m).each(({container:H,offset:X})=>{b=H,_=X}),Ic(s,s.getRoot(),k,D,!1,m).each(({container:H,offset:X})=>{k=H,D=X})),(io(z)||z.block_expand)&&(io(z)&&Rn(b)&&0!==_||(b=rh(s,p,b,_,!0)),io(z)&&Rn(k)&&D!==k.data.length||(k=rh(s,p,k,D,!1))),nm(z)&&(b=nl(s,p,c,b,"previousSibling"),k=nl(s,p,c,k,"nextSibling")),(pu(z)||Ts(z))&&(b=Oc(s,p,b,"previousSibling"),k=Oc(s,p,k,"nextSibling"),pu(z)&&(s.isBlock(b)||(b=rh(s,p,b,_,!0)),s.isBlock(k)||(k=rh(s,p,k,D,!1)))),pi(b)&&b.parentNode&&(_=s.nodeIndex(b),b=b.parentNode),pi(k)&&k.parentNode&&(D=s.nodeIndex(k)+1,k=k.parentNode),{startContainer:b,startOffset:_,endContainer:k,endOffset:D}},Hh=(s,c,p)=>{var m;const b=c.startOffset,_=hr(c.startContainer,b),k=c.endOffset,D=hr(c.endContainer,k-1),z=ce=>{const Me=ce[0];Rn(Me)&&Me===_&&b>=Me.data.length&&ce.splice(0,1);const He=ce[ce.length-1];return 0===k&&ce.length>0&&He===D&&Rn(He)&&ce.splice(ce.length-1,1),ce},H=(ce,Me,He)=>{const Xe=[];for(;ce&&ce!==He;ce=ce[Me])Xe.push(ce);return Xe},X=(ce,Me)=>s.getParent(ce,He=>He.parentNode===Me,Me),$=(ce,Me,He)=>{const Xe=He?"nextSibling":"previousSibling";for(let pt=ce,ut=pt.parentNode;pt&&pt!==Me;pt=ut){ut=pt.parentNode;const Rt=H(pt===ce?pt:pt[Xe],Xe);Rt.length&&(He||Rt.reverse(),p(z(Rt)))}};if(_===D)return p(z([_]));const re=null!==(m=s.findCommonAncestor(_,D))&&void 0!==m?m:s.getRoot();if(s.isChildOf(_,D))return $(_,re,!0);if(s.isChildOf(D,_))return $(D,re);const he=X(_,re)||_,se=X(D,re)||D;$(_,he,!0);const xe=H(he===_?he:he.nextSibling,"nextSibling",se===D?se.nextSibling:se);xe.length&&p(z(xe)),$(D,se)},zb=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],qw=(s,c,p,m,b,_)=>{const{uid:k=c,...D}=p;kl(s,ct()),Ho(s,`${xt()}`,k),Ho(s,`${Ct()}`,m);const{attributes:z={},classes:H=[]}=b(k,D);if(bs(s,z),X=s,Ht(H,re=>{kl(X,re)}),_){H.length>0&&Ho(s,`${Ut()}`,H.join(","));const X=Do(z);X.length>0&&Ho(s,`${bn()}`,X.join(","))}var X},fu=(s,c,p,m,b)=>{const _=ra("span",s);return qw(_,c,p,m,b,!1),_},Uw=s=>{const c=(()=>{const _={};return{register:(k,D)=>{_[k]={name:k,settings:D}},lookup:k=>Ft(_,k).map(D=>D.settings),getNames:()=>Do(_)}})();((_,k)=>{const D=Ct(),z=X=>ue.from(X.attr(D)).bind(k.lookup),H=X=>{var $,re;X.attr(xt(),null),X.attr(Ct(),null),X.attr(Mt(),null);const he=ue.from(X.attr(bn())).map(Me=>Me.split(",")).getOr([]),se=ue.from(X.attr(Ut())).map(Me=>Me.split(",")).getOr([]);Ht(he,Me=>X.attr(Me,null));const xe=null!==(re=null===($=X.attr("class"))||void 0===$?void 0:$.split(" "))&&void 0!==re?re:[],ce=yi(xe,[ct()].concat(se));X.attr("class",ce.length>0?ce.join(" "):null),X.attr(Ut(),null),X.attr(bn(),null)};_.serializer.addTempAttr(Mt()),_.serializer.addAttributeFilter(D,X=>{for(const $ of X)z($).each(re=>{!1===re.persistent&&("span"===$.name?$.unwrap():H($))})})})(s,c);const p=((_,k)=>{const D=P({}),z=()=>({listeners:[],previous:Be()}),H=(he,se)=>{X(he,xe=>(se(xe),xe))},X=(he,se)=>{const xe=D.get(),ce=se(Ft(xe,he).getOrThunk(z));xe[he]=ce,D.set(xe)},$=(he,se)=>{Ht(Kn(_,he),xe=>{se?Ho(xe,Mt(),"true"):Sa(xe,Mt())})},re=Ge(()=>{const he=po(k.getNames());Ht(he,se=>{X(se,xe=>{const ce=xe.previous.get();return mn(_,ue.some(se)).fold(()=>{ce.each(Me=>{var He;H(He=se,Xe=>{Ht(Xe.listeners,pt=>pt(!1,He))}),xe.previous.clear(),$(Me,!1)})},({uid:Me,name:He,elements:Xe})=>{var pt,ut,Rt;uo(ce,Me)||(ce.each(pt=>$(pt,!1)),ut=Me,Rt=Xe,H(pt=He,Jt=>{Ht(Jt.listeners,rn=>rn(!0,pt,{uid:ut,nodes:Bt(Rt,sn=>sn.dom)}))}),xe.previous.set(Me),$(Me,!0))}),{previous:xe.previous,listeners:xe.listeners}})})},30);return _.on("remove",()=>{re.cancel()}),_.on("NodeChange",()=>{re.throttle()}),{addListener:(he,se)=>{X(he,xe=>({previous:xe.previous,listeners:xe.listeners.concat([se])}))}}})(s,c),m=jc("span"),b=_=>{Ht(_,k=>{m(k)?sl(k):(D=>{xs(D,ct()),Sa(D,`${xt()}`),Sa(D,`${Ct()}`),Sa(D,`${Mt()}`);const z=Xs(D,`${bn()}`).map($=>$.split(",")).getOr([]),H=Xs(D,`${Ut()}`).map($=>$.split(",")).getOr([]);var X;Ht(z,$=>Sa(D,$)),X=D,Ht(H,$=>{xs(X,$)}),Sa(D,`${Ut()}`),Sa(D,`${bn()}`)})(k)})};return{register:(_,k)=>{c.register(_,k)},annotate:(_,k)=>{c.lookup(_).each(D=>{var z,H,X,$;H=_,X=D,$=k,(z=s).undoManager.transact(()=>{const re=z.selection,he=re.getRng(),se=Td(z).length>0,xe=Ni("mce-annotation");if(he.collapsed&&!se&&((ce,Me)=>{const He=vl(ce.dom,Me,[{inline:"span"}]);Me.setStart(He.startContainer,He.startOffset),Me.setEnd(He.endContainer,He.endOffset),ce.selection.setRng(Me)})(z,he),re.getRng().collapsed&&!se){const ce=fu(z.getDoc(),xe,$,H,X.decorate);Ou(ce,go),re.getRng().insertNode(ce.dom),re.select(ce.dom)}else Hw(re,!1,()=>{Db(z,ce=>{((s,c,p,m,b,_)=>{const k=[],D=fu(s.getDoc(),p,_,m,b),z=Be(),H=()=>{z.clear()},X=re=>{Ht(re,$)},$=re=>{switch(he=s,se=re,ce=Cr(re),ba(se).fold(()=>"skipping",Me=>{return"br"===ce||ja(He=se)&&$a(He)===ma?"valid":(He=>ys(He)&&Ca(He,ct()))(se)?"existing":Vl(se.dom)?"caret":xn(zb,He=>Vo(se,He))?"valid-block":yp(he,"span",ce)&&yp(he,Cr(Me),"span")?"valid":"invalid-child";var He})){case"invalid-child":{H();const he=Po(re);X(he),H();break}case"valid-block":H(),qw(re,p,_,m,b,!0);break;case"valid":{const he=z.get().getOrThunk(()=>{const se=Vi(D);return k.push(se),z.set(se),se});Eu(re,he);break}}var he,se,ce};Hh(s.dom,c,re=>{H(),(he=>{const se=Bt(he,Yt);X(se)})(re)})})(z,ce,xe,H,X.decorate,$)})})})})},annotationChanged:(_,k)=>{p.addListener(_,k)},remove:_=>{mn(s,ue.some(_)).each(({elements:k})=>{const D=s.selection.getBookmark();b(k),s.selection.moveToBookmark(D)})},removeAll:_=>{const k=s.selection.getBookmark();Ye(Si(s,_),(D,z)=>{b(D)}),s.selection.moveToBookmark(k)},getAll:_=>{const k=Si(s,_);return Te(k,D=>Bt(D,z=>z.dom))}}},Tf=s=>({getBookmark:It(QM,s),moveToBookmark:It(Hl,s)});Tf.isBookmarkNode=js;const Fb=(s,c,p)=>!p.collapsed&&xn(p.getClientRects(),m=>{return k=c,(_=s)>=(b=m).left&&_<=b.right&&k>=b.top&&k<=b.bottom;var b,_,k}),$w=(s,c,p)=>{s.dispatch(c,p)},Zw=(s,c,p,m)=>{s.dispatch("FormatApply",{format:c,node:p,vars:m})},Vb=(s,c,p,m)=>{s.dispatch("FormatRemove",{format:c,node:p,vars:m})},uy=(s,c)=>s.dispatch("SetContent",c),rm=(s,c)=>s.dispatch("GetContent",c),Kw=(s,c)=>s.dispatch("PastePlainTextToggle",{state:c}),vi={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:s=>s.shiftKey||s.ctrlKey||s.altKey||vi.metaKeyPressed(s),metaKeyPressed:s=>Mi.os.isMacOS()||Mi.os.isiOS()?s.metaKey:s.ctrlKey&&!s.altKey},Ef="data-mce-selected",Hb=Math.abs,om=Math.round,Wb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Qw=(s,c)=>{const p=c.dom,m=c.getDoc(),b=document,_=c.getBody();let k,D,z,H,X,$,re,he,se,xe,ce,Me,He,Xe,pt;const ut=mi=>Ke(mi)&&(Th(mi)||p.is(mi,"figure.image")),Rt=mi=>qa(mi)||p.hasClass(mi,"mce-preview-object"),Jt=mi=>{const Ai=mi.target;((cr,Qt)=>{if("longpress"===(tn=cr).type||0===tn.type.indexOf("touch")){const tn=cr.touches[0];return ut(cr.target)&&!Fb(tn.clientX,tn.clientY,Qt)}var tn;return ut(cr.target)&&!Fb(cr.clientX,cr.clientY,Qt)})(mi,c.selection.getRng())&&!mi.isDefaultPrevented()&&c.selection.select(Ai)},rn=mi=>p.hasClass(mi,"mce-preview-object")&&Ke(mi.firstElementChild)?[mi,mi.firstElementChild]:p.is(mi,"figure.image")?[mi.querySelector("img")]:[mi],sn=mi=>{const Ai=Cw(c);return!!Ai&&"false"!==mi.getAttribute("data-mce-resize")&&mi!==c.getBody()&&(p.hasClass(mi,"mce-preview-object")&&Ke(mi.firstElementChild)?Vo(Yt(mi.firstElementChild),Ai):Vo(Yt(mi),Ai))},fn=(mi,Ai,cr)=>{if(Ke(cr)){const Qt=rn(mi);Ht(Qt,tn=>{tn.style[Ai]||!c.schema.isValid(tn.nodeName.toLowerCase(),Ai)?p.setStyle(tn,Ai,cr):p.setAttrib(tn,Ai,""+cr)})}},Wt=(mi,Ai,cr)=>{fn(mi,"width",Ai),fn(mi,"height",cr)},en=mi=>{let Ai,cr,Qt,tn,Tn;Ai=mi.screenX-$,cr=mi.screenY-re,Me=Ai*H[2]+he,He=cr*H[3]+se,Me=Me<5?5:Me,He=He<5?5:He,Qt=(ut(k)||Rt(k))&&!1!==DM(c)?!vi.modifierPressed(mi):vi.modifierPressed(mi),Qt&&(Hb(Ai)>Hb(cr)?(He=om(Me*xe),Me=om(He/xe)):(Me=om(He/xe),He=om(Me*xe))),Wt(D,Me,He),tn=H.startPos.x+Ai,Tn=H.startPos.y+cr,tn=tn>0?tn:0,Tn=Tn>0?Tn:0,p.setStyles(z,{left:tn,top:Tn,display:"block"}),z.innerHTML=Me+" &times; "+He,H[2]<0&&D.clientWidth<=Me&&p.setStyle(D,"left",void 0+(he-Me)),H[3]<0&&D.clientHeight<=He&&p.setStyle(D,"top",void 0+(se-He)),Ai=_.scrollWidth-Xe,cr=_.scrollHeight-pt,Ai+cr!==0&&p.setStyles(z,{left:tn-Ai,top:Tn-cr}),ce||(c.dispatch("ObjectResizeStart",{target:k,width:he,height:se,origin:"corner-"+H.name}),ce=!0)},un=()=>{const mi=ce;ce=!1,mi&&(fn(k,"width",Me),fn(k,"height",He)),p.unbind(m,"mousemove",en),p.unbind(m,"mouseup",un),b!==m&&(p.unbind(b,"mousemove",en),p.unbind(b,"mouseup",un)),p.remove(D),p.remove(z),p.remove(X),An(k),mi&&(c.dispatch("ObjectResized",{target:k,width:Me,height:He,origin:"corner-"+H.name}),p.setAttrib(k,"style",p.getAttrib(k,"style"))),c.nodeChanged()},An=mi=>{Ji();const Ai=p.getPos(mi,_),cr=Ai.x,Qt=Ai.y,tn=mi.getBoundingClientRect(),Tn=tn.width||tn.right-tn.left,In=tn.height||tn.bottom-tn.top;k!==mi&&($n(),k=mi,Me=He=0);const Nn=c.dispatch("ObjectSelected",{target:mi});sn(mi)&&!Nn.isDefaultPrevented()?Ye(Wb,(Ci,Yi)=>{let ur=p.get("mceResizeHandle"+Yi);ur&&p.remove(ur),ur=p.add(_,"div",{id:"mceResizeHandle"+Yi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Yi+"-resize; margin:0; padding:0"}),p.bind(ur,"mousedown",er=>{er.stopImmediatePropagation(),er.preventDefault(),(ko=>{const Oi=rn(k)[0];var kr;$=ko.screenX,re=ko.screenY,he=Oi.clientWidth,se=Oi.clientHeight,xe=se/he,H=Ci,H.name=Yi,H.startPos={x:Tn*Ci[0]+cr,y:In*Ci[1]+Qt},Xe=_.scrollWidth,pt=_.scrollHeight,X=p.add(_,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),p.setStyles(X,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),D=Rt(kr=k)?p.create("img",{src:Mi.transparentSrc}):kr.cloneNode(!0),p.addClass(D,"mce-clonedresizable"),p.setAttrib(D,"data-mce-bogus","all"),D.contentEditable="false",p.setStyles(D,{left:cr,top:Qt,margin:0}),Wt(D,Tn,In),D.removeAttribute(Ef),_.appendChild(D),p.bind(m,"mousemove",en),p.bind(m,"mouseup",un),b!==m&&(p.bind(b,"mousemove",en),p.bind(b,"mouseup",un)),z=p.add(_,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},he+" &times; "+se)})(er)}),Ci.elm=ur,p.setStyles(ur,{left:Tn*Ci[0]+cr-ur.offsetWidth/2,top:In*Ci[1]+Qt-ur.offsetHeight/2})}):$n(!1)},li=Pe(An,0),$n=(mi=!0)=>{li.cancel(),Ji(),k&&mi&&k.removeAttribute(Ef),Ye(Wb,(Ai,cr)=>{const Qt=p.get("mceResizeHandle"+cr);Qt&&(p.unbind(Qt),p.remove(Qt))})},zi=(mi,Ai)=>p.isChildOf(mi,Ai),Ii=mi=>{if(ce||c.removed||c.composing)return;const Ai="mousedown"===mi.type?mi.target:s.getNode(),cr=al(Yt(Ai),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(tn=>tn.dom).filter(tn=>p.isEditable(tn.parentElement)||"IMG"===tn.nodeName&&p.isEditable(tn)).getOrUndefined(),Qt=Ke(cr)?p.getAttrib(cr,Ef,"1"):"1";if(Ht(p.select(`img[${Ef}],hr[${Ef}]`),tn=>{tn.removeAttribute(Ef)}),Ke(cr)&&zi(cr,_)&&c.hasFocus()){Hi();const tn=s.getStart(!0);if(zi(tn,cr)&&zi(s.getEnd(!0),cr))return p.setAttrib(cr,Ef,Qt),void li.throttle(cr)}$n()},Ji=()=>{Ye(Wb,mi=>{mi.elm&&(p.unbind(mi.elm),delete mi.elm)})},Hi=()=>{try{c.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return c.on("init",()=>{Hi(),c.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ii),c.on("keyup compositionend",mi=>{k&&"TABLE"===k.nodeName&&Ii(mi)}),c.on("hide blur",$n),c.on("contextmenu longpress",Jt,!0)}),c.on("remove",Ji),{isResizable:sn,showResizeRect:An,hideResizeRect:$n,updateResizeRect:Ii,destroy:()=>{li.cancel(),k=D=X=null}}},jb=(s,c,p)=>{const m=s.document.createRange();var b,_;return b=m,c.fold(_=>{b.setStartBefore(_.dom)},(_,k)=>{b.setStart(_.dom,k)},_=>{b.setStartAfter(_.dom)}),_=m,p.fold(D=>{_.setEndBefore(D.dom)},(D,z)=>{_.setEnd(D.dom,z)},D=>{_.setEndAfter(D.dom)}),m},Yb=(s,c,p,m,b)=>{const _=s.document.createRange();return _.setStart(c.dom,p),_.setEnd(m.dom,b),_},am=Ac([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jw=(s,c,p)=>c(Yt(p.startContainer),p.startOffset,Yt(p.endContainer),p.endOffset),nT=(s,c,p,m)=>({start:s,soffset:c,finish:p,foffset:m}),iT=document.caretPositionFromPoint?(s,c,p)=>{var m,b;return ue.from(null===(b=(m=s.dom).caretPositionFromPoint)||void 0===b?void 0:b.call(m,c,p)).bind(_=>{if(null===_.offsetNode)return ue.none();const k=s.dom.createRange();return k.setStart(_.offsetNode,_.offset),k.collapse(),ue.some(k)})}:document.caretRangeFromPoint?(s,c,p)=>{var m,b;return ue.from(null===(b=(m=s.dom).caretRangeFromPoint)||void 0===b?void 0:b.call(m,c,p))}:ue.none,hy=Ac([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sc={before:hy.before,on:hy.on,after:hy.after,cata:(s,c,p,m)=>s.fold(c,p,m),getStart:s=>s.fold(zt,zt,zt)},Gb=Ac([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),sm={domRange:Gb.domRange,relative:Gb.relative,exact:Gb.exact,exactFromRange:s=>Gb.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const c=s.match({domRange:m=>Yt(m.startContainer),relative:(m,b)=>sc.getStart(m),exact:(m,b,_,k)=>m});return Ul(c)},range:nT},Xb=(s,c)=>{const p=Cr(s);return"input"===p?sc.after(s):Et(["br","img"],p)?0===c?sc.before(s):sc.after(s):sc.on(s,c)},oh=(s,c)=>{const p=s.fold(sc.before,Xb,sc.after),m=c.fold(sc.before,Xb,sc.after);return sm.relative(p,m)},lm=(s,c,p,m)=>{const b=Xb(s,c),_=Xb(p,m);return sm.relative(b,_)},qb=(s,c)=>{const p=(c||document).createDocumentFragment();return Ht(s,m=>{p.appendChild(m.dom)}),Yt(p)},il=(s,c,p)=>{return(m=Ul(Yt(p)).dom,b=s,_=c,((k,D,z)=>{const H=Yt(k.document);return iT(H,D,z).map(X=>nT(Yt(X.startContainer),X.startOffset,Yt(X.endContainer),X.endOffset))})(m,b,_)).map(m=>{const b=p.createRange();return b.setStart(m.start.dom,m.soffset),b.setEnd(m.finish.dom,m.foffset),b}).getOrUndefined();var m,b,_},If=(s,c)=>Ke(s)&&Ke(c)&&s.startContainer===c.startContainer&&s.startOffset===c.startOffset&&s.endContainer===c.endContainer&&s.endOffset===c.endOffset,Va=(s,c,p)=>null!==((m,b,_)=>{let k=m;for(;k&&k!==b;){if(_(k))return k;k=k.parentNode}return null})(s,c,p),gu=(s,c,p)=>Va(s,c,m=>m.nodeName===p),Ld=(s,c)=>ea(s)&&!Va(s,c,Vl),tS=(s,c,p)=>{const m=c.parentNode;if(m){const b=new Jo(c,s.getParent(m,s.isBlock)||s.getRoot());let _;for(;_=b[p?"prev":"next"]();)if(Co(_))return!0}return!1},nS=(s,c,p,m,b)=>{const _=s.getRoot(),k=s.schema.getNonEmptyElements(),D=b.parentNode;let z,H;if(!D)return ue.none();const X=s.getParent(D,s.isBlock)||_;if(m&&Co(b)&&c&&s.isEmpty(X))return ue.some(wn(D,s.nodeIndex(b)));const $=new Jo(b,X);for(;H=$[m?"prev":"next"]();){if("false"===s.getContentEditableParent(H)||Ld(H,_))return ue.none();if(Rn(H)&&H.data.length>0)return gu(H,_,"A")?ue.none():ue.some(wn(H,m?H.data.length:0));if(s.isBlock(H)||k[H.nodeName.toLowerCase()])return ue.none();z=H}return ka(z)?ue.none():p&&z?ue.some(wn(z,0)):ue.none()},iS=(s,c,p,m)=>{const b=s.getRoot();let _,k=!1,D=p?m.startContainer:m.endContainer,z=p?m.startOffset:m.endOffset;const H=pi(D)&&z===D.childNodes.length,X=s.schema.getNonEmptyElements();let $=p;if(ea(D))return ue.none();if(pi(D)&&z>D.childNodes.length-1&&($=!1),Mh(D)&&(D=b,z=0),D===b){if($&&(_=D.childNodes[z>0?z-1:0],_)&&(ea(_)||X[_.nodeName]||sa(_)))return ue.none();if(D.hasChildNodes()){if(z=Math.min(!$&&z>0?z-1:z,D.childNodes.length-1),D=D.childNodes[z],z=Rn(D)&&H?D.data.length:0,!c&&D===b.lastChild&&sa(D)||((re,he)=>{let se=he;for(;se&&se!==re;){if(fo(se))return!0;se=se.parentNode}return!1})(b,D)||ea(D)||Qc(D))return ue.none();if(D.hasChildNodes()&&!sa(D)){_=D;const re=new Jo(D,b);do{if(fo(_)||ea(_)){k=!1;break}if(Rn(_)&&_.data.length>0){z=$?0:_.data.length,D=_,k=!0;break}if(X[_.nodeName.toLowerCase()]&&!zu(_)){z=s.nodeIndex(_),D=_.parentNode,$||z++,k=!0;break}}while(_=$?re.next():re.prev())}}}return c&&(Rn(D)&&0===z&&nS(s,H,c,!0,D).each(re=>{D=re.container(),z=re.offset(),k=!0}),pi(D)&&(_=D.childNodes[z],_||(_=D.childNodes[z-1]),!_||!Co(_)||"A"===(null===(se=_.previousSibling)||void 0===se?void 0:se.nodeName)||tS(s,_,!1)||tS(s,_,!0)||nS(s,H,c,!0,_).each(re=>{D=re.container(),z=re.offset(),k=!0}))),$&&!c&&Rn(D)&&z===D.data.length&&nS(s,H,c,!1,D).each(re=>{D=re.container(),z=re.offset(),k=!0}),k&&D?ue.some(wn(D,z)):ue.none();var se},Ub=(s,c)=>{const p=c.collapsed,m=c.cloneRange(),b=wn.fromRangeStart(c);return iS(s,p,!0,m).each(_=>{p&&wn.isAbove(b,_)||m.setStart(_.container(),_.offset())}),p||iS(s,p,!1,m).each(_=>{m.setEnd(_.container(),_.offset())}),p&&m.collapse(!0),If(c,m)?ue.none():ue.some(m)},$b=(s,c)=>s.splitText(c),cm=s=>{let c=s.startContainer,p=s.startOffset,m=s.endContainer,b=s.endOffset;if(c===m&&Rn(c)){if(p>0&&p<c.data.length)if(m=$b(c,p),c=m.previousSibling,b>p){b-=p;const _=$b(m,b).previousSibling;c=m=_,b=_.data.length,p=0}else b=0}else if(Rn(c)&&p>0&&p<c.data.length&&(c=$b(c,p),p=0),Rn(m)&&b>0&&b<m.data.length){const _=$b(m,b).previousSibling;m=_,b=_.data.length}return{startContainer:c,startOffset:p,endContainer:m,endOffset:b}},ah=s=>({walk:(c,p)=>Hh(s,c,p),split:cm,expand:(c,p={type:"word"})=>{if("word"===p.type){const m=vl(s,c,[{inline:"span"}]),b=s.createRng();return b.setStart(m.startContainer,m.startOffset),b.setEnd(m.endContainer,m.endOffset),b}return c},normalize:c=>Ub(s,c).fold(Vt,p=>(c.setStart(p.startContainer,p.startOffset),c.setEnd(p.endContainer,p.endOffset),!0))});ah.compareRanges=If,ah.getCaretRangeFromPoint=il,ah.getSelectedNode=ks,ah.getNode=hr;const rT=((s,c)=>{const p=b=>{const _=(k=>{const D=k.dom;return _a(k)?D.getBoundingClientRect().height:D.offsetHeight})(b);if(_<=0||null===_){const k=$s(b,s);return parseFloat(k)||0}return _},m=(b,_)=>pr(_,(k,D)=>{const z=$s(b,D),H=void 0===z?0:parseInt(z,10);return isNaN(H)?k:k+H},0);return{set:(b,_)=>{if(!Ot(_)&&!_.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+_);const k=b.dom;Us(k)&&(k.style[s]=_+"px")},get:p,getOuter:p,aggregate:m,max:(b,_,k)=>{const D=m(b,k);return _>D?_-D:0}}})("height"),rS=()=>Yt(document),oS=(s,c)=>s.view(c).fold(rt([]),p=>{const m=s.owner(p),b=oS(s,m);return[p].concat(b)});var oT=Object.freeze({__proto__:null,view:s=>{var c;return(s.dom===document?ue.none():ue.from(null===(c=s.dom.defaultView)||void 0===c?void 0:c.frameElement)).map(Yt)},owner:s=>_s(s)});const aS=s=>"textarea"===Cr(s),Of=(s,c)=>{const p=(b=>{const _=b.dom.ownerDocument,k=_.body,D=_.defaultView,z=_.documentElement;if(k===b.dom)return Du(k.offsetLeft,k.offsetTop);const H=Nl(D?.pageYOffset,z.scrollTop),X=Nl(D?.pageXOffset,z.scrollLeft),$=Nl(z.clientTop,k.clientTop),re=Nl(z.clientLeft,k.clientLeft);return Zc(b).translate(X-re,H-$)})(s),m=rT.get(s);return{element:s,bottom:p.top+m,height:m,pos:p,cleanup:c}},Df=(s,c,p,m)=>{Zb(s,(b,_)=>aT(s,c,p,m),p)},Lf=(s,c,p,m,b)=>{const _={elm:m.element.dom,alignToTop:b};s.dispatch("ScrollIntoView",_).isDefaultPrevented()||(p(s,c,kh(c).top,m,b),s.dispatch("AfterScrollIntoView",_))},aT=(s,c,p,m)=>{Yt(s.getBody());const _=Yt(s.getDoc()),k=((D,z)=>{const H=(($,re)=>{const he=Po($);if(0===he.length||aS($))return{element:$,offset:re};if(re<he.length&&!aS(he[re]))return{element:he[re],offset:0};{const se=he[he.length-1];return aS(se)?{element:$,offset:re}:"img"===Cr(se)?{element:se,offset:1}:ja(se)?{element:se,offset:$a(se).length}:{element:se,offset:Po(se).length}}})(D,z),X=is('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return Ga(H.element,X),Of(X,()=>yo(X))})(Yt(p.startContainer),p.startOffset);Lf(s,_,c,k,m),k.cleanup()},sS=(s,c,p,m)=>{const b=Yt(s.getDoc());Lf(s,b,p,Of(Yt(c),lt),m)},Zb=(s,c,p)=>{const m=p.startContainer,b=p.startOffset,_=p.endContainer,k=p.endOffset;c(Yt(m),Yt(_));const D=s.dom.createRng();D.setStart(m,b),D.setEnd(_,k),s.selection.setRng(p)},dy=(s,c,p,m,b)=>{const _=c.pos;if(m)Lu(_.left,_.top,b);else{const k=_.top-p+c.height;Lu(-s.getBody().getBoundingClientRect().left,k,b)}},Kb=(s,c,p,m,b,_)=>{const k=m+p,D=b.pos.top,z=b.bottom,H=z-D>=m;D<p?dy(s,b,m,!1!==_,c):D>k?dy(s,b,m,H?!1!==_:!0===_,c):z>k&&!H&&dy(s,b,m,!0===_,c)},Qb=(s,c,p,m,b)=>{const _=Ul(c).dom.innerHeight;Kb(s,c,p,_,m,b)},lS=(s,c,p,m,b)=>{const _=Ul(c).dom.innerHeight;Kb(s,c,p,_,m,b);const k=(z=>{const H=rS(),X=kh(H),$=((se,xe)=>{const ce=xe.owner(se);return oS(xe,ce)})(z,oT),re=Zc(z),he=hi($,(se,xe)=>{const ce=Zc(xe);return{left:se.left+ce.left,top:se.top+ce.top}},{left:0,top:0});return Du(he.left+re.left+X.left,he.top+re.top+X.top)})(m.element),D=ud(window);k.top<D.y?Pu(m.element,!1!==b):k.top>D.bottom&&Pu(m.element,!0===b)},sT=(s,c,p)=>Df(s,Qb,c,p),lT=(s,c,p)=>sS(s,c,Qb,p),cT=(s,c,p)=>Df(s,lS,c,p),uT=(s,c,p)=>sS(s,c,lS,p),um=(s,c,p)=>{(s.inline?sT:cT)(s,c,p)},hT=(s,c=!1)=>s.dom.focus({preventScroll:c}),cS=s=>{const c=xa(s).dom;return s.dom===c.activeElement},Jb=(s=rS())=>ue.from(s.dom.activeElement).map(Yt),dT=(s,c)=>{const p=ja(c)?$a(c).length:Po(c).length+1;return s>p?p:s<0?0:s},pT=s=>sm.range(s.start,dT(s.soffset,s.start),s.finish,dT(s.foffset,s.finish)),ex=(s,c)=>!Rs(c.dom)&&($r(s,c)||Br(s,c)),fT=s=>c=>ex(s,c.start)&&ex(s,c.finish),gT=s=>sm.range(Yt(s.startContainer),s.startOffset,Yt(s.endContainer),s.endOffset),uS=s=>{const c=document.createRange();try{return c.setStart(s.start.dom,s.soffset),c.setEnd(s.finish.dom,s.foffset),ue.some(c)}catch{return ue.none()}},bp=s=>{const c=s.inline||Mi.browser.isFirefox()?(p=Yt(s.getBody()),(m=>{const b=m.getSelection();return(b&&0!==b.rangeCount?ue.from(b.getRangeAt(0)):ue.none()).map(gT)})(Ul(p).dom).filter(fT(p))):ue.none();var p;s.bookmark=c.isSome()?c:s.bookmark},hS=s=>(s.bookmark?s.bookmark:ue.none()).bind(c=>{return p=Yt(s.getBody()),ue.from(c).filter(fT(p)).map(pT);var p}).bind(uS),tx={isEditorUIElement:s=>{const c=s.className.toString();return-1!==c.indexOf("tox-")||-1!==c.indexOf("mce-")}},lc={setEditorTimeout:(s,c,p)=>{return Ot(b=p)||(b=0),setTimeout(()=>{s.removed||c()},b);var b},setEditorInterval:(s,c,p)=>{const m=(Ot(_=p)||(_=0),setInterval(()=>{s.removed?clearInterval(m):c()},_));var _;return m}};let Wh;const dS=E.DOM,nx=s=>{const c=s.classList;return void 0!==c&&(c.contains("tox-edit-area")||c.contains("tox-edit-area__iframe")||c.contains("mce-content-body"))},sh=(s,c)=>{const p=Aw(s);return null!==dS.getParent(c,b=>{return pi(_=b)&&tx.isEditorUIElement(_)||!!p&&s.dom.is(b,p);var _})},pS=s=>{try{const c=xa(Yt(s.getElement()));return Jb(c).fold(()=>document.body,p=>p.dom)}catch{return document.body}},mT=(s,c)=>{const p=c.editor;(b=>{const _=Pe(()=>{bp(b)},0);b.on("init",()=>{var k,H;b.inline&&((k,D)=>{const z=()=>{D.throttle()};E.DOM.bind(document,"mouseup",z),k.on("remove",()=>{E.DOM.unbind(document,"mouseup",z)})})(b,_),H=_,(k=b).on("mouseup touchend",X=>{H.throttle()}),k.on("keyup NodeChange AfterSetSelectionRange",z=>{(H=>"nodechange"===H.type&&H.selectionChange)(z)||bp(k)})}),b.on("remove",()=>{_.cancel()})})(p);const m=(b,_)=>{Yg(b)&&!0!==b.inline&&_(Yt(b.getContainer()),"tox-edit-focus")};p.on("focusin",()=>{const b=s.focusedEditor;nx(pS(p))&&m(p,kl),b!==p&&(b&&b.dispatch("blur",{focusedEditor:p}),s.setActive(p),s.focusedEditor=p,p.dispatch("focus",{blurredEditor:b}),p.focus(!0))}),p.on("focusout",()=>{lc.setEditorTimeout(p,()=>{const b=s.focusedEditor;nx(pS(p))&&b===p||m(p,xs),sh(p,pS(p))||b!==p||(p.dispatch("blur",{focusedEditor:null}),s.focusedEditor=null)})}),Wh||(Wh=b=>{const _=s.activeEditor;_&&Au(b).each(k=>{k.ownerDocument===document&&(k===document.body||sh(_,k)||s.focusedEditor!==_||(_.dispatch("blur",{focusedEditor:null}),s.focusedEditor=null))})},dS.bind(document,"focusin",Wh))},vT=(s,c)=>{s.focusedEditor===c.editor&&(s.focusedEditor=null),!s.activeEditor&&Wh&&(dS.unbind(document,"focusin",Wh),Wh=null)},yT=(s,c)=>{var p,m,b;(p=Yt(s.getBody()),m=c,(b=m,b.collapsed?ue.from(hr(b.startContainer,b.startOffset)).map(Yt):ue.none()).bind(b=>Vu(b)?ue.some(b):$r(p,b)?ue.none():ue.some(p))).bind(p=>Ja(p.dom)).fold(()=>{s.selection.normalize()},p=>s.selection.setRng(p.toRange()))},ix=s=>{if(s.setActive)try{s.setActive()}catch{s.focus()}else s.focus()},Pf=s=>{return s.inline?(c=>{const p=c.getBody();return p&&(m=Yt(p),cS(m)||(b=m,Jb(xa(b)).filter(_=>b.dom.contains(_.dom))).isSome());var m,b})(s):Ke((c=s).iframeElement)&&cS(Yt(c.iframeElement));var c},bT=s=>Pf(s)||(c=>{const p=xa(Yt(c.getElement()));return Jb(p).filter(m=>!nx(m.dom)&&sh(c,m.dom)).isSome()})(s),fS=s=>s.editorManager.setActive(s),xT=(s,c)=>c.collapsed?s.isEditable(c.startContainer):s.isEditable(c.startContainer)&&s.isEditable(c.endContainer),_T=(s,c,p,m,b)=>{const k=p?c.startOffset:c.endOffset;return ue.from(p?c.startContainer:c.endContainer).map(Yt).map(D=>m&&c.collapsed?D:Yc(D,b(D,k)).getOr(D)).bind(D=>ys(D)?ue.some(D):ba(D).filter(ys)).map(D=>D.dom).getOr(s)},wT=(s,c,p=!1)=>_T(s,c,!0,p,(m,b)=>Math.min(ld(m),b)),ST=(s,c,p=!1)=>_T(s,c,!1,p,(m,b)=>b>0?b-1:b),gS=(s,c)=>{const p=s;for(;s&&Rn(s)&&0===s.length;)s=c?s.nextSibling:s.previousSibling;return s||p},mS=(s,c)=>Bt(c,p=>{const m=s.dispatch("GetSelectionRange",{range:p});return m.range!==p?m.range:p}),vS=["img","br"],rx=s=>{return of(s).filter(p=>0!==p.trim().length||p.indexOf(go)>-1).isSome()||Et(vS,Cr(s))||mc(p=s)&&"false"===Ya(p,"contenteditable");var p},py="[data-mce-autocompleter]",CT=s=>Mu(s,py),kT={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},fy=(s,c,p)=>{const m=p?"lastChild":"firstChild",b=p?"prev":"next";if(s[m])return s[m];if(s!==c){let _=s[b];if(_)return _;for(let k=s.parent;k&&k!==c;k=k.parent)if(_=k[b],_)return _}},AT=s=>{var c;const p=null!==(c=s.value)&&void 0!==c?c:"";if(!Wo(p))return!1;const m=s.parent;return!m||"span"===m.name&&!m.attr("style")||!/^[ ]+$/.test(p)},hm=s=>{const c="a"===s.name&&!s.attr("href")&&s.attr("id");return s.attr("name")||s.attr("id")&&!s.firstChild||s.attr("data-mce-bookmark")||c};class Ys{static create(c,p){const m=new Ys(c,kT[c]||1);return p&&Ye(p,(b,_)=>{m.attr(_,b)}),m}constructor(c,p){this.name=c,this.type=p,1===p&&(this.attributes=[],this.attributes.map={})}replace(c){const p=this;return c.parent&&c.remove(),p.insert(c,p),p.remove(),p}attr(c,p){const m=this;if(!ve(c))return Ke(c)&&Ye(c,(_,k)=>{m.attr(k,_)}),m;const b=m.attributes;if(b){if(void 0!==p){if(null===p){if(c in b.map){delete b.map[c];let _=b.length;for(;_--;)if(b[_].name===c)return b.splice(_,1),m}return m}if(c in b.map){let _=b.length;for(;_--;)if(b[_].name===c){b[_].value=p;break}}else b.push({name:c,value:p});return b.map[c]=p,m}return b.map[c]}}clone(){const c=this,p=new Ys(c.name,c.type),m=c.attributes;if(m){const b=[];b.map={};for(let _=0,k=m.length;_<k;_++){const D=m[_];"id"!==D.name&&(b[b.length]={name:D.name,value:D.value},b.map[D.name]=D.value)}p.attributes=b}return p.value=c.value,p}wrap(c){const p=this;return p.parent&&(p.parent.insert(c,p),c.append(p)),p}unwrap(){const c=this;for(let p=c.firstChild;p;){const m=p.next;c.insert(p,c,!0),p=m}c.remove()}remove(){const c=this,p=c.parent,m=c.next,b=c.prev;return p&&(p.firstChild===c?(p.firstChild=m,m&&(m.prev=null)):b&&(b.next=m),p.lastChild===c?(p.lastChild=b,b&&(b.next=null)):m&&(m.prev=b),c.parent=c.next=c.prev=null),c}append(c){const p=this;c.parent&&c.remove();const m=p.lastChild;return m?(m.next=c,c.prev=m,p.lastChild=c):p.lastChild=p.firstChild=c,c.parent=p,c}insert(c,p,m){c.parent&&c.remove();const b=p.parent||this;return m?(p===b.firstChild?b.firstChild=c:p.prev&&(p.prev.next=c),c.prev=p.prev,c.next=p,p.prev=c):(p===b.lastChild?b.lastChild=c:p.next&&(p.next.prev=c),c.next=p.next,c.prev=p,p.next=c),c.parent=b,c}getAll(c){const p=this,m=[];for(let b=p.firstChild;b;b=fy(b,p))b.name===c&&m.push(b);return m}children(){const c=[];for(let p=this.firstChild;p;p=p.next)c.push(p);return c}empty(){const c=this;if(c.firstChild){const p=[];for(let b=c.firstChild;b;b=fy(b,c))p.push(b);let m=p.length;for(;m--;){const b=p[m];b.parent=b.firstChild=b.lastChild=b.next=b.prev=null}}return c.firstChild=c.lastChild=null,c}isEmpty(c,p={},m){var b;const _=this;let k=_.firstChild;if(hm(_))return!1;if(k)do{if(1===k.type){if(k.attr("data-mce-bogus"))continue;if(c[k.name]||hm(k))return!1}if(8===k.type||3===k.type&&!AT(k)||3===k.type&&k.parent&&p[k.parent.name]&&Wo(null!==(b=k.value)&&void 0!==b?b:"")||m&&m(k))return!1}while(k=fy(k,_));return!0}walk(c){return fy(this,null,c)}}const yS=Dn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),bS=s=>ve(s.nodeValue)&&s.nodeValue.includes(ma),xS=s=>(0===s.length?"":`${Bt(s,c=>`[${c}]`).join(",")},`)+'[data-mce-bogus="all"]',gy=s=>document.createTreeWalker(s,NodeFilter.SHOW_COMMENT,c=>bS(c)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),_S=s=>document.createTreeWalker(s,NodeFilter.SHOW_TEXT,c=>{if(bS(c)){const p=c.parentNode;return p&&Gt(yS,p.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),MT=s=>null!==gy(s).nextNode(),TT=s=>null!==_S(s).nextNode(),nD=(s,c)=>null!==c.querySelector(xS(s)),iD=(s,c)=>{Ht(c.querySelectorAll(xS(s)),p=>{const m=Yt(p);"all"===Ya(m,"data-mce-bogus")?yo(m):Ht(s,b=>{qs(m,b)&&Sa(m,b)})})},hs=s=>{let c=s.nextNode();for(;null!==c;)c.nodeValue=null,c=s.nextNode()},wS=$e(hs,gy),ET=$e(hs,_S),SS=(s,c)=>{const p=[{condition:It(nD,c),action:It(iD,c)},{condition:MT,action:wS},{condition:TT,action:ET}];let m=s,b=!1;return Ht(p,({condition:_,action:k})=>{_(m)&&(b||(m=s.cloneNode(!0),b=!0),k(m))}),m},IT=s=>{const c=ga(s,"[data-mce-bogus]");Ht(c,p=>{"all"===Ya(p,"data-mce-bogus")?yo(p):ll(p)?(Ga(p,Ko("\ufeff")),yo(p)):sl(p)})},OT=s=>{const c=ga(s,"input");Ht(c,p=>{Sa(p,"name")})},ox=Dn.makeMap,CS=s=>{const c=[],p=(s=s||{}).indent,m=ox(s.indent_before||""),b=ox(s.indent_after||""),_=nc.getEncodeFunc(s.entity_encoding||"raw",s.entities),k="xhtml"!==s.element_format;return{start:(D,z,H)=>{if(p&&m[D]&&c.length>0){const X=c[c.length-1];X.length>0&&"\n"!==X&&c.push("\n")}if(c.push("<",D),z)for(let X=0,$=z.length;X<$;X++){const re=z[X];c.push(" ",re.name,'="',_(re.value,!0),'"')}if(c[c.length]=!H||k?">":" />",H&&p&&b[D]&&c.length>0){const X=c[c.length-1];X.length>0&&"\n"!==X&&c.push("\n")}},end:D=>{let z;c.push("</",D,">"),p&&b[D]&&c.length>0&&(z=c[c.length-1],z.length>0&&"\n"!==z&&c.push("\n"))},text:(D,z)=>{D.length>0&&(c[c.length]=z?D:_(D))},cdata:D=>{c.push("<![CDATA[",D,"]]>")},comment:D=>{c.push("\x3c!--",D,"--\x3e")},pi:(D,z)=>{z?c.push("<?",D," ",_(z),"?>"):c.push("<?",D,"?>"),p&&c.push("\n")},doctype:D=>{c.push("<!DOCTYPE",D,">",p?"\n":"")},reset:()=>{c.length=0},getContent:()=>c.join("").replace(/\n$/,"")}},Pd=(s={},c=Ks())=>{const p=CS(s);return s.validate=!("validate"in s)||s.validate,{serialize:m=>{const b=s.validate,_={3:D=>{var z;p.text(null!==(z=D.value)&&void 0!==z?z:"",D.raw)},8:D=>{var z;p.comment(null!==(z=D.value)&&void 0!==z?z:"")},7:D=>{p.pi(D.name,D.value)},10:D=>{var z;p.doctype(null!==(z=D.value)&&void 0!==z?z:"")},4:D=>{var z;p.cdata(null!==(z=D.value)&&void 0!==z?z:"")},11:D=>{let z=D;if(z=z.firstChild)do{k(z)}while(z=z.next)}};p.reset();const k=D=>{var z;const H=_[D.type];if(H)H(D);else{const X=D.name,$=X in c.getVoidElements();let re=D.attributes;if(b&&re&&re.length>1){const he=[];he.map={};const se=c.getElementRule(D.name);if(se){for(let xe=0,ce=se.attributesOrder.length;xe<ce;xe++){const Me=se.attributesOrder[xe];if(Me in re.map){const He=re.map[Me];he.map[Me]=He,he.push({name:Me,value:He})}}for(let xe=0,ce=re.length;xe<ce;xe++){const Me=re[xe].name;if(!(Me in he.map)){const He=re.map[Me];he.map[Me]=He,he.push({name:Me,value:He})}}re=he}}if(p.start(X,re,$),Ln(X))ve(D.value)&&p.text(D.value,!0),p.end(X);else if(!$){let he=D.firstChild;if(he){"pre"!==X&&"textarea"!==X||3!==he.type||"\n"!==(null===(z=he.value)||void 0===z?void 0:z[0])||p.text("\n",!0);do{k(he)}while(he=he.next)}p.end(X)}}};return 1!==m.type||s.inner?3===m.type?_[3](m):_[11](m):k(m),p.getContent()}}},kS=new Set;Ht(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{kS.add(s)});const ax=["font","text-decoration","text-emphasis"],sx=(s,c)=>Do(s.parseStyle(s.getAttrib(c,"style"))),xp=(s,c,p)=>{const m=sx(s,c),b=sx(s,p),_=k=>{var D,z;const H=null!==(D=s.getStyle(c,k))&&void 0!==D?D:"",X=null!==(z=s.getStyle(p,k))&&void 0!==z?z:"";return h(H)&&h(X)&&H!==X};return xn(m,k=>{const D=z=>xn(z,H=>H===k);if(!D(b)&&D(ax)){const z=En(b,H=>xn(ax,X=>Fn(H,X)));return xn(z,_)}return _(k)})},my=(s,c,p)=>ue.from(p.container()).filter(Rn).exists(m=>{const b=s?0:-1;return c(m.data.charAt(p.offset()+b))}),dm=It(my,!0,Cf),Io=It(my,!1,Cf),LT=s=>{const c=s.container();return Rn(c)&&(0===c.data.length||Zs(c.data)&&Tf.isBookmarkNode(c.parentNode))},_p=(s,c)=>p=>xb(s?0:-1,p).filter(c).isSome(),PT=s=>Th(s)&&"block"===$s(Yt(s),"display"),NT=s=>{return fo(s)&&!(pi(c=s)&&"all"===c.getAttribute("data-mce-bogus"));var c},RT=_p(!0,PT),rD=_p(!1,PT),Nf=_p(!0,qa),Bo=_p(!1,qa),Rf=_p(!0,sa),AS=_p(!1,sa),wp=_p(!0,NT),ao=_p(!1,NT),MS=(s,c)=>{return b=Vt,$r(m=c,p=s)?sd(p,_=>b(_)||Br(_,m)).slice(0,-1):[];var p,m,b},jh=(s,c)=>[s].concat(MS(s,c)),TS=(s,c,p)=>kd(s,c,p,LT),BT=(s,c,p)=>{return _n(jh(Yt(c.container()),s),(m=p,b=>m.isBlock(Cr(b))));var m},zT=(s,c,p,m)=>TS(s,c.dom,p).forall(b=>BT(c,p,m).fold(()=>!Tc(b,p,c.dom),_=>!Tc(b,p,c.dom)&&$r(_,Yt(b.container())))),vy=(s,c,p,m)=>BT(c,p,m).fold(()=>TS(s,c.dom,p).forall(b=>!Tc(b,p,c.dom)),b=>TS(s,b.dom,p).isNone()),lx=It(vy,!1),ES=It(vy,!0),cx=It(zT,!1),pm=It(zT,!0),yy=s=>ny(s).exists(ll),by=(s,c,p,m)=>{const b=En(jh(Yt(p.container()),c),k=>m.isBlock(Cr(k))),_=ir(b).getOr(c);return Ec(s,_.dom,p).filter(yy)},ux=(s,c,p)=>ny(c).exists(ll)||by(!0,s,c,p).isSome(),IS=(s,c,p)=>{return(m=c,ue.from(m.getNode(!0)).map(Yt)).exists(ll)||by(!1,s,c,p).isSome();var m},FT=It(by,!1),VT=It(by,!0),HT=s=>wn.isTextPosition(s)&&!s.isAtStart()&&!s.isAtEnd(),fm=(s,c,p)=>{const m=En(jh(Yt(c.container()),s),b=>p.isBlock(Cr(b)));return ir(m).getOr(s)},WT=(s,c,p)=>HT(c)?Io(c):Io(c)||Ws(fm(s,c,p).dom,c).exists(Io),jT=(s,c,p)=>HT(c)?dm(c):dm(c)||Hs(fm(s,c,p).dom,c).exists(dm),gm=s=>ny(s).bind(c=>Na(c,ys)).exists(c=>{return p=$s(c,"white-space"),Et(["pre","pre-wrap"],p);var p}),OS=(s,c)=>p=>{return m=new Jo(p,s)[c](),Ke(m)&&fo(m)&&qg(m);var m},YT=(s,c,p)=>{return!gm(c)&&(_=p,Ws((m=s).dom,b=c).isNone()||Hs(m.dom,b).isNone()||lx(m,b,_)||ES(m,b,_)||IS(m,b,_)||ux(m,b,_)||WT(s,c,p)||jT(s,c,p));var m,b,_},xy=(s,c,p)=>!gm(c)&&(lx(s,c,p)||cx(s,c,p)||IS(s,c,p)||WT(s,c,p)||((m,b)=>{const _=Ws(m.dom,b).getOr(b),k=OS(m.dom,"prev");return b.isAtStart()&&(k(b.container())||k(_.container()))})(s,c)),_y=(s,c,p)=>!gm(c)&&(ES(s,c,p)||pm(s,c,p)||ux(s,c,p)||jT(s,c,p)||((m,b)=>{const _=Hs(m.dom,b).getOr(b),k=OS(m.dom,"next");return b.isAtEnd()&&(k(b.container())||k(_.container()))})(s,c)),DS=(s,c,p)=>xy(s,c,p)||_y(s,(m=>{const b=m.container(),_=m.offset();return Rn(b)&&_<b.data.length?wn(b,_+1):m})(c),p),GT=(s,c)=>Ib(s.charAt(c)),XT=(s,c)=>Cf(s.charAt(c)),qT=(s,c,p,m)=>{const b=c.data,_=wn(c,0);return p||!GT(b,0)||DS(s,_,m)?!!(p&&XT(b,0)&&xy(s,_,m))&&(c.data=go+b.slice(1),!0):(c.data=" "+b.slice(1),!0)},LS=(s,c,p,m)=>{const b=c.data,_=wn(c,b.length-1);return p||!GT(b,b.length-1)||DS(s,_,m)?!!(p&&XT(b,b.length-1)&&_y(s,_,m))&&(c.data=b.slice(0,-1)+go,!0):(c.data=b.slice(0,-1)+" ",!0)},UT=(s,c,p,m)=>{if(0===p)return;const b=Yt(s),_=Ps(b,H=>m.isBlock(Cr(H))).getOr(b),k=s.data.slice(c,c+p),D=c+p>=s.data.length&&_y(_,wn(s,s.data.length),m),z=0===c&&xy(_,wn(s,0),m);s.replaceData(c,p,Cs(k,4,z,D))},Bf=(s,c,p)=>{const m=s.data.slice(c),b=m.length-xi(m).length;UT(s,c,b,p)},zf=(s,c,p)=>{const m=s.data.slice(0,c),b=m.length-We(m).length;UT(s,c-b,b,p)},hx=(s,c,p,m,b=!0)=>{const _=We(s.data).length,k=b?s:c,D=b?c:s;return b?k.appendData(D.data):k.insertData(0,D.data),yo(Yt(D)),m&&Bf(k,_,p),k},$T=(s,c)=>((p,m)=>{const b=p.container(),_=p.offset();return!wn.isTextPosition(p)&&b===m.parentNode&&_>wn.before(m).offset()})(c,s)?wn(c.container(),c.offset()-1):c,PS=s=>{return zs(s.previousSibling)?ue.some(Rn(c=s.previousSibling)?wn(c,c.data.length):wn.after(c)):s.previousSibling?ac(s.previousSibling):ue.none();var c},ZT=s=>{return zs(s.nextSibling)?ue.some(Rn(c=s.nextSibling)?wn(c,0):wn.before(c)):s.nextSibling?Ja(s.nextSibling):ue.none();var c},NS=(s,c,p)=>{p.fold(()=>{s.focus()},m=>{s.selection.setRng(m.toRange(),c)})},dx=(s,c)=>c&&Gt(s.schema.getBlockElements(),Cr(c)),Sp=(s,c,p,m=!0,b=!1)=>{const _=((s,c,p)=>{return(m=s,b=c,_=p,m?(k=b,ZT(D=_).orThunk(()=>PS(D)).orThunk(()=>{return Hs(z=k,wn.after(H=D)).orThunk(()=>Ws(z,wn.before(H)));var z,H})):((k,D)=>PS(D).orThunk(()=>ZT(D)).orThunk(()=>{return z=k,ue.from((H=D).previousSibling?H.previousSibling:H.parentNode).bind(X=>Ws(z,wn.before(X))).orThunk(()=>Hs(z,wn.after(H)));var z,H}))(b,_)).map(It($T,p));var m,b,_,k,D})(c,s.getBody(),p.dom),k=Ps(p,It(dx,s),(D=s.getBody(),H=>H.dom===D));var D;const z=((H,X,$,re)=>{const he=Ml(H).filter(ja),se=Tl(H).filter(ja);return yo(H),(xe=he,ce=se,Me=X,He=(Xe,pt,ut)=>{const Rt=Xe.dom,Jt=pt.dom,rn=Rt.data.length;return hx(Rt,Jt,$,re),ut.container()===Jt?wn(Rt,rn):ut},xe.isSome()&&ce.isSome()&&Me.isSome()?ue.some(He(xe.getOrDie(),ce.getOrDie(),Me.getOrDie())):ue.none()).orThunk(()=>(re&&(he.each(Xe=>zf(Xe.dom,Xe.dom.length,$)),se.each(Xe=>Bf(Xe.dom,0,$))),X));var xe,ce,Me,He})(p,_,s.schema,(X=p,Gt(s.schema.getTextInlineElements(),Cr(X))));var X;s.dom.isEmpty(s.getBody())?(s.setContent(""),s.selection.setCursorLocation()):k.bind(H=>((X,$)=>{if(dn(X)){const re=is('<br data-mce-bogus="1">');return $?Ht(Po(X),he=>{Vh(he)||yo(he)}):$c(X),qo(X,re),ue.some(wn.before(re.dom))}return ue.none()})(H,b)).fold(()=>{m&&NS(s,c,z)},H=>{m&&NS(s,c,ue.some(H))})},KT=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ff=(s,c)=>Vo(Yt(c),Sw(s))&&!Nr(s.schema,c)&&s.dom.isEditable(c),px=s=>{var c,p;return"rtl"===E.DOM.getStyle(s,"direction",!0)||(p=null!==(c=s.textContent)&&void 0!==c?c:"",KT.test(p))},Nd=(s,c,p)=>{const m=(b=s,_=c,En(E.DOM.getParents(p.container(),"*",_),b));var b,_;return ue.from(m[m.length-1])},Dc=(s,c)=>{const p=c.container(),m=c.offset();return s?Gi(p)?Rn(p.nextSibling)?wn(p.nextSibling,0):wn.after(p):Ih(c)?wn(p,m+1):c:Gi(p)?Rn(p.previousSibling)?wn(p.previousSibling,p.previousSibling.data.length):wn.before(p):Wu(c)?wn(p,m-1):c},QT=It(Dc,!0),fx=It(Dc,!1),mm=(s,c)=>{const p=m=>m.stopImmediatePropagation();s.on("beforeinput input",p,!0),s.getDoc().execCommand(c),s.off("beforeinput input",p)},gx=s=>mm(s,"Delete"),JT=s=>cl(s)||os(s),Rd=(s,c)=>{return $r(s,c)?Na(c,JT,(p=s,m=>uo(ba(m),p,Br))):ue.none();var p},Bd=(s,c=!0)=>{s.dom.isEmpty(s.getBody())&&s.setContent("",{no_selection:!c})},e2=(s,c,p)=>Gr(Ja(p),ac(p),(m,b)=>{const _=Dc(!0,m),k=Dc(!1,b),D=Dc(!1,c);return s?Hs(p,D).exists(z=>z.isEqual(k)&&c.isEqual(_)):Ws(p,D).exists(z=>z.isEqual(_)&&c.isEqual(k))}).getOr(!0),t2=s=>{var c;return(8===gc(c=s)||"#comment"===Cr(c)?Ml(s):Gc(s)).bind(t2).orThunk(()=>ue.some(s))},n2=(s,c,p,m=!0)=>{var b;c.deleteContents();const _=t2(p).getOr(p),k=Yt(null!==(b=s.dom.getParent(_.dom,s.dom.isBlock))&&void 0!==b?b:p.dom);if(k.dom===s.getBody()?Bd(s,m):dn(k)&&(bo(k),m&&s.selection.setCursorLocation(k.dom,0)),!Br(p,k)){const z=uo(ba(k),p)?[]:ba(D=k).map(Po).map(H=>En(H,X=>!Br(D,X))).getOr([]);Ht(z.concat(Po(p)),H=>{Br(H,k)||$r(H,k)||!dn(H)||yo(H)})}var D},i2=(s,c)=>Eg(s,c).isSome(),RS=s=>ga(s,"td,th"),r2=(s,c)=>Ed(Yt(s),c),BS=(s,c)=>({start:s,end:c}),Cp=Ac([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),mx=(s,c)=>al(Yt(s),"td,th",c),o2=s=>!Br(s.start,s.end),Da=(s,c)=>Ed(s.start,c).bind(p=>Ed(s.end,c).bind(m=>lr(Br(p,m),p))),kp=s=>c=>Da(c,s).map(p=>({rng:c,table:p,cells:RS(p)})),Ap=(s,c,p,m)=>{if(p.collapsed||!s.forall(o2))return ue.none();if(c.isSameTable){const b=s.bind(kp(m));return ue.some({start:b,end:b})}{const b=mx(p.startContainer,m),_=mx(p.endContainer,m),k=b.bind((z=m,H=>Ed(H,z).bind(X=>Jr(RS(X)).map($=>BS(H,$))))).bind(kp(m)),D=_.bind((z=>H=>Ed(H,z).bind(X=>ir(RS(X)).map($=>BS($,H))))(m)).bind(kp(m));return ue.some({start:k,end:D})}var z},Mp=(s,c)=>Gn(s,p=>Br(p,c)),wy=s=>Gr(Mp(s.cells,s.rng.start),Mp(s.cells,s.rng.end),(c,p)=>s.cells.slice(c,p+1)),Sy=(s,c)=>{const{startTable:p,endTable:m}=c,b=s.cloneRange();return p.each(_=>b.setStartAfter(_.dom)),m.each(_=>b.setEndBefore(_.dom)),b},vx=s=>Ht(s,c=>{Sa(c,"contenteditable"),bo(c)}),zS=(s,c,p,m)=>{const b=p.cloneRange();m?(b.setStart(p.startContainer,p.startOffset),b.setEndAfter(c.dom.lastChild)):(b.setStartBefore(c.dom.firstChild),b.setEnd(p.endContainer,p.endOffset)),bx(s,b,c,!1).each(_=>_())},Cy=s=>{const c=Td(s),p=Yt(s.selection.getNode());Rl(p.dom)&&dn(p)?s.selection.setCursorLocation(p.dom,0):s.selection.collapse(!0),c.length>1&&xn(c,m=>Br(m,p))&&Ho(p,"data-mce-selected","1")},FS=(s,c,p)=>ue.some(()=>{const m=s.selection.getRng(),b=p.bind(({rng:_,isStartInTable:k})=>{const D=ue.from((H=s).dom.getParent(k?_.endContainer:_.startContainer,H.dom.isBlock)).map(Yt);var H;_.deleteContents(),((H,X,$)=>{$.each(re=>{X?yo(re):(bo(re),H.selection.setCursorLocation(re.dom,0))})})(s,k,D.filter(dn));const z=k?c[0]:c[c.length-1];return zS(s,z,m,k),dn(z)?ue.none():ue.some(k?c.slice(1):c.slice(0,-1))}).getOr(c);vx(b),Cy(s)}),yx=(s,c,p,m)=>ue.some(()=>{const b=s.selection.getRng(),_=c[0],k=p[p.length-1];zS(s,_,b,!0),zS(s,k,b,!1);const D=dn(_)?c:c.slice(1),z=dn(k)?p:p.slice(0,-1);vx(D.concat(z)),m.deleteContents(),Cy(s)}),bx=(s,c,p,m=!0)=>ue.some(()=>{n2(s,c,p,m)}),a2=(s,c)=>ue.some(()=>Sp(s,!1,c)),xx=(s,c)=>_n(jh(c,s),Jc),_x=(s,c)=>_n(jh(c,s),jc("caption")),ky=(s,c)=>ue.some(()=>{bo(c),s.selection.setCursorLocation(c.dom,0)}),VS=(s,c)=>s?Rf(c):AS(c),Sx=(s,c)=>{const p=Yt(s.selection.getStart(!0)),m=Td(s);return s.selection.isCollapsed()&&0===m.length?((s,c,p)=>{const m=Yt(s.getBody());return _x(m,p).fold(()=>((b,_,k,D)=>{const z=wn.fromRangeStart(b.selection.getRng());return xx(k,D).bind(H=>{return dn(H)?ky(b,H):($=k,he=H,se=z,th(_,b.getBody(),se).bind(xe=>xx($,Yt(xe.getNode())).bind(ce=>Br(ce,he)?ue.none():ue.some(lt))));var $,he,se})})(s,c,m,p).orThunk(()=>lr(((b,_)=>{const k=wn.fromRangeStart(b.selection.getRng());return VS(_,k)||Ec(_,b.getBody(),k).exists(D=>VS(_,D))})(s,c),lt)),b=>((_,k,D,z)=>{const H=wn.fromRangeStart(_.selection.getRng());return dn(z)?ky(_,z):($=D,he=z,se=H,th(re=k,(X=_).getBody(),se).fold(()=>ue.some(lt),xe=>{return Me=re,He=se,Xe=xe,Ja((ce=he).dom).bind(pt=>ac(ce.dom).map(ut=>Me?He.isEqual(pt)&&Xe.isEqual(ut):He.isEqual(ut)&&Xe.isEqual(pt))).getOr(!0)?((ce,Me)=>ky(ce,Me))(X,he):((ce,Me,He)=>_x(ce,Yt(He.getNode())).fold(()=>ue.some(lt),Xe=>lr(!Br(Xe,Me),lt)))($,he,xe);var ce,Me,He,Xe}));var X,$,re,he,se})(s,c,m,b))})(s,c,p):((b,_,k)=>{const D=Yt(b.getBody()),z=b.selection.getRng();return 0!==k.length?FS(b,k,ue.none()):(H=b,$=z,_x(X=D,_).fold(()=>{return he=H,((s,c)=>{const p=(_=s,k=>Br(_,k)),m=((_,k)=>{const D=mx(_.startContainer,k),z=mx(_.endContainer,k);return Gr(D,z,BS)})(c,p),b=((_,k)=>{const D=r2(_.startContainer,k),z=r2(_.endContainer,k),H=D.isSome(),X=z.isSome(),$=Gr(D,z,Br).getOr(!1);return Gr((re={startTable:D,endTable:z,isStartInTable:H,isEndInTable:X,isSameTable:$,isMultiTable:!$&&H&&X}).startTable,re.endTable,(he,se)=>{const xe=i2(he,Me=>Br(Me,se)),ce=i2(se,Me=>Br(Me,he));return xe||ce?{...re,startTable:xe?ue.none():re.startTable,endTable:ce?ue.none():re.endTable,isSameTable:!1,isMultiTable:!1}:re}).getOr(re);var re})(c,p);var _;return((_,k,D)=>_.exists(z=>{return X=D,!o2(H=z)&&Da(H,X).exists($=>{const re=$.dom.rows;return 1===re.length&&1===re[0].cells.length})&&em(z.start,k);var H,X}))(m,c,p)?m.map(_=>Cp.singleCellTable(c,_.start)):b.isMultiTable?((_,k,D,z)=>Ap(_,k,D,z).bind(({start:H,end:X})=>{const $=H.bind(wy).getOr([]),re=X.bind(wy).getOr([]);if($.length>0&&re.length>0){const he=Sy(D,k);return ue.some(Cp.multiTable($,re,he))}return ue.none()}))(m,b,c,p):((_,k,D,z)=>Ap(_,k,D,z).bind(({start:H,end:X})=>H.or(X)).bind(H=>{const{isSameTable:X}=k,$=wy(H).getOr([]);if(X&&H.cells.length===$.length)return ue.some(Cp.fullTable(H.table));if($.length>0){if(X)return ue.some(Cp.partialTable($,ue.none()));{const re=Sy(D,k);return ue.some(Cp.partialTable($,ue.some({...k,rng:re})))}}return ue.none()}))(m,b,c,p)})(X,$).bind(ce=>ce.fold(It(bx,he),It(a2,he),It(FS,he),It(yx,he)));var he},he=>ky(H,he)));var H,X,$})(s,p,m)},ds=(s,c)=>{let p=c;for(;p&&p!==s;){if(Ss(p)||fo(p))return p;p=p.parentNode}return null},Ay=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],HS=Dn.each,zd=s=>{const c=s.dom,p=new Set(s.serializer.getTempAttrs()),m=b=>xn(Ay,_=>Fn(b,_))||p.has(b);return{compare:(b,_)=>{if(b.nodeName!==_.nodeName||b.nodeType!==_.nodeType)return!1;const k=z=>{const H={};return HS(c.getAttribs(z),X=>{const $=X.nodeName.toLowerCase();"style"===$||m($)||(H[$]=c.getAttrib(z,$))}),H},D=(z,H)=>{for(const X in z)if(Gt(z,X)){const $=H[X];if(Ae($)||z[X]!==$)return!1;delete H[X]}for(const X in H)if(Gt(H,X))return!1;return!0};return!(pi(b)&&pi(_)&&(!D(k(b),k(_))||!D(c.parseStyle(c.getAttrib(b,"style")),c.parseStyle(c.getAttrib(_,"style"))))||js(b)||js(_))},isAttributeInternal:m}},Cx=s=>["h1","h2","h3","h4","h5","h6"].includes(s.name),WS=(s,c,p,m)=>{const b=p.name;for(let _=0,k=s.length;_<k;_++){const D=s[_];if(D.name===b){const z=m.nodes[b];z?z.nodes.push(p):m.nodes[b]={filter:D,nodes:[p]}}}if(p.attributes)for(let _=0,k=c.length;_<k;_++){const D=c[_],z=D.name;if(z in p.attributes.map){const H=m.attributes[z];H?H.nodes.push(p):m.attributes[z]={filter:D,nodes:[p]}}}},jS=(s,c)=>{const p=(m,b)=>{Ye(m,_=>{const k=Zo(_.nodes);Ht(_.filter.callbacks,D=>{for(let z=k.length-1;z>=0;z--){const H=k[z];(b?void 0!==H.attr(_.filter.name):H.name===_.filter.name)&&!je(H.parent)||k.splice(z,1)}k.length>0&&D(k,_.filter.name,c)})})};p(s.nodes,!1),p(s.attributes,!0)},Vf=(s,c,p,m={})=>{const b=((_,k,D)=>{const z={nodes:{},attributes:{}};return D.firstChild&&((H,X)=>{let $=H;for(;$=$.walk();)WS(_,k,$,z)})(D),z})(s,c,p);jS(b,m)},kx=(s,c,p,m)=>{if((s.pad_empty_with_br||c.insert)&&p(m)){const b=new Ys("br",1);c.insert&&b.attr("data-mce-bogus","1"),m.empty().append(b)}else m.empty().append(new Ys("#text",3)).value=go},YS=(s,c)=>{const p=s?.firstChild;return Ke(p)&&p===s.lastChild&&p.name===c},ym=(s,c,p,m)=>m.isEmpty(c,p,b=>!0===s.getElementRule(b.name)?.paddEmpty),lh=s=>{let c;for(let p=s;p;p=p.parent){const m=p.attr("contenteditable");if("false"===m)break;"true"===m&&(c=p)}return ue.from(c)},Ax=(s,c,p=s.parent)=>{if(c.getSpecialElements()[s.name])s.empty().remove();else{const m=s.children();for(const b of m)p&&!c.isValidChild(p.name,b.name)&&Ax(b,c,p);s.unwrap()}},Mx=(s,c,p,m=lt)=>{const b=c.getTextBlockElements(),_=c.getNonEmptyElements(),k=c.getWhitespaceElements(),D=Dn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),z=new Set,H=X=>X!==p&&!D[X.name];for(let X=0;X<s.length;X++){const $=s[X];let re,he,se;if(!$.parent||z.has($))continue;if(b[$.name]&&"li"===$.parent.name){let ce=$.next;for(;ce&&b[ce.name];)ce.name="li",z.add(ce),$.parent.insert(ce,$.parent),ce=ce.next;$.unwrap();continue}const xe=[$];for(re=$.parent;re&&!c.isValidChild(re.name,$.name)&&H(re);re=re.parent)xe.push(re);if(re&&xe.length>1)if(My(c,$,re))Ax($,c);else{xe.reverse(),he=xe[0].clone(),m(he);let ce=he;for(let Me=0;Me<xe.length-1;Me++){c.isValidChild(ce.name,xe[Me].name)&&Me>0?(se=xe[Me].clone(),m(se),ce.append(se)):se=ce;for(let He=xe[Me].firstChild;He&&He!==xe[Me+1];){const Xe=He.next;se.append(He),He=Xe}ce=se}ym(c,_,k,he)?re.insert($,xe[0],!0):(re.insert(he,xe[0],!0),re.insert($,he)),re=xe[0],(ym(c,_,k,re)||YS(re,"br"))&&re.empty().remove()}else if($.parent){if("li"===$.name){let ce=$.prev;if(ce&&("ul"===ce.name||"ol"===ce.name)){ce.append($);continue}if(ce=$.next,ce&&("ul"===ce.name||"ol"===ce.name)&&ce.firstChild){ce.insert($,ce.firstChild,!0);continue}const Me=new Ys("ul",1);m(Me),$.wrap(Me);continue}if(c.isValidChild($.parent.name,"div")&&c.isValidChild("div",$.name)){const ce=new Ys("div",1);m(ce),$.wrap(ce)}else Ax($,c)}}},My=(s,c,p=c.parent)=>{return!(!p||(!s.children[c.name]||s.isValidChild(p.name,c.name))&&("a"!==c.name||!((m,b)=>{let _=m;for(;_;){if("a"===_.name)return!0;_=_.parent}return!1})(p))&&(m=p,"summary"!==m.name||!Cx(c)||p?.firstChild===c&&p?.lastChild===c));var m},bm=s=>s.collapsed?s:(c=>{const p=wn.fromRangeStart(c),m=wn.fromRangeEnd(c),b=c.commonAncestorContainer;return Ec(!1,b,m).map(_=>!Tc(p,m,b)&&Tc(p,_,b)?((k,D,z,H)=>{const X=document.createRange();return X.setStart(k,D),X.setEnd(z,H),X})(p.container(),p.offset(),_.container(),_.offset()):c).getOr(c)})(s),bl=(s,c)=>{const p=s.getParent(c,s.isBlock);return p&&"LI"===p.nodeName?p:null},Tx=(s,c)=>{const p=wn.after(s),m=eh(c).prev(p);return m?m.toRange():null},GS=["pre"],Ex=Rl,u2=(s,c,p)=>{var m,b;const _=s.selection,k=s.dom,D=s.parser,z=p.merge,H=Pd({validate:!0},s.schema),X='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';p.preserve_zwsp||(c=Oa(c)),-1===c.indexOf("{$caret}")&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,X);let $=_.getRng();const re=$.startContainer,he=s.getBody();var Xe,pt;re===he&&_.isCollapsed()&&k.isBlock(he.firstChild)&&(Xe=s,Ke(pt=he.firstChild)&&!Xe.schema.getVoidElements()[pt.nodeName])&&k.isEmpty(he.firstChild)&&($=k.createRng(),$.setStart(he.firstChild,0),$.setEnd(he.firstChild,0),_.setRng($)),_.isCollapsed()||(Xe=>{const pt=Xe.dom,ut=bm(Xe.selection.getRng());Xe.selection.setRng(ut);const Rt=pt.getParent(ut.startContainer,Ex);var Jt,rn,sn;Jt=pt,rn=ut,Ke(sn=Rt)&&sn===Jt.getParent(rn.endContainer,Ex)&&em(Yt(sn),rn)?bx(Xe,ut,Yt(Rt)):ut.startContainer===ut.endContainer&&ut.endOffset-ut.startOffset==1&&Rn(ut.startContainer.childNodes[ut.startOffset])?ut.deleteContents():Xe.getDoc().execCommand("Delete",!1)})(s);const se=_.getNode(),xe={context:se.nodeName.toLowerCase(),data:p.data,insert:!0},ce=D.parse(c,xe);if(!0===p.paste&&((s,c)=>{let p=c.firstChild,m=c.lastChild;return p&&"meta"===p.name&&(p=p.next),m&&"mce_marker"===m.attr("id")&&(m=m.prev),((b,_)=>{const k=b.getNonEmptyElements();return Ke(_)&&(_.isEmpty(k)||(z=_,b.getBlockElements()[z.name]&&Ke((H=z).firstChild)&&H.firstChild===H.lastChild&&(H=>"br"===H.name||H.value===go)(z.firstChild)));var z,H})(s,m)&&(m=m?.prev),!(!p||p!==m||"ul"!==p.name&&"ol"!==p.name)})(s.schema,ce)&&((Xe,pt)=>!!bl(Xe,pt))(k,se))return $=((s,c,p,m)=>{const b=(($,re,he)=>{const se=re.serialize(he);return(xe=>{var ce,Me;const He=xe.firstChild,Xe=xe.lastChild;return He&&"META"===He.nodeName&&(null===(ce=He.parentNode)||void 0===ce||ce.removeChild(He)),Xe&&"mce_marker"===Xe.id&&(null===(Me=Xe.parentNode)||void 0===Me||Me.removeChild(Xe)),xe})($.createFragment(se))})(c,s,m),_=bl(c,p.startContainer),k=(s=>{return s.length>0&&(!(p=s[s.length-1]).firstChild||Ke(null==(c=p)?void 0:c.firstChild)&&c.firstChild===c.lastChild&&((m=c.firstChild).data===go||Co(m)))?s.slice(0,-1):s;var m,c,p})(En(null!==(z=b.firstChild?.childNodes)&&void 0!==z?z:[],$=>"LI"===$.nodeName));var z;const H=c.getRoot(),X=$=>{const re=wn.fromRangeStart(p),he=eh(c.getRoot()),xe=(1===$?he.prev(re):he.next(re))?.getNode();return!xe||bl(c,xe)!==_};return _?X(1)?(($,re,he)=>{const se=$.parentNode;return se&&Dn.each(re,xe=>{se.insertBefore(xe,$)}),((xe,ce)=>{const Me=wn.before(xe),He=eh(ce).next(Me);return He?He.toRange():null})($,he)})(_,k,H):X(2)?($=_,he=H,c.insertAfter((re=k).reverse(),$),Tx(re[0],he)):(($,re,he,se)=>{const xe=((Me,He)=>{const Xe=He.cloneRange(),pt=He.cloneRange();return Xe.setStartBefore(Me),pt.setEndAfter(Me),[Xe.cloneContents(),pt.cloneContents()]})($,se),ce=$.parentNode;return ce&&(ce.insertBefore(xe[0],$),Dn.each(re,Me=>{ce.insertBefore(Me,$)}),ce.insertBefore(xe[1],$),ce.removeChild($)),Tx(re[re.length-1],he)})(_,k,H,p):null;var $,re,he})(H,k,_.getRng(),ce),$&&_.setRng($),c;!0===p.paste&&((Xe,pt,ut,Rt)=>{var Jt;const rn=pt.firstChild,sn=pt.lastChild,fn=rn===("bookmark"===sn.attr("data-mce-type")?sn.prev:sn),Wt=Et(GS,rn.name);if(fn&&Wt){const en="false"!==rn.attr("contenteditable"),un=(null===(Jt=Xe.getParent(ut,Xe.isBlock))||void 0===Jt?void 0:Jt.nodeName.toLowerCase())===rn.name,An=ue.from(ds(Rt,ut)).forall(Ss);return en&&un&&An}return!1})(k,ce,se,s.getBody())&&(null===(m=ce.firstChild)||void 0===m||m.unwrap()),(Xe=>{let pt=Xe;for(;pt=pt.walk();)1===pt.type&&pt.attr("data-mce-fragment","1")})(ce);let Me=ce.lastChild;if(Me&&"mce_marker"===Me.attr("id")){const Xe=Me;for(Me=Me.prev;Me;Me=Me.walk(!0))if(3===Me.type||!k.isBlock(Me.name)){Me.parent&&s.schema.isValidChild(Me.parent.name,"span")&&Me.parent.insert(Xe,Me,"br"===Me.name);break}}if(s._selectionOverrides.showBlockCaretContainer(se),xe.invalid||((Xe,pt,ut)=>{var Rt;return xn(ut.children(),Cx)&&"SUMMARY"===(null===(Rt=Xe.getParent(pt,Xe.isBlock))||void 0===Rt?void 0:Rt.nodeName)})(k,se,ce)){s.selection.setContent(X);let Xe,pt=_.getNode();const ut=s.getBody();for(Mh(pt)?pt=Xe=ut:Xe=pt;Xe&&Xe!==ut;)pt=Xe,Xe=Xe.parentNode;c=pt===ut?ut.innerHTML:k.getOuterHTML(pt);const Rt=D.parse(c),Jt=(en=>{for(let un=en;un;un=un.walk())if("mce_marker"===un.attr("id"))return ue.some(un);return ue.none()})(Rt),rn=Jt.bind(lh).getOr(Rt);Jt.each(en=>en.replace(ce));const sn=ce.children(),fn=null!==(b=ce.parent)&&void 0!==b?b:Rt;ce.unwrap();const Wt=En(sn,en=>My(s.schema,en,fn));Mx(Wt,s.schema,rn),Vf(D.getNodeFilters(),D.getAttributeFilters(),Rt),c=H.serialize(Rt),pt===ut?k.setHTML(ut,c):k.setOuterHTML(pt,c)}else c=H.serialize(ce),((Xe,pt,ut)=>{var Rt;if("all"===ut.getAttribute("data-mce-bogus"))null===(Rt=ut.parentNode)||void 0===Rt||Rt.insertBefore(Xe.dom.createFragment(pt),ut);else{const Jt=ut.firstChild;!Jt||Jt===ut.lastChild&&"BR"===Jt.nodeName?Xe.dom.setHTML(ut,pt):Xe.selection.setContent(pt,{no_events:!0})}})(s,c,se);var He;return((Xe,pt)=>{const ut=Xe.schema.getTextInlineElements(),Rt=Xe.dom;if(pt){const Jt=Xe.getBody(),rn=zd(Xe);Dn.each(Rt.select("*[data-mce-fragment]"),sn=>{if(Ke(ut[sn.nodeName.toLowerCase()])&&ai(sx(Rt,sn),en=>!kS.has(en)))for(let fn=sn.parentElement;Ke(fn)&&fn!==Jt&&!xp(Rt,sn,fn);fn=fn.parentElement)if(rn.compare(fn,sn)){Rt.remove(sn,!0);break}})}})(s,z),((Xe,pt)=>{var ut,Rt,Jt;let rn;const sn=Xe.dom,fn=Xe.selection;if(!pt)return;fn.scrollIntoView(pt);const Wt=ds(Xe.getBody(),pt);if(Wt&&"false"===sn.getContentEditable(Wt))return sn.remove(pt),void fn.select(Wt);let en=sn.createRng();const un=pt.previousSibling;if(Rn(un)){en.setStart(un,null!==(Rt=null===(ut=un.nodeValue)||void 0===ut?void 0:ut.length)&&void 0!==Rt?Rt:0);const li=pt.nextSibling;Rn(li)&&(un.appendData(li.data),null===(Jt=li.parentNode)||void 0===Jt||Jt.removeChild(li))}else en.setStartBefore(pt),en.setEndBefore(pt);const An=sn.getParent(pt,sn.isBlock);if(sn.remove(pt),An&&sn.isEmpty(An)){const li=Ex(An);$c(Yt(An)),en.setStart(An,0),en.setEnd(An,0),li||An.getAttribute("data-mce-fragment")||!(rn=($n=>{let zi=wn.fromRangeStart($n);return zi=eh(Xe.getBody()).next(zi),zi?.toRange()})(en))?sn.add(An,sn.create("br",li?{}:{"data-mce-bogus":"1"})):(en=rn,sn.remove(An))}fn.setRng(en)})(s,k.get("mce_marker")),He=s.getBody(),Dn.each(He.getElementsByTagName("*"),Xe=>{Xe.removeAttribute("data-mce-fragment")}),((Xe,pt,ut)=>{ue.from(Xe.getParent(pt,"td,th")).map(Yt).each(Rt=>{return rn=ut,void Gc(Jt=Rt).each(sn=>{Ml(sn).each(fn=>{rn.isBlock(Cr(Jt))&&ll(sn)&&rn.isBlock(Cr(fn))&&yo(sn)})});var Jt,rn})})(k,_.getStart(),s.schema),((Xe,pt,ut)=>{const Rt=sd(Yt(ut),Jt=>Br(Jt,Yt(pt)));Fr(Rt,Rt.length-2).filter(ys).fold(()=>Pr(Xe,pt),Jt=>Pr(Xe,Jt.dom))})(s.schema,s.getBody(),_.getStart()),c},Ty=s=>s instanceof Ys,Tp=(s,c,p)=>{var m;s.dom.setHTML(s.getBody(),c),!0!==p&&Pf(m=s)&&Ja(m.getBody()).each(b=>{const _=b.getNode(),k=sa(_)?Ja(_).getOr(b):b;m.selection.setRng(k.toRange())})},Ix=s=>yt(s)?s:Vt,xm=(s,c,p)=>{const m=c(s),b=Ix(p);return m.orThunk(()=>b(s)?ue.none():((_,k,D)=>{let z=_.dom;const H=Ix(D);for(;z.parentNode;){z=z.parentNode;const X=Yt(z),$=k(X);if($.isSome())return $;if(H(X))break}return ue.none()})(s,c,b))},Yh=Bb,Ox=(s,c,p)=>{const m=s.formatter.get(p);if(m)for(let b=0;b<m.length;b++){const _=m[b];if(Ts(_)&&!1===_.inherit&&s.dom.is(c,_.selector))return!0}return!1},Ey=(s,c,p,m,b)=>{const _=s.dom.getRoot();if(c===_)return!1;const k=s.dom.getParent(c,D=>!!Ox(s,D,p)||D.parentNode===_||!!cc(s,D,p,m,!0));return!!cc(s,k,p,m,b)},_m=(s,c,p)=>!(!io(p)||!Yh(c,p.inline))||!(!pu(p)||!Yh(c,p.block))||!!Ts(p)&&pi(c)&&s.is(c,p.selector),wm=(s,c,p,m,b,_)=>{const k=p[m],D="attributes"===m;if(yt(p.onmatch))return p.onmatch(c,p,m);if(k)if(ei(k)){for(let z=0;z<k.length;z++)if(D?s.getAttrib(c,k[z]):Af(s,c,k[z]))return!0}else for(const z in k)if(Gt(k,z)){const H=D?s.getAttrib(c,z):Af(s,c,z),X=Fh(k[z],_),$=je(H)||d(H);if($&&je(X))continue;if(b&&$&&!p.exact||(!b||p.exact)&&!Yh(H,Od(X,z)))return!1}return!0},cc=(s,c,p,m,b)=>{const _=s.formatter.get(p),k=s.dom;if(_&&pi(c))for(let D=0;D<_.length;D++){const z=_[D];if(_m(s.dom,c,z)&&wm(k,c,z,"attributes",b,m)&&wm(k,c,z,"styles",b,m)){const H=z.classes;if(H)for(let X=0;X<H.length;X++)if(!s.dom.hasClass(c,Fh(H[X],m)))return;return z}}},Dx=(s,c,p,m,b)=>{if(m)return Ey(s,m,c,p,b);if(m=s.selection.getNode(),Ey(s,m,c,p,b))return!0;const _=s.selection.getStart();return!(_===m||!Ey(s,_,c,p,b))},Sm=ma,Lx=s=>{if(s){const c=new Jo(s,s);for(let p=c.current();p;p=c.next())if(Rn(p))return p}return null},Px=s=>{const c=ra("span");return bs(c,{id:Mb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),s&&qo(c,Ko(Sm)),c},Cm=(s,c,p)=>{const m=s.dom,b=s.selection;if(im(c))Sp(s,!1,Yt(c),p,!0);else{const _=b.getRng(),k=m.getParent(c,m.isBlock),D=_.startContainer,z=_.startOffset,H=_.endContainer,X=_.endOffset,$=(re=>{const he=Lx(re);return he&&he.data.charAt(0)===Sm&&he.deleteData(0,1),he})(c);m.remove(c,!0),D===$&&z>0&&_.setStart($,z-1),H===$&&X>0&&_.setEnd($,X-1),k&&m.isEmpty(k)&&bo(Yt(k)),b.setRng(_)}},Nx=(s,c,p)=>{const m=s.dom,b=s.selection;if(c)Cm(s,c,p);else if(!(c=Md(s.getBody(),b.getStart())))for(;c=m.get(Mb);)Cm(s,c,p)},XS=(s,c)=>(s.appendChild(c),c),Lc=(s,c)=>{var p;const m=hi(s,(_,k)=>XS(_,k.cloneNode(!1)),c),b=null!==(p=m.ownerDocument)&&void 0!==p?p:document;return XS(m,b.createTextNode(Sm))},qS=s=>{const c=Px(!1),p=Lc(s,c.dom);return{caretContainer:c,caretPosition:wn(p,0)}},US=(s,c)=>{const{caretContainer:p,caretPosition:m}=qS(c);return Ga(Yt(s),p),yo(Yt(s)),m},Iy=(s,c)=>{if(Vl(c.dom))return!1;const p=s.schema.getTextInlineElements();return Gt(p,Cr(c))&&!Vl(c.dom)&&!Bu(c.dom)},Hf={},d2=Bs(["pre"]);((s,c)=>{Hf[s]||(Hf[s]=[]),Hf[s].push(p=>{if(!p.selection.getRng().collapsed){const m=p.selection.getSelectedBlocks(),b=En(En(m,d2),(_=m,k=>{const D=k.previousSibling;return d2(D)&&Et(_,D)}));Ht(b,_=>{((k,D)=>{const z=Yt(D),H=_s(z).dom;yo(z),Ol(Yt(k),[ra("br",H),ra("br",H),...Po(z)])})(_.previousSibling,_)})}var _})})("pre");const sD=["fontWeight","fontStyle","color","fontSize","fontFamily"],Oy=(s,c)=>{const p=s.get(c);return Ce(p)?_n(p,m=>{return io(m)&&"span"===m.inline&&Ne((b=m).styles)&&xn(Do(b.styles),_=>Et(sD,_));var b}):ue.none()},km=(s,c)=>Ws(c,wn.fromRangeStart(s)).isNone(),Rx=(s,c)=>!1===Hs(c,wn.fromRangeEnd(s)).exists(p=>!Co(p.getNode())||Hs(c,p).isSome()),Bx=s=>c=>Ql(c)&&s.isEditable(c),Dy=s=>En(s.getSelectedBlocks(),Bx(s.dom)),zx=Dn.each,Ly=s=>pi(s)&&!js(s)&&!Vl(s)&&!Bu(s),Ep=(s,c)=>{for(let p=s;p;p=p[c]){if(Rn(p)&&h(p.data))return s;if(pi(p)&&!js(p))return p}return s},Py=(s,c,p)=>{const m=zd(s),b=Xa(c)&&s.dom.isEditable(c),_=Xa(p)&&s.dom.isEditable(p);if(b&&_){const k=Ep(c,"previousSibling"),D=Ep(p,"nextSibling");if(m.compare(k,D)){for(let z=k.nextSibling;z&&z!==D;){const H=z;z=z.nextSibling,k.appendChild(H)}return s.dom.remove(D),Dn.each(Dn.grep(D.childNodes),z=>{k.appendChild(z)}),k}}return p},p2=(s,c,p,m)=>{var b;if(m&&!1!==c.merge_siblings){const _=null!==(b=Py(s,Pb(m),m))&&void 0!==b?b:m;Py(s,_,Pb(_,!0))}},$S=(s,c,p)=>{zx(s.childNodes,m=>{Ly(m)&&(c(m)&&p(m),m.hasChildNodes()&&$S(m,c,p))})},Fx=(s,c)=>p=>!(!p||!Af(s,p,c)),ZS=(s,c,p)=>m=>{var b,_;s.setStyle(m,c,p),""===m.getAttribute("style")&&m.removeAttribute("style"),b=s,"SPAN"===(_=m).nodeName&&0===b.getAttribs(_).length&&b.remove(_,!0)},Wf=Ac([{keep:[]},{rename:["name"]},{removed:[]}]),KS=/^(src|href|style)$/,Ny=Dn.each,Am=Bb,Vx=(s,c,p)=>s.isChildOf(c,p)&&c!==p&&!s.isBlock(p),QS=(s,c,p)=>{let m=c[p?"startContainer":"endContainer"],b=c[p?"startOffset":"endOffset"];if(pi(m)){const _=m.childNodes.length-1;!p&&b&&b--,m=m.childNodes[b>_?_:b]}return Rn(m)&&p&&b>=m.data.length&&(m=new Jo(m,s.getBody()).next()||m),Rn(m)&&!p&&0===b&&(m=new Jo(m,s.getBody()).prev()||m),m},JS=(s,c)=>{const p=c?"firstChild":"lastChild",m=s[p];return/^(TR|TH|TD)$/.test(s.nodeName)&&m?"TR"===s.nodeName&&m[p]||m:s},Mm=(s,c,p,m)=>{var b;const _=s.create(p,m);return null===(b=c.parentNode)||void 0===b||b.insertBefore(_,c),_.appendChild(c),_},mu=(s,c,p,m,b)=>{const _=Yt(c),k=Yt(s.create(m,b)),D=p?Qd(_):$l(_);return Ol(k,D),p?(Ga(_,k),np(k,_)):(Ns(_,k),qo(k,_)),k.dom},eC=(s,c,p)=>{const m=c.parentNode;let b;const _=s.dom,k=Ms(s);var D;pu(p)&&m===_.getRoot()&&(p.list_block&&Am(c,p.list_block)||Ht(Zo(c.childNodes),D=>{yp(s,k,D.nodeName.toLowerCase())?b?b.appendChild(D):(b=Mm(_,D,k),_.setAttribs(b,yf(s))):b=null})),Ts(D=p)&&io(D)&&uo(Ft(D,"mixed"),!0)&&!Am(p.inline,c)||_.remove(c,!0)},tC=(s,c,p)=>Ot(s)?{name:c,value:null}:{name:s,value:Fh(c,p)},Fd=(s,c)=>{""===s.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style"))},nC=(s,c,p,m,b)=>{let _=!1;Ny(p.styles,(k,D)=>{const{name:z,value:H}=tC(D,k,m),X=Od(H,z);(p.remove_similar||de(H)||!pi(b)||Am(Af(s,b,z),X))&&s.setStyle(c,z,""),_=!0}),_&&Fd(s,c)},Hx=(s,c,p,m,b)=>{const _=s.dom,k=zd(s),D=s.schema;if(io(c)&&Xr(D,c.inline)&&Nr(D,m)&&m.parentElement===s.getBody())return eC(s,m,c),Wf.removed();if(!c.ceFalseOverride&&m&&"false"===_.getContentEditableParent(m)||m&&!_m(_,m,c)&&(!c.links||"A"!==m.nodeName))return Wf.keep();const z=m,H=c.preserve_attributes;if(io(c)&&"all"===c.remove&&Ce(H)){const X=En(_.getAttribs(z),$=>Et(H,$.name.toLowerCase()));if(_.removeAllAttribs(z),Ht(X,$=>_.setAttrib(z,$.name,$.value)),X.length>0)return Wf.rename("span")}if("all"!==c.remove){nC(_,z,c,p,b),Ny(c.attributes,($,re)=>{const{name:he,value:se}=tC(re,$,p);if(c.remove_similar||de(se)||!pi(b)||Am(_.getAttrib(b,he),se)){if("class"===he){const xe=_.getAttrib(z,he);if(xe){let ce="";if(Ht(xe.split(/\s+/),Me=>{/mce\-\w+/.test(Me)&&(ce+=(ce?" ":"")+Me)}),ce)return void _.setAttrib(z,he,ce)}}if(KS.test(he)&&z.removeAttribute("data-mce-"+he),"style"===he&&Bs(["li"])(z)&&"none"===_.getStyle(z,"list-style-type"))return z.removeAttribute(he),void _.setStyle(z,"list-style-type","none");"class"===he&&z.removeAttribute("className"),z.removeAttribute(he)}}),Ny(c.classes,$=>{$=Fh($,p),pi(b)&&!_.hasClass(b,$)||_.removeClass(z,$)});const X=_.getAttribs(z);for(let $=0;$<X.length;$++)if(!k.isAttributeInternal(X[$].nodeName))return Wf.keep()}return"none"!==c.remove?(eC(s,z,c),Wf.removed()):Wf.keep()},iC=(s,c,p,m)=>Hx(s,c,p,m,m).fold(rt(m),b=>(s.dom.createFragment().appendChild(m),s.dom.rename(m,b)),rt(null)),rC=(s,c,p,m,b)=>{(m||s.selection.isEditable())&&((_,k,D,z,H)=>{const X=_.formatter.get(k),$=X[0],re=_.dom,he=_.selection,se=Xe=>{const pt=((ut,Rt,Jt,rn,sn)=>{let fn;return Rt.parentNode&&Ht(cy(ut.dom,Rt.parentNode).reverse(),Wt=>{if(!fn&&pi(Wt)&&"_start"!==Wt.id&&"_end"!==Wt.id){const en=cc(ut,Wt,Jt,rn,sn);en&&!1!==en.split&&(fn=Wt)}}),fn})(_,Xe,k,D,H);return((ut,Rt,Jt,rn,sn,fn,Wt,en)=>{var un,An;let li,$n;const zi=ut.dom;if(Jt){const Ii=Jt.parentNode;for(let Ji=rn.parentNode;Ji&&Ji!==Ii;Ji=Ji.parentNode){let Hi=zi.clone(Ji,!1);for(let mi=0;mi<Rt.length&&(Hi=iC(ut,Rt[mi],en,Hi),null!==Hi);mi++);Hi&&(li&&Hi.appendChild(li),$n||($n=Hi),li=Hi)}Wt.mixed&&zi.isBlock(Jt)||(rn=null!==(un=zi.split(Jt,rn))&&void 0!==un?un:rn),li&&$n&&(null===(An=sn.parentNode)||void 0===An||An.insertBefore(li,sn),$n.appendChild(sn),io(Wt)&&p2(ut,Wt,0,li))}return rn})(_,X,pt,Xe,Xe,0,$,D)},xe=Xe=>xn(X,pt=>Tm(_,pt,D,Xe,Xe)),ce=Xe=>{const pt=Zo(Xe.childNodes),ut=xe(Xe)||xn(X,Jt=>_m(re,Xe,Jt)),Rt=Xe.parentNode;if(!ut&&Ke(Rt)&&nm($)&&xe(Rt),$.deep&&pt.length)for(let Jt=0;Jt<pt.length;Jt++)ce(pt[Jt]);Ht(["underline","line-through","overline"],Jt=>{pi(Xe)&&_.dom.getStyle(Xe,"text-decoration")===Jt&&Xe.parentNode&&ly(re,Xe.parentNode)===Jt&&Tm(_,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Jt}},void 0,Xe)})},Me=Xe=>{const pt=re.get(Xe?"_start":"_end");if(pt){let ut=pt[Xe?"firstChild":"lastChild"];return js(Rt=ut)&&pi(Rt)&&("_start"===Rt.id||"_end"===Rt.id)&&(ut=ut[Xe?"firstChild":"lastChild"]),Rn(ut)&&0===ut.data.length&&(ut=Xe?pt.previousSibling||pt.nextSibling:pt.nextSibling||pt.previousSibling),re.remove(pt,!0),ut}var Rt;return null},He=Xe=>{let pt,ut,Rt=vl(re,Xe,X,Xe.collapsed);if($.split){if(Rt=cm(Rt),pt=QS(_,Rt,!0),ut=QS(_,Rt),pt!==ut){if(pt=JS(pt,!0),ut=JS(ut,!1),Vx(re,pt,ut)){const rn=ue.from(pt.firstChild).getOr(pt);return se(mu(re,rn,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void Me(!0)}if(Vx(re,ut,pt)){const rn=ue.from(ut.lastChild).getOr(ut);return se(mu(re,rn,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void Me(!1)}pt=Mm(re,pt,"span",{id:"_start","data-mce-type":"bookmark"}),ut=Mm(re,ut,"span",{id:"_end","data-mce-type":"bookmark"});const Jt=re.createRng();Jt.setStartAfter(pt),Jt.setEndBefore(ut),Hh(re,Jt,rn=>{Ht(rn,sn=>{js(sn)||js(sn.parentNode)||se(sn)})}),se(pt),se(ut),pt=Me(!0),ut=Me()}else pt=ut=se(pt);Rt.startContainer=pt.parentNode?pt.parentNode:pt,Rt.startOffset=re.nodeIndex(pt),Rt.endContainer=ut.parentNode?ut.parentNode:ut,Rt.endOffset=re.nodeIndex(ut)+1}Hh(re,Rt,Jt=>{Ht(Jt,ce)})};if(z){if(tm(z)){const Xe=re.createRng();Xe.setStartBefore(z),Xe.setEndAfter(z),He(Xe)}else He(z);Vb(_,k,z,D)}else he.isCollapsed()&&io($)&&!Td(_).length?((s,c,p,m)=>{const b=s.dom,_=s.selection;let k=!1;const D=s.formatter.get(c);if(!D)return;const z=_.getRng(),H=z.startContainer,X=z.startOffset;let $=H;Rn(H)&&(X!==H.data.length&&(k=!0),$=$.parentNode);const re=[];let he;for(;$;){if(cc(s,$,c,p,m)){he=$;break}$.nextSibling&&(k=!0),re.push($),$=$.parentNode}if(he)if(k){const se=_.getBookmark();z.collapse(!0);let xe=vl(b,z,D,!0);xe=cm(xe),s.formatter.remove(c,p,xe,m),_.moveToBookmark(se)}else{const se=Md(s.getBody(),he),xe=Ke(se)?b.getParents(he.parentNode,pe,se):[],ce=Px(!1).dom;((Xe,pt,ut)=>{var Rt,Jt;const rn=Xe.dom,sn=rn.getParent(ut,It(Id,Xe.schema));sn&&rn.isEmpty(sn)?null===(Rt=ut.parentNode)||void 0===Rt||Rt.replaceChild(pt,ut):((fn=>{const Wt=ga(fn,"br"),en=En((un=>{const An=[];let li=un.dom;for(;li;)An.push(Yt(li)),li=li.lastChild;return An})(fn).slice(-1),ll);Wt.length===en.length&&Ht(en,yo)})(Yt(ut)),rn.isEmpty(ut)?null===(Jt=ut.parentNode)||void 0===Jt||Jt.replaceChild(pt,ut):rn.insertAfter(pt,ut))})(s,ce,se??he);const Me=((Xe,pt,ut,Rt,Jt,rn)=>{const sn=Xe.formatter,fn=Xe.dom,Wt=En(Do(sn.get()),un=>un!==Rt&&!Sr(un,"removeformat")),en=(un=Xe,An=ut,pr(Wt,($n,zi)=>{const Ii=Dd(un,zi,mi=>{const Ai=cr=>yt(cr)||cr.length>1&&"%"===cr.charAt(0);return xn(["styles","attributes"],cr=>Ft(mi,cr).exists(Qt=>{const tn=Ce(Qt)?Qt:At(Qt);return xn(tn,Ai)}))});return un.formatter.matchNode(An,zi,{},Ii)?$n.concat([zi]):$n},[]));var un,An;if(En(en,un=>!((An,li,$n)=>{const zi=["inline","block","selector","attributes","styles","classes"],Ii=Ji=>Pt(Ji,(Hi,mi)=>xn(zi,Ai=>Ai===mi));return Dd(An,li,Ji=>{const Hi=Ii(Ji);return Dd(An,$n,mi=>{const Ai=Ii(mi);return((cr,Qt,tn=nt)=>Nt(tn).eq(cr,Qt))(Hi,Ai)})})})(Xe,un,Rt)).length>0){const un=ut.cloneNode(!1);return fn.add(pt,un),sn.remove(Rt,Jt,un,rn),fn.remove(un),ue.some(un)}return ue.none()})(s,ce,he,c,p,m),He=Lc([...re,...Me.toArray(),...xe],ce);se&&Cm(s,se,Ke(se)),_.setCursorLocation(He,1),b.isEmpty(he)&&b.remove(he)}})(_,k,D,H):(Ww(_,()=>Db(_,He),Xe=>io($)&&Dx(_,k,D,Xe)),_.nodeChanged()),Xe=_,ut=D,"removeformat"===(pt=k)?Ht(Dy(Xe.selection),Rt=>{Ht(sD,Jt=>Xe.dom.setStyle(Rt,Jt,"")),Fd(Xe.dom,Rt)}):Oy(Xe.formatter,pt).each(Rt=>{Ht(Dy(Xe.selection),Jt=>nC(Xe.dom,Jt,Rt,ut,null))}),Vb(_,k,z,D);var Xe,pt,ut})(s,c,p,m,b)},Tm=(s,c,p,m,b)=>Hx(s,c,p,m,b).fold(Vt,_=>(s.dom.rename(m,_),!0),pe),oC=Dn.each,Wx=Dn.each,zr=(s,c,p,m)=>{if(Wx(p.styles,(b,_)=>{s.setStyle(c,_,Fh(b,m))}),p.styles){const b=s.getAttrib(c,"style");b&&s.setAttrib(c,"data-mce-style",b)}},Ry=(s,c,p,m)=>{const b=s.formatter.get(c),_=b[0],k=!m&&s.selection.isCollapsed(),D=s.dom,z=s.selection,H=(se,xe=_)=>{yt(xe.onformat)&&xe.onformat(se,xe,p,m),zr(D,se,xe,p),Wx(xe.attributes,(ce,Me)=>{D.setAttrib(se,Me,Fh(ce,p))}),Wx(xe.classes,ce=>{const Me=Fh(ce,p);D.hasClass(se,Me)||D.addClass(se,Me)})},X=(se,xe)=>{let ce=!1;return Wx(se,Me=>!(!Ts(Me)||("false"!==D.getContentEditable(xe)||Me.ceFalseOverride)&&(!Ke(Me.collapsed)||Me.collapsed===k)&&D.is(xe,Me.selector)&&!Vl(xe)&&(H(xe,Me),ce=!0,1))),ce},re=(se,xe,ce)=>{const Me=[];let He=!0;const Xe=_.inline||_.block,pt=(se=>{if(ve(se)){const xe=D.create(se);return H(xe),xe}return null})(Xe);Hh(se,xe,ut=>{let Rt;const Jt=rn=>{let sn=!1,fn=He,Wt=!1;const en=rn.parentNode,un=en.nodeName.toLowerCase(),An=se.getContentEditable(rn);Ke(An)&&(fn=He,He="true"===An,sn=!0,Wt=Rb(s,rn));const li=He&&!sn;if(Co(rn)&&!(($n,zi,Ii,Ji)=>{if(Yv($n)&&io(zi)&&Ii.parentNode){const Hi=cp($n.schema),mi=((s,c)=>((p,m)=>{const b=p.dom;return b.parentNode?(_=Yt(b.parentNode),_n(_.dom.childNodes,D=>(_=>!Br(p,_)&&m(_))(Yt(D))).map(Yt)):ue.none();var _})(s,c).isSome())(Yt(Ii),Ai=>Vl(Ai.dom));return zn(Hi,Ji)&&dn(Yt(Ii.parentNode),!1)&&!mi}return!1})(s,_,rn,un))return Rt=null,void(pu(_)&&se.remove(rn));if($n=rn,pu(zi=_)&&!0===zi.wrapper&&cc(s,$n,c,p))Rt=null;else{if((($n,zi,Ii)=>{const Ji=pu(Hi=_)&&!0!==Hi.wrapper&&Id(s.schema,$n)&&yp(s,zi,Xe);var Hi;return Ii&&Ji})(rn,un,li)){const $n=se.rename(rn,Xe);return H($n),Me.push($n),void(Rt=null)}if(Ts(_)){let $n=X(b,rn);if(!$n&&Ke(en)&&nm(_)&&($n=X(b,en)),!io(_)||$n)return void(Rt=null)}Ke(pt)&&(($n,zi,Ii,Ji)=>{const Hi=$n.nodeName.toLowerCase(),mi=yp(s,Xe,Hi)&&yp(s,zi,Xe),Ai=!ce&&Rn($n)&&Zs($n.data),cr=Vl($n),Qt=!io(_)||!se.isBlock($n);return(Ii||Ji)&&mi&&!Ai&&!cr&&Qt})(rn,un,li,Wt)?(Rt||(Rt=se.clone(pt,!1),en.insertBefore(Rt,rn),Me.push(Rt)),Wt&&sn&&(He=fn),Rt.appendChild(rn)):(Rt=null,Ht(Zo(rn.childNodes),Jt),sn&&(He=fn),Rt=null)}var $n,zi};Ht(ut,Jt)}),!0===_.links&&Ht(Me,ut=>{const Rt=Jt=>{"A"===Jt.nodeName&&H(Jt,_),Ht(Zo(Jt.childNodes),Rt)};Rt(ut)}),Ht(Me,ut=>{const Rt=(Jt=>{let rn=0;return Ht(Jt.childNodes,sn=>{var fn;Ke(fn=sn)&&Rn(fn)&&0===fn.length||js(sn)||rn++}),rn})(ut);var Jt;!(Me.length>1)&&se.isBlock(ut)||0!==Rt?(io(_)||pu(_)&&_.wrapper)&&(_.exact||1!==Rt||(ut=_n((Jt=ut).childNodes,Lb).filter(sn=>"false"!==se.getContentEditable(sn)&&_m(se,sn,_)).map(sn=>{const fn=se.clone(sn,!1);return H(fn),se.replace(fn,Jt,!0),se.remove(sn,!0),fn}).getOr(Jt)),((Jt,rn,sn,fn)=>{oC(rn,Wt=>{var en,un,An;io(Wt)&&oC(Jt.dom.select(Wt.inline,fn),en=>{Ly(en)&&Tm(Jt,Wt,sn,en,Wt.exact?en:null)}),en=Jt.dom,An=fn,(un=Wt).clear_child_styles&&zx(en.select(un.links?"*:not(a)":"*",An),$n=>{Ly($n)&&en.isEditable($n)&&zx(un.styles,(zi,Ii)=>{en.setStyle($n,Ii,"")})})})})(s,b,p,ut),((Jt,rn,sn,fn,Wt)=>{const en=Wt.parentNode;cc(Jt,en,sn,fn)&&Tm(Jt,rn,fn,Wt)||rn.merge_with_parents&&en&&Jt.dom.getParent(en,un=>!!cc(Jt,un,sn,fn)&&(Tm(Jt,rn,fn,Wt),!0))})(s,_,c,p,ut),((Jt,rn,sn,fn)=>{if(rn.styles&&rn.styles.backgroundColor){const Wt=Fx(Jt,"fontSize");$S(fn,en=>Wt(en)&&Jt.isEditable(en),ZS(Jt,"backgroundColor",Fh(rn.styles.backgroundColor,sn)))}})(se,_,p,ut),((Jt,rn,sn,fn)=>{const Wt=en=>{if(Xa(en)&&pi(en.parentNode)&&Jt.isEditable(en)){const un=ly(Jt,en.parentNode);Jt.getStyle(en,"color")&&un?Jt.setStyle(en,"text-decoration",un):Jt.getStyle(en,"text-decoration")===un&&Jt.setStyle(en,"text-decoration",null)}};rn.styles&&(rn.styles.color||rn.styles.textDecoration)&&(Dn.walk(fn,Wt,"childNodes"),Wt(fn))})(se,_,0,ut),((Jt,rn,sn,fn)=>{if(io(rn)&&("sub"===rn.inline||"sup"===rn.inline)){const Wt=Fx(Jt,"fontSize");$S(fn,un=>Wt(un)&&Jt.isEditable(un),ZS(Jt,"fontSize",""));const en=En(Jt.select("sup"===rn.inline?"sub":"sup",fn),Jt.isEditable);Jt.remove(en,!0)}})(se,_,0,ut),p2(s,_,0,ut)):se.remove(ut,!0)})},he=tm(m)?m:z.getNode();if("false"===D.getContentEditable(he)&&!Rb(s,he))return X(b,m=he),void Zw(s,c,m,p);if(_){if(m)if(tm(m)){if(!X(b,m)){const se=D.createRng();se.setStartBefore(m),se.setEndAfter(m),re(D,vl(D,se,b),!0)}}else re(D,m,!0);else k&&io(_)&&!Td(s).length?((se,xe,ce)=>{let Me;const He=se.selection,Xe=se.formatter.get(xe);if(!Xe)return;const pt=He.getRng();let ut=pt.startOffset;const Rt=pt.startContainer.nodeValue;Me=Md(se.getBody(),He.getStart());const Jt=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Rt&&ut>0&&ut<Rt.length&&Jt.test(Rt.charAt(ut))&&Jt.test(Rt.charAt(ut-1))){const fn=He.getBookmark();pt.collapse(!0);let Wt=vl(se.dom,pt,Xe);Wt=cm(Wt),se.formatter.apply(xe,ce,Wt),He.moveToBookmark(fn)}else{let fn=Me?Lx(Me):null;Me&&fn?.data===Sm||(rn=se.getDoc(),sn=Px(!0).dom,Me=rn.importNode(sn,!0),fn=Me.firstChild,pt.insertNode(Me),ut=1),se.formatter.apply(xe,ce,Me),He.setCursorLocation(fn,ut)}var rn,sn})(s,c,p):(z.setRng(bm(z.getRng())),Ww(s,()=>{Db(s,(se,xe)=>{const ce=xe?se:vl(D,se,b);re(D,ce,!1)})},pe),s.nodeChanged()),Oy(s.formatter,c).each(se=>{var xe;Ht(En((ce=>{const Me=ce.getSelectedBlocks(),He=ce.getRng();if(ce.isCollapsed())return[];if(1===Me.length)return km(He,Me[0])&&Rx(He,Me[0])?Me:[];{const Xe=ir(Me).filter(Rt=>km(He,Rt)).toArray(),pt=Jr(Me).filter(Rt=>Rx(He,Rt)).toArray(),ut=Me.slice(1,-1);return Xe.concat(ut).concat(pt)}})(xe=s.selection),Bx(xe.dom)),xe=>zr(D,xe,se,p))});xe=s,Gt(Hf,se=c)&&Ht(Hf[se],ce=>{ce(xe)})}var se,xe;Zw(s,c,m,p)},aC=(s,c,p,m)=>{(m||s.selection.isEditable())&&Ry(s,c,p,m)},Gh=s=>Gt(s,"vars"),f2=s=>s.selection.getStart(),jx=(s,c,p,m,b)=>jr(c,_=>{const k=s.formatter.matchNode(_,p,b??{},m);return!Ae(k)},_=>!!Ox(s,_,p)||!m&&Ke(s.formatter.matchNode(_,p,b,!0))),By=(s,c)=>{const p=c??f2(s);return En(cy(s.dom,p),m=>pi(m)&&!Bu(m))},zy=(s,c,p)=>{const m=By(s,c);Ye(p,(b,_)=>{const k=D=>{const z=jx(s,m,_,D.similar,Gh(D)?D.vars:void 0),H=z.isSome();if(D.state.get()!==H){D.state.set(H);const X=z.getOr(c);Gh(D)?D.callback(H,{node:X,format:_,parents:m}):Ht(D.callbacks,$=>$(H,{node:X,format:_,parents:m}))}};Ht([b.withSimilar,b.withoutSimilar],k),Ht(b.withVars,k)})},g2=Dn.explode,m2=()=>{const s={};return{addFilter:(c,p)=>{Ht(g2(c),m=>{Gt(s,m)||(s[m]={name:m,callbacks:[]}),s[m].callbacks.push(p)})},getFilters:()=>At(s),removeFilter:(c,p)=>{Ht(g2(c),m=>{if(Gt(s,m))if(Ke(p)){const b=s[m],_=En(b.callbacks,k=>k!==p);_.length>0?b.callbacks=_:delete s[m]}else delete s[m]})}}},sC=(s,c,p)=>{c.addNodeFilter("br",(m,b,_)=>{const k=Dn.extend({},p.getBlockElements()),D=p.getNonEmptyElements(),z=p.getWhitespaceElements();k.body=1;const H=X=>X.name in k||no(p,X);for(let X=0,$=m.length;X<$;X++){let re=m[X],he=re.parent;if(he&&H(he)&&re===he.lastChild){let se=re.prev;for(;se;){const xe=se.name;if("span"!==xe||"bookmark"!==se.attr("data-mce-type")){"br"===xe&&(re=null);break}se=se.prev}if(re&&(re.remove(),ym(p,D,z,he))){const xe=p.getElementRule(he.name);xe&&(xe.removeEmpty?he.remove():xe.paddEmpty&&kx(s,_,H,he))}}else{let se=re;for(;he&&he.firstChild===se&&he.lastChild===se&&(se=he,!k[he.name]);)he=he.parent;if(se===he){const xe=new Ys("#text",3);xe.value=go,re.replace(xe)}}}})},Yx=s=>{const[c,...p]=s.split(","),m=p.join(","),b=/data:([^/]+\/[^;]+)(;.+)?/.exec(c);if(b){const _=";base64"===b[2],k=_?(D=>{const z=/([a-z0-9+\/=\s]+)/i.exec(D);return z?z[1]:""})(m):decodeURIComponent(m);return ue.some({type:b[1],data:k,base64Encoded:_})}return ue.none()},lC=(s,c,p=!0)=>{let m=c;if(p)try{m=atob(c)}catch{return ue.none()}const b=new Uint8Array(m.length);for(let _=0;_<b.length;_++)b[_]=m.charCodeAt(_);return ue.some(new Blob([b],{type:s}))},cC=s=>new Promise((c,p)=>{const m=new FileReader;m.onloadend=()=>{c(m.result)},m.onerror=()=>{var b;p(null===(b=m.error)||void 0===b?void 0:b.message)},m.readAsDataURL(s)});let y2=0;const Fy=(s,c,p)=>Yx(s).bind(({data:m,type:b,base64Encoded:_})=>{if(c&&!_)return ue.none();{const k=_?m:btoa(m);return p(k,b)}}),Em=(s,c,p)=>{const m=s.create("blobid"+y2++,c,p);return s.add(m),m},Im=(s,c,p=!1)=>Fy(c,p,(m,b)=>ue.from(s.getByData(m,b)).orThunk(()=>lC(b,m).map(_=>Em(s,_,m)))),Vy=(s,c)=>Fn(s,`${c}/`),{entries:Xx,setPrototypeOf:Om,isFrozen:Ip,getPrototypeOf:lD,getOwnPropertyDescriptor:cD}=Object;let{freeze:jl,seal:va,create:Dm}=Object,{apply:uC,construct:hC}=typeof Reflect<"u"&&Reflect;uC||(uC=function(s,c,p){return s.apply(c,p)}),jl||(jl=function(s){return s}),va||(va=function(s){return s}),hC||(hC=function(s,c){return new s(...c)});const uD=uc(Array.prototype.forEach),Lm=uc(Array.prototype.pop),Pm=uc(Array.prototype.push),vu=uc(String.prototype.toLowerCase),Hy=uc(String.prototype.toString),Xh=uc(String.prototype.match),ps=uc(String.prototype.replace),hD=uc(String.prototype.indexOf),dC=uc(String.prototype.trim),Pc=uc(RegExp.prototype.test),jf=(b2=TypeError,function(){for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return hC(b2,c)});var b2;function uc(s){return function(c){for(var p=arguments.length,m=new Array(p>1?p-1:0),b=1;b<p;b++)m[b-1]=arguments[b];return uC(s,c,m)}}function so(s,c,p){var m;p=null!==(m=p)&&void 0!==m?m:vu,Om&&Om(s,null);let b=c.length;for(;b--;){let _=c[b];if("string"==typeof _){const k=p(_);k!==_&&(Ip(c)||(c[b]=k),_=k)}s[_]=!0}return s}function Yf(s){const c=Dm(null);for(const[p,m]of Xx(s))c[p]=m;return c}function Gf(s,c){for(;null!==s;){const p=cD(s,c);if(p){if(p.get)return uc(p.get);if("function"==typeof p.value)return uc(p.value)}s=lD(s)}return function(p){return console.warn("fallback value for",p),null}}const Wy=jl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nm=jl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Rm=jl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xf=jl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ch=jl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),x2=jl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_2=jl(["#text"]),uh=jl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),jy=jl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qx=jl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bm=jl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),w2=va(/\{\{[\w\W]*|[\w\W]*\}\}/gm),S2=va(/<%[\w\W]*|[\w\W]*%>/gm),C2=va(/\${[\w\W]*}/gm),k2=va(/^data-[\-\w.\u00B7-\uFFFF]/),A2=va(/^aria-[\-\w]+$/),pC=va(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),M2=va(/^(?:\w+script|data):/i),fC=va(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Yy=va(/^html$/i);var T2=Object.freeze({__proto__:null,MUSTACHE_EXPR:w2,ERB_EXPR:S2,TMPLIT_EXPR:C2,DATA_ATTR:k2,ARIA_ATTR:A2,IS_ALLOWED_URI:pC,IS_SCRIPT_OR_DATA:M2,ATTR_WHITESPACE:fC,DOCTYPE_NAME:Yy});const dD=()=>typeof window>"u"?null:window;var E2=function s(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dD();const p=vn=>s(vn);if(p.version="3.0.5",p.removed=[],!c||!c.document||9!==c.document.nodeType)return p.isSupported=!1,p;const m=c.document,b=m.currentScript;let{document:_}=c;const{DocumentFragment:k,HTMLTemplateElement:D,Node:z,Element:H,NodeFilter:X,NamedNodeMap:$=c.NamedNodeMap||c.MozNamedAttrMap,HTMLFormElement:re,DOMParser:he,trustedTypes:se}=c,xe=H.prototype,ce=Gf(xe,"cloneNode"),Me=Gf(xe,"nextSibling"),He=Gf(xe,"childNodes"),Xe=Gf(xe,"parentNode");if("function"==typeof D){const vn=_.createElement("template");vn.content&&vn.content.ownerDocument&&(_=vn.content.ownerDocument)}let pt,ut="";const{implementation:Rt,createNodeIterator:Jt,createDocumentFragment:rn,getElementsByTagName:sn}=_,{importNode:fn}=m;let Wt={};p.isSupported="function"==typeof Xx&&"function"==typeof Xe&&Rt&&void 0!==Rt.createHTMLDocument;const{MUSTACHE_EXPR:en,ERB_EXPR:un,TMPLIT_EXPR:An,DATA_ATTR:li,ARIA_ATTR:$n,IS_SCRIPT_OR_DATA:zi,ATTR_WHITESPACE:Ii}=T2;let{IS_ALLOWED_URI:Ji}=T2,Hi=null;const mi=so({},[...Wy,...Nm,...Rm,...ch,..._2]);let Ai=null;const cr=so({},[...uh,...jy,...qx,...Bm]);let Qt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tn=null,Tn=null,In=!0,Nn=!0,Ci=!1,Yi=!0,ur=!1,er=!1,ko=!1,Oi=!1,kr=!1,Dr=!1,dr=!1,Lr=!0,La=!1,Fi=!0,Mr=!1,Oo={},Ta=null;const ts=so({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let rl=null;const Fc=so({},["audio","video","img","source","image","track"]);let Is=null;const Vc=so({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ea="http://www.w3.org/1998/Math/MathML",Jh="http://www.w3.org/2000/svg",Gl="http://www.w3.org/1999/xhtml";let Hc=Gl,_g=!1,X0=null;const Zp=so({},[Ea,Jh,Gl],Hy);let fc;const j_=["application/xhtml+xml","text/html"];let Yo,bh=null;const Kp=_.createElement("form"),q0=function(vn){return vn instanceof RegExp||vn instanceof Function},xh=function(vn){if(!bh||bh!==vn){if(vn&&"object"==typeof vn||(vn={}),vn=Yf(vn),fc=fc=-1===j_.indexOf(vn.PARSER_MEDIA_TYPE)?"text/html":vn.PARSER_MEDIA_TYPE,Yo="application/xhtml+xml"===fc?Hy:vu,Hi="ALLOWED_TAGS"in vn?so({},vn.ALLOWED_TAGS,Yo):mi,Ai="ALLOWED_ATTR"in vn?so({},vn.ALLOWED_ATTR,Yo):cr,X0="ALLOWED_NAMESPACES"in vn?so({},vn.ALLOWED_NAMESPACES,Hy):Zp,Is="ADD_URI_SAFE_ATTR"in vn?so(Yf(Vc),vn.ADD_URI_SAFE_ATTR,Yo):Vc,rl="ADD_DATA_URI_TAGS"in vn?so(Yf(Fc),vn.ADD_DATA_URI_TAGS,Yo):Fc,Ta="FORBID_CONTENTS"in vn?so({},vn.FORBID_CONTENTS,Yo):ts,tn="FORBID_TAGS"in vn?so({},vn.FORBID_TAGS,Yo):{},Tn="FORBID_ATTR"in vn?so({},vn.FORBID_ATTR,Yo):{},Oo="USE_PROFILES"in vn&&vn.USE_PROFILES,In=!1!==vn.ALLOW_ARIA_ATTR,Nn=!1!==vn.ALLOW_DATA_ATTR,Ci=vn.ALLOW_UNKNOWN_PROTOCOLS||!1,Yi=!1!==vn.ALLOW_SELF_CLOSE_IN_ATTR,ur=vn.SAFE_FOR_TEMPLATES||!1,er=vn.WHOLE_DOCUMENT||!1,kr=vn.RETURN_DOM||!1,Dr=vn.RETURN_DOM_FRAGMENT||!1,dr=vn.RETURN_TRUSTED_TYPE||!1,Oi=vn.FORCE_BODY||!1,Lr=!1!==vn.SANITIZE_DOM,La=vn.SANITIZE_NAMED_PROPS||!1,Fi=!1!==vn.KEEP_CONTENT,Mr=vn.IN_PLACE||!1,Ji=vn.ALLOWED_URI_REGEXP||pC,Hc=vn.NAMESPACE||Gl,Qt=vn.CUSTOM_ELEMENT_HANDLING||{},vn.CUSTOM_ELEMENT_HANDLING&&q0(vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Qt.tagNameCheck=vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vn.CUSTOM_ELEMENT_HANDLING&&q0(vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Qt.attributeNameCheck=vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vn.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Qt.allowCustomizedBuiltInElements=vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ur&&(Nn=!1),Dr&&(kr=!0),Oo&&(Hi=so({},[..._2]),Ai=[],!0===Oo.html&&(so(Hi,Wy),so(Ai,uh)),!0===Oo.svg&&(so(Hi,Nm),so(Ai,jy),so(Ai,Bm)),!0===Oo.svgFilters&&(so(Hi,Rm),so(Ai,jy),so(Ai,Bm)),!0===Oo.mathMl&&(so(Hi,ch),so(Ai,qx),so(Ai,Bm))),vn.ADD_TAGS&&(Hi===mi&&(Hi=Yf(Hi)),so(Hi,vn.ADD_TAGS,Yo)),vn.ADD_ATTR&&(Ai===cr&&(Ai=Yf(Ai)),so(Ai,vn.ADD_ATTR,Yo)),vn.ADD_URI_SAFE_ATTR&&so(Is,vn.ADD_URI_SAFE_ATTR,Yo),vn.FORBID_CONTENTS&&(Ta===ts&&(Ta=Yf(Ta)),so(Ta,vn.FORBID_CONTENTS,Yo)),Fi&&(Hi["#text"]=!0),er&&so(Hi,["html","head","body"]),Hi.table&&(so(Hi,["tbody"]),delete tn.tbody),vn.TRUSTED_TYPES_POLICY){if("function"!=typeof vn.TRUSTED_TYPES_POLICY.createHTML)throw jf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof vn.TRUSTED_TYPES_POLICY.createScriptURL)throw jf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');pt=vn.TRUSTED_TYPES_POLICY,ut=pt.createHTML("")}else void 0===pt&&(pt=function(Di,Ki){if("object"!=typeof Di||"function"!=typeof Di.createPolicy)return null;let Kr=null;const Go="data-tt-policy-suffix";Ki&&Ki.hasAttribute(Go)&&(Kr=Ki.getAttribute(Go));const ta="dompurify"+(Kr?"#"+Kr:"");try{return Di.createPolicy(ta,{createHTML:Xo=>Xo,createScriptURL:Xo=>Xo})}catch{return console.warn("TrustedTypes policy "+ta+" could not be created."),null}}(se,b)),null!==pt&&"string"==typeof ut&&(ut=pt.createHTML(""));jl&&jl(vn),bh=vn}},hO=so({},["mi","mo","mn","ms","mtext"]),dO=so({},["foreignobject","desc","title","annotation-xml"]),RL=so({},["title","style","font","a","script"]),Y_=so({},Nm);so(Y_,Rm),so(Y_,Xf);const nM=so({},ch);so(nM,x2);const Qp=function(vn){Pm(p.removed,{element:vn});try{vn.parentNode.removeChild(vn)}catch{vn.remove()}},Tv=function(vn,Di){try{Pm(p.removed,{attribute:Di.getAttributeNode(vn),from:Di})}catch{Pm(p.removed,{attribute:null,from:Di})}if(Di.removeAttribute(vn),"is"===vn&&!Ai[vn])if(kr||Dr)try{Qp(Di)}catch{}else try{Di.setAttribute(vn,"")}catch{}},iM=function(vn){let Di,Ki;if(Oi)vn="<remove></remove>"+vn;else{const ta=Xh(vn,/^[\r\n\t ]+/);Ki=ta&&ta[0]}"application/xhtml+xml"===fc&&Hc===Gl&&(vn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vn+"</body></html>");const Kr=pt?pt.createHTML(vn):vn;if(Hc===Gl)try{Di=(new he).parseFromString(Kr,fc)}catch{}if(!Di||!Di.documentElement){Di=Rt.createDocument(Hc,"template",null);try{Di.documentElement.innerHTML=_g?ut:Kr}catch{}}const Go=Di.body||Di.documentElement;return vn&&Ki&&Go.insertBefore(_.createTextNode(Ki),Go.childNodes[0]||null),Hc===Gl?sn.call(Di,er?"html":"body")[0]:er?Di.documentElement:Go},rM=function(vn){return Jt.call(vn.ownerDocument||vn,vn,X.SHOW_ELEMENT|X.SHOW_COMMENT|X.SHOW_TEXT,null,!1)},U0=function(vn){return"object"==typeof z?vn instanceof z:vn&&"object"==typeof vn&&"number"==typeof vn.nodeType&&"string"==typeof vn.nodeName},ed=function(vn,Di,Ki){Wt[vn]&&uD(Wt[vn],Kr=>{Kr.call(p,Di,Ki,bh)})},oM=function(vn){let Di;if(ed("beforeSanitizeElements",vn,null),(Ki=vn)instanceof re&&("string"!=typeof Ki.nodeName||"string"!=typeof Ki.textContent||"function"!=typeof Ki.removeChild||!(Ki.attributes instanceof $)||"function"!=typeof Ki.removeAttribute||"function"!=typeof Ki.setAttribute||"string"!=typeof Ki.namespaceURI||"function"!=typeof Ki.insertBefore||"function"!=typeof Ki.hasChildNodes))return Qp(vn),!0;var Ki;const Kr=Yo(vn.nodeName);if(ed("uponSanitizeElement",vn,{tagName:Kr,allowedTags:Hi}),vn.hasChildNodes()&&!U0(vn.firstElementChild)&&(!U0(vn.content)||!U0(vn.content.firstElementChild))&&Pc(/<[/\w]/g,vn.innerHTML)&&Pc(/<[/\w]/g,vn.textContent))return Qp(vn),!0;if(!Hi[Kr]||tn[Kr]){if(!tn[Kr]&&wg(Kr)&&(Qt.tagNameCheck instanceof RegExp&&Pc(Qt.tagNameCheck,Kr)||Qt.tagNameCheck instanceof Function&&Qt.tagNameCheck(Kr)))return!1;if(Fi&&!Ta[Kr]){const Go=Xe(vn)||vn.parentNode,ta=He(vn)||vn.childNodes;if(ta&&Go)for(let Xo=ta.length-1;Xo>=0;--Xo)Go.insertBefore(ce(ta[Xo],!0),Me(vn))}return Qp(vn),!0}return vn instanceof H&&!function(Go){let ta=Xe(Go);ta&&ta.tagName||(ta={namespaceURI:Hc,tagName:"template"});const Xo=vu(Go.tagName),da=vu(ta.tagName);return!!X0[Go.namespaceURI]&&(Go.namespaceURI===Jh?ta.namespaceURI===Gl?"svg"===Xo:ta.namespaceURI===Ea?"svg"===Xo&&("annotation-xml"===da||hO[da]):Boolean(Y_[Xo]):Go.namespaceURI===Ea?ta.namespaceURI===Gl?"math"===Xo:ta.namespaceURI===Jh?"math"===Xo&&dO[da]:Boolean(nM[Xo]):Go.namespaceURI===Gl?!(ta.namespaceURI===Jh&&!dO[da])&&!(ta.namespaceURI===Ea&&!hO[da])&&!nM[Xo]&&(RL[Xo]||!Y_[Xo]):!("application/xhtml+xml"!==fc||!X0[Go.namespaceURI]))}(vn)?(Qp(vn),!0):"noscript"!==Kr&&"noembed"!==Kr&&"noframes"!==Kr||!Pc(/<\/no(script|embed|frames)/i,vn.innerHTML)?(ur&&3===vn.nodeType&&(Di=vn.textContent,Di=ps(Di,en," "),Di=ps(Di,un," "),Di=ps(Di,An," "),vn.textContent!==Di&&(Pm(p.removed,{element:vn.cloneNode()}),vn.textContent=Di)),ed("afterSanitizeElements",vn,null),!1):(Qp(vn),!0)},$0=function(vn,Di,Ki){if(Lr&&("id"===Di||"name"===Di)&&(Ki in _||Ki in Kp))return!1;if((!Nn||Tn[Di]||!Pc(li,Di))&&(!In||!Pc($n,Di)))if(!Ai[Di]||Tn[Di]){if(!(wg(vn)&&(Qt.tagNameCheck instanceof RegExp&&Pc(Qt.tagNameCheck,vn)||Qt.tagNameCheck instanceof Function&&Qt.tagNameCheck(vn))&&(Qt.attributeNameCheck instanceof RegExp&&Pc(Qt.attributeNameCheck,Di)||Qt.attributeNameCheck instanceof Function&&Qt.attributeNameCheck(Di))||"is"===Di&&Qt.allowCustomizedBuiltInElements&&(Qt.tagNameCheck instanceof RegExp&&Pc(Qt.tagNameCheck,Ki)||Qt.tagNameCheck instanceof Function&&Qt.tagNameCheck(Ki))))return!1}else if(!Is[Di]&&!Pc(Ji,ps(Ki,Ii,""))&&("src"!==Di&&"xlink:href"!==Di&&"href"!==Di||"script"===vn||0!==hD(Ki,"data:")||!rl[vn])&&(!Ci||Pc(zi,ps(Ki,Ii,"")))&&Ki)return!1;return!0},wg=function(vn){return vn.indexOf("-")>0},G_=function(vn){let Di,Ki,Kr,Go;ed("beforeSanitizeAttributes",vn,null);const{attributes:ta}=vn;if(!ta)return;const Xo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ai};for(Go=ta.length;Go--;){Di=ta[Go];const{name:da,namespaceURI:Ev}=Di;Ki="value"===da?Di.value:dC(Di.value);const pO=Ki;if(Kr=Yo(da),Xo.attrName=Kr,Xo.attrValue=Ki,Xo.keepAttr=!0,Xo.forceKeepAttr=void 0,ed("uponSanitizeAttribute",vn,Xo),Ki=Xo.attrValue,Xo.forceKeepAttr)continue;if(!Xo.keepAttr){Tv(da,vn);continue}if(!Yi&&Pc(/\/>/i,Ki)){Tv(da,vn);continue}ur&&(Ki=ps(Ki,en," "),Ki=ps(Ki,un," "),Ki=ps(Ki,An," "));const fO=Yo(vn.nodeName);if($0(fO,Kr,Ki)){if(!La||"id"!==Kr&&"name"!==Kr||(Tv(da,vn),Ki="user-content-"+Ki),pt&&"object"==typeof se&&"function"==typeof se.getAttributeType&&!Ev)switch(se.getAttributeType(fO,Kr)){case"TrustedHTML":Ki=pt.createHTML(Ki);break;case"TrustedScriptURL":Ki=pt.createScriptURL(Ki)}if(Ki!==pO)try{Ev?vn.setAttributeNS(Ev,da,Ki):vn.setAttribute(da,Ki)}catch{Tv(da,vn)}}else Tv(da,vn)}ed("afterSanitizeAttributes",vn,null)},X_=function vn(Di){let Ki;const Kr=rM(Di);for(ed("beforeSanitizeShadowDOM",Di,null);Ki=Kr.nextNode();)ed("uponSanitizeShadowNode",Ki,null),oM(Ki)||(Ki.content instanceof k&&vn(Ki.content),G_(Ki));ed("afterSanitizeShadowDOM",Di,null)};return p.sanitize=function(vn){let Di,Ki,Kr,Go,ta=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_g=!vn,_g&&(vn="\x3c!--\x3e"),"string"!=typeof vn&&!U0(vn)){if("function"!=typeof vn.toString)throw jf("toString is not a function");if("string"!=typeof(vn=vn.toString()))throw jf("dirty is not a string, aborting")}if(!p.isSupported)return vn;if(ko||xh(ta),p.removed=[],"string"==typeof vn&&(Mr=!1),Mr){if(vn.nodeName){const Ev=Yo(vn.nodeName);if(!Hi[Ev]||tn[Ev])throw jf("root node is forbidden and cannot be sanitized in-place")}}else if(vn instanceof z)Di=iM("\x3c!----\x3e"),Ki=Di.ownerDocument.importNode(vn,!0),1===Ki.nodeType&&"BODY"===Ki.nodeName||"HTML"===Ki.nodeName?Di=Ki:Di.appendChild(Ki);else{if(!kr&&!ur&&!er&&-1===vn.indexOf("<"))return pt&&dr?pt.createHTML(vn):vn;if(Di=iM(vn),!Di)return kr?null:dr?ut:""}Di&&Oi&&Qp(Di.firstChild);const Xo=rM(Mr?vn:Di);for(;Kr=Xo.nextNode();)oM(Kr)||(Kr.content instanceof k&&X_(Kr.content),G_(Kr));if(Mr)return vn;if(kr){if(Dr)for(Go=rn.call(Di.ownerDocument);Di.firstChild;)Go.appendChild(Di.firstChild);else Go=Di;return(Ai.shadowroot||Ai.shadowrootmode)&&(Go=fn.call(m,Go,!0)),Go}let da=er?Di.outerHTML:Di.innerHTML;return er&&Hi["!doctype"]&&Di.ownerDocument&&Di.ownerDocument.doctype&&Di.ownerDocument.doctype.name&&Pc(Yy,Di.ownerDocument.doctype.name)&&(da="<!DOCTYPE "+Di.ownerDocument.doctype.name+">\n"+da),ur&&(da=ps(da,en," "),da=ps(da,un," "),da=ps(da,An," ")),pt&&dr?pt.createHTML(da):da},p.setConfig=function(vn){xh(vn),ko=!0},p.clearConfig=function(){bh=null,ko=!1},p.isValidAttribute=function(vn,Di,Ki){bh||xh({});const Kr=Yo(vn),Go=Yo(Di);return $0(Kr,Go,Ki)},p.addHook=function(vn,Di){"function"==typeof Di&&(Wt[vn]=Wt[vn]||[],Pm(Wt[vn],Di))},p.removeHook=function(vn){if(Wt[vn])return Lm(Wt[vn])},p.removeHooks=function(vn){Wt[vn]&&(Wt[vn]=[])},p.removeAllHooks=function(){Wt={}},p}();const gC=Dn.each,pD=Dn.trim,fD=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],I2={ftp:21,http:80,https:443,mailto:25},Gy=["img","video"],O2=(s,c,p)=>{const m=(b=>{try{return decodeURIComponent(b)}catch{return unescape(b)}})(c).replace(/\s/g,"");return!s.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(m)||!s.allow_html_data_urls&&(/^data:image\//i.test(m)?(_=p,(Ke(b=s.allow_svg_data_urls)?!b:!Ke(_)||!Et(Gy,_))&&/^data:image\/svg\+xml/i.test(m)):/^data:/i.test(m)));var b,_};class yu{static parseDataUri(c){let p;const m=decodeURIComponent(c).split(","),b=/data:([^;]+)/.exec(m[0]);return b&&(p=b[1]),{type:p,data:m[1]}}static isDomSafe(c,p,m={}){if(m.allow_script_urls)return!0;{const b=nc.decode(c).replace(/[\s\u0000-\u001F]+/g,"");return!O2(m,b,p)}}static getDocumentBaseUrl(c){var p;let m;return m=0!==c.protocol.indexOf("http")&&"file:"!==c.protocol?null!==(p=c.href)&&void 0!==p?p:"":c.protocol+"//"+c.host+c.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/")),m}constructor(c,p={}){this.path="",this.directory="",c=pD(c),this.settings=p;const m=p.base_uri,b=this;if(/^([\w\-]+):([^\/]{2})/i.test(c)||/^\s*#/.test(c))return void(b.source=c);const _=0===c.indexOf("//");if(0!==c.indexOf("/")||_||(c=(m&&m.protocol||"http")+"://mce_host"+c),!/^[\w\-]*:?\/\//.test(c)){const D=m?m.path:new yu(document.location.href).directory;if(""===m?.protocol)c="//mce_host"+b.toAbsPath(D,c);else{const z=/([^#?]*)([#?]?.*)/.exec(c);z&&(c=(m&&m.protocol||"http")+"://mce_host"+b.toAbsPath(D,z[1])+z[2])}}c=c.replace(/@@/g,"(mce_at)");const k=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(c);k&&gC(fD,(D,z)=>{let H=k[z];H&&(H=H.replace(/\(mce_at\)/g,"@@")),b[D]=H}),m&&(b.protocol||(b.protocol=m.protocol),b.userInfo||(b.userInfo=m.userInfo),b.port||"mce_host"!==b.host||(b.port=m.port),b.host&&"mce_host"!==b.host||(b.host=m.host),b.source=""),_&&(b.protocol="")}setPath(c){const p=/^(.*?)\/?(\w+)?$/.exec(c);p&&(this.path=p[0],this.directory=p[1],this.file=p[2]),this.source="",this.getURI()}toRelative(c){if("./"===c)return c;const p=new yu(c,{base_uri:this});if("mce_host"!==p.host&&this.host!==p.host&&p.host||this.port!==p.port||this.protocol!==p.protocol&&""!==p.protocol)return p.getURI();const m=this.getURI(),b=p.getURI();if(m===b||"/"===m.charAt(m.length-1)&&m.substr(0,m.length-1)===b)return m;let _=this.toRelPath(this.path,p.path);return p.query&&(_+="?"+p.query),p.anchor&&(_+="#"+p.anchor),_}toAbsolute(c,p){const m=new yu(c,{base_uri:this});return m.getURI(p&&this.isSameOrigin(m))}isSameOrigin(c){if(this.host==c.host&&this.protocol==c.protocol){if(this.port==c.port)return!0;const p=this.protocol?I2[this.protocol]:null;if(p&&(this.port||p)==(c.port||p))return!0}return!1}toRelPath(c,p){let m,b,_=0,k="";const D=c.substring(0,c.lastIndexOf("/")).split("/"),z=p.split("/");if(D.length>=z.length)for(m=0,b=D.length;m<b;m++)if(m>=z.length||D[m]!==z[m]){_=m+1;break}if(D.length<z.length)for(m=0,b=z.length;m<b;m++)if(m>=D.length||D[m]!==z[m]){_=m+1;break}if(1===_)return p;for(m=0,b=D.length-(_-1);m<b;m++)k+="../";for(m=_-1,b=z.length;m<b;m++)k+=m!==_-1?"/"+z[m]:z[m];return k}toAbsPath(c,p){let m=0;const b=/\/$/.test(p)?"/":"",_=c.split("/"),k=p.split("/"),D=[];gC(_,$=>{$&&D.push($)});const z=[];for(let $=k.length-1;$>=0;$--)0!==k[$].length&&"."!==k[$]&&(".."!==k[$]?m>0?m--:z.push(k[$]):m++);const H=D.length-m;let X;return X=H<=0?Wi(z).join("/"):D.slice(0,H).join("/")+"/"+Wi(z).join("/"),0!==X.indexOf("/")&&(X="/"+X),b&&X.lastIndexOf("/")!==X.length-1&&(X+=b),X}getURI(c=!1){let p;return this.source&&!c||(p="",c||(p+=this.protocol?this.protocol+"://":"//",this.userInfo&&(p+=this.userInfo+"@"),this.host&&(p+=this.host),this.port&&(p+=":"+this.port)),this.path&&(p+=this.path),this.query&&(p+="?"+this.query),this.anchor&&(p+="#"+this.anchor),this.source=p),this.source}}const gD=Dn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),zm="data-mce-type";let bu=0;const Ux=(s,c,p,m,b)=>{var _,k,D,z;const H=c.validate,X=p.getSpecialElements();8===s.nodeType&&!c.allow_conditional_comments&&/^\[if/i.test(null!==(_=s.nodeValue)&&void 0!==_?_:"")&&(s.nodeValue=" "+s.nodeValue);const $=null!==(k=b?.tagName)&&void 0!==k?k:s.nodeName.toLowerCase();if("html"!==m&&p.isValid(m))return void(Ke(b)&&(b.allowedTags[$]=!0));if(1!==s.nodeType||"body"===$)return;const re=Yt(s),he=qs(re,zm),se=Ya(re,"data-mce-bogus");if(!he&&ve(se))return void("all"===se?yo(re):sl(re));const xe=p.getElementRule($);if(!H||xe){if(Ke(b)&&(b.allowedTags[$]=!0),H&&xe&&!he){if(Ht(null!==(D=xe.attributesForced)&&void 0!==D?D:[],ce=>{Ho(re,ce.name,"{$uid}"===ce.value?"mce_"+bu++:ce.value)}),Ht(null!==(z=xe.attributesDefault)&&void 0!==z?z:[],ce=>{qs(re,ce.name)||Ho(re,ce.name,"{$uid}"===ce.value?"mce_"+bu++:ce.value)}),xe.attributesRequired&&!xn(xe.attributesRequired,ce=>qs(re,ce))||xe.removeEmptyAttrs&&(ce=>{const Me=ce.dom.attributes;return null==Me||0===Me.length})(re))return void sl(re);xe.outputName&&xe.outputName!==$&&((ce,Me)=>{const He=((pt,ut)=>{const Rt=ra(ut),Jt=Xl(pt);return bs(Rt,Jt),Rt})(ce,Me);Ns(ce,He);const Xe=Po(ce);Ol(He,Xe),yo(ce)})(re,xe.outputName)}}else Gt(X,$)?yo(re):sl(re)},mC=(s,c,p,m,b,_)=>"html"!==p&&!Ln(m)||!(b in gD&&O2(s,_,m))&&(!s.validate||c.isValid(m,b)||Fn(b,"data-")||Fn(b,"aria-")),Xy=(s,c)=>s.hasAttribute(zm)&&("id"===c||"class"===c||"style"===c),D2=(s,c)=>s in c.getBoolAttrs(),mD=(s,c,p,m)=>{const{attributes:b}=s;for(let _=b.length-1;_>=0;_--){const k=b[_],D=k.name,z=k.value;mC(c,p,m,s.tagName.toLowerCase(),D,z)||Xy(s,D)?D2(D,p)&&s.setAttribute(D,D):s.removeAttribute(D)}},L2=s=>{const p={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:["type","href","role","arcrole","title","show","actuate","label","from","to"].map(m=>`xlink:${m}`)};return E2().sanitize(s,p),s.innerHTML},qy=Dn.makeMap,vC=Dn.extend,Op=(s,c,p,m)=>{const b=s.name,_=b in p&&"title"!==b&&"textarea"!==b,k=c.childNodes;for(let D=0,z=k.length;D<z;D++){const H=k[D],X=new Ys(H.nodeName.toLowerCase(),H.nodeType);if(pi(H)){const $=H.attributes;for(let re=0,he=$.length;re<he;re++){const se=$[re];X.attr(se.name,se.value)}Ln(X.name)&&(m(H),X.value=H.innerHTML)}else Rn(H)?(X.value=H.data,_&&(X.raw=!0)):(ka(H)||xc(H)||Ah(H))&&(X.value=H.data);Ln(X.name)||Op(X,H,p,m),s.append(X)}},qh=(s={},c=Ks())=>{const p=m2(),m=m2(),b={validate:!0,root_name:"body",sanitize:!0,...s},_=new DOMParser,k=((xe,ce)=>{const Me=(()=>{let He=[];const Xe=()=>He[He.length-1];return{track:pt=>{ii(pt)&&He.push(pt);let ut=Xe();return ut&&!ut.contains(pt)&&(He.pop(),ut=Xe()),qn(ut)},current:()=>qn(Xe()),reset:()=>{He=[]}}})();if(xe.sanitize){const He=((s,c,p)=>{const m=E2();return m.addHook("uponSanitizeElement",(b,_)=>{Ux(b,s,c,p.track(b),_)}),m.addHook("uponSanitizeAttribute",(b,_)=>{((k,D,z,H,X)=>{const $=k.tagName.toLowerCase(),{attrName:re,attrValue:he}=X;X.keepAttr=mC(D,z,H,$,re,he),X.keepAttr?(X.allowedAttributes[re]=!0,D2(re,z)&&(X.attrValue=re),D.allow_svg_data_urls&&Fn(he,"data:image/svg+xml")&&(X.forceKeepAttr=!0)):Xy(k,re)&&(X.forceKeepAttr=!0)})(b,s,c,p.current(),_)}),m})(xe,ce,Me);return{sanitizeHtmlElement:(pt,ut)=>{He.sanitize(pt,((Rt,Jt)=>{const rn={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return rn.PARSER_MEDIA_TYPE=Jt,Rt.allow_script_urls?rn.ALLOWED_URI_REGEXP=/.*/:Rt.allow_html_data_urls&&(rn.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),rn})(xe,ut)),He.removed=[],Me.reset()},sanitizeNamespaceElement:L2}}return{sanitizeHtmlElement:(He,Xe)=>{const pt=document.createNodeIterator(He,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let ut;for(;ut=pt.nextNode();){const Rt=Me.track(ut);Ux(ut,xe,ce,Rt),pi(ut)&&mD(ut,xe,ce,Rt)}Me.reset()},sanitizeNamespaceElement:lt}})(b,c),z=p.getFilters,$=m.getFilters,he=(xe,ce)=>{const Me=ve(ce.attr(zm)),He=1===ce.type&&!Gt(xe,ce.name)&&!no(c,ce)&&!Ln(ce.name);return 3===ce.type||He&&!Me},se={schema:c,addAttributeFilter:m.addFilter,getAttributeFilters:$,removeAttributeFilter:m.removeFilter,addNodeFilter:p.addFilter,getNodeFilters:z,removeNodeFilter:p.removeFilter,parse:(xe,ce={})=>{var Me;const He=b.validate,Xe=null!==(Me=ce.context)&&void 0!==Me?Me:b.root_name,pt=((un,An,li="html")=>{const $n="xhtml"===li?"application/xhtml+xml":"text/html",zi=Gt(c.getSpecialElements(),An.toLowerCase()),Ii=zi?`<${An}>${un}</${An}>`:un,Hi=_.parseFromString("xhtml"===li?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ii}</body></html>`:`<body>${Ii}</body>`,$n).body;return k.sanitizeHtmlElement(Hi,$n),zi?Hi.firstChild:Hi})(xe,Xe,ce.format);Pr(c,pt);const ut=new Ys(Xe,11);Op(ut,pt,c.getSpecialElements(),k.sanitizeNamespaceElement),pt.innerHTML="";const[Rt,Jt]=((un,An,li,$n)=>{const zi=li.validate,Ii=An.getNonEmptyElements(),Ji=An.getWhitespaceElements(),Hi=vC(qy("script,style,head,html,body,title,meta,param"),An.getBlockElements()),mi=cp(An),Ai=/[ \t\r\n]+/g,cr=/^[ \t\r\n]+/,Qt=/[ \t\r\n]+$/,tn=Nn=>{let Ci=Nn.parent;for(;Ke(Ci);){if(Ci.name in Ji)return!0;Ci=Ci.parent}return!1},Tn=Nn=>Nn.name in Hi||no(An,Nn)||Ln(Nn.name)&&Nn.parent===un,In=(Nn,Ci)=>!Ke(Ci?Nn.prev:Nn.next)&&!je(Nn.parent)&&Tn(Nn.parent)&&(Nn.parent!==un||!0===$n.isRootContent);return[Nn=>{var Ci,ur,er;if(3===Nn.type&&!tn(Nn)){let Yi=null!==(Ci=Nn.value)&&void 0!==Ci?Ci:"";Yi=Yi.replace(Ai," "),er=Tn,(Ke(ur=Nn.prev)&&(er(ur)||"br"===ur.name)||In(Nn,!0))&&(Yi=Yi.replace(cr,"")),0===Yi.length?Nn.remove():Nn.value=Yi}},Nn=>{var Ci,er,ko;if(1===Nn.type){const Yi=An.getElementRule(Nn.name);if(zi&&Yi){const ur=ym(An,Ii,Ji,Nn);Yi.paddInEmptyBlock&&ur&&(er=>{let ko=er;for(;Ke(ko);){if(ko.name in mi)return ym(An,Ii,Ji,ko);ko=ko.parent}return!1})(Nn)?kx(li,$n,Tn,Nn):Yi.removeEmpty&&ur?Tn(Nn)?Nn.remove():Nn.unwrap():Yi.paddEmpty&&(ur||YS(er=Nn,"#text")&&(null===(ko=er?.firstChild)||void 0===ko?void 0:ko.value)===go)&&kx(li,$n,Tn,Nn)}}else if(3===Nn.type&&!tn(Nn)){let Yi=null!==(Ci=Nn.value)&&void 0!==Ci?Ci:"";(Nn.next&&Tn(Nn.next)||In(Nn,!1))&&(Yi=Yi.replace(Qt,"")),0===Yi.length?Nn.remove():Nn.value=Yi}}]})(ut,c,b,ce),rn=[],fn={nodes:{},attributes:{}},Wt=un=>WS(z(),$(),un,fn);if(((un,An,li)=>{const $n=[];for(let zi=un,Ii=zi;zi;Ii=zi,zi=zi.walk()){const Ji=zi;Ht(An,Hi=>Hi(Ji)),je(Ji.parent)&&Ji!==un?zi=Ii:$n.push(Ji)}for(let zi=$n.length-1;zi>=0;zi--){const Ii=$n[zi];Ht(li,Ji=>Ji(Ii))}})(ut,[Rt,Wt],[Jt,He?un=>{return li=rn,void(My(c,An=un)&&li.push(An));var An,li}:lt]),rn.reverse(),He&&rn.length>0)if(ce.context){const{pass:un,fail:An}=xr(rn,li=>li.parent===ut);Mx(An,c,ut,Wt),ce.invalid=un.length>0}else Mx(rn,c,ut,Wt);const en=((un,An)=>{var li;const $n=null!==(li=An.forced_root_block)&&void 0!==li?li:un.forced_root_block;return!1===$n?"":!0===$n?"p":$n})(b,ce);return en&&("body"===ut.name||ce.isRootContent)&&((un,An)=>{const li=vC(qy("script,style,head,html,body,title,meta,param"),c.getBlockElements()),$n=/^[ \t\r\n]+/,zi=/[ \t\r\n]+$/;let Ii=un.firstChild,Ji=null;const Hi=mi=>{var Ai,cr;mi&&(Ii=mi.firstChild,Ii&&3===Ii.type&&(Ii.value=null===(Ai=Ii.value)||void 0===Ai?void 0:Ai.replace($n,"")),Ii=mi.lastChild,Ii&&3===Ii.type&&(Ii.value=null===(cr=Ii.value)||void 0===cr?void 0:cr.replace(zi,"")))};if(c.isValidChild(un.name,An.toLowerCase())){for(;Ii;){const mi=Ii.next;he(li,Ii)?(Ji||(Ji=new Ys(An,1),Ji.attr(b.forced_root_block_attrs),un.insert(Ji,Ii)),Ji.append(Ii)):(Hi(Ji),Ji=null),Ii=mi}Hi(Ji)}})(ut,en),ce.invalid||jS(fn,ce),ut}};return((s,c)=>{const p=s.schema;c.remove_trailing_brs&&sC(c,s,p),s.addAttributeFilter("href",b=>{let _=b.length;const k=D=>{const z=D?Dn.trim(D):"";return/\b(noopener)\b/g.test(z)?z:z.split(" ").filter(X=>X.length>0).concat(["noopener"]).sort().join(" ")};if(!c.allow_unsafe_link_target)for(;_--;){const D=b[_];"a"===D.name&&"_blank"===D.attr("target")&&D.attr("rel",k(D.attr("rel")))}}),c.allow_html_in_named_anchor||s.addAttributeFilter("id,name",b=>{let _,k,D,z,H=b.length;for(;H--;)if(z=b[H],"a"===z.name&&z.firstChild&&!z.attr("href"))for(D=z.parent,_=z.lastChild;_&&D;)k=_.prev,D.insert(_,z),_=k}),c.fix_list_elements&&s.addNodeFilter("ul,ol",b=>{let _,k,D=b.length;for(;D--;)if(_=b[D],k=_.parent,k&&("ul"===k.name||"ol"===k.name))if(_.prev&&"li"===_.prev.name)_.prev.append(_);else{const z=new Ys("li",1);z.attr("style","list-style-type: none"),_.wrap(z)}});const m=p.getValidClasses();c.validate&&m&&s.addAttributeFilter("class",b=>{var _;let k=b.length;for(;k--;){const D=b[k],z=null!==(_=D.attr("class"))&&void 0!==_?_:"",H=Dn.explode(z," ");let X="";for(let $=0;$<H.length;$++){const re=H[$];let he=!1,se=m["*"];se&&se[re]&&(he=!0),se=m[D.name],!he&&se&&se[re]&&(he=!0),he&&(X&&(X+=" "),X+=re)}X.length||(X=null),D.attr("class",X)}}),((b,_)=>{const{blob_cache:k}=_;if(k){const D=z=>{const H=z.attr("src");var X;(X=z).attr("src")===Mi.transparentSrc||Ke(X.attr("data-mce-placeholder"))||(X=>Ke(X.attr("data-mce-bogus")))(z)||je(H)||Im(k,H,!0).each(X=>{z.attr("src",X.blobUri())})};b.addAttributeFilter("src",z=>Ht(z,D))}})(s,c),c.convert_unsafe_embeds&&s.addNodeFilter("object,embed",b=>Ht(b,_=>{_.replace(((k,D,z,H,X)=>{let $;$=Ae(k)?"iframe":Vy(k,"image")?"img":Vy(k,"video")?"video":Vy(k,"audio")?"audio":"iframe";const re=new Ys($,1);return re.attr("audio"===$?{src:D}:{src:D,width:z,height:H}),"audio"!==$&&"video"!==$||re.attr("controls",""),"iframe"===$&&X&&re.attr("sandbox",""),re})(_.attr("type"),_.attr("object"===_.name?"data":"src"),_.attr("width"),_.attr("height"),c.sandbox_iframes))})),c.sandbox_iframes&&s.addNodeFilter("iframe",b=>Ht(b,_=>_.attr("sandbox","")))})(se,b),(ce=b).inline_styles&&((s,c,p)=>{var m;const b=ru();var _,k,D;c.convert_fonts_to_spans&&(_=s,k=b,D=Dn.explode(null!==(m=c.font_size_legacy_values)&&void 0!==m?m:""),_.addNodeFilter("font",z=>{Ht(z,H=>{const X=k.parse(H.attr("style")),$=H.attr("color"),re=H.attr("face"),he=H.attr("size");var se;$&&(X.color=$),re&&(X["font-family"]=re),he&&v(he).each(se=>{X["font-size"]=D[se-1]}),H.name="span",H.attr("style",k.serialize(X)),se=H,Ht(["color","face","size"],ce=>{se.attr(ce,null)})})})),((_,k,D)=>{_.addNodeFilter("strike",z=>{const H="html4"!==k.type;Ht(z,X=>{if(H)X.name="s";else{const $=D.parse(X.attr("style"));$["text-decoration"]="line-through",X.name="span",X.attr("style",D.serialize($))}})})})(s,p,b)})(se,ce,c),se;var ce},Fm=(s,c,p)=>{const m=Ty(_=s)?Pd({validate:!1}).serialize(_):_,b=c(m);var _;if(b.isDefaultPrevented())return b;if(Ty(s)){if(b.content!==m){const _=qh({validate:!1,forced_root_block:!1,...p}).parse(b.content,{context:s.name});return{...b,content:_}}return{...b,content:s}}return b},$x=(s,c)=>{if(c.no_events)return Js.value(c);{const p=s.dispatch("BeforeGetContent",c);return p.isDefaultPrevented()?Js.error(rm(s,{content:"",...p}).content):Js.value(p)}},P2=(s,c,p)=>p.no_events?c:Fm(c,b=>rm(s,{...p,content:b}),{sanitize:Zv(s),sandbox_iframes:Mc(s)}).content,Uy=(s,c)=>{if(c.no_events)return Js.value(c);{const p=Fm(c.content,m=>{return b=s,_={...c,content:m},b.dispatch("BeforeSetContent",_);var b,_},{sanitize:Zv(s),sandbox_iframes:Mc(s)});return p.isDefaultPrevented()?(uy(s,p),Js.error(void 0)):Js.value(p)}},Zx=(s,c,p)=>{p.no_events||uy(s,{...p,content:c})},Vm=(s,c,p)=>({element:s,width:c,rows:p}),qf=(s,c)=>({element:s,cells:c}),yD=(s,c)=>({x:s,y:c}),N2=(s,c)=>Xs(s,c).bind(v).getOr(1),R2=(s,c,p)=>{const m=s.rows;return!!(m[p]?m[p].cells:[])[c]},Dp=s=>pr(s,(c,p)=>p.cells.length>c?p.cells.length:c,0),B2=(s,c)=>{const p=s.rows;for(let m=0;m<p.length;m++){const b=p[m].cells;for(let _=0;_<b.length;_++)if(Br(b[_],c))return ue.some(yD(_,m))}return ue.none()},Kx=(s,c,p,m,b)=>{const _=[],k=s.rows;for(let D=p;D<=b;D++){const z=k[D].cells,H=c<m?z.slice(c,m+1):z.slice(m,c+1);_.push(qf(k[D].element,H))}return _},z2=s=>((c,p)=>{const m=Vi(c.element),b=ra("tbody");return Ol(b,p),qo(m,b),m})(s,Bt(s.rows,p=>{const m=Bt(p.cells,_=>{const k=qi(_);return Sa(k,"colspan"),Sa(k,"rowspan"),k}),b=Vi(p.element);return Ol(b,m),b})),yC=()=>qb([]),Qx=(s,c)=>c>=0&&c<s.length&&Cf(s.charAt(c)),bC=s=>Oa(s.innerText),xC=s=>pi(s)?s.outerHTML:Rn(s)?nc.encodeRaw(s.data,!1):ka(s)?"\x3c!--"+s.data+"--\x3e":"",bD=Ir(()=>document.implementation.createHTMLDocument("undo")),Jx=s=>{const c=s.serializer.getTempAttrs(),p=SS(s.getBody(),c);return null!==p.querySelector("iframe")?{type:"fragmented",fragments:En(Bt(Zo(p.childNodes),$e(Oa,xC)),m=>m.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Oa(p.innerHTML),bookmark:null,beforeBookmark:null}},wC=(s,c,p)=>{const m=p?c.beforeBookmark:c.bookmark;"fragmented"===c.type?((s,c)=>{((p,m)=>{let b=0;Ht(p,_=>{var k,D;0===_[0]?b++:1===_[0]?(((k,D,z)=>{const H=(X=>{let $;const re=document.createElement("div"),he=document.createDocumentFragment();for(X&&(re.innerHTML=X);$=re.firstChild;)he.appendChild($);return he})(D);k.hasChildNodes()&&z<k.childNodes.length?k.insertBefore(H,k.childNodes[z]):k.appendChild(H)})(m,_[1],b),b++):2===_[0]&&(D=b,(k=m).hasChildNodes()&&D<k.childNodes.length&&k.removeChild(k.childNodes[D]))})})(((p,m)=>{const b=p.length+m.length+2,_=new Array(b),k=new Array(b),D=($,re,he,se,xe)=>{const ce=H($,re,he,se);if(null===ce||ce.start===re&&ce.diag===re-se||ce.end===$&&ce.diag===$-he){let Me=$,He=he;for(;Me<re||He<se;)Me<re&&He<se&&p[Me]===m[He]?(xe.push([0,p[Me]]),++Me,++He):re-$>se-he?(xe.push([2,p[Me]]),++Me):(xe.push([1,m[He]]),++He)}else{D($,ce.start,he,ce.start-ce.diag,xe);for(let Me=ce.start;Me<ce.end;++Me)xe.push([0,p[Me]]);D(ce.end,re,ce.end-ce.diag,se,xe)}},z=($,re,he,se)=>{let xe=$;for(;xe-re<se&&xe<he&&p[xe]===m[xe-re];)++xe;return{start:$,end:xe,diag:re}},H=($,re,he,se)=>{const xe=re-$,ce=se-he;if(0===xe||0===ce)return null;const Me=xe-ce,He=ce+xe,Xe=(He%2==0?He:He+1)/2;let pt,ut,Rt,Jt,rn;for(_[1+Xe]=$,k[1+Xe]=re+1,pt=0;pt<=Xe;++pt){for(ut=-pt;ut<=pt;ut+=2){for(Rt=ut+Xe,_[Rt]=ut===-pt||ut!==pt&&_[Rt-1]<_[Rt+1]?_[Rt+1]:_[Rt-1]+1,Jt=_[Rt],rn=Jt-$+he-ut;Jt<re&&rn<se&&p[Jt]===m[rn];)_[Rt]=++Jt,++rn;if(Me%2!=0&&Me-pt<=ut&&ut<=Me+pt&&k[Rt-Me]<=_[Rt])return z(k[Rt-Me],ut+$-he,re,se)}for(ut=Me-pt;ut<=Me+pt;ut+=2){for(Rt=ut+Xe-Me,k[Rt]=ut===Me-pt||ut!==Me+pt&&k[Rt+1]<=k[Rt-1]?k[Rt+1]-1:k[Rt-1],Jt=k[Rt]-1,rn=Jt-$+he-ut;Jt>=$&&rn>=he&&p[Jt]===m[rn];)k[Rt]=Jt--,rn--;if(Me%2==0&&-pt<=ut&&ut<=pt&&k[Rt]<=_[Rt+Me])return z(k[Rt],ut+$-he,re,se)}}return null},X=[];return D(0,p.length,0,m.length,X),X})(Bt(Zo(c.childNodes),xC),s),c)})(c.fragments,s.getBody()):s.setContent(c.content,{format:"raw",no_selection:!Ke(m)||!Fw(m)||!m.isFakeCaret}),m&&(s.selection.moveToBookmark(m),s.selection.scrollIntoView())},SC=s=>"fragmented"===s.type?s.fragments.join(""):s.content,W2=s=>{const c=ra("body",bD());return Ou(c,SC(s)),Ht(ga(c,"*[data-mce-bogus]"),sl),Dl(c)},Uf=(s,c)=>{return!(!s||!c)&&(m=c,!(SC(s)!==SC(m))||((p,m)=>W2(p)===W2(m))(s,c));var m},CC=s=>0===s.get(),e1=(s,c,p)=>{CC(p)&&(s.typing=c)},kC=(s,c)=>{s.typing&&(e1(s,!1,c),s.add())},AC=s=>({init:{bindEvents:lt},undoManager:{beforeChange:(c,p)=>{return m=s,_=p,void(CC(c)&&_.set(mf(m.selection)));var m,_},add:(c,p,m,b,_,k)=>((D,z,H,X,$,re,he)=>{const se=Jx(D),xe=Dn.extend(re||{},se);if(!CC(X)||D.removed)return null;const ce=z.data[H.get()];if(D.dispatch("BeforeAddUndo",{level:xe,lastLevel:ce,originalEvent:he}).isDefaultPrevented()||ce&&Uf(ce,xe))return null;z.data[H.get()]&&$.get().each(Xe=>{z.data[H.get()].beforeBookmark=Xe});const Me=Gv(D);if(Me&&z.data.length>Me){for(let Xe=0;Xe<z.data.length-1;Xe++)z.data[Xe]=z.data[Xe+1];z.data.length--,H.set(z.data.length)}xe.bookmark=mf(D.selection),H.get()<z.data.length-1&&(z.data.length=H.get()+1),z.data.push(xe),H.set(z.data.length-1);const He={level:xe,lastLevel:ce,originalEvent:he};return H.get()>0?(D.setDirty(!0),D.dispatch("AddUndo",He),D.dispatch("change",He)):D.dispatch("AddUndo",He),xe})(s,c,p,m,b,_,k),undo:(c,p,m)=>((b,_,k,D)=>{let z;return _.typing&&(_.add(),_.typing=!1,e1(_,!1,k)),D.get()>0&&(D.set(D.get()-1),z=_.data[D.get()],wC(b,z,!0),b.setDirty(!0),b.dispatch("Undo",{level:z})),z})(s,c,p,m),redo:(c,p)=>((m,b,_)=>{let k;return b.get()<_.length-1&&(b.set(b.get()+1),k=_[b.get()],wC(m,k,!1),m.setDirty(!0),m.dispatch("Redo",{level:k})),k})(s,c,p),clear:(c,p)=>{return m=s,_=p,(b=c).data=[],_.set(0),b.typing=!1,void m.dispatch("ClearUndos");var m,b,_},reset:c=>{return(p=c).clear(),void p.add();var p},hasUndo:(c,p)=>{return m=s,b=c,p.get()>0||b.typing&&b.data[0]&&!Uf(Jx(m),b.data[0]);var m,b},hasRedo:(c,p)=>{return m=c,p.get()<m.data.length-1&&!m.typing;var m},transact:(c,p,m)=>{return k=m,kC(b=c,p),b.beforeChange(),b.ignore(k),b.add();var b,k},ignore:(c,p)=>((m,b)=>{try{m.set(m.get()+1),b()}finally{m.set(m.get()-1)}})(c,p),extra:(c,p,m,b)=>((_,k,D,z,H)=>{if(k.transact(z)){const X=k.data[D.get()].bookmark,$=k.data[D.get()-1];wC(_,$,!0),k.transact(H)&&(k.data[D.get()-1].beforeBookmark=X)}})(s,c,p,m,b)},formatter:{match:(c,p,m,b)=>Dx(s,c,p,m,b),matchAll:(c,p)=>((m,b,_)=>{const k=[],D={},z=m.selection.getStart();return m.dom.getParent(z,H=>{for(let X=0;X<b.length;X++){const $=b[X];!D[$]&&cc(m,H,$,_)&&(D[$]=!0,k.push($))}},m.dom.getRoot()),k})(s,c,p),matchNode:(c,p,m,b)=>cc(s,c,p,m,b),canApply:c=>((p,m)=>{const b=p.formatter.get(m),_=p.dom;if(b&&p.selection.isEditable()){const k=p.selection.getStart(),D=cy(_,k);for(let z=b.length-1;z>=0;z--){const H=b[z];if(!Ts(H))return!0;for(let X=D.length-1;X>=0;X--)if(_.is(D[X],H.selector))return!0}}return!1})(s,c),closest:c=>((p,m)=>{const b=_=>Br(_,Yt(p.getBody()));return ue.from(p.selection.getStart(!0)).bind(_=>xm(Yt(_),k=>ns(m,D=>{return cc(p,k.dom,H=D)?ue.some(H):ue.none();var H}),b)).getOrNull()})(s,c),apply:(c,p,m)=>aC(s,c,p,m),remove:(c,p,m,b)=>rC(s,c,p,m,b),toggle:(c,p,m)=>((b,_,k,D)=>{const z=b.formatter.get(_);z&&(!Dx(b,_,k,D)||"toggle"in z[0]&&!z[0].toggle?aC(b,_,k,D):rC(b,_,k,D))})(s,c,p,m),formatChanged:(c,p,m,b,_)=>{return((re,he,se,xe,ce,Me)=>{const He=he.get();Ht(se.split(","),Xe=>{const pt=Ft(He,Xe).getOrThunk(()=>{const Rt={withSimilar:{state:P(!1),similar:!0,callbacks:[]},withoutSimilar:{state:P(!1),similar:!1,callbacks:[]},withVars:[]};return He[Xe]=Rt,Rt}),ut=()=>{const Rt=By(re);return jx(re,Rt,Xe,ce,Me).isSome()};if(Ae(Me)){const Rt=ce?pt.withSimilar:pt.withoutSimilar;Rt.callbacks.push(xe),1===Rt.callbacks.length&&Rt.state.set(ut())}else pt.withVars.push({state:P(ut()),similar:ce,vars:Me,callback:xe})}),he.set(He)})(s,D=c,z=p,H=m,b,_),{unbind:()=>((re,he,se)=>{const xe=re.get();Ht(he.split(","),ce=>Ft(xe,ce).each(Me=>{xe[ce]={withSimilar:{...Me.withSimilar,callbacks:En(Me.withSimilar.callbacks,He=>He!==se)},withoutSimilar:{...Me.withoutSimilar,callbacks:En(Me.withoutSimilar.callbacks,He=>He!==se)},withVars:En(Me.withVars,He=>He.callback!==se)}})),re.set(xe)})(D,z,H)};var D,z,H}},editor:{getContent:c=>{return m=c,ue.from((p=s).getBody()).fold(rt("tree"===m.format?new Ys("body",11):""),b=>((s,c,p)=>{let m;return m="raw"===c.format?Dn.trim(Oa(SS(p,s.serializer.getTempAttrs()).innerHTML)):"text"===c.format?((b,_)=>{const k=b.getDoc(),D=xa(Yt(b.getBody())),z=ra("div",k);Ho(z,"data-mce-bogus","all"),Il(z,{position:"fixed",left:"-9999999px",top:"0"}),Ou(z,_.innerHTML),IT(z),OT(z);const H=yc($=D)?$:Yt(_s($).dom.body);var $;qo(H,z);const X=Oa(z.dom.innerText);return yo(z),X})(s,p):"tree"===c.format?s.serializer.serialize(p,c):((b,_)=>{const k=Ms(b),D=new RegExp(`^(<${k}[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/${k}>[\r\n]*|<br \\/>[\r\n]*)$`);return _.replace(D,"")})(s,s.serializer.serialize(p,c)),"text"!==c.format&&!Eh(Yt(p))&&ve(m)?Dn.trim(m):m})(p,m,b));var p,m},setContent:(c,p)=>{return b=c,_=p,ue.from((m=s).getBody()).map(k=>Ty(b)?((D,z,H,X)=>{Vf(D.parser.getNodeFilters(),D.parser.getAttributeFilters(),H);const $=Pd({validate:!1},D.schema).serialize(H),re=Oa(Eh(Yt(z))?$:Dn.trim($));return Tp(D,re,X.no_selection),{content:H,html:re}})(m,k,b,_):((D,z,H,X)=>{if(0===(H=Oa(H)).length||/^\s+$/.test(H)){const $='<br data-mce-bogus="1">';"TABLE"===z.nodeName?H="<tr><td>"+$+"</td></tr>":/^(UL|OL)$/.test(z.nodeName)&&(H="<li>"+$+"</li>");const re=Ms(D);return D.schema.isValidChild(z.nodeName.toLowerCase(),re.toLowerCase())?(H=$,H=D.dom.createHTML(re,yf(D),H)):H||(H=$),Tp(D,H,X.no_selection),{content:H,html:H}}{"raw"!==X.format&&(H=Pd({validate:!1},D.schema).serialize(D.parser.parse(H,{isRootContent:!0,insert:!0})));const $=Eh(Yt(z))?H:Dn.trim(H);return Tp(D,$,X.no_selection),{content:$,html:$}}})(m,k,b,_)).getOr({content:b,html:Ty(_.content)?"":_.content});var m,b,_},insertContent:(c,p)=>u2(s,c,p),addVisual:c=>((p,m)=>{const b=p.dom,_=Ke(m)?m:p.getBody();Ht(b.select("table,a",_),k=>{switch(k.nodeName){case"TABLE":const D=Hg(p),z=b.getAttrib(k,"border");z&&"0"!==z||!p.hasVisual?b.removeClass(k,D):b.addClass(k,D);break;case"A":if(!b.getAttrib(k,"href")){const H=b.getAttrib(k,"name")||k.id,X=Mw(p);H&&p.hasVisual?b.addClass(k,X):b.removeClass(k,X)}}}),p.dispatch("VisualAid",{element:m,hasVisual:p.hasVisual})})(s,c)},selection:{getContent:(c,p)=>((m,b,_={})=>{const k=(D=_,z=b,{...D,format:z,get:!0,selection:!0,getInner:!0});var D,z;return $x(m,k).fold(zt,D=>{const z=((H,X)=>{if("text"===X.format)return ue.from(($=H).selection.getRng()).map(re=>{var he;const se=ue.from($.dom.getParent(re.commonAncestorContainer,$.dom.isBlock)),xe=$.getBody(),ce=se.map(Rt=>Rt.nodeName).getOr("div").toLowerCase(),Me=Yt(re.cloneContents());IT(Me),OT(Me);const He=$.dom.add(xe,ce,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},Me.dom),Xe=bC(He),pt=Oa(null!==(he=He.textContent)&&void 0!==he?he:"");if($.dom.remove(He),Qx(pt,0)||Qx(pt,pt.length-1)){const ut=se.getOr(xe),Rt=bC(ut),Jt=Rt.indexOf(Xe);return-1===Jt?Xe:(Qx(Rt,Jt-1)?" ":"")+Xe+(Qx(Rt,Jt+Xe.length)?" ":"")}return Xe}).getOr("");var $;{const $=((re,he)=>{const se=re.selection.getRng(),xe=re.dom.create("body"),ce=re.selection.getSel(),Me=mS(re,oy(ce)),He=he.contextual?((s,c,p)=>{const m=kf(c,s);return m.length>0?((s,c)=>{return(p=s,m=c[0],Uc(m,"table",It(Br,p))).bind(p=>{const m=c[0],b=c[c.length-1],_=(k=>{const D=Vm(Vi(k),0,[]);return Ht(ga(k,"tr"),(z,H)=>{Ht(ga(z,"td,th"),(X,$)=>{((re,he,se,xe,ce)=>{const Me=N2(ce,"rowspan"),He=N2(ce,"colspan"),Xe=re.rows;for(let pt=se;pt<se+Me;pt++){Xe[pt]||(Xe[pt]=qf(qi(xe),[]));for(let ut=he;ut<he+He;ut++)Xe[pt].cells[ut]=pt===se&&ut===he?ce:Vi(ce)}})(D,((re,he,se)=>{for(;R2(re,he,se);)he++;return he})(D,$,H),H,z,X)})}),Vm(D.element,Dp(D.rows),D.rows)})(p);return(k=_,D=m,z=b,B2(k,D).bind(H=>B2(k,z).map(X=>(($,re,he)=>{const se=re.x,xe=re.y,ce=he.x,Me=he.y,He=xe<Me?Kx($,se,xe,ce,Me):Kx($,se,Me,ce,xe);return Vm($.element,Dp(He),He)})(k,H,X)))).map(k=>qb([z2(k)]));var k,D,z}).getOrThunk(yC);var p,m})(s,m):(b=s,k=p,(_=c).length>0&&_[0].collapsed?yC():(D=b,H=k,((X,$)=>{const re=pr($,(he,se)=>(qo(se,he),se),X);return $.length>0?qb([re]):re})(Yt((z=_[0]).cloneContents()),((s,c,p)=>{const m=Yt(c.commonAncestorContainer),b=jh(m,s),_=En(b,z=>p.isWrapper(Cr(z))),k=(H=c,_n(z=b,X=>"li"===Cr(X)&&em(X,H)).fold(rt([]),X=>{return($=z,_n($,re=>"ul"===Cr(re)||"ol"===Cr(re))).map($=>{const re=ra(Cr($)),he=Pt(Ch($),(se,xe)=>Fn(xe,"list-style"));return Il(re,he),[ra("li"),re]}).getOr([]);var $})),D=_.concat(k.length?k:(z=>os(z)?ba(z).filter(ul).fold(rt([]),H=>[z,H]):ul(z)?[z]:[])(m));var z,H;return Bt(D,Vi)})(D,z,H))));var b,_,k,D,z,H})(Yt(re.getBody()),Me,re.schema).dom:se.cloneContents();return He&&xe.appendChild(He),re.selection.serializer.serialize(xe,he)})(H,X);return"tree"===X.format?$:H.selection.isCollapsed()?"":$}})(m,D);return P2(m,z,D)})})(s,c,p)},autocompleter:{addDecoration:c=>((s,c)=>{if(CT(Yt(s.getBody())).isNone()){const m=is('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',s.getDoc());qo(m,Yt(c.extractContents())),c.insertNode(m.dom),ba(m).each(b=>b.dom.normalize()),(p=m,((b,_)=>{const k=D=>{const z=Po(D);for(let H=z.length-1;H>=0;H--){const X=z[H];if(_(X))return ue.some(X);const $=k(X);if($.isSome())return $}return ue.none()};return k(b)})(p,rx)).map(b=>{var _;s.selection.setCursorLocation(b.dom,"img"===Cr(_=b)?1:of(_).fold(()=>Po(_).length,k=>k.length))})}var p})(s,c),removeDecoration:()=>{return c=s,p=Yt(s.getBody()),CT(p).each(m=>{const b=c.selection.getBookmark();sl(m),c.selection.moveToBookmark(b)});var c,p}},raw:{getModel:()=>ue.none()}}),hh=s=>Gt(s.plugins,"rtc"),t1=s=>s.rtcInstance?s.rtcInstance:AC(s),ya=s=>{const c=s.rtcInstance;if(c)return c;throw new Error("Failed to get RTC instance not yet initialized.")},MC=s=>ya(s).init.bindEvents(),TC=s=>0===s.dom.length?(yo(s),ue.none()):ue.some(s),Nc=(s,c,p,m,b)=>{s.bind(_=>((m?zf:Bf)(_.dom,m?_.dom.length:0,b),c.filter(ja).map(k=>((D,z,H,X,$)=>{const re=D.dom,he=z.dom,se=X?re.length:he.length;X?(hx(re,he,$,!1,!X),H.setStart(he,se)):(hx(he,re,$,!1,!X),H.setEnd(he,se))})(_,k,p,m,b)))).orThunk(()=>{return(k=c,D=m,k.filter(z=>Tf.isBookmarkNode(z.dom)).bind(D?Tl:Ml)).or(c).filter(ja).map(k=>((D,z,H)=>{ba(D).each(X=>{const $=D.dom;z&&xy(X,wn($,0),H)?Bf($,0,H):!z&&_y(X,wn($,$.length),H)&&zf($,$.length,H)})})(k,m,b));var k,D})},EC=(s,c,p)=>{if(Gt(s,c)){const m=En(s[c],b=>b!==p);0===m.length?delete s[c]:s[c]=m}},Hm=s=>!(!s||!s.ownerDocument)&&$r(Yt(s.ownerDocument),Yt(s)),Lp=(s,c,p,m)=>{let b,_;const{selectorChangedWithUnbind:k}=((ce,Me)=>{let He,Xe;const pt=(Rt,Jt)=>_n(Jt,rn=>ce.is(rn,Rt)),ut=Rt=>ce.getParents(Rt,void 0,ce.getRoot());return{selectorChangedWithUnbind:(Rt,Jt)=>(He||(He={},Xe={},Me.on("NodeChange",rn=>{const sn=rn.element,fn=ut(sn),Wt={};Ye(He,(en,un)=>{pt(un,fn).each(An=>{Xe[un]||(Ht(en,li=>{li(!0,{node:An,selector:un,parents:fn})}),Xe[un]=en),Wt[un]=en})}),Ye(Xe,(en,un)=>{Wt[un]||(delete Xe[un],Ht(en,An=>{An(!1,{node:sn,selector:un,parents:fn})}))})})),He[Rt]||(He[Rt]=[]),He[Rt].push(Jt),pt(Rt,ut(Me.selection.getStart())).each(()=>{Xe[Rt]=He[Rt]}),{unbind:()=>{EC(He,Rt,Jt),EC(Xe,Rt,Jt)}})}})(s,m),D=(ce,Me)=>((He,Xe,pt={})=>{const ut=(Rt=pt,Jt=Xe,{format:"html",...Rt,set:!0,selection:!0,content:Jt});var Rt,Jt;Uy(He,ut).each(Rt=>{const Jt=((sn,fn)=>{if("raw"!==fn.format){const Wt=sn.selection.getRng(),en=sn.dom.getParent(Wt.commonAncestorContainer,sn.dom.isBlock),un=en?{context:en.nodeName.toLowerCase()}:{},An=sn.parser.parse(fn.content,{forced_root_block:!1,...un,...fn});return Pd({validate:!1},sn.schema).serialize(An)}return fn.content})(He,Rt),rn=He.selection.getRng();((sn,fn,Wt)=>{const en=ue.from(fn.firstChild).map(Yt),un=ue.from(fn.lastChild).map(Yt);sn.deleteContents(),sn.insertNode(fn);const An=en.bind(Ml).filter(ja).bind(TC),li=un.bind(Tl).filter(ja).bind(TC);Nc(An,en,sn,!0,Wt),Nc(li,un,sn,!1,Wt),sn.collapse(!1)})(rn,rn.createContextualFragment(Jt),He.schema),He.selection.setRng(rn),um(He,rn),Zx(He,Jt,Rt)})})(m,ce,Me),z=ce=>{const Me=X();Me.collapse(!!ce),$(Me)},H=()=>c.getSelection?c.getSelection():c.document.selection,X=()=>{let ce;const Me=(Xe,pt,ut)=>{try{return pt.compareBoundaryPoints(Xe,ut)}catch{return-1}},He=c.document;if(Ke(m.bookmark)&&!Pf(m)){const Xe=hS(m);if(Xe.isSome())return Xe.map(pt=>mS(m,[pt])[0]).getOr(He.createRange())}try{const Xe=H();Xe&&!Rs(Xe.anchorNode)&&(ce=Xe.rangeCount>0?Xe.getRangeAt(0):He.createRange(),ce=mS(m,[ce])[0])}catch{}if(ce||(ce=He.createRange()),Mh(ce.startContainer)&&ce.collapsed){const Xe=s.getRoot();ce.setStart(Xe,0),ce.setEnd(Xe,0)}return b&&_&&(0===Me(ce.START_TO_START,ce,b)&&0===Me(ce.END_TO_END,ce,b)?ce=_:(b=null,_=null)),ce},$=(ce,Me)=>{if(!((Xe=ce)&&Hm(Xe.startContainer)&&Hm(Xe.endContainer)))return;var Xe;const He=H();if(ce=m.dispatch("SetSelectionRange",{range:ce,forward:Me}).range,He){_=ce;try{He.removeAllRanges(),He.addRange(ce)}catch{}!1===Me&&He.extend&&(He.collapse(ce.endContainer,ce.endOffset),He.extend(ce.startContainer,ce.startOffset)),b=He.rangeCount>0?He.getRangeAt(0):null}if(!ce.collapsed&&ce.startContainer===ce.endContainer&&He?.setBaseAndExtent&&ce.endOffset-ce.startOffset<2&&ce.startContainer.hasChildNodes()){const Xe=ce.startContainer.childNodes[ce.startOffset];Xe&&"IMG"===Xe.nodeName&&(He.setBaseAndExtent(ce.startContainer,ce.startOffset,ce.endContainer,ce.endOffset),He.anchorNode===ce.startContainer&&He.focusNode===ce.endContainer||He.setBaseAndExtent(Xe,0,Xe,1))}m.dispatch("AfterSetSelectionRange",{range:ce,forward:Me})},re=()=>{const ce=H(),Me=ce?.anchorNode,He=ce?.focusNode;if(!ce||!Me||!He||Rs(Me)||Rs(He))return!0;const Xe=s.createRng(),pt=s.createRng();try{Xe.setStart(Me,ce.anchorOffset),Xe.collapse(!0),pt.setStart(He,ce.focusOffset),pt.collapse(!0)}catch{return!0}return Xe.compareBoundaryPoints(Xe.START_TO_START,pt)<=0},he={dom:s,win:c,serializer:p,editor:m,expand:(ce={type:"word"})=>$(ah(s).expand(X(),ce)),collapse:z,setCursorLocation:(ce,Me)=>{const He=s.createRng();Ke(ce)&&Ke(Me)?(He.setStart(ce,Me),He.setEnd(ce,Me),$(He),z(!1)):(Vw(s,He,m.getBody(),!0),$(He))},getContent:ce=>((Me,He={})=>{return pt=He.format?He.format:"html",ut=He,ya(Me).selection.getContent(pt,ut);var pt,ut})(m,ce),setContent:D,getBookmark:(ce,Me)=>se.getBookmark(ce,Me),moveToBookmark:ce=>se.moveToBookmark(ce),select:(ce,Me)=>{return(He=s,Xe=ce,pt=Me,ue.from(Xe).bind(ut=>ue.from(ut.parentNode).map(Rt=>{const Jt=He.nodeIndex(ut),rn=He.createRng();return rn.setStart(Rt,Jt),rn.setEnd(Rt,Jt+1),pt&&(Vw(He,rn,ut,!0),Vw(He,rn,ut,!1)),rn}))).each($),ce;var He,Xe,pt},isCollapsed:()=>{const ce=X(),Me=H();return!(!ce||ce.item)&&(ce.compareEndPoints?0===ce.compareEndPoints("StartToEnd",ce):!Me||ce.collapsed)},isEditable:()=>{const ce=X(),Me=m.getBody().querySelectorAll('[data-mce-selected="1"]');return Me.length>0?ai(Me,He=>s.isEditable(He.parentElement)):xT(s,ce)},isForward:re,setNode:ce=>(D(s.getOuterHTML(ce)),ce),getNode:()=>((ce,Me)=>{if(!Me)return ce;let He=Me.startContainer,Xe=Me.endContainer;const pt=Me.startOffset,ut=Me.endOffset;let Rt=Me.commonAncestorContainer;Me.collapsed||(He===Xe&&ut-pt<2&&He.hasChildNodes()&&(Rt=He.childNodes[pt]),Rn(He)&&Rn(Xe)&&(He=He.length===pt?gS(He.nextSibling,!0):He.parentNode,Xe=0===ut?gS(Xe.previousSibling,!1):Xe.parentNode,He&&He===Xe&&(Rt=He)));const Jt=Rn(Rt)?Rt.parentNode:Rt;return Xa(Jt)?Jt:ce})(m.getBody(),X()),getSel:H,setRng:$,getRng:X,getStart:ce=>wT(m.getBody(),X(),ce),getEnd:ce=>ST(m.getBody(),X(),ce),getSelectedBlocks:(ce,Me)=>((He,Xe,pt,ut)=>{const Rt=[],Jt=He.getRoot(),rn=He.getParent(pt||wT(Jt,Xe,Xe.collapsed),He.isBlock),sn=He.getParent(ut||ST(Jt,Xe,Xe.collapsed),He.isBlock);if(rn&&rn!==Jt&&Rt.push(rn),rn&&sn&&rn!==sn){let fn;const Wt=new Jo(rn,Jt);for(;(fn=Wt.next())&&fn!==sn;)He.isBlock(fn)&&Rt.push(fn)}return sn&&rn!==sn&&sn!==Jt&&Rt.push(sn),Rt})(s,X(),ce,Me),normalize:()=>{const ce=X(),Me=H();if(!(oy(Me).length>1)&&sy(m)){const He=Ub(s,ce);return He.each(Xe=>{$(Xe,re())}),He.getOr(ce)}return ce},selectorChanged:(ce,Me)=>(k(ce,Me),he),selectorChangedWithUnbind:k,getScrollContainer:()=>{let ce,Me=s.getRoot();for(;Me&&"BODY"!==Me.nodeName;){if(Me.scrollHeight>Me.clientHeight){ce=Me;break}Me=Me.parentNode}return ce},scrollIntoView:(ce,Me)=>{var He;Ke(ce)?((He=m).inline?lT:uT)(He,ce,Me):um(m,X(),Me)},placeCaretAt:(ce,Me)=>$(il(ce,Me,m.getDoc())),getBoundingClientRect:()=>{const ce=X();return ce.collapsed?wn.fromRangeStart(ce).getClientRects()[0]:ce.getBoundingClientRect()},destroy:()=>{c=b=_=null,xe.destroy()}},se=Tf(he),xe=Qw(he,m);return he.bookmarkManager=se,he.controlSelection=xe,he},xD=(s,c,p)=>{-1===Dn.inArray(c,p)&&(s.addAttributeFilter(p,(m,b)=>{let _=m.length;for(;_--;)m[_].attr(b,null)}),c.push(p))},j2=(s,c)=>{const p=((s,c)=>{const p=["data-mce-selected"],m={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...s},b=c&&c.dom?c.dom:E.DOM,_=c&&c.schema?c.schema:Ks(m),k=qh(m,_);return z=m,H=b,(D=k).addAttributeFilter("data-mce-tabindex",(X,$)=>{let re=X.length;for(;re--;){const he=X[re];he.attr("tabindex",he.attr("data-mce-tabindex")),he.attr($,null)}}),D.addAttributeFilter("src,href,style",(X,$)=>{const re="data-mce-"+$,he=z.url_converter,se=z.url_converter_scope;let xe=X.length;for(;xe--;){const ce=X[xe];let Me=ce.attr(re);void 0!==Me?(ce.attr($,Me.length>0?Me:null),ce.attr(re,null)):(Me=ce.attr($),"style"===$?Me=H.serializeStyle(H.parseStyle(Me),ce.name):he&&(Me=he.call(se,Me,$,ce.name)),ce.attr($,Me.length>0?Me:null))}}),D.addAttributeFilter("class",X=>{let $=X.length;for(;$--;){const re=X[$];let he=re.attr("class");he&&(he=he.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),re.attr("class",he.length>0?he:null))}}),D.addAttributeFilter("data-mce-type",(X,$,re)=>{let he=X.length;for(;he--;){const se=X[he];"bookmark"===se.attr("data-mce-type")&&!re.cleanup&&(ue.from(se.firstChild).exists(ce=>{var Me;return!Zs(null!==(Me=ce.value)&&void 0!==Me?Me:"")})?se.unwrap():se.remove())}}),D.addNodeFilter("noscript",X=>{var $;let re=X.length;for(;re--;){const he=X[re].firstChild;he&&(he.value=nc.decode(null!==($=he.value)&&void 0!==$?$:""))}}),D.addNodeFilter("script,style",(X,$)=>{var re;const he=xe=>xe.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let se=X.length;for(;se--;){const xe=X[se],ce=xe.firstChild,Me=null!==(re=ce?.value)&&void 0!==re?re:"";if("script"===$){const He=xe.attr("type");He&&xe.attr("type","mce-no/type"===He?null:He.replace(/^mce\-/,"")),"xhtml"===z.element_format&&ce&&Me.length>0&&(ce.value="// <![CDATA[\n"+he(Me)+"\n// ]]>")}else"xhtml"===z.element_format&&ce&&Me.length>0&&(ce.value="\x3c!--\n"+he(Me)+"\n--\x3e")}}),D.addNodeFilter("#comment",X=>{let $=X.length;for(;$--;){const re=X[$],he=re.value;z.preserve_cdata&&0===he?.indexOf("[CDATA[")?(re.name="#cdata",re.type=4,re.value=H.decode(he.replace(/^\[CDATA\[|\]\]$/g,""))):0===he?.indexOf("mce:protected ")&&(re.name="#text",re.type=3,re.raw=!0,re.value=unescape(he).substr(14))}}),D.addNodeFilter("xml:namespace,input",(X,$)=>{let re=X.length;for(;re--;){const he=X[re];7===he.type?he.remove():1===he.type&&("input"!==$||he.attr("type")||he.attr("type","text"))}}),D.addAttributeFilter("data-mce-type",X=>{Ht(X,$=>{"format-caret"===$.attr("data-mce-type")&&($.isEmpty(D.schema.getNonEmptyElements())?$.remove():$.unwrap())})}),D.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(X,$)=>{let re=X.length;for(;re--;)X[re].attr($,null)}),z.remove_trailing_brs&&sC(z,D,D.schema),{schema:_,addNodeFilter:k.addNodeFilter,addAttributeFilter:k.addAttributeFilter,serialize:(D,z={})=>{const H={format:"html",...z},X=(se=D,Me=xe=H,Ke(ce=he=c)&&ce.hasEventListeners("PreProcess")&&!Me.no_events?((ce,Me,He)=>{let Xe;const pt=ce.dom;let ut=Me.cloneNode(!0);const Rt=document.implementation;if(Rt.createHTMLDocument){const Jt=Rt.createHTMLDocument("");Dn.each("BODY"===ut.nodeName?ut.childNodes:[ut],rn=>{Jt.body.appendChild(Jt.importNode(rn,!0))}),ut="BODY"!==ut.nodeName?Jt.body.firstChild:Jt.body,Xe=pt.doc,pt.doc=Jt}return rn={...He,node:ut},ce.dispatch("PreProcess",rn),Xe&&(pt.doc=Xe),ut;var rn})(he,se,xe):se),$=((he,se,xe)=>{const ce=Oa(xe.getInner?se.innerHTML:he.getOuterHTML(se));return xe.selection||Eh(Yt(se))?ce:Dn.trim(ce)})(b,X,H),re=((he,se,xe)=>{const ce=xe.selection?{forced_root_block:!1,...xe}:xe,Me=he.parse(se,ce);return(He=>{const Xe=ut=>"br"===ut?.name,pt=He.lastChild;if(Xe(pt)){const ut=pt.prev;Xe(ut)&&(pt.remove(),ut.remove())}})(Me),Me})(k,$,H);var he,se,xe,ce,Me;return"tree"===H.format?re:((he,se,xe,ce,Me)=>{var ut;return((Xe,pt,ut)=>{return!pt.no_events&&Xe?(Jt=Xe,rn={...pt,content:ut},Jt.dispatch("PostProcess",rn)).content:ut;var Jt,rn})(he,Me,(ut=ce,Pd(se,xe).serialize(ut)))})(c,m,_,re,H)},addRules:_.addValidElements,setRules:_.setValidElements,addTempAttr:It(xD,k,p),getTempAttrs:rt(p),getNodeFilters:k.getNodeFilters,getAttributeFilters:k.getAttributeFilters,removeNodeFilter:k.removeNodeFilter,removeAttributeFilter:k.removeAttributeFilter};var D,z,H})(s,c);return{schema:p.schema,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:p.serialize,addRules:p.addRules,setRules:p.setRules,addTempAttr:p.addTempAttr,getTempAttrs:p.getTempAttrs,getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},Wm=(s,c,p={})=>{const m=(b=p,_=c,{format:"html",...b,set:!0,content:_});var b,_;return Uy(s,m).map(b=>{const _=(D=b.content,z=b,t1(s).editor.setContent(D,z));var D,z;return Zx(s,_.html,b),_.content}).getOr(c)},Y2="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),dh="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),wD="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),G2=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],xu=(s,c)=>{const p=En(c,m=>Gt(s,m));return po(p)},ph=(s,c)=>{const p=Dn.makeMap(s.plugins," "),m=En(c,b=>Gt(p,b));return po(m)},n1=s=>_n(G2,c=>c.name===s).fold(()=>s,c=>c.replacedWith?`${s}, replaced by ${c.replacedWith}`:s),Gs=E.DOM,$y=s=>ue.from(s).each(c=>c.destroy()),i1=(()=>{const s={};return{add:(c,p)=>{s[c]=p},get:c=>s[c]?s[c]:{icons:{}},has:c=>Gt(s,c)}})(),$f=le.ModelManager,q2=(s,c)=>c.dom[s],r1=(s,c)=>parseInt($s(c,s),10),IC=It(q2,"clientWidth"),U2=It(q2,"clientHeight"),$2=It(r1,"margin-top"),Z2=It(r1,"margin-left"),OC=s=>{const c=[],p=()=>{const z=s.theme;return z&&z.getNotificationManagerImpl?z.getNotificationManagerImpl():(()=>{const H=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:H,close:H,getArgs:H}})()},m=()=>ue.from(c[0]),b=()=>{Ht(c,z=>{z.reposition()})},_=z=>{Gn(c,H=>H===z).each(H=>{c.splice(H,1)})},k=(z,H=!0)=>{return s.removed||!($=(X=s).inline?X.getBody():X.getContentAreaContainer(),ue.from($).map(Yt)).map(_a).getOr(!1)?{}:(H&&s.dispatch("BeforeOpenNotification",{notification:z}),_n(c,X=>{return!(($=p().getArgs(X)).type!==(re=z).type||$.text!==re.text||$.progressBar||$.timeout||re.progressBar||re.timeout);var $,re}).getOrThunk(()=>{s.editorManager.setActive(s);const X=p().open(z,()=>{_(X),b(),bT(s)&&m().fold(()=>s.focus(),$=>hT(Yt($.getEl())))});return($=>{c.push($)})(X),b(),s.dispatch("OpenNotification",{notification:{...X}}),X}));var X,$},D=rt(c);return(z=s).on("SkinLoaded",()=>{const H=PM(z);H&&k({text:H,type:"warning",timeout:0},!1),b()}),z.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(b)}),z.on("remove",()=>{Ht(c.slice(),H=>{p().close(H)})}),{open:k,close:()=>{m().each(z=>{p().close(z),_(z),b()})},getNotifications:D};var z},jm=le.PluginManager,Zf=le.ThemeManager,DC=s=>{let c=[];const p=()=>{const k=s.theme;return k&&k.getWindowManagerImpl?k.getWindowManagerImpl():(()=>{const D=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:D,openUrl:D,alert:D,confirm:D,close:D}})()},m=(k,D)=>(...z)=>D?D.apply(k,z):void 0,b=k=>{s.dispatch("CloseWindow",{dialog:k}),c=En(c,D=>D!==k),0===c.length&&s.focus()},_=k=>{s.editorManager.setActive(s),bp(s),s.ui.show();const D=k();return c.push(z=D),s.dispatch("OpenWindow",{dialog:z}),D;var z};return s.on("remove",()=>{Ht(c,k=>{p().close(k)})}),{open:(k,D)=>_(()=>p().open(k,D,b)),openUrl:k=>_(()=>p().openUrl(k,b)),alert:(k,D,z)=>{const H=p();H.alert(k,m(z||H,D))},confirm:(k,D,z)=>{const H=p();H.confirm(k,m(z||H,D))},close:()=>{ue.from(c[c.length-1]).each(k=>{p().close(k),b(k)})}}},xl=(s,c)=>{s.notificationManager.open({type:"error",text:c})},Ym=(s,c)=>{s._skinLoaded?xl(s,c):s.on("SkinLoaded",()=>{xl(s,c)})},Zy=(s,c,p)=>{$w(s,c,{message:p}),console.error(p)},Pp=(s,c,p)=>p?`Failed to load ${s}: ${p} from url ${c}`:`Failed to load ${s} url: ${c}`,Kf=(s,...c)=>{const p=window.console;p&&(p.error?p.error(s,...c):p.log(s,...c))},LC=s=>"content/"+s+"/content.css",o1=(s,c)=>{const p=s.editorManager.baseURL+"/skins/content",m=`content${s.editorManager.suffix}.css`;return Bt(c,b=>tinymce.Resource.has(LC(b))?b:/^[a-z0-9\-]+$/i.test(b)&&!s.inline?`${p}/${b}/${m}`:s.documentBaseURI.toAbsolute(b))},a1=()=>{let s={};const c=(m,b)=>({status:m,resultUri:b}),p=m=>m in s;return{hasBlobUri:p,getResultUri:m=>{const b=s[m];return b?b.resultUri:null},isPending:m=>!!p(m)&&1===s[m].status,isUploaded:m=>!!p(m)&&2===s[m].status,markPending:m=>{s[m]=c(1,null)},markUploaded:(m,b)=>{s[m]=c(2,b)},removeFailed:m=>{delete s[m]},destroy:()=>{s={}}}};let K2=0;const Q2=s=>()=>s.notificationManager.open({text:s.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),NC=(s,c)=>((s,c)=>{const p={},m=(z,H)=>new Promise((X,$)=>{const re=new XMLHttpRequest;re.open("POST",c.url),re.withCredentials=c.credentials,re.upload.onprogress=se=>{H(se.loaded/se.total*100)},re.onerror=()=>{$("Image upload failed due to a XHR Transport error. Code: "+re.status)},re.onload=()=>{if(re.status<200||re.status>=300)return void $("HTTP Error: "+re.status);const se=JSON.parse(re.responseText);var xe,ce;se&&ve(se.location)?X((ce=se.location,(xe=c.basePath)?xe.replace(/\/$/,"")+"/"+ce.replace(/^\//,""):ce)):$("Invalid JSON: "+re.responseText)};const he=new FormData;he.append("file",z.blob(),z.filename()),re.send(he)}),b=yt(c.handler)?c.handler:m,_=(z,H)=>({url:H,blobInfo:z,status:!0}),k=(z,H)=>({url:"",blobInfo:z,status:!1,error:H}),D=(z,H)=>{Dn.each(p[z],X=>{X(H)}),delete p[z]};return{upload:(z,H)=>{return c.url||b!==m?($=H,X=Dn.grep(X=z,re=>!s.isUploaded(re.blobUri())),Promise.all(Dn.map(X,re=>{return s.isPending(re.blobUri())?(he=>{const se=he.blobUri();return new Promise(xe=>{p[se]=p[se]||[],p[se].push(xe)})})(re):(se=b,xe=$,s.markPending((he=re).blobUri()),new Promise(ce=>{let Me,He;try{const Xe=()=>{Me&&(Me.close(),He=lt)},pt=Rt=>{Xe(),s.markUploaded(he.blobUri(),Rt),D(he.blobUri(),_(he,Rt)),ce(_(he,Rt))},ut=Rt=>{Xe(),s.removeFailed(he.blobUri()),D(he.blobUri(),k(he,Rt)),ce(k(he,Rt))};He=Rt=>{Rt<0||Rt>100||ue.from(Me).orThunk(()=>ue.from(xe).map(pn)).each(Jt=>{Me=Jt,Jt.progressBar.value(Rt)})},se(he,He).then(pt,Rt=>{ut(ve(Rt)?{message:Rt}:Rt)})}catch(Xe){ce(k(he,Xe))}}));var he,se,xe}))):new Promise(X=>{X([])});var X,$}}})(c,{url:bf(s),basePath:Wv(s),credentials:yw(s),handler:IM(s)}),J2={remove_similar:!0,inherit:!1},Np={selector:"td,th",...J2},SD={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Np},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Np},tablecellbordercolor:{styles:{borderColor:"%value"},...Np},tablecellclass:{classes:["%value"],...Np},tableclass:{selector:"table",classes:["%value"],...J2},tablecellborderstyle:{styles:{borderStyle:"%value"},...Np},tablecellborderwidth:{styles:{borderWidth:"%value"},...Np}},CD=rt(SD),Qy=Dn.each,hc=E.DOM,s1=s=>Ke(s)&&Ne(s),fs=(s,c)=>{const p=c&&c.schema||Ks({}),m=k=>{const D=ve(k)?{name:k,classes:[],attrs:{}}:k,z=hc.create(D.name);return H=z,(X=D).classes.length>0&&hc.addClass(H,X.classes.join(" ")),hc.setAttribs(H,X.attrs),z;var H,X},b=(k,D,z)=>{let H;const X=D[0],$=s1(X)?X.name:void 0,re=((xe,ce)=>{const He=p.getElementRule(xe.nodeName.toLowerCase())?.parentsRequired;return!(!He||!He.length)&&(ce&&Et(He,ce)?ce:He[0])})(k,$);if(re)$===re?(H=X,D=D.slice(1)):H=re;else if(X)H=X,D=D.slice(1);else if(!z)return k;const he=H?m(H):hc.create("div");he.appendChild(k),z&&Dn.each(z,xe=>{const ce=m(xe);he.insertBefore(ce,k)});const se=s1(H)?H.siblings:void 0;return b(he,D,se)},_=hc.create("div");if(s.length>0){const k=s[0],D=m(k),z=s1(k)?k.siblings:void 0;_.appendChild(b(D,s.slice(1),z))}return _},RC=s=>{let c="div";const p={name:c,classes:[],attrs:{},selector:s=Dn.trim(s)};return"*"!==s&&(c=s.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(m,b,_,k,D)=>{switch(b){case"#":p.attrs.id=_;break;case".":p.classes.push(_);break;case":":-1!==Dn.inArray("checked disabled enabled read-only required".split(" "),_)&&(p.attrs[_]=_)}if("["===k){const z=D.match(/([\w\-]+)(?:\=\"([^\"]+))?/);z&&(p.attrs[z[1]]=z[2])}return""})),p.name=c||"div",p},BC=(s,c)=>{let p="",m=YO(s);if(""===m)return"";const b=he=>ve(he)?he.replace(/%(\w+)/g,""):"",_=(he,se)=>hc.getStyle(se??s.getBody(),he,!0);if(ve(c)){const he=s.formatter.get(c);if(!he)return"";c=he[0]}if("preview"in c){const he=c.preview;if(!1===he)return"";m=he||m}let k,D=c.block||c.inline||"span";const z=ve(H=c.selector)?(H=(H=H.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dn.map(H.split(/(?:>|\s+(?![^\[\]]+\]))/),he=>{const se=Dn.map(he.split(/(?:~\+|~|\+)/),RC),xe=se.pop();return se.length&&(xe.siblings=se),xe}).reverse()):[];var H;z.length>0?(z[0].name||(z[0].name=D),D=c.selector,k=fs(z,s)):k=fs([D],s);const X=hc.select(D,k)[0]||k.firstChild;Qy(c.styles,(he,se)=>{const xe=b(he);xe&&hc.setStyle(X,se,xe)}),Qy(c.attributes,(he,se)=>{const xe=b(he);xe&&hc.setAttrib(X,se,xe)}),Qy(c.classes,he=>{const se=b(he);hc.hasClass(X,se)||hc.addClass(X,se)}),s.dispatch("PreviewFormats"),hc.setStyles(k,{position:"absolute",left:-65535}),s.getBody().appendChild(k);const $=_("fontSize"),re=/px$/.test($)?parseInt($,10):0;return Qy(m.split(" "),he=>{let se=_(he,X);if(!("background-color"===he&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(se)&&(se=_(he),"#ffffff"===iu(se).toLowerCase())||"color"===he&&"#000000"===iu(se).toLowerCase())){if("font-size"===he&&/em|%$/.test(se)){if(0===re)return;se=parseFloat(se)/(/%$/.test(se)?100:1)*re+"px"}"border"===he&&se&&(p+="padding:0 2px;"),p+=he+":"+se+";"}}),s.dispatch("AfterPreviewFormats"),hc.remove(k),p},zC=s=>{const c=(m=>{const b={},_=(k,D)=>{k&&(ve(k)?(Ce(D)||(D=[D]),Ht(D,z=>{Ae(z.deep)&&(z.deep=!Ts(z)),Ae(z.split)&&(z.split=!Ts(z)||io(z)),Ae(z.remove)&&Ts(z)&&!io(z)&&(z.remove="none"),Ts(z)&&io(z)&&(z.mixed=!0,z.block_expand=!0),ve(z.classes)&&(z.classes=z.classes.split(/\s+/))}),b[k]=D):Ye(k,(z,H)=>{_(H,z)}))};return _((k=>{const D=k.dom,z=k.schema.type,H={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:X=>{D.setStyle(X,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:X=>{D.setStyle(X,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const X={inline:"span",styles:{textDecoration:"line-through"},exact:!0},$={inline:"strike",remove:"all",preserve_attributes:["class","style"]},re={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==z?[re,X,$]:[X,re,$]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(X,$,re)=>pi(X)&&X.hasAttribute("href"),onformat:(X,$,re)=>{Dn.each(re,(he,se)=>{D.setAttrib(X,se,he)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":X=>{var $;return null!==($=X?.customValue)&&void 0!==$?$:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),X=>{H[X]={block:X,remove:"all"}}),H})(m)),_(CD()),_(au(m)),{get:k=>Ke(k)?b[k]:b,has:k=>Gt(b,k),register:_,unregister:k=>(k&&b[k]&&delete b[k],b)}})(s),p=P({});return(m=>{m.addShortcut("meta+b","","Bold"),m.addShortcut("meta+i","","Italic"),m.addShortcut("meta+u","","Underline");for(let b=1;b<=6;b++)m.addShortcut("access+"+b,"",["FormatBlock",!1,"h"+b]);m.addShortcut("access+7","",["FormatBlock",!1,"p"]),m.addShortcut("access+8","",["FormatBlock",!1,"div"]),m.addShortcut("access+9","",["FormatBlock",!1,"address"])})(s),(m=s).on("mouseup keydown",b=>{var _;((k,D,z)=>{const H=k.selection,X=k.getBody();Nx(k,null,z),8!==D&&46!==D||!H.isCollapsed()||H.getStart().innerHTML!==Sm||Nx(k,Md(X,H.getStart()),!0),37!==D&&39!==D||Nx(k,Md(X,H.getStart()),!0)})(m,b.keyCode,(_=m.selection.getRng().endContainer,Rn(_)&&ni(_.data,go)))}),hh(s)||((m,b)=>{m.set({}),b.on("NodeChange",_=>{zy(b,_.element,m.get())}),b.on("FormatApply FormatRemove",_=>{const k=ue.from(_.node).map(D=>tm(D)?D:D.startContainer).bind(D=>pi(D)?ue.some(D):ue.from(D.parentElement)).getOrThunk(()=>f2(b));zy(b,k,m.get())})})(p,s),{get:c.get,has:c.has,register:c.register,unregister:c.unregister,apply:(m,b,_)=>{var D,z,H;D=m,z=b,H=_,ya(s).formatter.apply(D,z,H)},remove:(m,b,_,k)=>{var z,H,X,$;z=m,H=b,X=_,$=k,ya(s).formatter.remove(z,H,X,$)},toggle:(m,b,_)=>{var D,z,H;D=m,z=b,H=_,ya(s).formatter.toggle(D,z,H)},match:(m,b,_,k)=>{return z=m,H=b,X=_,$=k,ya(s).formatter.match(z,H,X,$);var z,H,X,$},closest:m=>{return _=m,ya(s).formatter.closest(_);var _},matchAll:(m,b)=>{return k=m,D=b,ya(s).formatter.matchAll(k,D);var k,D},matchNode:(m,b,_,k)=>{return z=m,H=b,X=_,$=k,ya(s).formatter.matchNode(z,H,X,$);var z,H,X,$},canApply:m=>{return _=m,ya(s).formatter.canApply(_);var _},formatChanged:(m,b,_,k)=>{return z=p,H=m,X=b,$=_,re=k,ya(s).formatter.formatChanged(z,H,X,$,re);var z,H,X,$,re},getCssText:It(BC,s)};var m},FC=s=>{switch(s.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Rp=s=>{const c=Be(),p=P(0),m=P(0),b={data:[],typing:!1,beforeChange:()=>{var k,D;k=p,D=c,ya(s).undoManager.beforeChange(k,D)},add:(_,k)=>{return z=b,H=m,X=p,$=c,re=_,he=k,ya(s).undoManager.add(z,H,X,$,re,he);var z,H,X,$,re,he},dispatchChange:()=>{s.setDirty(!0);const _=Jx(s);_.bookmark=mf(s.selection),s.dispatch("change",{level:_,lastLevel:Fr(b.data,m.get()).getOrUndefined()})},undo:()=>{return k=b,D=p,z=m,ya(s).undoManager.undo(k,D,z);var k,D,z},redo:()=>{return k=m,D=b.data,ya(s).undoManager.redo(k,D);var k,D},clear:()=>{var k,D;k=b,D=m,ya(s).undoManager.clear(k,D)},reset:()=>{var k;k=b,ya(s).undoManager.reset(k)},hasUndo:()=>{return k=b,D=m,ya(s).undoManager.hasUndo(k,D);var k,D},hasRedo:()=>{return k=b,D=m,ya(s).undoManager.hasRedo(k,D);var k,D},transact:_=>{return D=b,z=p,H=_,ya(s).undoManager.transact(D,z,H);var D,z,H},ignore:_=>{var D,z;D=p,z=_,ya(s).undoManager.ignore(D,z)},extra:(_,k)=>{var z,H,X,$;z=b,H=m,X=_,$=k,ya(s).undoManager.extra(z,H,X,$)}};return hh(s)||((_,k,D)=>{const z=P(!1),H=X=>{e1(k,!1,D),k.add({},X)};_.on("init",()=>{k.add()}),_.on("BeforeExecCommand",X=>{FC(X.command)||(kC(k,D),k.beforeChange())}),_.on("ExecCommand",X=>{FC(X.command)||H(X)}),_.on("ObjectResizeStart cut",()=>{k.beforeChange()}),_.on("SaveContent ObjectResized blur",H),_.on("dragend",H),_.on("keyup",X=>{const $=X.keyCode;if(X.isDefaultPrevented())return;const re=Mi.os.isMacOS()&&"Meta"===X.key;($>=33&&$<=36||$>=37&&$<=40||45===$||X.ctrlKey||re)&&(H(),_.nodeChanged()),46!==$&&8!==$||_.nodeChanged(),z.get()&&k.typing&&!Uf(Jx(_),k.data[0])&&(_.isDirty()||_.setDirty(!0),_.dispatch("TypingUndo"),z.set(!1),_.nodeChanged())}),_.on("keydown",X=>{const $=X.keyCode;if(!X.isDefaultPrevented()){if(!($>=33&&$<=36||$>=37&&$<=40||45===$))return!($<16||$>20)||224===$||91===$||k.typing||X.ctrlKey&&!X.altKey||X.metaKey?void((Mi.os.isMacOS()?X.metaKey:X.ctrlKey&&!X.altKey)&&k.beforeChange()):(k.beforeChange(),e1(k,!0,D),k.add({},X),void z.set(!0));k.typing&&H(X)}}),_.on("mousedown",X=>{k.typing&&H(X)}),_.on("input",X=>{var $,re;X.inputType&&("insertReplacementText"===X.inputType||"insertText"===($=X).inputType&&null===$.data||"insertFromPaste"===(re=X).inputType||"insertFromDrop"===re.inputType)&&H(X)}),_.on("AddUndo Undo Redo ClearUndos",X=>{X.isDefaultPrevented()||_.nodeChanged()})})(s,b,p),(_=s).addShortcut("meta+z","","Undo"),_.addShortcut("meta+y,meta+shift+z","","Redo"),b;var _},kD=[9,27,vi.HOME,vi.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,vi.DOWN,vi.UP,vi.LEFT,vi.RIGHT].concat(Mi.browser.isFirefox()?[224]:[]),eE="data-mce-placeholder",tE=s=>"keydown"===s.type||"keyup"===s.type,VC=s=>{const c=s.keyCode;return c===vi.BACKSPACE||c===vi.DELETE},nE=(s,c)=>({from:s,to:c}),Gm=(s,c)=>{const p=Yt(s),m=Yt(c.container());return Rd(p,m).map(b=>({block:b,position:c}))},Xm=(s,c)=>Na(c,p=>Jc(p)||Ss(p.dom),p=>Br(p,s)).filter(ys).getOr(s),HC=(s,c)=>{const p=((m,b)=>{const _=Po(m);return Gn(_,k=>b.isBlock(Cr(k))).fold(rt(_),k=>_.slice(0,k))})(s,c);return Ht(p,yo),p},WC=(s,c)=>{const p=jh(c,s);return _n(p.reverse(),m=>dn(m)).each(yo)},jC=(s,c,p,m,b)=>{if(dn(p))return bo(p),Ja(p.dom);0===En($l(b),k=>!dn(k)).length&&dn(c)&&Ga(b,ra("br"));const _=Ws(p.dom,wn.before(b.dom));return Ht(HC(c,m),k=>{Ga(b,k)}),WC(s,c),_},iE=(s,c,p,m)=>{if(dn(p)){if(dn(c)){const k=hi((D=>{const z=(H,X)=>Ls(H).fold(()=>X,$=>m.isInline(Cr($))?z($,X.concat(Vi($))):X);return z(D,[])})(p),(D,z)=>(Eu(D,z),z),eu());$c(c),qo(c,k)}return yo(p),Ja(c.dom)}const b=ac(p.dom);return Ht(HC(c,m),_=>{qo(p,_)}),WC(s,c),b},l1=(s,c)=>{Ad(s,c.dom).bind(p=>ue.from(p.getNode())).map(Yt).filter(ll).each(yo)},YC=(s,c,p,m)=>{return l1(!0,c),l1(!1,p),(b=c,_=p,$r(_,b)?((k,D)=>{const z=jh(D,k);return ue.from(z[z.length-1])})(_,b):ue.none()).fold(It(iE,s,c,p,m),It(jC,s,c,p,m));var b,_},GC=(s,c,p,m,b)=>c?YC(s,m,p,b):YC(s,p,m,b),c1=(s,c)=>{const p=Yt(s.getBody());return(b=p.dom,_=c,k=s.selection.getRng(),k.collapsed?((D,z,H)=>{const X=Gm(D,wn.fromRangeStart(H)),$=X.bind(re=>Ec(z,D,re.position).bind(he=>Gm(D,he).map(se=>{return xe=D,ce=z,Co((Me=se).position.getNode())&&!dn(Me.block)?Ad(!1,Me.block.dom).bind(He=>He.isEqual(Me.position)?Ec(ce,xe,He).bind(Xe=>Gm(xe,Xe)):ue.some(Me)).getOr(Me):Me;var xe,ce,Me})));return Gr(X,$,nE).filter(re=>{return!Br((he=re).from.block,he.to.block)&&((he,se)=>{const xe=Yt(he);return Br(Xm(xe,se.from.block),Xm(xe,se.to.block))})(D,re)&&(he=>!1===fo(he.from.block.dom)&&!1===fo(he.to.block.dom))(re)&&(he=>{const se=xe=>cl(xe)||No(xe.dom);return se(he.from.block)&&se(he.to.block)})(re);var he})})(b,_,k):ue.none()).map(b=>()=>{GC(p,c,b.from.block,b.to.block,s.schema).each(_=>{s.selection.setRng(_.toRange())})});var b,_,k},u1=(s,c)=>{const p=Yt(c),m=It(Br,s);return Ps(p,Jc,m).isSome()},h1=(s,c)=>s.selection.isCollapsed()?ue.none():(s=>{const c=Yt(s.getBody());return((p,m)=>{const b=Ws(p.dom,wn.fromRangeStart(m)).isNone(),_=Hs(p.dom,wn.fromRangeEnd(m)).isNone();return!(u1(k=p,(D=m).startContainer)||u1(k,D.endContainer))&&b&&_;var k,D})(c,s.selection.getRng())?(p=s,ue.some(()=>{p.setContent(""),p.selection.setCursorLocation()})):((p,m,b)=>{const _=m.getRng();return Gr(Rd(p,Yt(_.startContainer)),Rd(p,Yt(_.endContainer)),(k,D)=>Br(k,D)?ue.none():ue.some(()=>{_.deleteContents(),GC(p,!0,k,D,b).each(z=>{m.setRng(z.toRange())})})).getOr(ue.none())})(c,s.selection,s.schema);var p})(s),$h=(s,c,p,m,b)=>ue.from(c._selectionOverrides.showCaret(s,p,m,b)),qm=(s,c)=>s.dispatch("BeforeObjectSelected",{target:c}).isDefaultPrevented()?ue.none():ue.some((p=>{const m=p.ownerDocument.createRange();return m.selectNode(p),m})(c)),d1=(s,c,p)=>c.collapsed?((m,b,_)=>{const k=wb(1,m.getBody(),b),D=wn.fromRangeStart(k),z=D.getNode();if(fp(z))return $h(1,m,z,!D.isAtEnd(),!1);const H=D.getNode(!0);if(fp(H))return $h(1,m,H,!1,!1);const X=ds(m.dom.getRoot(),D.getNode());return fp(X)?$h(1,m,X,!1,_):ue.none()})(s,c,p).getOr(c):c,MD=s=>wp(s)||Nf(s),rE=s=>ao(s)||Bo(s),Jf=(s,c,p,m,b,_)=>{var k,D;$h(m,s,_.getNode(!b),b,!0).each(k=>{if(c.collapsed){const D=c.cloneRange();b?D.setEnd(k.startContainer,k.startOffset):D.setStart(k.endContainer,k.endOffset),D.deleteContents()}else c.deleteContents();s.selection.setRng(k)}),k=s.dom,Rn(D=p)&&0===D.data.length&&k.remove(D)},p1=(s,c)=>((p,m)=>{const b=p.selection.getRng();if(!Rn(b.commonAncestorContainer))return ue.none();const _=m?Fa.Forwards:Fa.Backwards,k=eh(p.getBody()),D=It(Sb,m?k.next:k.prev),z=m?MD:rE,H=$g(_,p.getBody(),b),X=D(H),$=X&&Dc(m,X);if(!$||!Cd(H,$))return ue.none();if(z($))return ue.some(()=>Jf(p,b,H.getNode(),_,m,$));const re=D($);return re&&z(re)&&Cd($,re)?ue.some(()=>Jf(p,b,H.getNode(),_,m,re)):ue.none()})(s,c),f1=(s,c)=>{const p=s.getBody();return c?Ja(p).filter(wp):ac(p).filter(ao)},g1=s=>{const c=s.selection.getRng();return!c.collapsed&&(f1(s,!0).exists(p=>p.isEqual(wn.fromRangeStart(c)))||f1(s,!1).exists(p=>p.isEqual(wn.fromRangeEnd(c))))},dc=Ac([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),m1=(s,c,p,m)=>Ec(c,s,p).bind(b=>{return _=b.getNode(),Ke(_)&&(Jc(Yt(_))||os(Yt(_)))||((k,D,z,H,X)=>{const $=re=>X.isInline(re.nodeName.toLowerCase())&&!Tc(z,H,k);return Pw(!D,z).fold(()=>Pw(D,H).fold(Vt,$),$)})(s,c,p,b,m)?ue.none():c&&fo(b.getNode())||!c&&fo(b.getNode(!0))?((k,D,z,H)=>{const X=H.getNode(!D);return Rd(Yt(k),Yt(z.getNode())).map($=>dn($)?dc.remove($.dom):dc.moveToElement(X)).orThunk(()=>ue.some(dc.moveToElement(X)))})(s,c,p,b):c&&ao(p)||!c&&wp(p)?ue.some(dc.moveToPosition(b)):ue.none();var _}),oE=(s,c)=>ue.from(ds(s.getBody(),c)),fh=s=>{const c=s.dom,p=s.selection,m=ds(s.getBody(),p.getNode());if(Ss(m)&&c.isBlock(m)&&c.isEmpty(m)){const b=c.create("br",{"data-mce-bogus":"1"});c.setHTML(m,""),m.appendChild(b),p.setRng(wn.before(b).toRange())}return!0},qC=(s,c)=>s.selection.isCollapsed()?((s,c)=>{const p=s.selection.getNode();return oE(s,p).filter(fo).fold(()=>((m,b,_,k)=>{const D=wb(b?1:-1,m,_),z=wn.fromRangeStart(D),H=Yt(m);return!b&&ao(z)?ue.some(dc.remove(z.getNode(!0))):b&&wp(z)?ue.some(dc.remove(z.getNode())):!b&&wp(z)&&IS(H,z,k)?FT(H,z,k).map(X=>dc.remove(X.getNode())):b&&ao(z)&&ux(H,z,k)?VT(H,z,k).map(X=>dc.remove(X.getNode())):(X=m,he=k,((se,xe)=>{const ce=xe.getNode(!se),Me=se?"after":"before";return pi(ce)&&ce.getAttribute("data-mce-caret")===Me})($=b,re=z)?(se=$,xe=re.getNode(!$),je(xe)?ue.none():se&&fo(xe.nextSibling)?ue.some(dc.moveToElement(xe.nextSibling)):!se&&fo(xe.previousSibling)?ue.some(dc.moveToElement(xe.previousSibling)):ue.none()).orThunk(()=>m1(X,$,re,he)):m1(X,$,re,he).bind(se=>((xe,ce,Me)=>Me.fold(He=>ue.some(dc.remove(He)),He=>ue.some(dc.moveToElement(He)),He=>Tc(ce,He,xe)?ue.none():ue.some(dc.moveToPosition(He))))(X,re,se)));var X,$,re,he,se,xe})(s.getBody(),c,s.selection.getRng(),s.schema).map(m=>()=>{return m.fold((b=s,_=c,k=>(b._selectionOverrides.hideFakeCaret(),Sp(b,_,Yt(k)),!0)),((b,_)=>k=>{const D=_?wn.before(k):wn.after(k);return b.selection.setRng(D.toRange()),!0})(s,c),(b=>_=>(b.selection.setRng(_.toRange()),!0))(s));var b,_}),()=>ue.some(lt))})(s,c):((p,m)=>{const b=p.selection.getNode();return fo(b)&&!Rl(b)?oE(p,b.parentNode).filter(fo).fold(()=>ue.some(()=>{var _;_=Yt(p.getBody()),Ht(ga(_,".mce-offscreen-selection"),yo),Sp(p,m,Yt(p.selection.getNode())),Bd(p)}),()=>ue.some(lt)):g1(p)?ue.some(()=>{n2(p,p.selection.getRng(),Yt(p.getBody()))}):ue.none()})(s,c),eg=(s,c)=>s.selection.isCollapsed()?((p,m)=>{const b=wn.fromRangeStart(p.selection.getRng());return Ec(m,p.getBody(),b).filter(_=>m?RT(_):rD(_)).bind(_=>xb(m?0:-1,_)).map(_=>()=>p.selection.select(_))})(s,c):ue.none(),Vd=Rn,UC=s=>Vd(s)&&s.data[0]===ma,Jy=s=>Vd(s)&&s.data[s.data.length-1]===ma,v1=s=>{var c;return(null!==(c=s.ownerDocument)&&void 0!==c?c:document).createTextNode(ma)},Hd=(s,c)=>s?(p=>{var m;if(Vd(p.previousSibling))return Jy(p.previousSibling)||p.previousSibling.appendData(ma),p.previousSibling;if(Vd(p))return UC(p)||p.insertData(0,ma),p;{const b=v1(p);return null===(m=p.parentNode)||void 0===m||m.insertBefore(b,p),b}})(c):(p=>{var m,b;if(Vd(p.nextSibling))return UC(p.nextSibling)||p.nextSibling.insertData(0,ma),p.nextSibling;if(Vd(p))return Jy(p)||p.appendData(ma),p;{const _=v1(p);return p.nextSibling?null===(m=p.parentNode)||void 0===m||m.insertBefore(_,p.nextSibling):null===(b=p.parentNode)||void 0===b||b.appendChild(_),_}})(c),TD=It(Hd,!0),ED=It(Hd,!1),$C=(s,c)=>Rn(s.container())?Hd(c,s.container()):Hd(c,s.getNode()),ZC=(s,c)=>{const p=c.get();return p&&s.container()===p&&Gi(p)},e0=(s,c)=>c.fold(p=>{zh(s.get());const m=TD(p);return s.set(m),ue.some(wn(m,m.length-1))},p=>Ja(p).map(m=>{if(ZC(m,s)){const b=s.get();return wn(b,1)}{zh(s.get());const b=$C(m,!0);return s.set(b),wn(b,1)}}),p=>ac(p).map(m=>{if(ZC(m,s)){const b=s.get();return wn(b,b.length-1)}{zh(s.get());const b=$C(m,!1);return s.set(b),wn(b,b.length-1)}}),p=>{zh(s.get());const m=ED(p);return s.set(m),ue.some(wn(m,1))}),KC=(s,c)=>{for(let p=0;p<s.length;p++){const m=s[p].apply(null,c);if(m.isSome())return m}return ue.none()},es=Ac([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),t0=(s,c)=>hu(c,s)||s,ID=(s,c,p)=>{const m=QT(p),b=t0(c,m.container());return Nd(s,b,m).fold(()=>Hs(b,m).bind(It(Nd,s,b)).map(_=>es.before(_)),ue.none)},OD=(s,c)=>null===Md(s,c),tg=(s,c,p)=>Nd(s,c,p).filter(It(OD,c)),aE=(s,c,p)=>{const m=fx(p);return tg(s,c,m).bind(b=>Ws(b,m).isNone()?ue.some(es.start(b)):ue.none())},n0=(s,c,p)=>{const m=QT(p);return tg(s,c,m).bind(b=>Hs(b,m).isNone()?ue.some(es.end(b)):ue.none())},DD=(s,c,p)=>{const m=fx(p),b=t0(c,m.container());return Nd(s,b,m).fold(()=>Ws(b,m).bind(It(Nd,s,b)).map(_=>es.after(_)),ue.none)},y1=s=>!px(b1(s)),gh=(s,c,p)=>KC([ID,aE,n0,DD],[s,c,p]).filter(y1),b1=s=>s.fold(zt,zt,zt,zt),Um=s=>s.fold(rt("before"),rt("start"),rt("end"),rt("after")),i0=s=>s.fold(es.before,es.before,es.after,es.after),x1=s=>s.fold(es.start,es.start,es.end,es.end),Bp=(s,c,p,m,b,_)=>Gr(Nd(c,p,m),Nd(c,p,b),(k,D)=>k!==D&&((z,H,X)=>{const $=hu(H,z),re=hu(X,z);return Ke($)&&$===re})(p,k,D)?es.after(s?k:D):_).getOr(_),zp=(s,c)=>s.fold(pe,p=>{return b=c,!(Um(m=p)===Um(b)&&b1(m)===b1(b));var m,b}),ng=(s,c)=>s?c.fold($e(ue.some,es.start),ue.none,$e(ue.some,es.after),ue.none):c.fold(ue.none,$e(ue.some,es.before),ue.none,$e(ue.some,es.end)),_1=(s,c,p)=>{const m=s?1:-1;return c.setRng(wn(p.container(),p.offset()+m).toRange()),c.getSel().modify("move",s?"forward":"backward","word"),!0};var mh;!function(s){s[s.Br=0]="Br",s[s.Block=1]="Block",s[s.Wrap=2]="Wrap",s[s.Eol=3]="Eol"}(mh||(mh={}));const w1=(s,c)=>s===Fa.Backwards?Wi(c):c,LD=(s,c,p)=>s===Fa.Forwards?c.next(p):c.prev(p),sE=(s,c,p,m)=>Co(m.getNode(c===Fa.Forwards))?mh.Br:!1===Tc(p,m)?mh.Block:mh.Wrap,QC=(s,c,p,m)=>{const b=eh(p);let _=m;const k=[];for(;_;){const D=LD(c,b,_);if(!D)break;if(Co(D.getNode(!1)))return c===Fa.Forwards?{positions:w1(c,k).concat([D]),breakType:mh.Br,breakAt:ue.some(D)}:{positions:w1(c,k),breakType:mh.Br,breakAt:ue.some(D)};if(D.isVisible()){if(s(_,D)){const z=sE(0,c,_,D);return{positions:w1(c,k),breakType:z,breakAt:ue.some(D)}}k.push(D),_=D}else _=D}return{positions:w1(c,k),breakType:mh.Eol,breakAt:ue.none()}},JC=(s,c,p,m)=>c(p,m).breakAt.map(b=>{const _=c(p,b).positions;return s===Fa.Backwards?_.concat(b):[b].concat(_)}).getOr([]),$m=(s,c)=>pr(s,(p,m)=>p.fold(()=>ue.some(m),b=>Gr(ir(b.getClientRects()),ir(m.getClientRects()),(_,k)=>{const D=Math.abs(c-_.left);return Math.abs(c-k.left)<=D?m:b}).or(p)),ue.none()),Zh=(s,c)=>ir(c.getClientRects()).bind(p=>$m(s,p.left)),Zm=It(QC,wn.isAbove,-1),Km=It(QC,wn.isBelow,1),ek=It(JC,-1,Zm),tk=It(JC,1,Km),Wd=(s,c)=>Zm(s,c).breakAt.isNone(),lE=(s,c)=>Km(s,c).breakAt.isNone(),PD=(s,c)=>Zh(ek(s,c),c),cE=(s,c)=>Zh(tk(s,c),c),uE=fo,S1=(s,c)=>Math.abs(s.left-c),hE=(s,c)=>Math.abs(s.right-c),Qm=(s,c)=>gr(s,(p,m)=>{const b=Math.min(S1(p,c),hE(p,c)),_=Math.min(S1(m,c),hE(m,c));return _===b&&zn(m,"node")&&uE(m.node)||_<b?m:p}),ND=s=>{const c=p=>Bt(p,m=>{const b=Or(m);return b.node=s,b});if(pi(s))return c(s.getClientRects());if(Rn(s)){const p=s.ownerDocument.createRange();return p.setStart(s,0),p.setEnd(s,s.data.length),c(p.getClientRects())}return[]},dE=s=>bi(s,ND);var Jm;!function(s){s[s.Up=-1]="Up",s[s.Down=1]="Down"}(Jm||(Jm={}));const ev=(s,c,p,m,b,_)=>{let k=0;const D=[],z=$=>{let re=dE([$]);-1===s&&(re=re.reverse());for(let he=0;he<re.length;he++){const se=re[he];if(!p(se,H)){if(D.length>0&&c(se,Li(D))&&k++,se.line=k,b(se))return!0;D.push(se)}}return!1},H=Li(_.getClientRects());if(!H)return D;const X=_.getNode();return X&&(z(X),(($,re,he,se)=>{let xe=se;for(;xe=uu(xe,$,Xu,re);)if(he(xe))return})(s,m,z,X)),D},RD=It(ev,Jm.Up,Ma,za),BD=It(ev,Jm.Down,za,Ma),r0=s=>Li(s.getClientRects()),o0=s=>c=>c.line>s,tv=s=>c=>c.line===s,Yl=(s,c)=>{s.selection.setRng(c),um(s,s.selection.getRng())},a0=(s,c,p)=>ue.some(d1(s,c,p)),C1=(s,c,p,m,b,_)=>{const k=c===Fa.Forwards,D=eh(s.getBody()),z=It(Sb,k?D.next:D.prev),H=k?m:b;if(!p.collapsed){const se=ks(p);if(_(se))return $h(c,s,se,c===Fa.Backwards,!1);if(g1(s)){const xe=p.cloneRange();return xe.collapse(c===Fa.Backwards),ue.from(xe)}}const X=$g(c,s.getBody(),p);if(H(X))return qm(s,X.getNode(!k));let $=z(X);const re=oo(p);if(!$)return re?ue.some(p):ue.none();if($=Dc(k,$),H($))return $h(c,s,$.getNode(!k),k,!1);const he=z($);return he&&H(he)&&Cd($,he)?$h(c,s,he.getNode(!k),k,!1):re?a0(s,$.toRange(),!1):ue.none()},pE=(s,c,p,m,b,_)=>{const k=$g(c,s.getBody(),p),D=Li(k.getClientRects()),z=c===Jm.Down,H=s.getBody();if(!D)return ue.none();if(g1(s)){const xe=z?wn.fromRangeEnd(p):wn.fromRangeStart(p);return(z?cE:PD)(H,xe).orThunk(()=>ue.from(xe)).map(ce=>ce.toRange())}const X=(z?BD:RD)(H,o0(1),k),$=En(X,tv(1)),re=D.left,he=Qm($,re);if(he&&_(he.node)){const xe=Math.abs(re-he.left),ce=Math.abs(re-he.right);return $h(c,s,he.node,xe<ce,!1)}let se;if(se=m(k)?k.getNode():b(k)?k.getNode(!0):ks(p),se){const xe=((Me,He,Xe,pt)=>{const ut=eh(He);let Rt,Jt,rn,sn;const fn=[];let Wt=0;1===Me?(Rt=ut.next,Jt=za,rn=Ma,sn=wn.after(pt)):(Rt=ut.prev,Jt=Ma,rn=za,sn=wn.before(pt));const en=r0(sn);do{if(!sn.isVisible())continue;const un=r0(sn);if(rn(un,en))continue;fn.length>0&&Jt(un,Li(fn))&&Wt++;const An=Or(un);if(An.position=sn,An.line=Wt,Xe(An))return fn;fn.push(An)}while(sn=Rt(sn));return fn})(c,H,o0(1),se);let ce=Qm(En(xe,tv(1)),re);if(ce||(ce=Li(En(xe,tv(0))),ce))return a0(s,ce.position.toRange(),!1)}return 0===$.length?k1(s,z).filter(z?b:m).map(xe=>d1(s,xe.toRange(),!1)):ue.none()},k1=(s,c)=>{const p=s.selection.getRng(),m=c?wn.fromRangeEnd(p):wn.fromRangeStart(p),b=(_=m.container(),k=s.getBody(),Ps(Yt(_),D=>Ju(D.dom),D=>D.dom===k).map(D=>D.dom).getOr(k));var _,k;if(c){const D=Km(b,m);return Jr(D.positions)}{const D=Zm(b,m);return ir(D.positions)}},nk=(s,c,p)=>k1(s,c).filter(p).exists(m=>(s.selection.setRng(m.toRange()),!0)),s0=(s,c)=>{const p=s.dom.createRng();p.setStart(c.container(),c.offset()),p.setEnd(c.container(),c.offset()),s.selection.setRng(p)},ik=(s,c)=>{s?c.setAttribute("data-mce-selected","inline-boundary"):c.removeAttribute("data-mce-selected")},fE=(s,c,p)=>e0(c,p).map(m=>(s0(s,m),p)),rk=(s,c,p)=>!!jv(s)&&((s,c,p)=>{const m=s.getBody(),b=((_,k,D)=>{const z=wn.fromRangeStart(_);if(_.collapsed)return z;{const H=wn.fromRangeEnd(_);return D?Ws(k,H).getOr(H):Hs(k,z).getOr(z)}})(s.selection.getRng(),m,p);return((_,k,D,z)=>{const H=Dc(_,z),X=gh(k,D,H);return gh(k,D,H).bind(It(ng,_)).orThunk(()=>(($,re,he,se,xe)=>{const ce=Dc($,xe);return Ec($,he,ce).map(It(Dc,$)).fold(()=>se.map(i0),Me=>gh(re,he,Me).map(It(Bp,$,re,he,ce,Me)).filter(It(zp,se))).filter(y1)})(_,k,D,X,z))})(p,It(Ff,s),m,b).bind(_=>fE(s,c,_))})(s,c,p).isSome(),l0=(s,c,p)=>!!jv(c)&&((m,b)=>{const _=b.selection.getRng(),k=m?wn.fromRangeEnd(_):wn.fromRangeStart(_);return!!yt(b.selection.getSel().modify)&&(m&&Ih(k)?_1(!0,b.selection,k):!(m||!Wu(k))&&_1(!1,b.selection,k))})(s,c),mE=It(l0,!0),FD=It(l0,!1),c0=(s,c,p)=>{if(jv(s)){const m=k1(s,c).getOrThunk(()=>{const b=s.selection.getRng();return c?wn.fromRangeEnd(b):wn.fromRangeStart(b)});return gh(It(Ff,s),s.getBody(),m).exists(b=>{const _=i0(b);return e0(p,_).exists(k=>(s0(s,k),!0))})}return!1},ok=(s,c)=>p=>e0(c,p).map(m=>()=>s0(s,m)),ak=(s,c,p,m)=>{const b=s.getBody(),_=It(Ff,s);s.undoManager.ignore(()=>{s.selection.setRng(((k,D)=>{const z=document.createRange();return z.setStart(k.container(),k.offset()),z.setEnd(D.container(),D.offset()),z})(p,m)),gx(s),gh(_,b,wn.fromRangeStart(s.selection.getRng())).map(x1).bind(ok(s,c)).each(qe)}),s.nodeChanged()},A1=(s,c,p)=>{if(s.selection.isCollapsed()&&jv(s)){const m=wn.fromRangeStart(s.selection.getRng());return((b,_,k,D)=>{const z=($=b.getBody(),re=D.container(),hu(re,$)||$),H=It(Ff,b),X=gh(H,z,D);var $,re;return X.bind($=>k?$.fold(rt(ue.some(x1($))),ue.none,rt(ue.some(i0($))),ue.none):$.fold(ue.none,rt(ue.some(i0($))),ue.none,rt(ue.some(x1($))))).map(ok(b,_)).getOrThunk(()=>{const $=th(k,z,D),re=$.bind(he=>gh(H,z,he));return Gr(X,re,()=>Nd(H,z,D).bind(he=>{return Gr(Ja(se=he),ac(se),(xe,ce)=>{const Me=Dc(!0,xe),He=Dc(!1,ce);return Hs(se,Me).forall(Xe=>Xe.isEqual(He))}).getOr(!0)?ue.some(()=>{Sp(b,k,Yt(he))}):ue.none();var se})).getOrThunk(()=>re.bind(()=>$.map(he=>()=>{k?ak(b,_,D,he):ak(b,_,he,D)})))})})(s,c,p,m)}return ue.none()},u0=(s,c)=>{const p=Yt(s.getBody()),m=Yt(s.selection.getStart()),b=jh(m,p);return Gn(b,c).fold(rt(b),_=>b.slice(0,_))},vE=s=>1===ld(s),sk=(s,c)=>{const p=It(Iy,s);return bi(c,m=>p(m)?[m.dom]:[])},lk=s=>{const c=u0(p=s,m=>p.schema.isBlock(Cr(m)));var p;return sk(s,c)},nv=(s,c)=>{const p=s.selection.getStart(),m=((b,_)=>{const k=_.parentElement;return Co(_)&&!de(k)&&b.dom.isEmpty(k)})(s,p)||Vh(Yt(p))?US(p,c):((b,_)=>{const{caretContainer:k,caretPosition:D}=qS(_);return b.insertNode(k.dom),D})(s.selection.getRng(),c);s.selection.setRng(m.toRange())},yE=s=>Rn(s.startContainer),M1=(s,c)=>s.selection.isCollapsed()?((s,c)=>{const p=En(u0(m=s,b=>m.schema.isBlock(Cr(b))||ld(b)>1),vE);var m;return Jr(p).bind(m=>{const b=wn.fromRangeStart(s.selection.getRng());return e2(c,b,m.dom)&&!Vh(m)?ue.some(()=>((_,k,D,z)=>{const H=sk(k,z);if(0===H.length)Sp(k,_,D);else{const X=US(D.dom,H);k.selection.setRng(X.toRange())}})(c,s,m,p)):ue.none()})})(s,c):(p=>{if((s=>{const c=s.selection.getRng();return 0===(p=c).startOffset&&yE(p)&&((p,m)=>{const b=m.startContainer.parentElement;return!de(b)&&Iy(p,Yt(b))})(s,c)&&(p=>{return(b=>{const _=b.startContainer.parentNode,k=b.endContainer.parentNode;return!de(_)&&!de(k)&&_.isEqualNode(k)})(m=p)&&(b=>{const _=b.endContainer;return b.endOffset===(Rn(_)?_.length:_.childNodes.length)})(m)||(m=>!m.endContainer.isEqualNode(m.commonAncestorContainer))(p);var m})(c);var p})(p)){const m=lk(p);return ue.some(()=>{gx(p),((b,_)=>{const k=yi(_,lk(b));k.length>0&&nv(b,k)})(p,m)})}return ue.none()})(s),h0=s=>((c=>{const p=c.selection.getRng();return p.collapsed&&(yE(p)||c.dom.isEmpty(p.startContainer))&&!((s,c)=>Ps(s,p=>Vl(p.dom),p=>c.isBlock(Cr(p))).isSome())(Yt((m=c).selection.getStart()),m.schema);var m})(s)&&nv(s,[]),!0),uk=(s,c,p)=>Ke(p)?ue.some(()=>{s._selectionOverrides.hideFakeCaret(),Sp(s,c,Yt(p))}):ue.none(),hk=(s,c)=>s.selection.isCollapsed()?((p,m)=>{const b=m?Nf:Bo,k=$g(m?Fa.Forwards:Fa.Backwards,p.getBody(),p.selection.getRng());return b(k)?uk(p,m,k.getNode(!m)):ue.from(Dc(m,k)).filter(D=>b(D)&&Cd(k,D)).bind(D=>uk(p,m,D.getNode(!m)))})(s,c):((p,m)=>{const b=p.selection.getNode();return qa(b)?uk(p,m,b):ue.none()})(s,c),Fp=s=>v(s??"").getOr(0),iv=(s,c)=>(s||"table"===Cr(c)?"margin":"padding")+("rtl"===$s(c,"direction")?"-right":"-left"),xE=s=>{const c=wE(s);return!s.mode.isReadOnly()&&(c.length>1||(p=s,ai(c,b=>{const _=iv(_w(p),b),k=Tu(b,_).map(Fp).getOr(0);return"false"!==p.dom.getContentEditable(b.dom)&&k>0})));var p},_E=s=>ul(s)||os(s),wE=s=>En(Iu(s.selection.getSelectedBlocks()),c=>!_E(c)&&!ba(c).exists(_E)&&Na(c,p=>Ss(p.dom)||fo(p.dom)).exists(p=>Ss(p.dom))),SE=(s,c)=>{var p,m;const{dom:b}=s,_=ww(s),k=null!==(m=null===(p=/[a-z%]+$/i.exec(_))||void 0===p?void 0:p[0])&&void 0!==m?m:"px",D=Fp(_),z=_w(s);Ht(wE(s),H=>{((X,$,re,he,se,xe)=>{const ce=iv(re,Yt(xe)),Me=Fp(X.getStyle(xe,ce));if("outdent"===$){const He=Math.max(0,Me-he);X.setStyle(xe,ce,He?He+se:"")}else X.setStyle(xe,ce,Me+he+se)})(b,c,z,D,k,H.dom)})},CE=s=>SE(s,"outdent"),kE=s=>{if(s.selection.isCollapsed()&&xE(s)){const c=s.dom,p=s.selection.getRng(),m=wn.fromRangeStart(p),b=c.getParent(p.startContainer,c.isBlock);if(null!==b&&lx(Yt(b),m,s.schema))return ue.some(()=>CE(s))}return ue.none()},AE=(s,c,p)=>ns([kE,qC,p1,(m,b)=>A1(m,c,b),c1,Sx,eg,hk,h1,M1],m=>m(s,p)).filter(m=>s.selection.isEditable()),T1=s=>void 0===s.touches||1!==s.touches.length?ue.none():ue.some(s.touches[0]),E1=(s,c)=>Gt(s,c.nodeName),WD=(s,c)=>!!Rn(c)||!!pi(c)&&!(E1(s.getBlockElements(),c)||js(c)||Nr(s,c)||ii(c)),dk=(s,c)=>{if(Rn(c)){if(0===c.data.length)return!0;if(/^\s+$/.test(c.data))return!c.nextSibling||E1(s,c.nextSibling)||ii(c.nextSibling)}return!1},pk=s=>s.dom.create(Ms(s),yf(s)),jD=s=>{const c=s.dom,p=s.selection,m=s.schema,b=m.getBlockElements(),_=p.getStart(),k=s.getBody();let D,z,H=!1;const X=Ms(s);if(!_||!pi(_))return;const $=k.nodeName.toLowerCase();if(!m.isValidChild($,X.toLowerCase())||(Xe=b,pt=k,xn(MS(Yt(_),Yt(pt)),Rt=>E1(Xe,Rt.dom))))return;var Xe,pt;const re=p.getRng(),{startContainer:he,startOffset:se,endContainer:xe,endOffset:ce}=re,Me=Pf(s);let He=k.firstChild;for(;He;)if(pi(He)&&Mo(m,He),WD(m,He)){if(dk(b,He)){z=He,He=He.nextSibling,c.remove(z);continue}D||(D=pk(s),k.insertBefore(D,He),H=!0),z=He,He=He.nextSibling,D.appendChild(z)}else D=null,He=He.nextSibling;H&&Me&&(re.setStart(he,se),re.setEnd(xe,ce),p.setRng(re),s.nodeChanged())},ig=(s,c,p)=>{const m=Yt(pk(s)),b=eu();qo(m,b),p(c,m);const _=document.createRange();return _.setStartBefore(b.dom),_.setEndBefore(b.dom),_},fk=s=>c=>-1!==(" "+c.attr("class")+" ").indexOf(s),YD=(s,c,p)=>function(m){const b=arguments,_=b[b.length-2],k=_>0?c.charAt(_-1):"";if('"'===k)return m;if(">"===k){const D=c.lastIndexOf("<",_);if(-1!==D&&-1!==c.substring(D,_).indexOf('contenteditable="false"'))return m}return'<span class="'+p+'" data-mce-content="'+s.dom.encode(b[0])+'">'+s.dom.encode("string"==typeof b[1]?b[1]:b[0])+"</span>"},I1=(s,c)=>{c.hasAttribute("data-mce-caret")&&(Oh(c),s.selection.setRng(s.selection.getRng()),s.selection.scrollIntoView(c))},ME=(s,c)=>{const p=Mu(Yt(s.getBody()),"*[data-mce-caret]").map(b=>b.dom).getOrNull();if(p)return"compositionstart"===c.type?(c.preventDefault(),c.stopPropagation(),void I1(s,p)):void(wc(p)&&(I1(s,p),s.undoManager.add()))},TE=fo,EE=(s,c,p)=>{const m=eh(s.getBody()),b=It(Sb,1===c?m.next:m.prev);if(p.collapsed){const _=s.dom.getParent(p.startContainer,"PRE");if(!_)return;if(!b(wn.fromRangeStart(p))){const k=Yt((D=>{const z=D.dom.create(Ms(D));return z.innerHTML='<br data-mce-bogus="1">',z})(s));1===c?Ns(Yt(_),k):Ga(Yt(_),k),s.selection.select(k.dom,!0),s.selection.collapse()}}},O1=(s,c)=>((p,m)=>{const b=m?Fa.Forwards:Fa.Backwards,_=p.selection.getRng();return(k=b,D=p,z=_,C1(D,k,z,wp,ao,TE)).orThunk(()=>(EE(p,b,_),ue.none()));var k,D,z})(s,((p,m)=>{const b=m?p.getEnd(!0):p.getStart(!0);return px(b)?!m:m})(s.selection,c)).exists(p=>(Yl(s,p),!0)),gk=(s,c)=>((p,m)=>{const b=m?1:-1,_=p.selection.getRng();return(k=b,D=p,z=_,pE(D,k,z,H=>wp(H)||Rf(H),H=>ao(H)||AS(H),TE)).orThunk(()=>(EE(p,b,_),ue.none()));var k,D,z})(s,c).exists(p=>(Yl(s,p),!0)),mk=(s,c)=>nk(s,c,c?ao:wp),rv=(s,c)=>f1(s,!c).map(p=>{const m=p.toRange(),b=s.selection.getRng();return c?m.setStart(b.startContainer,b.startOffset):m.setEnd(b.endContainer,b.endOffset),m}).exists(p=>(Yl(s,p),!0)),IE=s=>Et(["figcaption"],Cr(s)),OE=(s,c)=>!!s.selection.isCollapsed()&&((p,m)=>{const b=Yt(p.getBody()),_=wn.fromRangeStart(p.selection.getRng());return((k,D,z)=>{const H=It(Br,D);return Na(Yt(k.container()),X=>z.isBlock(Cr(X)),H).filter(IE)})(_,b,p.schema).exists(()=>{if(k=b,z=_,m?lE(k.dom,z):Wd(k.dom,z)){const k=ig(p,b,m?qo:np);return p.selection.setRng(k),!0}var k,z;return!1})})(s,c),D1=(s,c)=>{return p=s,c?ue.from(p.dom.getParent(p.selection.getNode(),"details")).map(b=>((_,k)=>{const D=_.selection.getRng(),z=wn.fromRangeStart(D);return!(_.getBody().lastChild!==k||!lE(k,z)||(_.execCommand("InsertNewBlockAfter"),0))})(p,b)).getOr(!1):ue.from(p.dom.getParent(p.selection.getNode(),"summary")).bind(b=>ue.from(p.dom.getParent(b,"details")).map(_=>((k,D,z)=>{const H=k.selection.getRng(),X=wn.fromRangeStart(H);return!(k.getBody().firstChild!==D||!Wd(z,X)||(k.execCommand("InsertNewBlockBefore"),0))})(p,_,b))).getOr(!1);var p},vk={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},yk=(s,c)=>c.keyCode===s.keyCode&&c.shiftKey===s.shiftKey&&c.altKey===s.altKey&&c.ctrlKey===s.ctrlKey&&c.metaKey===s.metaKey,Zi=(s,...c)=>()=>s.apply(null,c),Es=(s,c)=>{return _n((m=c,bi(Bt(s,_=>({...vk,..._})),b=>yk(b,m)?[b]:[])),p=>p.action());var m},bk=(s,c)=>{return ns((m=c,bi(Bt(s,_=>({...vk,..._})),b=>yk(b,m)?[b]:[])),p=>p.action());var m},Rc=(s,c)=>{const p=c?Fa.Forwards:Fa.Backwards,m=s.selection.getRng();return C1(s,p,m,Nf,Bo,qa).exists(b=>(Yl(s,b),!0))},xk=(s,c)=>{const p=c?1:-1,m=s.selection.getRng();return pE(s,p,m,Nf,Bo,qa).exists(b=>(Yl(s,b),!0))},_k=(s,c)=>nk(s,c,c?Bo:Nf),wk=Ac([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),d0={...wk,none:s=>wk.none(s)},L1=(s,c,p)=>bi(Po(s),m=>Vo(m,c)?p(m)?[m]:[]:L1(m,c,p)),DE=(s,c)=>al(s,"table",c),p0=(s,c,p,m,b=pe)=>{const _=1===m;if(!_&&p<=0)return d0.first(s[0]);if(_&&p>=s.length-1)return d0.last(s[s.length-1]);{const k=p+m,D=s[k];return b(D)?d0.middle(c,D):p0(s,c,k,m,b)}},P1=(s,c)=>DE(s,c).bind(p=>{const m=L1(p,"th,td",pe);return Gn(m,b=>Br(s,b)).map(b=>({index:b,all:m}))}),ov=(s,c,p,m,b)=>{const _=ga(Yt(p),"td,th,caption").map(D=>D.dom);var D;return((D,z,H)=>pr(D,(X,$)=>X.fold(()=>ue.some($),re=>{const he=Math.sqrt(Math.abs(re.x-z)+Math.abs(re.y-H)),se=Math.sqrt(Math.abs($.x-z)+Math.abs($.y-H));return ue.some(se<he?$:re)}),ue.none()))(En((D=s,bi(_,H=>{const X={left:($=Or(H.getBoundingClientRect())).left- -1,top:$.top- -1,right:$.right+-2,bottom:$.bottom+-2,width:$.width+-1,height:$.height+-1};var $;return[{x:X.left,y:D(X),cell:H},{x:X.right,y:D(X),cell:H}]})),D=>c(D,b)),m,b).map(D=>D.cell)},LE=It(ov,s=>s.bottom,(s,c)=>s.y<c),rg=It(ov,s=>s.top,(s,c)=>s.y>c),N1=(s,c,p)=>{const m=s(c,p);return(b=m).breakType===mh.Wrap&&0===b.positions.length||!Co(p.getNode())&&(b=>b.breakType===mh.Br&&1===b.positions.length)(m)?!((b,_,k)=>k.breakAt.exists(D=>b(_,D).breakAt.isSome()))(s,c,m):m.breakAt.isNone();var b},PE=It(N1,Zm),NE=It(N1,Km),GD=(s,c,p,m)=>{const b=s.selection.getRng(),_=c?1:-1;return!(!Sf()||!((k,D,z)=>{const H=wn.fromRangeStart(D);return Ad(!k,z).exists(X=>X.isEqual(H))})(c,b,p)||($h(_,s,p,!c,!1).each(k=>{Yl(s,k)}),0))},RE=(s,c,p)=>{const m=((_,k)=>{const D=k.getNode(_);return sa(D)?ue.some(D):ue.none()})(!!c,p),b=!1===c;m.fold(()=>Yl(s,p.toRange()),_=>Ad(b,s.getBody()).filter(k=>k.isEqual(p)).fold(()=>Yl(s,p.toRange()),k=>{return D=c,H=_,void(z=s).undoManager.transact(()=>{const X=D?Ns:Ga,$=ig(z,Yt(H),X);Yl(z,$)});var D,z,H}))},BE=(s,c,p,m)=>{const b=s.selection.getRng(),_=wn.fromRangeStart(b),k=s.getBody();if(!c&&PE(m,_)){const D=(z=k,($=H=p,re=X=_,ir(re.getClientRects()).bind(he=>LE($,he.left,he.top)).bind(he=>{return Zh(ac(se=he).map(xe=>Zm(se,xe).positions.concat(xe)).getOr([]),re);var se})).orThunk(()=>ir(X.getClientRects()).bind($=>$m(ek(z,wn.before(H)),$.left))).getOr(wn.before(H)));return RE(s,c,D),!0}var z,H,X,$,re;if(c&&NE(m,_)){const D=((z,H,X)=>(($,re)=>Jr(re.getClientRects()).bind(he=>rg($,he.left,he.top)).bind(he=>{return Zh(Ja(se=he).map(xe=>[xe].concat(Km(se,xe).positions)).getOr([]),re);var se}))(H,X).orThunk(()=>ir(X.getClientRects()).bind($=>$m(tk(z,wn.after(H)),$.left))).getOr(wn.after(H)))(k,p,_);return RE(s,c,D),!0}return!1},zE=(s,c,p)=>ue.from(s.dom.getParent(s.selection.getNode(),"td,th")).bind(m=>ue.from(s.dom.getParent(m,"table")).map(b=>p(s,c,b,m))).getOr(!1),Sk=(s,c)=>zE(s,c,GD),Ck=(s,c)=>zE(s,c,BE),FE=(s,c,p)=>p.fold(ue.none,ue.none,(m,b)=>{return(_=b,Eg(_,rx)).map(k=>{return(s=>{const c=sm.getWin(s).dom,p=(b,_,k,D)=>Yb(c,b,_,k,D),m=s.match({domRange:_=>{const k=Yt(_.startContainer),D=Yt(_.endContainer);return lm(k,_.startOffset,D,_.endOffset)},relative:oh,exact:lm});return((b,_)=>{var D;return((D,z)=>{const H=z.ltr();return H.collapsed?z.rtl().filter(X=>!1===X.collapsed).map(X=>am.rtl(Yt(X.endContainer),X.endOffset,Yt(X.startContainer),X.startOffset)).getOrThunk(()=>Jw(0,am.ltr,H)):Jw(0,am.ltr,H)})(0,(D=b,_.match({domRange:H=>({ltr:rt(H),rtl:ue.none}),relative:(H,X)=>({ltr:Ir(()=>jb(D,H,X)),rtl:Ir(()=>ue.some(jb(D,X,H)))}),exact:(H,X,$,re)=>({ltr:Ir(()=>Yb(D,H,X,$,re)),rtl:Ir(()=>ue.some(Yb(D,$,re,H,X)))})})))})(c,m).match({ltr:p,rtl:p})})(sm.exact(D=k,0,D,0));var D});var _},m=>(s.execCommand("mceTableInsertRowAfter"),kk(s,c,m))),kk=(s,c,p)=>{return FE(s,c,(b=El,P1(m=p,void 0).fold(()=>d0.none(m),_=>p0(_.all,m,_.index,1,b))));var m,b},VE=(s,c,p)=>{return FE(s,c,(b=El,P1(m=p,void 0).fold(()=>d0.none(),_=>p0(_.all,m,_.index,-1,b))));var m,b},HE=(s,c)=>{const p=["table","li","dl"],m=Yt(s.getBody()),b=k=>{const D=Cr(k);return Br(k,m)||Et(p,D)},_=s.selection.getRng();return(k=Yt(c?_.endContainer:_.startContainer),D=b,((z,H,X=Vt)=>X(H)?ue.none():Et(z,Cr(H))?ue.some(H):Uc(H,z.join(","),$=>Vo($,"table")||X($)))(["td","th"],k,D)).map(k=>(DE(k,b).each(D=>{s.model.table.clearSelectedCells(D.dom)}),s.selection.collapse(!c),(c?kk:VE)(s,b,k).each(D=>{s.selection.setRng(D)}),!0)).getOr(!1);var k,D},_u=(s,c)=>({container:s,offset:c}),f0=E.DOM,R1=s=>c=>s===c?-1:0,Ak=(s,c,p)=>{if(Rn(s)&&c>=0)return ue.some(_u(s,c));{const m=_i(f0);return ue.from(m.backwards(s,c,R1(s),p)).map(b=>_u(b.container,b.container.data.length))}},Mk=(s,c,p)=>{if(!Rn(s))return ue.none();if(c>=0&&c<=s.data.length)return ue.some(_u(s,c));{const b=_i(f0);return ue.from(b.backwards(s,c,R1(s),p)).bind(_=>Mk(_.container,c+_.container.data.length,p))}},av=(s,c,p)=>{if(!Rn(s))return ue.none();const m=s.data;if(c<=m.length)return ue.some(_u(s,c));{const b=_i(f0);return ue.from(b.forwards(s,c,R1(s),p)).bind(_=>av(_.container,c-m.length,p))}},sv=(s,c,p,m,b)=>{const _=_i(s,(k=s,D=>k.isBlock(D)||Et(["BR","IMG","HR","INPUT"],D.nodeName)||"false"===k.getContentEditable(D)));var k;return ue.from(_.backwards(c,p,m,b))},WE=s=>Oa(s.toString().replace(/\u00A0/g," ")),jE=s=>""!==s&&-1!==" \xa0\f\n\r\t\v".indexOf(s),Tk=(s,c)=>s.substring(c.length),YE=(s,c,p,m=0)=>{return(b=Yt(c.startContainer),al(b,py)).fold(()=>((_,k,D,z=0)=>{if(!(H=k).collapsed||!Rn(H.startContainer))return ue.none();var H;const X={text:"",offset:0},$=_.getParent(k.startContainer,_.isBlock)||_.getRoot();return sv(_,k.startContainer,k.startOffset,(re,he,se)=>(X.text=se+X.text,X.offset+=he,((xe,ce,Me)=>{let He;const Xe=Me.charAt(0);for(He=ce-1;He>=0;He--){const pt=xe.charAt(He);if(jE(pt))return ue.none();if(Xe===pt&&Sr(xe,Me,He,ce))break}return ue.some(He)})(X.text,X.offset,D).getOr(he)),$).bind(re=>{const he=k.cloneRange();if(he.setStart(re.container,re.offset),he.setEnd(k.endContainer,k.endOffset),he.collapsed)return ue.none();const se=WE(he);return 0!==se.lastIndexOf(D)||Tk(se,D).length<z?ue.none():ue.some({text:Tk(se,D),range:he,trigger:D})})})(s,c,p,m),_=>{const k=s.createRng();k.selectNode(_.dom);const D=WE(k);return ue.some({range:k,text:Tk(D,p),trigger:p})});var b},GE=s=>{if(3===s.nodeType)return _u(s,s.data.length);{const c=s.childNodes;return c.length>0?GE(c[c.length-1]):_u(s,c.length)}},XE=(s,c)=>{const p=s.childNodes;return p.length>0&&c<p.length?XE(p[c],0):p.length>0&&1===s.nodeType&&p.length===c?GE(p[p.length-1]):_u(s,c)},Ek=(s,c,p,m={})=>{var b;const _=c(),k=null!==(b=s.selection.getRng().startContainer.nodeValue)&&void 0!==b?b:"",D=En(_.lookupByTrigger(p.trigger),H=>p.text.length>=H.minChars&&H.matches.getOrThunk(()=>{return X=s.dom,$=>{const re=XE($.startContainer,$.startOffset);return!((he,se)=>{var xe;const ce=null!==(xe=he.getParent(se.container,he.isBlock))&&void 0!==xe?xe:he.getRoot();return sv(he,se.container,se.offset,(Me,He)=>0===He?-1:He,ce).filter(Me=>{const He=Me.container.data.charAt(Me.offset-1);return!jE(He)}).isSome()})(X,re)};var X})(p.range,k,p.text));if(0===D.length)return ue.none();const z=Promise.all(Bt(D,H=>H.fetch(p.text,H.maxResults,m).then(X=>({matchText:p.text,items:X,columns:H.columns,onAction:H.onAction,highlightOn:H.highlightOn}))));return ue.some({lookupData:z,context:p})};var vh;!function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"}(vh||(vh={}));const g0=(s,c,p)=>s.stype===vh.Error?c(s.serror):p(s.svalue),Kh=s=>({stype:vh.Value,svalue:s}),og=s=>({stype:vh.Error,serror:s}),qE=g0,lv=s=>Ne(s)&&Do(s).length>100?" removed due to size":JSON.stringify(s,null,2),cv=(s,c)=>og([{path:s,getErrorInfo:c}]),B1=s=>(...c)=>{if(0===c.length)throw new Error("Can't merge zero objects");const p={};for(let m=0;m<c.length;m++){const b=c[m];for(const _ in b)Gt(b,_)&&(p[_]=s(p[_],b[_]))}return p},Ok=B1((s,c)=>Ie(s)&&Ie(c)?Ok(s,c):c),m0=(B1((s,c)=>c),s=>({tag:"defaultedThunk",process:rt(s)})),v0=(s,c,p)=>{switch(s.tag){case"field":return c(s.key,s.newKey,s.presence,s.prop);case"custom":return p(s.newKey,s.instantiator)}},z1=s=>({extract:(c,p)=>{return(m=s(p)).stype===vh.Error?cv(c,rt(m.serror)):m;var m},toString:rt("val")}),F1=z1(Kh),Dk=(s,c,p,m)=>m(Ft(s,c).getOrThunk(()=>p(s))),XD=(s,c,p,m,b)=>{const _=D=>b.extract(c.concat([m]),D),k=D=>D.fold(()=>Kh(ue.none()),z=>{return(X=b.extract(c.concat([m]),z)).stype===vh.Value?{stype:vh.Value,svalue:(0,ue.some)(X.svalue)}:X;var X});switch(s.tag){case"required":return D=c,X=_,Ft(z=p,H=m).fold(()=>{return re=H,he=z,cv(D,()=>'Could not find valid *required* value for "'+re+'" in '+lv(he));var re,he},X);case"defaultedThunk":return Dk(p,m,s.process,_);case"option":return((D,z,H)=>H(Ft(D,z)))(p,m,k);case"defaultedOptionThunk":return((D,z,H,X)=>X(Ft(D,z).map($=>!0===$?H(D):$)))(p,m,s.process,k);case"mergeWithThunk":return Dk(p,m,rt({}),D=>{const z=Ok(s.process(p),D);return _(z)})}var D,z,H,X},V1=s=>({extract:(c,p)=>((m,b,_)=>{const k={},D=[];for(const z of _)v0(z,(H,X,$,re)=>{const he=XD($,m,b,H,re);qE(he,se=>{D.push(...se)},se=>{k[X]=se})},(H,X)=>{k[H]=X(b)});return D.length>0?og(D):Kh(k)})(c,p,s),toString:()=>"obj{\n"+Bt(s,p=>v0(p,(m,b,_,k)=>m+" -> "+k.toString(),(m,b)=>"state("+m+")")).join("\n")+"}"}),Lk=s=>({extract:(c,p)=>(s=>{const c=(m=>{const b=[],_=[];return Ht(m,k=>{g0(k,D=>_.push(D),D=>b.push(D))}),{values:b,errors:_}})(s);return c.errors.length>0?(p=c.errors,$e(og,di)(p)):Kh(c.values);var p})(Bt(p,(b,_)=>s.extract(c.concat(["["+_+"]"]),b))),toString:()=>"array("+s.toString()+")"}),Bc=(s,c)=>((s,c)=>({extract:(p,m)=>Ft(m,s).fold(()=>{return _=s,cv(p,()=>'Choice schema did not contain choice key: "'+_+'"');var _},b=>{return _=p,k=m,Ft(D=c,z=b).fold(()=>{return X=D,$=z,cv(_,()=>'The chosen schema: "'+$+'" did not exist in branches: '+lv(X));var X,$},H=>H.extract(_.concat(["branch: "+z]),k));var _,k,D,z}),toString:()=>"chooseOn("+s+"). Possible values: "+Do(c)}))(s,Te(c,V1)),ZE=rt(F1),_l=(s,c)=>z1(p=>{const m=typeof p;return s(p)?Kh(p):og(`Expected type: ${c} but got: ${m}`)}),qD=_l(Ot,"number"),y0=_l(ve,"string"),UD=_l(ot,"boolean"),uv=_l(yt,"function"),b0=(s,c,p,m)=>({tag:"field",key:s,newKey:c,presence:p,prop:m}),H1=(s,c)=>({tag:"custom",newKey:s,instantiator:c}),Pk=(s,c)=>b0(s,s,{tag:"required",process:{}},c),Nk=s=>Pk(s,y0),Rk=s=>Pk(s,uv),Bk=(s,c)=>b0(s,s,{tag:"option",process:{}},c),W1=s=>Bk(s,y0),Vp=(s,c,p)=>b0(s,s,m0(c),p),zk=(s,c)=>Vp(s,c,qD),Hp=(s,c,p)=>{return Vp(s,c,(m=p,b=_=>Et(m,_)?Js.value(_):Js.error(`Unsupported value: "${_}", choose one of "${m.join(", ")}".`),z1(_=>b(_).fold(og,Kh))));var m,b},jd=(s,c)=>Vp(s,c,UD),Wp=(s,c)=>Vp(s,c,uv),$D=Nk("type"),ZD=Rk("fetch"),Fk=Rk("onAction"),KD=Wp("onSetup",()=>lt),x0=W1("text"),QD=W1("icon"),j1=W1("tooltip"),JD=W1("label"),Vk=jd("active",!1),Hk=jd("enabled",!0),KE=jd("primary",!1),_0=s=>Vp("type",s,y0),eL=V1([$D,Nk("trigger"),zk("minChars",1),((s,c)=>b0(s,s,m0(1),ZE()))("columns"),zk("maxResults",10),Bk("matches",uv),ZD,Fk,(Wk=y0,Vp("highlightOn",[],Lk(Wk)))]);var Wk;const hv=[Hk,j1,QD,x0,KD],jk=[Vk].concat(hv),QE=[Wp("predicate",Vt),Hp("scope","node",["node","editor"]),Hp("position","selection",["node","selection","line"])],JE=hv.concat([_0("contextformbutton"),KE,Fk,H1("original",zt)]),eI=jk.concat([_0("contextformbutton"),KE,Fk,H1("original",zt)]),tI=hv.concat([_0("contextformbutton")]),nI=jk.concat([_0("contextformtogglebutton")]),iI=Bc("type",{contextformbutton:JE,contextformtogglebutton:eI});V1([_0("contextform"),Wp("initValue",rt("")),JD,((s,c)=>b0(s,s,{tag:"required",process:{}},Lk(c)))("commands",iI),Bk("launch",Bc("type",{contextformbutton:tI,contextformtogglebutton:nI}))].concat(QE));const tL=s=>{const c=Be(),p=P(!1),m=c.isSet,b=()=>{m()&&(ya(s).autocompleter.removeDecoration(),s.dispatch("AutocompleterEnd"),p.set(!1),c.clear())},_=Ir(()=>(s=>{const c=s.ui.registry.getAll().popups,p=Te(c,_=>{return(k=_,((s,c,p)=>{return m=(D=c.extract([s],k=p)).stype===vh.Error?{stype:vh.Error,serror:(D=>({input:k,errors:D}))(D.serror)}:D,g0(m,Js.error,Js.value);var k,D,m})("Autocompleter",eL,{trigger:k.ch,...k})).fold(D=>{throw new Error("Errors: \n"+(H=>{const X=H.length>10?H.slice(0,10).concat([{path:[],getErrorInfo:rt("... (only showing first ten failures)")}]):H;return Bt(X,$=>"Failed path: ("+$.path.join(" > ")+")\n"+$.getErrorInfo())})((z=D).errors).join("\n")+"\n\nInput object: "+lv(z.input));var z},zt);var k}),m=Xn(ft(p,_=>_.trigger)),b=At(p);return{dataset:p,triggers:m,lookupByTrigger:_=>En(b,k=>k.trigger===_)}})(s)),k=D=>{var z;(z=D,c.get().map(H=>YE(s.dom,s.selection.getRng(),H.trigger).bind(X=>Ek(s,_,X,z))).getOrThunk(()=>((H,X)=>{const $=X(),re=H.selection.getRng();return(he=H.dom,se=re,xe=$,ns(xe.triggers,ce=>YE(he,se,ce))).bind(he=>Ek(H,X,he));var he,se,xe})(s,_))).fold(b,z=>{var H,$;H=z.context,m()||($=H.range,ya(s).autocompleter.addDecoration($),c.set({trigger:H.trigger,matchLength:H.text.length})),z.lookupData.then(H=>{c.get().map(X=>{const $=z.context;X.trigger===$.trigger&&($.text.length-X.matchLength>=10?b():(c.set({...X,matchLength:$.text.length}),p.get()?s.dispatch("AutocompleterUpdate",{lookupData:H}):(p.set(!0),s.dispatch("AutocompleterStart",{lookupData:H}))))})})})};s.addCommand("mceAutocompleterReload",(D,z)=>{const H=Ne(z)?z.fetchOptions:{};k(H)}),s.addCommand("mceAutocompleterClose",b),((D,z)=>{const H=Ge(z.load,50);D.on("keypress compositionend",X=>{27!==X.which&&H.throttle()}),D.on("keydown",X=>{const $=X.which;8===$?H.throttle():27===$&&z.cancelIfNecessary()}),D.on("remove",H.cancel)})(s,{cancelIfNecessary:b,load:k})},nL=Cn().browser.isSafari(),oI=s=>bo(Yt(s)),aI=(s,c)=>{var p;return 0===s.startOffset&&s.endOffset===(null===(p=c.textContent)||void 0===p?void 0:p.length)},w0=(s,c)=>ue.from(s.getParent(c.container(),"details")),dv=(s,c)=>w0(s,c).isSome(),Yk=(s,c)=>{const p=c.getNode();Ae(p)||s.selection.setCursorLocation(p,c.offset())},sI=(s,c,p)=>{const m=s.dom.getParent(c.container(),"details");if(m&&!m.open){const b=s.dom.select("summary",m)[0];b&&(p?Ja(b):ac(b)).each(_=>Yk(s,_))}else Yk(s,c)},Gk=(s,c,p)=>{const{dom:m,selection:b}=s,_=s.getBody();if("character"===p){const k=wn.fromRangeStart(b.getRng()),D=m.getParent(k.container(),m.isBlock),z=w0(m,k),H=D&&m.isEmpty(D),X=de(D?.previousSibling),$=de(D?.nextSibling);return!!(H&&(c?$:X)&&th(!c,_,k).exists(re=>dv(m,re)&&!Lo(z,w0(m,re))))||th(c,_,k).fold(Vt,re=>{const he=w0(m,re);if(dv(m,re)&&!Lo(z,he)){if(c||sI(s,re,!1),D&&H){if(c&&X||!c&&$)return!0;sI(s,re,c),s.dom.remove(D)}return!0}return!1})}return!1},jp=(s,c,p)=>{return b=c,_=p,((k,D)=>{const z=ue.from(k.getParent(D.startContainer,"details")),H=ue.from(k.getParent(D.endContainer,"details"));if(z.isSome()||H.isSome()){const X=z.bind($=>ue.from(k.select("summary",$)[0]));return ue.some({startSummary:X,startDetails:z,endDetails:H})}return ue.none()})((m=s).dom,m.selection.getRng()).fold(()=>Gk(m,b,_),k=>((s,c,p,m)=>{const b=s.selection.getRng(),_=wn.fromRangeStart(b),k=s.getBody();return"selection"===m?((D,z)=>{const H=z.startSummary.exists(re=>re.contains(D.startContainer)),X=z.startSummary.exists(re=>re.contains(D.endContainer)),$=z.startDetails.forall(re=>z.endDetails.forall(he=>re!==he));return(H||X)&&!(H&&X)||$})(b,c):p?(D=_,c.startSummary.exists(H=>{return X=D,ac($=H).exists(re=>Co(re.getNode())&&Ws($,re).exists(he=>he.isEqual(X))||re.isEqual(X));var X,$})||((D,z,H)=>H.startDetails.exists(X=>Hs(D,z).forall($=>!X.contains($.container()))))(k,_,c)):((D,z)=>z.startSummary.exists(H=>{return X=D,Ja(H).exists(re=>re.isEqual(X));var X}))(_,c)||((D,z)=>z.startDetails.exists(H=>Ws(H,D).forall(X=>z.startSummary.exists($=>!$.contains(D.container())&&$.contains(X.container())))))(_,c);var D})(m,k,b,_)||Gk(m,b,_))||nL&&((m,b,_)=>{const k=m.selection,D=k.getNode(),z=k.getRng(),H=wn.fromRangeStart(z);return!!rp(D)&&("selection"===_&&aI(z,D)||e2(b,H,D)?oI(D):m.undoManager.transact(()=>{const X=k.getSel();let{anchorNode:$,anchorOffset:re,focusNode:he,focusOffset:se}=X??{};const xe=()=>{Ke($)&&Ke(re)&&Ke(he)&&Ke(se)&&X?.setBaseAndExtent($,re,he,se)},ce=(He,Xe)=>{Ht(He.childNodes,pt=>{tm(pt)&&Xe.appendChild(pt)})},Me=m.dom.create("span",{"data-mce-bogus":"1"});ce(D,Me),D.appendChild(Me),xe(),"word"!==_&&"line"!==_||null==X||X.modify("extend",b?"right":"left",_),!k.isCollapsed()&&aI(k.getRng(),Me)?oI(D):(m.execCommand(b?"ForwardDelete":"Delete"),$=X?.anchorNode,re=X?.anchorOffset,he=X?.focusNode,se=X?.focusOffset,ce(Me,D),xe()),m.dom.remove(Me)}),!0)})(s,c,p)?ue.some(lt):ue.none();var m,b,_},qk=s=>(c,p,m={})=>{const b=c.getBody(),_={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:b,currentTarget:b,eventPhase:Event.AT_TARGET,originalTarget:b,explicitOriginalTarget:b,isTrusted:!1,srcElement:b,cancelable:!1,preventDefault:lt,inputType:p},k=Vs(new InputEvent(s));return c.dispatch(s,{...k,..._,...m})},S0=qk("input"),C0=qk("beforeinput"),lI=Cn(),Uk=lI.os,Y1=Uk.isMacOS()||Uk.isiOS(),iL=lI.browser.isFirefox(),pv=(s,c)=>{const p=s.dom,m=s.schema.getMoveCaretBeforeOnEnterElements();if(!c)return;if(/^(LI|DT|DD)$/.test(c.nodeName)){const _=(k=>{for(;k;){if(pi(k)||Rn(k)&&k.data&&/[\r\n\s]/.test(k.data))return k;k=k.nextSibling}return null})(c.firstChild);_&&/^(UL|OL|DL)$/.test(_.nodeName)&&c.insertBefore(p.doc.createTextNode(go),c.firstChild)}const b=p.createRng();if(c.normalize(),c.hasChildNodes()){const _=new Jo(c,c);let k,D=c;for(;k=_.current();){if(Rn(k)){b.setStart(k,0),b.setEnd(k,0);break}if(m[k.nodeName.toLowerCase()]){b.setStartBefore(k),b.setEndBefore(k);break}D=k,k=_.next()}k||(b.setStart(D,0),b.setEnd(D,0))}else Co(c)?c.nextSibling&&p.isBlock(c.nextSibling)?(b.setStartBefore(c),b.setEndBefore(c)):(b.setStartAfter(c),b.setEndAfter(c)):(b.setStart(c,0),b.setEnd(c,0));s.selection.setRng(b),um(s,b)},fv=(s,c)=>{const p=s.getRoot();let m,b=c;for(;b!==p&&b&&"false"!==s.getContentEditable(b);){if("true"===s.getContentEditable(b)){m=b;break}b=b.parentNode}return b!==p?m:p},$k=s=>ue.from(s.dom.getParent(s.selection.getStart(!0),s.dom.isBlock)),Zk=s=>{s.innerHTML='<br data-mce-bogus="1">'},gv=(s,c)=>{Ms(s).toLowerCase()===c.tagName.toLowerCase()&&((p,m,b)=>{const _=p.dom;ue.from(b.style).map(_.parseStyle).each(X=>{const $={...Ch(Yt(m)),...X};_.setStyles(m,$)});const k=ue.from(b.class).map(X=>X.split(/\s+/)),D=ue.from(m.className).map(X=>En(X.split(/\s+/),$=>""!==$));Gr(k,D,(X,$)=>{const re=En($,se=>!Et(X,se)),he=[...X,...re];_.setAttrib(m,"class",he.join(" "))});const z=["style","class"],H=Pt(b,(X,$)=>!Et(z,$));_.setAttribs(m,H)})(s,c,yf(s))},mv=(s,c,p,m,b=!0,_,k)=>{const D=s.dom,z=s.schema,H=Ms(s),X=p?p.nodeName.toUpperCase():"";let $=c;const re=z.getTextInlineElements();let he;he=_||"TABLE"===X||"HR"===X?D.create(_||H,k||{}):p.cloneNode(!1);let se=he;if(b){do{if(re[$.nodeName]){if(Vl($)||js($))continue;const xe=$.cloneNode(!1);D.setAttrib(xe,"id",""),he.hasChildNodes()?(xe.appendChild(he.firstChild),he.appendChild(xe)):(se=xe,he.appendChild(xe))}}while(($=$.parentNode)&&$!==m)}else D.setAttrib(he,"style",null),D.setAttrib(he,"class",null);return gv(s,he),Zk(se),he},G1=(s,c)=>{const p=s?.parentNode;return Ke(p)&&p.nodeName===c},X1=s=>Ke(s)&&/^(OL|UL|LI)$/.test(s.nodeName),Kk=s=>Ke(s)&&/^(LI|DT|DD)$/.test(s.nodeName),q1=s=>{const c=s.parentNode;return Kk(c)?c:s},U1=(s,c,p)=>{let m=s[p?"firstChild":"lastChild"];for(;m&&!pi(m);)m=m[p?"nextSibling":"previousSibling"];return m===c},cI=s=>pr(ft(Ch(Yt(s)),(c,p)=>`${p}: ${c};`),(c,p)=>c+p,""),rL=(s,c)=>c&&"A"===c.nodeName&&s.isEmpty(c),Qk=(s,c)=>s.nodeName===c||s.previousSibling&&s.previousSibling.nodeName===c,$1=(s,c)=>Ke(c)&&s.isBlock(c)&&!/^(TD|TH|CAPTION|FORM)$/.test(c.nodeName)&&!/^(fixed|absolute)/i.test(c.style.position)&&s.isEditable(c.parentNode)&&"false"!==s.getContentEditable(c),Z1=(s,c,p)=>Rn(c)?s?1===p&&c.data.charAt(p-1)===ma?0:p:p===c.data.length-1&&c.data.charAt(p)===ma?c.data.length:p:p,Jk={insert:(s,c)=>{let p,m,b,_,k=!1;const D=s.dom,z=s.schema.getNonEmptyElements(),H=s.selection.getRng(),X=Ms(s),$=Yt(H.startContainer),re=Yc($,H.startOffset),he=re.exists(sn=>mc(sn)&&!El(sn)),se=H.collapsed&&he,xe=(sn,fn)=>mv(s,p,ut,pt,HO(s),sn,fn),ce=sn=>{const fn=Z1(sn,p,m);if(Rn(p)&&(sn?fn>0:fn<p.data.length))return!1;if(p.parentNode===ut&&k&&!sn||sn&&pi(p)&&p===ut.firstChild)return!0;if(Qk(p,"TABLE")||Qk(p,"HR"))return k&&!sn||!k&&sn;const Wt=new Jo(p,ut);let en;for(Rn(p)&&(sn&&0===fn?Wt.prev():sn||fn!==p.data.length||Wt.next());en=Wt.current();){if(pi(en)){if(!en.getAttribute("data-mce-bogus")){const un=en.nodeName.toLowerCase();if(z[un]&&"br"!==un)return!1}}else if(Rn(en)&&!Wo(en.data))return!1;sn?Wt.prev():Wt.next()}return!0},Me=()=>{let sn;return sn=/^(H[1-6]|PRE|FIGURE)$/.test(b)&&"HGROUP"!==Rt?xe(X):xe(),((fn,Wt)=>{const en=dp(fn);return!je(Wt)&&(ve(en)?Et(Dn.explode(en),Wt.nodeName.toLowerCase()):en)})(s,_)&&$1(D,_)&&D.isEmpty(ut,void 0,{includeZwsp:!0})?sn=D.split(_,ut):D.insertAfter(sn,ut),pv(s,sn),sn};Ub(D,H).each(sn=>{H.setStart(sn.startContainer,sn.startOffset),H.setEnd(sn.endContainer,sn.endOffset)}),p=H.startContainer,m=H.startOffset;const He=!(!c||!c.shiftKey),Xe=!(!c||!c.ctrlKey);pi(p)&&p.hasChildNodes()&&!se&&(k=m>p.childNodes.length-1,p=p.childNodes[Math.min(m,p.childNodes.length-1)]||p,m=k&&Rn(p)?p.data.length:0);const pt=fv(D,p);if(!pt||((sn,fn)=>{const Wt=sn.dom.getParent(fn,"ol,ul,dl");return null!==Wt&&"false"===sn.dom.getContentEditableParent(Wt)})(s,p))return;He||(p=((sn,fn,Wt,en,un)=>{var An,li;const $n=sn.dom,zi=null!==(An=fv($n,en))&&void 0!==An?An:$n.getRoot();let Ii=$n.getParent(en,$n.isBlock);if(!Ii||!$1($n,Ii)){if(Ii=Ii||zi,!Ii.hasChildNodes()){const Ai=$n.create(fn);return gv(sn,Ai),Ii.appendChild(Ai),Wt.setStart(Ai,0),Wt.setEnd(Ai,0),Ai}let Ji,Hi=en;for(;Hi&&Hi.parentNode!==Ii;)Hi=Hi.parentNode;for(;Hi&&!$n.isBlock(Hi);)Ji=Hi,Hi=Hi.previousSibling;const mi=null===(li=Ji?.parentElement)||void 0===li?void 0:li.nodeName;if(Ji&&mi&&sn.schema.isValidChild(mi,fn.toLowerCase())){const Ai=Ji.parentNode,cr=$n.create(fn);for(gv(sn,cr),Ai.insertBefore(cr,Ji),Hi=Ji;Hi&&!$n.isBlock(Hi);){const Qt=Hi.nextSibling;cr.appendChild(Hi),Hi=Qt}Wt.setStart(en,un),Wt.setEnd(en,un)}}return en})(s,X,H,p,m));let ut=D.getParent(p,D.isBlock)||D.getRoot();_=Ke(ut?.parentNode)?D.getParent(ut.parentNode,D.isBlock):null,b=ut?ut.nodeName.toUpperCase():"";const Rt=_?_.nodeName.toUpperCase():"";if("LI"!==Rt||Xe||(ut=_,_=_.parentNode,b=Rt),pi(_)&&(sn=s,Wt=ut,!He&&Wt.nodeName.toLowerCase()===Ms(sn)&&sn.dom.isEmpty(Wt)&&((en,un,An)=>{let li=un;for(;li&&li!==en&&de(li.nextSibling);){const zi=li.parentElement;if(!zi||($n=zi,!Gt(sn.schema.getTextBlockElements(),$n.nodeName.toLowerCase())))return Qc(zi);li=zi}var $n;return!1})(sn.getBody(),Wt)))return((sn,fn,Wt)=>{var en,un,An;const li=fn(Ms(sn)),$n=sn.dom.getParent(Wt,Qc);$n&&(sn.dom.insertAfter(li,$n),pv(sn,li),(null!==(An=null===(un=null===(en=Wt.parentElement)||void 0===en?void 0:en.childNodes)||void 0===un?void 0:un.length)&&void 0!==An?An:0)>1&&sn.dom.remove(Wt))})(s,xe,ut);var sn,Wt;if(/^(LI|DT|DD)$/.test(b)&&pi(_)&&D.isEmpty(ut))return void((sn,fn,Wt,en,un)=>{const An=sn.dom,li=sn.selection.getRng(),$n=Wt.parentNode;if(Wt===sn.getBody()||!$n)return;var zi;X1(zi=Wt)&&X1(zi.parentNode)&&(un="LI");const Ii=Kk(en)?cI(en):void 0;let Ji=Kk(en)&&Ii?fn(un,{style:cI(en)}):fn(un);if(U1(Wt,en,!0)&&U1(Wt,en,!1))if(G1(Wt,"LI")){const Hi=q1(Wt);An.insertAfter(Ji,Hi),(null===(Ai=(mi=Wt).parentNode)||void 0===Ai?void 0:Ai.firstChild)===mi?An.remove(Hi):An.remove(Wt)}else An.replace(Ji,Wt);else if(U1(Wt,en,!0))G1(Wt,"LI")?(An.insertAfter(Ji,q1(Wt)),Ji.appendChild(An.doc.createTextNode(" ")),Ji.appendChild(Wt)):$n.insertBefore(Ji,Wt),An.remove(en);else if(U1(Wt,en,!1))An.insertAfter(Ji,q1(Wt)),An.remove(en);else{Wt=q1(Wt);const Hi=li.cloneRange();Hi.setStartAfter(en),Hi.setEndAfter(Wt);const mi=Hi.extractContents();if("LI"===un&&((Ai,cr)=>Ai.firstChild&&"LI"===Ai.firstChild.nodeName)(mi)){const Ai=En(Bt(Ji.children,Yt),Hn(jc("br")));Ji=mi.firstChild,An.insertAfter(mi,Wt),Ht(Ai,cr=>np(Yt(Ji),cr)),Ii&&Ji.setAttribute("style",Ii)}else An.insertAfter(mi,Wt),An.insertAfter(Ji,Wt);An.remove(en)}var mi,Ai;pv(sn,Ji)})(s,xe,_,ut,X);if(!(se||ut!==s.getBody()&&$1(D,ut)))return;const Jt=ut.parentNode;let rn;if(se)rn=xe(X),re.fold(()=>{qo($,Yt(rn))},sn=>{Ga(sn,Yt(rn))}),s.selection.setCursorLocation(rn,0);else if(Jl(ut))rn=Oh(ut),D.isEmpty(ut)&&Zk(ut),gv(s,rn),pv(s,rn);else if(ce(!1))rn=Me();else if(ce(!0)&&Jt){rn=Jt.insertBefore(xe(),ut);const sn=Yt(H.startContainer).dom.hasChildNodes()&&H.collapsed;pv(s,Qk(ut,"HR")||sn?rn:ut)}else{const sn=(Wt=>{const en=Wt.cloneRange();return en.setStart(Wt.startContainer,Z1(!0,Wt.startContainer,Wt.startOffset)),en.setEnd(Wt.endContainer,Z1(!1,Wt.endContainer,Wt.endOffset)),en})(H).cloneRange();sn.setEndAfter(ut);const fn=sn.extractContents();(Wt=>{Ht(bc(Yt(Wt),ja),en=>{const un=en.dom;un.nodeValue=Oa(un.data)})})(fn),(Wt=>{let en=Wt;do{Rn(en)&&(en.data=en.data.replace(/^[\r\n]+/,"")),en=en.firstChild}while(en)})(fn),rn=fn.firstChild,D.insertAfter(fn,ut),((Wt,en,un)=>{var An;const li=[];if(!un)return;let $n=un;for(;$n=$n.firstChild;){if(Wt.isBlock($n))return;pi($n)&&!en[$n.nodeName.toLowerCase()]&&li.push($n)}let zi=li.length;for(;zi--;)$n=li[zi],(!$n.hasChildNodes()||$n.firstChild===$n.lastChild&&""===(null===(An=$n.firstChild)||void 0===An?void 0:An.nodeValue)||rL(Wt,$n))&&Wt.remove($n)})(D,z,rn),((Wt,en)=>{en.normalize();const un=en.lastChild;(!un||pi(un)&&/^(left|right)$/gi.test(Wt.getStyle(un,"float",!0)))&&Wt.add(en,"br")})(D,ut),D.isEmpty(ut)&&Zk(ut),rn.normalize(),D.isEmpty(rn)?(D.remove(rn),Me()):(gv(s,rn),pv(s,rn))}D.setAttrib(rn,"id",""),s.dispatch("NewBlock",{newBlock:rn})},fakeEventName:"insertParagraph"},eA=(s,c,p)=>{const m=s.dom.createRng();p?(m.setStartBefore(c),m.setEndBefore(c)):(m.setStartAfter(c),m.setEndAfter(c)),s.selection.setRng(m),um(s,m)},uI=(s,c)=>{const p=ra("br");Ga(Yt(c),p),s.undoManager.add()},tA=(s,c)=>{wu(s.getBody(),c)||Ns(Yt(c),ra("br"));const p=ra("br");Ns(Yt(c),p),eA(s,p.dom,!1),s.undoManager.add()},wu=(s,c)=>{return p=wn.after(c),!!Co(p.getNode())||Hs(s,wn.after(c)).map(m=>Co(m.getNode())).getOr(!1);var p},nA=s=>s&&"A"===s.nodeName&&"href"in s,oL=s=>s.fold(Vt,nA,nA,Vt),aL=(s,c)=>{c.fold(lt,It(uI,s),It(tA,s),lt)},hI={insert:(s,c)=>{const p=(m=>{const b=It(Ff,m),_=wn.fromRangeStart(m.selection.getRng());return gh(b,m.getBody(),_).filter(oL)})(s);p.isSome()?p.each(It(aL,s)):((m,b)=>{const k=m.dom,D=m.selection.getRng();let z,H=!1;Ub(k,D).each(ce=>{D.setStart(ce.startContainer,ce.startOffset),D.setEnd(ce.endContainer,ce.endOffset)});let X=D.startOffset,$=D.startContainer;if(pi($)&&$.hasChildNodes()){const ce=X>$.childNodes.length-1;$=$.childNodes[Math.min(X,$.childNodes.length-1)]||$,X=ce&&Rn($)?$.data.length:0}let re=k.getParent($,k.isBlock);const he=re&&re.parentNode?k.getParent(re.parentNode,k.isBlock):null;"LI"!==(he?he.nodeName.toUpperCase():"")||!(!b||!b.ctrlKey)||(re=he),Rn($)&&X>=$.data.length&&(((ce,Me,He)=>{const Xe=new Jo(Me,He);let pt;const ut=ce.getNonEmptyElements();for(;pt=Xe.next();)if(ut[pt.nodeName.toLowerCase()]||Rn(pt)&&pt.length>0)return!0;return!1})(m.schema,$,re||k.getRoot())||(z=k.create("br"),D.insertNode(z),D.setStartAfter(z),D.setEndAfter(z),H=!0)),z=k.create("br"),tb(k,D,z),eA(m,z,H),m.undoManager.add()})(s,c)},fakeEventName:"insertLineBreak"},dI=(s,c)=>$k(s).filter(p=>c.length>0&&Vo(Yt(p),c)).isSome(),pc=Ac([{br:[]},{block:[]},{none:[]}]),pI=(s,c)=>{return dI(p=s,MM(p));var p},K1=s=>(c,p)=>$k(c).filter(b=>os(Yt(b))).isSome()===s,fI=(s,c)=>(p,m)=>$k(p).fold(rt(""),k=>k.nodeName.toUpperCase())===s.toUpperCase()===c,iA=s=>{const c=fv(s.dom,s.selection.getStart());return je(c)},Yd=s=>fI("pre",s),k0=s=>(c,p)=>AM(c)===s,rA=(s,c)=>{return dI(p=s,vw(p));var p},ag=(s,c)=>c,sL=s=>{const c=Ms(s),p=fv(s.dom,s.selection.getStart());return Ke(p)&&s.schema.isValidChild(p.nodeName,c)},A0=s=>{const c=s.selection.getRng(),p=Yt(c.startContainer),m=Yc(p,c.startOffset).map(b=>mc(b)&&!El(b));return c.collapsed&&m.getOr(!0)},zc=(s,c)=>(p,m)=>pr(s,(b,_)=>b&&_(p,m),!0)?ue.some(c):ue.none(),Q1=(s,c,p)=>{c.selection.isCollapsed()||c.execCommand("delete"),Ke(p)&&C0(c,s.fakeEventName).isDefaultPrevented()||(s.insert(c,p),Ke(p)&&S0(c,s.fakeEventName))},oA=(s,c)=>{const p=()=>Q1(hI,s,c),m=()=>Q1(Jk,s,c),b=(_=s,k=c,KC([zc([pI],pc.none()),zc([Yd(!0),iA],pc.none()),zc([fI("summary",!0)],pc.br()),zc([Yd(!0),k0(!1),ag],pc.br()),zc([Yd(!0),k0(!1)],pc.block()),zc([Yd(!0),k0(!0),ag],pc.block()),zc([Yd(!0),k0(!0)],pc.br()),zc([K1(!0),ag],pc.br()),zc([K1(!0)],pc.block()),zc([rA],pc.br()),zc([ag],pc.br()),zc([sL],pc.block()),zc([A0],pc.block())],[_,!(!k||!k.shiftKey)]).getOr(pc.none()));var _,k;switch(mw(s)){case"linebreak":b.fold(p,p,lt);break;case"block":b.fold(m,m,lt);break;case"invert":b.fold(m,p,lt);break;default:b.fold(p,m,lt)}},aA=Cn(),lL=aA.os.isiOS()&&aA.browser.isSafari(),sA=(s,c)=>{var p;c.isDefaultPrevented()||(c.preventDefault(),(p=s.undoManager).typing&&(p.typing=!1,p.add()),s.undoManager.transact(()=>{oA(s,c)}))},cL=Cn(),gI=s=>s.stopImmediatePropagation(),mI=s=>s.keyCode===vi.PAGE_UP||s.keyCode===vi.PAGE_DOWN,vI=(s,c,p)=>{p&&!s.get()?c.on("NodeChange",gI,!0):!p&&s.get()&&c.off("NodeChange",gI),s.set(p)},J1=(s,c)=>{const p=c.container(),m=c.offset();return Rn(p)?(p.insertData(m,s),ue.some(wn(p,m+s.length))):ny(c).map(b=>{const _=Ko(s);return c.isAtEnd()?Ns(b,_):Ga(b,_),wn(_.dom,s.length)})},lA=It(J1,go),cA=It(J1," "),uA=s=>c=>{s.selection.setRng(c.toRange()),s.nodeChanged()},sg=s=>{const c=wn.fromRangeStart(s.selection.getRng()),p=Yt(s.getBody());if(s.selection.isCollapsed()){const m=It(Ff,s),b=wn.fromRangeStart(s.selection.getRng());return gh(m,s.getBody(),b).bind((_=p,k=>k.fold(D=>Ws(_.dom,wn.before(D)),D=>Ja(D),D=>ac(D),D=>Hs(_.dom,wn.after(D))))).map(_=>()=>{return(k=p,D=c,z=s.schema,H=>YT(k,H,z)?lA(D):cA(D))(_).each(uA(s));var k,D,z})}var _;return ue.none()},yI=s=>{return lr(Mi.browser.isFirefox()&&s.selection.isEditable()&&(c=s.dom,p=s.selection.getRng().startContainer,c.isEditable(c.getParent(p,"summary"))),()=>{const m=Yt(s.getBody());var b,_,k;s.selection.isCollapsed()||s.getDoc().execCommand("Delete"),(b=m,_=wn.fromRangeStart(s.selection.getRng()),k=s.schema,YT(b,_,k)?lA(_):cA(_)).each(uA(s))});var c,p},e_=s=>Gg(s)?[{keyCode:vi.TAB,action:Zi(HE,s,!0)},{keyCode:vi.TAB,shiftKey:!0,action:Zi(HE,s,!1)}]:[],uL=s=>{if(s.addShortcut("Meta+P","","mcePrint"),tL(s),hh(s))return P(null);{const c=(s=>{const c=P(null),p=It(Ff,s);return s.on("NodeChange",m=>{jv(s)&&(((b,_,k)=>{const D=Bt(ga(Yt(_.getRoot()),'*[data-mce-selected="inline-boundary"]'),X=>X.dom),z=En(D,b),H=En(k,b);Ht(yi(z,H),It(ik,!1)),Ht(yi(H,z),It(ik,!0))})(p,s.dom,m.parents),((b,_)=>{const k=_.get();if(b.selection.isCollapsed()&&!b.composing&&k){const D=wn.fromRangeStart(b.selection.getRng());wn.isTextPosition(D)&&!Ih(z=D)&&!Wu(z)&&(s0(b,((s,c)=>{return wn.isTextPosition(c)?(m=c,Qv(p=s)&&m.container()===p?((b,_)=>{const k=Ew(b.data.substr(0,_.offset())),D=Ew(b.data.substr(_.offset()));return(k.text+D.text).length>0?(jM(b),wn(b,_.offset()-k.count)):_})(p,m):Iw(p,m)):((p,m)=>m.container()===p.parentNode?((b,_)=>{const k=_.container(),D=((z,H)=>{const X=Zt(z,H);return-1===X?ue.none():ue.some(X)})(Zo(k.childNodes),b).map(z=>z<_.offset()?wn(k,_.offset()-1):_).getOr(_);return zh(b),D})(p,m):Iw(p,m))(s,c);var p,m})(k,D)),_.set(null))}var z})(s,c),((b,_,k,D)=>{if(_.selection.isCollapsed()){const z=En(D,b);Ht(z,H=>{const X=wn.fromRangeStart(_.selection.getRng());gh(b,_.getBody(),X).bind($=>fE(_,k,$))})}})(p,s,c,m.parents))}),c})(s);return(p=s).on("beforeinput",m=>{p.selection.isEditable()&&!xn(m.getTargetRanges(),b=>!xT(p.dom,b))||m.preventDefault()}),(p=>{p.on("keyup compositionstart",It(ME,p))})(s),((p,m)=>{p.on("keydown",b=>{b.isDefaultPrevented()||((_,k,D)=>{const z=Mi.os.isMacOS()||Mi.os.isiOS();Es([{keyCode:vi.RIGHT,action:Zi(O1,_,!0)},{keyCode:vi.LEFT,action:Zi(O1,_,!1)},{keyCode:vi.UP,action:Zi(gk,_,!1)},{keyCode:vi.DOWN,action:Zi(gk,_,!0)},...z?[{keyCode:vi.UP,action:Zi(rv,_,!1),metaKey:!0,shiftKey:!0},{keyCode:vi.DOWN,action:Zi(rv,_,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:vi.RIGHT,action:Zi(Sk,_,!0)},{keyCode:vi.LEFT,action:Zi(Sk,_,!1)},{keyCode:vi.UP,action:Zi(Ck,_,!1)},{keyCode:vi.DOWN,action:Zi(Ck,_,!0)},{keyCode:vi.UP,action:Zi(Ck,_,!1)},{keyCode:vi.UP,action:Zi(D1,_,!1)},{keyCode:vi.DOWN,action:Zi(D1,_,!0)},{keyCode:vi.RIGHT,action:Zi(Rc,_,!0)},{keyCode:vi.LEFT,action:Zi(Rc,_,!1)},{keyCode:vi.UP,action:Zi(xk,_,!1)},{keyCode:vi.DOWN,action:Zi(xk,_,!0)},{keyCode:vi.RIGHT,action:Zi(rk,_,k,!0)},{keyCode:vi.LEFT,action:Zi(rk,_,k,!1)},{keyCode:vi.RIGHT,ctrlKey:!z,altKey:z,action:Zi(mE,_,k)},{keyCode:vi.LEFT,ctrlKey:!z,altKey:z,action:Zi(FD,_,k)},{keyCode:vi.UP,action:Zi(OE,_,!1)},{keyCode:vi.DOWN,action:Zi(OE,_,!0)}],D).each(H=>{D.preventDefault()})})(p,m,b)})})(s,c),((p,m)=>{let b=!1;p.on("keydown",_=>{b=_.keyCode===vi.BACKSPACE,_.isDefaultPrevented()||((k,D,z)=>{const H=z.keyCode===vi.BACKSPACE?"deleteContentBackward":"deleteContentForward",X=k.selection.isCollapsed(),$=X?"character":"selection",re=he=>X?he?"word":"line":"selection";bk([{keyCode:vi.BACKSPACE,action:Zi(kE,k)},{keyCode:vi.BACKSPACE,action:Zi(qC,k,!1)},{keyCode:vi.DELETE,action:Zi(qC,k,!0)},{keyCode:vi.BACKSPACE,action:Zi(p1,k,!1)},{keyCode:vi.DELETE,action:Zi(p1,k,!0)},{keyCode:vi.BACKSPACE,action:Zi(A1,k,D,!1)},{keyCode:vi.DELETE,action:Zi(A1,k,D,!0)},{keyCode:vi.BACKSPACE,action:Zi(Sx,k,!1)},{keyCode:vi.DELETE,action:Zi(Sx,k,!0)},{keyCode:vi.BACKSPACE,action:Zi(jp,k,!1,$)},{keyCode:vi.DELETE,action:Zi(jp,k,!0,$)},...Y1?[{keyCode:vi.BACKSPACE,altKey:!0,action:Zi(jp,k,!1,re(!0))},{keyCode:vi.DELETE,altKey:!0,action:Zi(jp,k,!0,re(!0))},{keyCode:vi.BACKSPACE,metaKey:!0,action:Zi(jp,k,!1,re(!1))}]:[{keyCode:vi.BACKSPACE,ctrlKey:!0,action:Zi(jp,k,!1,re(!0))},{keyCode:vi.DELETE,ctrlKey:!0,action:Zi(jp,k,!0,re(!0))}],{keyCode:vi.BACKSPACE,action:Zi(eg,k,!1)},{keyCode:vi.DELETE,action:Zi(eg,k,!0)},{keyCode:vi.BACKSPACE,action:Zi(hk,k,!1)},{keyCode:vi.DELETE,action:Zi(hk,k,!0)},{keyCode:vi.BACKSPACE,action:Zi(h1,k,!1)},{keyCode:vi.DELETE,action:Zi(h1,k,!0)},{keyCode:vi.BACKSPACE,action:Zi(c1,k,!1)},{keyCode:vi.DELETE,action:Zi(c1,k,!0)},{keyCode:vi.BACKSPACE,action:Zi(M1,k,!1)},{keyCode:vi.DELETE,action:Zi(M1,k,!0)}],z).filter(he=>k.selection.isEditable()).each(he=>{z.preventDefault(),C0(k,H).isDefaultPrevented()||(he(),S0(k,H))})})(p,m,_)}),p.on("keyup",_=>{var k,D,z;_.isDefaultPrevented()||(D=_,z=b,Es([{keyCode:vi.BACKSPACE,action:Zi(fh,k=p)},{keyCode:vi.DELETE,action:Zi(fh,k)},...Y1?[{keyCode:vi.BACKSPACE,altKey:!0,action:Zi(h0,k)},{keyCode:vi.DELETE,altKey:!0,action:Zi(h0,k)},...z?[{keyCode:iL?224:91,action:Zi(h0,k)}]:[]]:[{keyCode:vi.BACKSPACE,ctrlKey:!0,action:Zi(h0,k)},{keyCode:vi.DELETE,ctrlKey:!0,action:Zi(h0,k)}]],D)),b=!1})})(s,c),(p=>{let m=ue.none();p.on("keydown",b=>{var _;b.keyCode===vi.ENTER&&(lL&&(_=>{if(!_.collapsed)return!1;const k=_.startContainer;if(Rn(k)){const D=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,z=k.data.charAt(_.startOffset-1);return D.test(z)}return!1})(p.selection.getRng())?(m=ue.some((_=p).selection.getBookmark()),_.undoManager.add()):sA(p,b))}),p.on("keyup",b=>{b.keyCode===vi.ENTER&&m.each(()=>{return k=b,(_=p).undoManager.undo(),m.fold(lt,D=>_.selection.moveToBookmark(D)),sA(_,k),void(m=ue.none());var _,k})})})(s),(p=>{p.on("keydown",m=>{var b,_;m.isDefaultPrevented()||(_=m,bk([{keyCode:vi.SPACEBAR,action:Zi(sg,b=p)},{keyCode:vi.SPACEBAR,action:Zi(yI,b)}],_).each(k=>{_.preventDefault(),C0(b,"insertText",{data:" "}).isDefaultPrevented()||(k(),S0(b,"insertText",{data:" "}))}))})})(s),(p=>{p.on("input",m=>{m.isComposing||(b=>{const _=Yt(b.getBody());b.selection.isCollapsed()&&((s,c,p)=>{const m=c.container();if(!Rn(m))return ue.none();if((b=>{const _=b.container();return Rn(_)&&Sr(_.data,go)})(c)){const b=qT(s,m,!1,p)||(_=>{const k=_.data,D=(z=>{const H=z.split("");return Bt(H,(X,$)=>Ib(X)&&$>0&&$<H.length-1&&Ob(H[$-1])&&Ob(H[$+1])?" ":X).join("")})(k);return D!==k&&(_.data=D,!0)})(m)||LS(s,m,!1,p);return lr(b,c)}if(DS(s,c,p)){const b=qT(s,m,!0,p)||LS(s,m,!0,p);return lr(b,c)}return ue.none()})(_,wn.fromRangeStart(b.selection.getRng()),b.schema).each(k=>{b.selection.setRng(k.toRange())})})(p)})})(s),(p=>{p.on("keydown",m=>{var _;m.isDefaultPrevented()||(_=m,Es([...e_(p)],_).each(k=>{_.preventDefault()}))})})(s),((p,m)=>{p.on("keydown",b=>{b.isDefaultPrevented()||((_,k,D)=>{const z=Mi.os.isMacOS()||Mi.os.isiOS();Es([{keyCode:vi.END,action:Zi(mk,_,!0)},{keyCode:vi.HOME,action:Zi(mk,_,!1)},...z?[]:[{keyCode:vi.HOME,action:Zi(rv,_,!1),ctrlKey:!0,shiftKey:!0},{keyCode:vi.END,action:Zi(rv,_,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:vi.END,action:Zi(_k,_,!0)},{keyCode:vi.HOME,action:Zi(_k,_,!1)},{keyCode:vi.END,action:Zi(c0,_,!0,k)},{keyCode:vi.HOME,action:Zi(c0,_,!1,k)}],D).each(H=>{D.preventDefault()})})(p,m,b)})})(s,c),((p,m)=>{if(cL.os.isMacOS())return;const b=P(!1);p.on("keydown",_=>{mI(_)&&vI(b,p,!0)}),p.on("keyup",_=>{var k,D,z;_.isDefaultPrevented()||(z=_,Es([{keyCode:vi.PAGE_UP,action:Zi(c0,k=p,!1,D=m)},{keyCode:vi.PAGE_DOWN,action:Zi(c0,k,!0,D)}],z)),mI(_)&&b.get()&&(vI(b,p,!1),p.nodeChanged())})})(s,c),c}var p};class M0{constructor(c){let p;this.lastPath=[],this.editor=c;const m=this;"onselectionchange"in c.getDoc()||c.on("NodeChange click mouseup keyup focus",b=>{const _=c.selection.getRng(),k={startContainer:_.startContainer,startOffset:_.startOffset,endContainer:_.endContainer,endOffset:_.endOffset};"nodechange"!==b.type&&If(k,p)||c.dispatch("SelectionChange"),p=k}),c.on("contextmenu",()=>{c.dispatch("SelectionChange")}),c.on("SelectionChange",()=>{const b=c.selection.getStart(!0);b&&sy(c)&&!m.isSameElementPath(b)&&c.dom.isChildOf(b,c.getBody())&&c.nodeChanged({selectionChange:!0})}),c.on("mouseup",b=>{!b.isDefaultPrevented()&&sy(c)&&("IMG"===c.selection.getNode().nodeName?lc.setEditorTimeout(c,()=>{c.nodeChanged()}):c.nodeChanged())})}nodeChanged(c={}){const p=this.editor.selection;let m;if(this.editor.initialized&&p&&!Xv(this.editor)&&!this.editor.mode.isReadOnly()){const b=this.editor.getBody();m=p.getStart(!0)||b,m.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(m,b)||(m=b);const _=[];this.editor.dom.getParent(m,k=>k===b||(_.push(k),!1)),this.editor.dispatch("NodeChange",{...c,element:m,parents:_})}}isSameElementPath(c){let p;const m=this.editor,b=Wi(m.dom.getParents(c,pe,m.getBody()));if(b.length===this.lastPath.length){for(p=b.length;p>=0&&b[p]===this.lastPath[p];p--);if(-1===p)return this.lastPath=b,!0}return this.lastPath=b,!1}}const bI=Ni("image"),T0=Ni("event"),Wa=s=>c=>{c[T0]=s},t_=Wa(0),n_=Wa(2),xI=Wa(1),lg=Ni("mode"),Qh=s=>c=>{c[lg]=s},i_=(s,c)=>Qh(c)(s),r_=Qh(0),o_=Qh(2),hL=Qh(1),I0=s=>c=>ue.from(c[lg]).exists(m=>m===s),cg=I0(0),_I=I0(1),wI=["none","copy","link","move"],SI=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],O0=()=>{const s=new window.DataTransfer;let c="move",p="all";const m={get dropEffect(){return c},set dropEffect(b){Et(wI,b)&&(c=b)},get effectAllowed(){return p},set effectAllowed(b){(s=>ue.from(s[T0]).exists(p=>0===p))(m)&&Et(SI,b)&&(p=b)},get items(){return b=m,_=s.items,{..._,get length(){return _.length},add:(k,D)=>{if(cg(b)){if(!ve(k))return _.add(k);if(!Ae(D))return _.add(k,D)}return null},remove:k=>{cg(b)&&_.remove(k)},clear:()=>{cg(b)&&_.clear()}};var b,_},get files(){return _I(m)?Object.freeze({length:0,item:b=>null}):s.files},get types(){return s.types},setDragImage:(b,_,k)=>{cg(m)&&(m[bI]={image:b,x:_,y:k},s.setDragImage(b,_,k))},getData:b=>_I(m)?"":s.getData(b),setData:(b,_)=>{cg(m)&&s.setData(b,_)},clearData:b=>{cg(m)&&s.clearData(b)}};return r_(m),m},a_=(s,c)=>s.setData("text/html",c),vv="x-tinymce/html",ug=rt(vv),s_="\x3c!-- "+vv+" --\x3e",hA=s=>s_+s,dA=s=>-1!==s.indexOf(s_),CI="%MCEPASTEBIN%",pA=s=>s.dom.get("mcepastebin"),dL=s=>Ke(s)&&"mcepastebin"===s.id,kI=s=>s===CI,fA=(s,c)=>(Dn.each(c,p=>{s=we(p,RegExp)?s.replace(p,""):s.replace(p[0],p[1])}),s),AI=s=>fA(s,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(c,p,m)=>p||m?go:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),gA=(s,c)=>({content:s,cancelled:c}),l_=(s,c)=>(s.insertContent(c,{merge:FM(s),paste:!0}),!0),c_=s=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(s),pL=(s,c,p)=>{return!(s.selection.isCollapsed()||!c_(c)||(m=s,b=c,_=p,m.undoManager.extra(()=>{_(m,b)},()=>{m.execCommand("mceInsertLink",!1,b)}),0));var m,b,_},fL=(s,c,p)=>{return m=s,!(!c_(b=c)||!xn(Uo(m),_=>ni(b.toLowerCase(),`.${_.toLowerCase()}`)))&&((m,b,_)=>(m.undoManager.extra(()=>{_(m,b)},()=>{m.insertContent('<img src="'+b+'">')}),!0))(s,c,p);var m,b},u_=(s=>{let c=0;return()=>"mceclip"+c++})(),gL=s=>{const c=O0();return a_(c,s),o_(c),c},h_=(s,c,p,m,b)=>{const _=((H,X,$)=>{const re=H.dispatch("PastePreProcess",{content:X,internal:$}),he=((se,xe)=>{const ce=qh({sanitize:Zv(se),sandbox_iframes:Mc(se)},se.schema);ce.addNodeFilter("meta",He=>{Dn.each(He,Xe=>{Xe.remove()})});const Me=ce.parse(xe,{forced_root_block:!1,isRootContent:!0});return Pd({validate:!0},se.schema).serialize(Me)})(H,re.content);return H.hasEventListeners("PastePostProcess")&&!re.isDefaultPrevented()?((se,xe,ce)=>{const Me=se.dom.create("div",{style:"display:none"},xe),He=se.dispatch("PastePostProcess",{node:Me,internal:ce});return gA(He.node.innerHTML,He.isDefaultPrevented())})(H,he,$):gA(he,re.isDefaultPrevented())})(s,c,p);if(!_.cancelled){const k=_.content,D=()=>{return z=s,H=k,void(m||!jg(z)?l_(z,H):($=z,re=H,Dn.each([pL,fL,l_],he=>!he($,re,l_))));var z,H,$,re};b?C0(s,"insertFromPaste",{dataTransfer:gL(k)}).isDefaultPrevented()||(D(),S0(s,"insertFromPaste")):D()}},hg=(s,c,p,m)=>{const b=p||dA(c);h_(s,c.replace(s_,""),b,!1,m)},d_=(s,c,p)=>{const m=s.dom.encode(c).replace(/\r\n/g,"\n"),b=((_,k,D)=>{const z=_.split(/\n\n/),H=((re,he)=>{let se="<"+re;const xe=ft(he,(ce,Me)=>Me+'="'+nc.encodeAllRaw(ce)+'"');return xe.length&&(se+=" "+xe.join(" ")),se+">"})(k,D),X="</"+k+">",$=Bt(z,re=>re.split(/\n/).join("<br />"));return 1===$.length?$[0]:Bt($,re=>H+re+X).join("")})(Cs(m,_f(s)),Ms(s),yf(s));h_(s,b,!1,!0,p)},yv=s=>{const c={};if(s&&s.types)for(let p=0;p<s.types.length;p++){const m=s.types[p];try{c[m]=s.getData(m)}catch{c[m]=""}}return c},Gd=(s,c)=>c in s&&s[c].length>0,p_=s=>Gd(s,"text/html")||Gd(s,"text/plain"),f_=(s,c,p)=>{const m="paste"===c.type?c.clipboardData:c.dataTransfer;var b;if(pb(s)&&m){const _=((k,D)=>{const z=D.items?bi(Zo(D.items),X=>"file"===X.kind?[X.getAsFile()]:[]):[],H=D.files?Zo(D.files):[];return En(z.length>0?z:H,(X=>{const $=Uo(X);return re=>Fn(re.type,"image/")&&xn($,he=>(se=>{const xe=se.toLowerCase(),ce={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Dn.hasOwn(ce,xe)?"image/"+ce[xe]:"image/"+xe})(he)===re.type)})(k))})(s,m);if(_.length>0)return c.preventDefault(),(b=_,Promise.all(Bt(b,k=>cC(k).then(D=>({file:k,uri:D}))))).then(k=>{p&&s.selection.setRng(p),Ht(k,D=>{var z,H;z=s,Yx((H=D).uri).each(({data:X,type:$,base64Encoded:re})=>{const he=re?X:btoa(X),se=H.file,xe=z.editorUpload.blobCache,Me=xe.getByData(he,$)??((He,Xe,pt,ut)=>{const Rt=u_(),Jt=lb(He)&&Ke(pt.name),rn=Jt?((Wt,en)=>{const un=en.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ke(un)?Wt.dom.encode(un[1]):void 0})(He,pt.name):Rt,fn=Xe.create(Rt,pt,ut,rn,Jt?pt.name:void 0);return Xe.add(fn),fn})(z,xe,se,he);hg(z,`<img src="${Me.blobUri()}">`,!1,!0)})})}),!0}return!1},g_=(s,c,p,m,b)=>{let _=AI(p);const k=Gd(c,ug())||dA(p),D=!k&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(_),z=c_(_);(kI(_)||!_.length||D&&!z)&&(m=!0),(m||z)&&(_=Gd(c,"text/plain")&&D?c["text/plain"]:(H=>{const X=Ks(),$=qh({},X);let re="";const he=X.getVoidElements(),se=Dn.makeMap("script noscript style textarea video audio iframe object"," "),xe=X.getBlockElements(),ce=Me=>{const He=Me.name,Xe=Me;if("br"!==He){if("wbr"!==He)if(he[He]&&(re+=" "),se[He])re+=" ";else{if(3===Me.type&&(re+=Me.value),!(Me.name in X.getVoidElements())){let pt=Me.firstChild;if(pt)do{ce(pt)}while(pt=pt.next)}xe[He]&&Xe.next&&(re+="\n","p"===He&&(re+="\n"))}}else re+="\n"};return H=fA(H,[/<!\[[^\]]+\]>/g]),ce($.parse(H)),re})(_)),kI(_)||(m?d_(s,_,b):hg(s,_,k,b))},MI=(s,c,p,m)=>{((b,_,k)=>{if(!b)return!1;try{return b.clearData(),b.setData("text/html",_),b.setData("text/plain",k),b.setData(ug(),_),!0}catch{return!1}})(s.clipboardData,c.html,c.text)?(s.preventDefault(),m()):p(c.html,m)},bv=s=>(c,p)=>{const{dom:m,selection:b}=s,_=m.create("div",{contenteditable:"false","data-mce-bogus":"all"}),k=m.create("div",{contenteditable:"true"},c);m.setStyles(_,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),_.appendChild(k),m.add(s.getBody(),_);const D=b.getRng();k.focus();const z=m.createRng();z.selectNodeContents(k),b.setRng(z),lc.setEditorTimeout(s,()=>{b.setRng(D),m.remove(_),p()},0)},xv=s=>({html:hA(s.selection.getContent({contextual:!0})),text:s.selection.getContent({format:"text"})}),vA=s=>{return!s.selection.isCollapsed()||!!(c=s).dom.getParent(c.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",c.getBody());var c},m_=(s,c)=>{var p,m;return ah.getCaretRangeFromPoint(null!==(p=c.clientX)&&void 0!==p?p:0,null!==(m=c.clientY)&&void 0!==m?m:0,s.getDoc())},v_=(s,c)=>{s.focus(),c&&s.selection.setRng(c)},mL=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,yA=s=>Dn.trim(s).replace(mL,iu).toLowerCase(),vL=(s,c,p)=>{const m=Uv(s);if(p||"all"===m||!fb(s))return c;const b=m?m.split(/[, ]/):[];if(b&&"none"!==m){const _=s.dom,k=s.selection.getNode();c=c.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(D,z,H,X)=>{const $=_.parseStyle(_.decode(H)),re={};for(let se=0;se<b.length;se++){const xe=$[b[se]];let ce=xe,Me=_.getStyle(k,b[se],!0);/color/.test(b[se])&&(ce=yA(ce),Me=yA(Me)),Me!==ce&&(re[b[se]]=xe)}const he=_.serializeStyle(re,"span");return he?z+' style="'+he+'"'+X:z+X})}else c=c.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return c.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(_,k,D,z)=>k+' style="'+D+'"'+z)},yL=Co,TI=Rn,EI=s=>fo(s.dom),y_=s=>c=>Br(Yt(s),c),bA=(s,c)=>Na(Yt(s),EI,y_(c)),b_=(s,c,p)=>{const m=new Jo(s,c),b=p?m.next.bind(m):m.prev.bind(m);let _=s;for(let k=p?s:b();k&&!yL(k);k=b())zs(k)&&(_=k);return _};var Yp;!function(s){s.Before="before",s.After="after"}(Yp||(Yp={}));const II=(s,c)=>Math.abs(s.left-c),OI=(s,c)=>Math.abs(s.right-c),xA=(s,c,p)=>c>s.left&&c<s.right?0:Math.min(Math.abs(s.left-c),Math.abs(s.right-c)),D0=(s,c,p,m)=>{const b=X=>zs(X.node)?ue.some(X):pi(X.node)?D0(Zo(X.node.childNodes),c,p,!1):ue.none(),_=(X,$)=>{const re=po(X,(he,se)=>$(he,c,p)-$(se,c,p));return ns(re,b).map(he=>{return m&&!Rn(he.node)&&re.length>1?(se=he,xe=re[1],ce=$,b(xe).filter(Me=>Math.abs(ce(se,c,p)-ce(Me,c,p))<2&&Rn(Me.node))).getOr(he):he;var se,xe,ce})},[k,D]=((s,c)=>{return(p=En(s,p=>{return(m=c)>=(b=p).top&&m<=b.bottom;var m,b}),pr(p,(m,b)=>m.fold(()=>ue.some(b),_=>{const k=Math.min(b.left,_.left),D=Math.min(b.top,_.top),z=Math.max(b.right,_.right),H=Math.max(b.bottom,_.bottom);return ue.some({top:D,right:z,bottom:H,left:k,width:z-k,height:H-D})}),ue.none())).fold(()=>[[],s],p=>{const{pass:m,fail:b}=xr(s,_=>((k,D)=>{const z=(H=k,X=D,Math.max(0,Math.min(H.bottom,X.bottom)-Math.max(H.top,X.top))/Math.min(k.height,D.height));var H,X;return((H,X)=>H.top<X.bottom&&H.bottom>X.top)(k,D)&&z>.5})(_,p));return[m,b]});var p})(dE(s),p),{pass:z,fail:H}=xr(D,X=>X.top<p);return _(k,xA).orThunk(()=>_(H,dl)).orThunk(()=>_(z,dl))},x_=(s,c,p)=>((m,b,_)=>{const k=Yt(m),z=((s,c,p)=>ue.from(s.dom.elementFromPoint(c,p)).map(Pa))(_s(k),b,_).filter(H=>$r(k,H)).getOr(k);return((H,X,$,re)=>{const he=(se,xe)=>{const ce=En(se.dom.childNodes,Hn(Me=>pi(Me)&&Me.classList.contains("mce-drag-container")));return xe.fold(()=>D0(ce,$,re,!0),Me=>{const He=En(ce,Xe=>Xe!==Me.dom);return D0(He,$,re,!0)}).orThunk(()=>(Br(se,H)?ue.none():Al(se)).bind(Me=>he(Me,ue.some(se))))};return he(X,ue.none())})(k,z,b,_)})(s,c,p).filter(m=>lu(m.node)).map(m=>{return{node:(b=m).node,position:II(b,_=c)<OI(b,_)?Yp.Before:Yp.After};var b,_}),_A=s=>{var c,p;const m=s.getBoundingClientRect(),b=s.ownerDocument,_=b.documentElement,k=b.defaultView;return{top:m.top+(null!==(c=k?.scrollY)&&void 0!==c?c:0)-_.clientTop,left:m.left+(null!==(p=k?.scrollX)&&void 0!==p?p:0)-_.clientLeft}},wA=s=>({target:s,srcElement:s}),__=fo,CA=((...s)=>c=>{for(let p=0;p<s.length;p++)if(s[p](c))return!0;return!1})(__,Ss),kA=(s,c,p,m)=>{const b=s.dom,_=c.cloneNode(!0);b.setStyles(_,{width:p,height:m}),b.setAttrib(_,"data-mce-selected",null);const k=b.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return b.setStyles(k,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:p,height:m}),b.setStyles(_,{margin:0,boxSizing:"border-box"}),k.appendChild(_),k},Xd=(s,c)=>p=>()=>{p.scroll({[s]:("left"===s?p.scrollX:p.scrollY)+c,behavior:"smooth"})},w_=Xd("left",-32),AA=Xd("left",32),MA=Xd("top",-32),S_=Xd("top",32),TA=s=>{s&&s.parentNode&&s.parentNode.removeChild(s)},L0=(s,c,p,m,b)=>{"dragstart"===c&&a_(m,s.dom.getOuterHTML(p));const _=((s,c,p,m)=>{const b=((_,k)=>{const D=(z=>{const H=O0(),X=ue.from(z[lg]);return o_(z),t_(H),H.dropEffect=z.dropEffect,H.effectAllowed=z.effectAllowed,($=z,ue.from($[bI])).each($=>H.setDragImage($.image,$.x,$.y)),Ht(z.types,$=>{"Files"!==$&&H.setData($,z.getData($))}),Ht(z.files,$=>H.items.add($)),($=>ue.from($[T0]))(z).each($=>{var re;re=H,Wa($)(re)}),X.each($=>{i_(z,$),i_(H,$)}),H;var $})(_);return"dragstart"===k?(t_(D),r_(D)):"drop"===k?(n_(D),o_(D)):(xI(D),hL(D)),D})(p,s);return Ae(m)?((_,k,D)=>{const z=hn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:_,composedPath:z,initEvent:z,preventDefault:lt,stopImmediatePropagation:lt,stopPropagation:lt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:z,initMouseEvent:z,getModifierState:z,dataTransfer:D,...wA(k)}})(s,c,b):(_=s,k=m,D=c,z=b,{...k,dataTransfer:z,type:_,...wA(D)});var _,k,D,z})(c,p,m,b);return s.dispatch(c,_)},LI=(s,c,p)=>{s.on(m=>{m.intervalId.clear(),m.dragging&&p.fold(()=>L0(c,"dragend",m.element,m.dataTransfer),b=>L0(c,"dragend",m.element,m.dataTransfer,b))}),Gp(s)},Gp=s=>{s.on(c=>{c.intervalId.clear(),TA(c.ghost)}),s.clear()},Sv=fo,EA=(s,c)=>ds(s.getBody(),c),xL=s=>{const c=s.selection,p=s.dom,m=s.getBody(),b=((s,c,p,m)=>{const b=Be();let _,k;const D=Ms(s),z=s.dom,H=()=>{(X=>{var $,re;const he=ga(Yt(X),"*[contentEditable=false],video,audio,embed,object");for(let se=0;se<he.length;se++){const xe=he[se].dom;let ce=xe.previousSibling;if(Yu(ce)){const Me=ce.data;1===Me.length?null===($=ce.parentNode)||void 0===$||$.removeChild(ce):ce.deleteData(Me.length-1,1)}ce=xe.nextSibling,ju(ce)&&(1===ce.data.length?null===(re=ce.parentNode)||void 0===re||re.removeChild(ce):ce.deleteData(0,1))}})(c),k&&(zh(k),k=null),b.on(X=>{z.remove(X.caret),b.clear()}),_&&(clearInterval(_),_=void 0)};return{show:(X,$)=>{let re;if(H(),YM($))return null;if(!p($))return k=((he,se)=>{var xe;const ce=(null!==(xe=he.ownerDocument)&&void 0!==xe?xe:document).createTextNode(ma),Me=he.parentNode;if(se){const He=he.previousSibling;if(Hu(He)){if(ea(He))return He;if(Yu(He))return He.splitText(He.data.length-1)}Me?.insertBefore(ce,he)}else{const He=he.nextSibling;if(Hu(He)){if(ea(He))return He;if(ju(He))return He.splitText(1),He}he.nextSibling?Me?.insertBefore(ce,he.nextSibling):Me?.appendChild(ce)}return ce})($,X),re=$.ownerDocument.createRange(),fp(k.nextSibling)?(re.setStart(k,0),re.setEnd(k,0)):(re.setStart(k,1),re.setEnd(k,1)),re;{const he=((ce,Me,He)=>{var Xe;const pt=(null!==(Xe=Me.ownerDocument)&&void 0!==Xe?Xe:document).createElement(ce);pt.setAttribute("data-mce-caret",He?"before":"after"),pt.setAttribute("data-mce-bogus","all"),pt.appendChild(eu().dom);const ut=Me.parentNode;return He?ut?.insertBefore(pt,Me):Me.nextSibling?ut?.insertBefore(pt,Me.nextSibling):ut?.appendChild(pt),pt})(D,$,X),se=oc(c,$,X);z.setStyle(he,"top",se.top),k=he;const xe=z.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});z.setStyles(xe,{...se}),z.add(c,xe),b.set({caret:xe,element:$,before:X}),X&&z.addClass(xe,"mce-visual-caret-before"),_=setInterval(()=>{b.on(ce=>{m()?z.toggleClass(ce.caret,"mce-visual-caret-hidden"):z.addClass(ce.caret,"mce-visual-caret-hidden")})},500),re=$.ownerDocument.createRange(),re.setStart(he,0),re.setEnd(he,0)}return re},hide:H,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{b.on(X=>{const $=oc(c,X.element,X.before);z.setStyles(X.caret,{...$})})},destroy:()=>clearInterval(_)}})(s,m,p.isBlock,()=>Pf(s)),_="sel-"+p.uniqueId(),k="data-mce-selected";let D;const z=ce=>ce!==m&&(Sv(ce)||qa(ce))&&p.isChildOf(ce,m)&&p.isEditable(ce.parentNode),H=(ce,Me,He,Xe=!0)=>s.dispatch("ShowCaret",{target:Me,direction:ce,before:He}).isDefaultPrevented()?null:(Xe&&c.scrollIntoView(Me,-1===ce),b.show(He,Me)),X=ce=>ea(ce)||ju(ce)||Yu(ce),$=ce=>X(ce.startContainer)||X(ce.endContainer),he=(ce,Me)=>{if(!ce)return null;if(ce.collapsed){if(!$(ce)){const ut=Me?1:-1,Rt=$g(ut,m,ce),Jt=Rt.getNode(!Me);if(Ke(Jt)){if(lu(Jt))return H(ut,Jt,!!Me&&!Rt.isAtEnd(),!1);if(Gi(Jt)&&fo(Jt.nextSibling)){const sn=p.createRng();return sn.setStart(Jt,0),sn.setEnd(Jt,0),sn}}const rn=Rt.getNode(Me);if(Ke(rn)){if(lu(rn))return H(ut,rn,!Me&&!Rt.isAtEnd(),!1);if(Gi(rn)&&fo(rn.previousSibling)){const sn=p.createRng();return sn.setStart(rn,1),sn.setEnd(rn,1),sn}}}return null}let He=ce.startContainer,Xe=ce.startOffset;const pt=ce.endOffset;if(Rn(He)&&0===Xe&&Sv(He.parentNode)&&(He=He.parentNode,Xe=p.nodeIndex(He),He=He.parentNode),!pi(He))return null;if(pt===Xe+1&&He===ce.endContainer){const ut=He.childNodes[Xe];if(z(ut))return(Rt=>{const Jt=Rt.cloneNode(!0),rn=s.dispatch("ObjectSelected",{target:Rt,targetClone:Jt});if(rn.isDefaultPrevented())return null;const sn=((Wt,en)=>{const un=Yt(s.getBody()),An=s.getDoc(),li=Mu(un,"#"+_).getOrThunk(()=>{const Ii=is('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',An);return Ho(Ii,"id",_),qo(un,Ii),Ii}),$n=p.createRng();$c(li),Ol(li,[Ko(go,An),Yt(en),Ko(go,An)]),$n.setStart(li.dom.firstChild,1),$n.setEnd(li.dom.lastChild,0),Il(li,{top:p.getPos(Wt,s.getBody()).y+"px"}),hT(li);const zi=c.getSel();return zi&&(zi.removeAllRanges(),zi.addRange($n)),$n})(Rt,rn.targetClone),fn=Yt(Rt);return Ht(ga(Yt(s.getBody()),`*[${k}]`),Wt=>{Br(fn,Wt)||Sa(Wt,k)}),p.getAttrib(Rt,k)||Rt.setAttribute(k,"1"),D=Rt,xe(),sn})(ut)}return null},se=()=>{D&&D.removeAttribute(k),Mu(Yt(s.getBody()),"#"+_).each(yo),D=null},xe=()=>{b.hide()};return hh(s)||(s.on("click",ce=>{p.isEditable(ce.target)||(ce.preventDefault(),s.focus())}),s.on("blur NewBlock",se),s.on("ResizeWindow FullscreenStateChanged",b.reposition),s.on("tap",ce=>{const Me=ce.target,He=EA(s,Me);Sv(He)?(ce.preventDefault(),qm(s,He).each(he)):z(Me)&&qm(s,Me).each(he)},!0),s.on("mousedown",ce=>{const Me=ce.target;if(Me!==m&&"HTML"!==Me.nodeName&&!p.isChildOf(Me,m)||!((Xe,pt,ut)=>{const Rt=Yt(Xe.getBody()),Jt=Xe.inline?Rt:Yt(_s(Rt).dom.documentElement),rn=((sn,fn,Wt,en)=>{const un=fn.dom.getBoundingClientRect();return{x:Wt-(sn?un.left+fn.dom.clientLeft+Z2(fn):0),y:en-(sn?un.top+fn.dom.clientTop+$2(fn):0)}})(Xe.inline,Jt,pt,ut);return((sn,fn,Wt)=>{const en=IC(sn),un=U2(sn);return fn>=0&&Wt>=0&&fn<=en&&Wt<=un})(Jt,rn.x,rn.y)})(s,ce.clientX,ce.clientY))return;se(),xe();const He=EA(s,Me);Sv(He)?(ce.preventDefault(),qm(s,He).each(he)):x_(m,ce.clientX,ce.clientY).each(Xe=>{var pt;ce.preventDefault(),(pt=H(1,Xe.node,Xe.position===Yp.Before,!1))&&c.setRng(pt),Xa(He)?He.focus():s.getBody().focus()})}),s.on("keypress",ce=>{vi.modifierPressed(ce)||Sv(c.getNode())&&ce.preventDefault()}),s.on("GetSelectionRange",ce=>{let Me=ce.range;if(D){if(!D.parentNode)return void(D=null);Me=Me.cloneRange(),Me.selectNode(D),ce.range=Me}}),s.on("SetSelectionRange",ce=>{ce.range=(ce=>{const Me=s.schema.getVoidElements(),He=p.createRng(),Xe=ce.startContainer,pt=ce.startOffset,ut=ce.endContainer,Rt=ce.endOffset;return Gt(Me,Xe.nodeName.toLowerCase())?0===pt?He.setStartBefore(Xe):He.setStartAfter(Xe):He.setStart(Xe,pt),Gt(Me,ut.nodeName.toLowerCase())?0===Rt?He.setEndBefore(ut):He.setEndAfter(ut):He.setEnd(ut,Rt),He})(ce.range);const Me=he(ce.range,ce.forward);Me&&(ce.range=Me)}),s.on("AfterSetSelectionRange",ce=>{const Me=ce.range,He=Me.startContainer.parentElement;var Xe,pt;$(Me)||pi(Xe=He)&&"mcepastebin"===Xe.id||xe(),Ke(pt=He)&&p.hasClass(pt,"mce-offscreen-selection")||se()}),(s=>{const c=Be(),p=E.DOM,m=document,b=(z=c,H=s,X=>{if(0===X.button){const $=_n(H.dom.getParents(X.target),CA).getOr(null);if(Ke($)&&(re=H.dom,he=H.getBody(),__(se=$)&&se!==he&&re.isEditable(se.parentElement))){const re=H.dom.getPos($),he=H.getBody(),se=H.getDoc().documentElement;z.set({element:$,dataTransfer:O0(),dragging:!1,screenX:X.screenX,screenY:X.screenY,maxX:(H.inline?he.scrollWidth:se.offsetWidth)-2,maxY:(H.inline?he.scrollHeight:se.offsetHeight)-2,relX:X.pageX-re.x,relY:X.pageY-re.y,width:$.offsetWidth,height:$.offsetHeight,ghost:kA(H,$,$.offsetWidth,$.offsetHeight),intervalId:me(100)})}}var re,he,se}),_=((s,c)=>{const p=Pe((b,_)=>{return D=b,z=_,(k=c)._selectionOverrides.hideFakeCaret(),void x_(k.getBody(),D,z).fold(()=>k.selection.placeCaretAt(D,z),H=>{const X=k._selectionOverrides.showCaret(1,H.node,H.position===Yp.Before,!1);X?k.selection.setRng(X):k.selection.placeCaretAt(D,z)});var k,D,z},0);c.on("remove",p.cancel);const m=s;return b=>s.on(_=>{const k=Math.max(Math.abs(b.screenX-_.screenX),Math.abs(b.screenY-_.screenY));if(!_.dragging&&k>10){const H=L0(c,"dragstart",_.element,_.dataTransfer,b);if(Ke(H.dataTransfer)&&(_.dataTransfer=H.dataTransfer),H.isDefaultPrevented())return;_.dragging=!0,c.focus()}if(_.dragging){const H=b.currentTarget===c.getDoc().documentElement,X=(($,re)=>({pageX:re.pageX-$.relX,pageY:re.pageY+5}))(_,(re=b,he=(ce=$=c).inline?_A(ce.getBody()):{left:0,top:0},se=(ce=>{const Me=ce.getBody();return ce.inline?{left:Me.scrollLeft,top:Me.scrollTop}:{left:0,top:0}})($),xe=((ce,Me)=>{if(Me.target.ownerDocument!==ce.getDoc()){const He=_A(ce.getContentAreaContainer()),Xe=(pt=>{const ut=pt.getBody(),Rt=pt.getDoc().documentElement;return pt.inline?{left:ut.scrollLeft,top:ut.scrollTop}:{left:ut.scrollLeft||Rt.scrollLeft,top:ut.scrollTop||Rt.scrollTop}})(ce);return{left:Me.pageX-He.left+Xe.left,top:Me.pageY-He.top+Xe.top}}return{left:Me.pageX,top:Me.pageY}})($,re),{pageX:xe.left-he.left+se.left,pageY:xe.top-he.top+se.top}));D=_.ghost,z=c.getBody(),D.parentNode!==z&&z.appendChild(D),(($,re,he,se,xe,ce,Me,He,Xe,pt,ut,Rt)=>{let Jt=0,rn=0;$.style.left=re.pageX+"px",$.style.top=re.pageY+"px",re.pageX+he>xe&&(Jt=re.pageX+he-xe),re.pageY+se>ce&&(rn=re.pageY+se-ce),$.style.width=he-Jt+"px",$.style.height=se-rn+"px";const sn=Xe.clientHeight,fn=Xe.clientWidth,Wt=Me+Xe.getBoundingClientRect().top,en=He+Xe.getBoundingClientRect().left;ut.on(un=>{un.intervalId.clear(),un.dragging&&Rt&&(Me+8>=sn?un.intervalId.set(S_(pt)):Me-8<=0?un.intervalId.set(MA(pt)):He+8>=fn?un.intervalId.set(AA(pt)):He-8<=0?un.intervalId.set(w_(pt)):Wt+16>=window.innerHeight?un.intervalId.set(S_(window)):Wt-16<=0?un.intervalId.set(MA(window)):en+16>=window.innerWidth?un.intervalId.set(AA(window)):en-16<=0&&un.intervalId.set(w_(window)))})})(_.ghost,X,_.width,_.height,_.maxX,_.maxY,b.clientY,b.clientX,c.getContentAreaContainer(),c.getWin(),m,H),p.throttle(b.clientX,b.clientY)}var $,re,ce,he,se,xe,D,z})})(c,s),k=((z,H)=>X=>{z.on($=>{var re,he,se,xe;if($.intervalId.clear(),$.dragging){if(he=H,se=(he=>{const se=he.getSel();if(Ke(se)){const xe=se.getRangeAt(0).startContainer;return Rn(xe)?xe.parentNode:xe}return null})(H.selection),xe=$.element,!je(se)&&se!==xe&&!he.dom.isChildOf(se,xe)&&he.dom.isEditable(se)){const he=null!==(re=H.getDoc().elementFromPoint(X.clientX,X.clientY))&&void 0!==re?re:H.getBody();L0(H,"drop",he,$.dataTransfer,X).isDefaultPrevented()||H.undoManager.transact(()=>{((se,xe)=>{const ce=se.getParent(xe.parentNode,se.isBlock);TA(xe),ce&&ce!==se.getRoot()&&se.isEmpty(ce)&&bo(Yt(ce))})(H.dom,$.element),(se=>{const xe=se.getData("text/html");return""===xe?ue.none():ue.some(xe)})($.dataTransfer).each(se=>H.insertContent(se)),H._selectionOverrides.hideFakeCaret()})}L0(H,"dragend",H.getBody(),$.dataTransfer,X)}}),Gp(z)})(c,s),D=((z,H)=>X=>LI(z,H,ue.some(X)))(c,s);var z,H;s.on("mousedown",b),s.on("mousemove",_),s.on("mouseup",k),p.bind(m,"mousemove",_),p.bind(m,"mouseup",D),s.on("remove",()=>{p.unbind(m,"mousemove",_),p.unbind(m,"mouseup",D)}),s.on("keydown",z=>{z.keyCode===vi.ESC&&LI(c,s,ue.none())})})(ce=s),fl(ce)&&(Me=>{const He=ut=>{if(!ut.isDefaultPrevented()){const Rt=ut.dataTransfer;Rt&&(Et(Rt.types,"Files")||Rt.files.length>0)&&(ut.preventDefault(),"drop"===ut.type&&Ym(Me,"Dropped file type is not supported"))}},Xe=ut=>{sh(Me,ut.target)&&He(ut)},pt=()=>{const ut=E.DOM,Rt=Me.dom,Jt=document,rn=Me.inline?Me.getBody():Me.getDoc(),sn=["drop","dragover"];Ht(sn,fn=>{ut.bind(Jt,fn,Xe),Rt.bind(rn,fn,He)}),Me.on("remove",()=>{Ht(sn,fn=>{ut.unbind(Jt,fn,Xe),Rt.unbind(rn,fn,He)})})};Me.on("init",()=>{lc.setEditorTimeout(Me,pt,0)})})(ce),(ce=>{const Me=Pe(()=>{if(!ce.removed&&ce.getBody().contains(document.activeElement)){const He=ce.selection.getRng();if(He.collapsed){const Xe=d1(ce,He,!1);ce.selection.setRng(Xe)}}},0);ce.on("focus",()=>{Me.throttle()}),ce.on("blur",()=>{Me.cancel()})})(s),(ce=>{ce.on("init",()=>{ce.on("focusin",Me=>{const He=Me.target;if(qa(He)){const Xe=ds(ce.getBody(),He),pt=fo(Xe)?Xe:He;ce.selection.getNode()!==pt&&qm(ce,pt).each(ut=>ce.selection.setRng(ut))}})})})(s)),{showCaret:H,showBlockCaretContainer:ce=>{ce.hasAttribute("data-mce-caret")&&(Oh(ce),c.scrollIntoView(ce))},hideFakeCaret:xe,destroy:()=>{b.destroy(),D=null}};var ce},_L=(s,c)=>{let p=c;for(let m=s.previousSibling;Rn(m);m=m.previousSibling)p+=m.data.length;return p},NI=(s,c,p,m,b)=>{if(Rn(p)&&(m<0||m>p.data.length))return[];const _=b&&Rn(p)?[_L(p,m)]:[m];let k=p;for(;k!==c&&k.parentNode;)_.push(s.nodeIndex(k,b)),k=k.parentNode;return k===c?_.reverse():[]},IA=(s,c,p,m,b,_,k=!1)=>({start:NI(s,c,p,m,k),end:NI(s,c,b,_,k)}),P0=(s,c)=>{const p=c.slice(),m=p.pop();return Ot(m)?pr(p,(b,_)=>b.bind(k=>ue.from(k.childNodes[_])),ue.some(s)).bind(b=>Rn(b)&&(m<0||m>b.data.length)?ue.none():ue.some({node:b,offset:m})):ue.none()},RI=(s,c)=>P0(s,c.start).bind(({node:p,offset:m})=>P0(s,c.end).map(({node:b,offset:_})=>{const k=document.createRange();return k.setStart(p,m),k.setEnd(b,_),k})),Cv=(s,c,p)=>{if(c&&s.isEmpty(c)&&!p(c)){const m=c.parentNode;s.remove(c,Rn(c.firstChild)&&Wo(c.firstChild.data)),Cv(s,m,p)}},C_=(s,c,p,m=!0)=>{const b=c.startContainer.parentNode,_=c.endContainer.parentNode;c.deleteContents(),m&&!p(c.startContainer)&&(Rn(c.startContainer)&&0===c.startContainer.data.length&&s.remove(c.startContainer),Rn(c.endContainer)&&0===c.endContainer.data.length&&s.remove(c.endContainer),Cv(s,b,p),b!==_&&Cv(s,_,p))},OA=(s,c)=>ue.from(s.dom.getParent(c.startContainer,s.dom.isBlock)),BI=(s,c,p)=>{const m=s.dynamicPatternsLookup({text:p,block:c});return{...s,blockPatterns:hw(m).concat(s.blockPatterns),inlinePatterns:SM(m).concat(s.inlinePatterns)}},zI=(s,c,p,m)=>{const b=s.createRng();return b.setStart(c,0),b.setEnd(p,m),b.toString()},FI=(s,c,p)=>{((m,b,_)=>{if(Rn(m)&&0>=m.length)return ue.some(_u(m,0));{const k=_i(f0);return ue.from(k.forwards(m,0,R1(m),_)).map(D=>_u(D.container,0))}})(c,0,c).each(m=>{const b=m.container;av(b,p.start.length,c).each(D=>{const z=s.createRng();z.setStart(b,0),z.setEnd(D.container,D.offset),C_(s,z,H=>H===c)});const _=Yt(b),k=$a(_);var D,z;/^\s[^\s]/.test(k)&&(D=_,z=k.slice(1),Fu.set(D,z))})},VI=(s,c)=>s.create("span",{"data-mce-type":"bookmark",id:c}),N0=(s,c)=>{const p=s.createRng();return p.setStartAfter(c.start),p.setEndBefore(c.end),p},DA=(s,c,p)=>{const m=RI(s.getRoot(),p).getOrDie("Unable to resolve path range"),b=m.startContainer,_=m.endContainer,k=0===m.endOffset?_:_.splitText(m.endOffset),D=0===m.startOffset?b:b.splitText(m.startOffset),z=D.parentNode;return{prefix:c,end:k.parentNode.insertBefore(VI(s,c+"-end"),k),start:z.insertBefore(VI(s,c+"-start"),D)}},LA=(s,c,p)=>{Cv(s,s.get(c.prefix+"-end"),p),Cv(s,s.get(c.prefix+"-start"),p)},R0=s=>0===s.start.length,HI=(s,c,p,m)=>{const b=c.start;var _;return sv(s,m.container,m.offset,(_=b,(k,D)=>{const z=k.data.substring(0,D),H=z.lastIndexOf(_.charAt(_.length-1)),X=z.lastIndexOf(_);return-1!==X?X+_.length:-1!==H?H+1:-1}),p).bind(k=>{var D,z;const H=null!==(z=null===(D=p.textContent)||void 0===D?void 0:D.indexOf(b))&&void 0!==z?z:-1;if(-1!==H&&k.offset>=H+b.length){const X=s.createRng();return X.setStart(k.container,k.offset-b.length),X.setEnd(k.container,k.offset),ue.some(X)}return Mk(k.container,k.offset-b.length,p).map($=>{const re=s.createRng();return re.setStart($.container,$.offset),re.setEnd(k.container,k.offset),re}).filter($=>$.toString()===b).orThunk(()=>HI(s,c,p,_u(k.container,0)))})},wL=(s,c,p,m)=>{const b=s.dom,_=b.getRoot(),k=p.pattern,D=p.position.container,z=p.position.offset;return Mk(D,z-p.pattern.end.length,c).bind(H=>{const X=IA(b,_,H.container,H.offset,D,z,m);if(R0(k))return ue.some({matches:[{pattern:k,startRng:X,endRng:X}],position:H});{const $=k_(s,p.remainingPatterns,H.container,H.offset,c,m),re=$.getOr({matches:[],position:H}),he=re.position;return((xe,ce,Me,He,Xe,pt=!1)=>{if(0===ce.start.length&&!pt){const ut=xe.createRng();return ut.setStart(Me,He),ut.setEnd(Me,He),ue.some(ut)}return Ak(Me,He,Xe).bind(ut=>HI(xe,ce,Xe,ut).bind(Rt=>{var Jt;return pt&&(Rt.endContainer===ut.container&&Rt.endOffset===ut.offset||0===ut.offset&&(null===(Jt=Rt.endContainer.textContent)||void 0===Jt?void 0:Jt.length)===Rt.endOffset)?ue.none():ue.some(Rt)}))})(b,k,he.container,he.offset,c,$.isNone()).map(xe=>{const ce=((Me,He,Xe,pt=!1)=>IA(Me,He,Xe.startContainer,Xe.startOffset,Xe.endContainer,Xe.endOffset,pt))(b,_,xe,m);return{matches:re.matches.concat([{pattern:k,startRng:ce,endRng:X}]),position:_u(xe.startContainer,xe.startOffset)}})}})},k_=(s,c,p,m,b,_)=>{const k=s.dom;return Ak(p,m,k.getRoot()).bind(D=>{const z=zI(k,b,p,m);for(let H=0;H<c.length;H++){const X=c[H];if(!ni(z,X.end))continue;const $=c.slice();$.splice(H,1);const re=wL(s,b,{pattern:X,remainingPatterns:$,position:D},_);if(re.isNone()&&m>0)return k_(s,c,p,m-1,b,_);if(re.isSome())return re}return ue.none()})},WI=(s,c,p)=>{s.selection.setRng(p),"inline-format"===c.type?Ht(c.format,m=>{s.formatter.apply(m)}):s.execCommand(c.cmd,!1,c.value)},jI=(s,c,p,m,b,_)=>{var k;return((D,z)=>{const H=ai(D,X=>xn(z,$=>X.pattern.start===$.pattern.start&&X.pattern.end===$.pattern.end));return D.length===z.length?H?D:z:D.length>z.length?D:z})(k_(s,b.inlinePatterns,p,m,c,_).fold(()=>[],D=>D.matches),k_(s,(k=b.inlinePatterns,po(k,(D,z)=>z.end.length-D.end.length)),p,m,c,_).fold(()=>[],D=>D.matches))},YI=(s,c)=>{if(0===c.length)return;const p=s.dom,m=s.selection.getBookmark(),b=((_,k)=>{const D=Ni("mce_textpattern"),z=hi(k,(H,X)=>{const $=DA(_,D+`_end${H.length}`,X.endRng);return H.concat([{...X,endMarker:$}])},[]);return hi(z,(H,X)=>{const $=z.length-H.length-1,re=R0(X.pattern)?X.endMarker:DA(_,D+`_start${$}`,X.startRng);return H.concat([{...X,startMarker:re}])},[])})(p,c);Ht(b,_=>{const k=p.getParent(_.startMarker.start,p.isBlock),D=z=>z===k;R0(_.pattern)?((z,H,X,$)=>{const re=N0(z.dom,X);C_(z.dom,re,$),WI(z,H,re)})(s,_.pattern,_.endMarker,D):((z,H,X,$,re)=>{const he=z.dom,se=N0(he,$),xe=N0(he,X);C_(he,xe,re),C_(he,se,re);const Me=N0(he,{prefix:X.prefix,start:X.end,end:$.start});WI(z,H,Me)})(s,_.pattern,_.startMarker,_.endMarker,D),LA(p,_.endMarker,D),LA(p,_.startMarker,D)}),s.selection.moveToBookmark(m)},A_=(s,c,p)=>{for(let m=0;m<s.length;m++)if(p(s[m],c))return!0;return!1},PA=E.DOM,dg=s=>s.inline?s.getElement().nodeName.toLowerCase():void 0,B0=s=>Pt(s,c=>!1===Ae(c)),pg=s=>{const c=s.options.get,p=s.editorUpload.blobCache;return B0({allow_conditional_comments:c("allow_conditional_comments"),allow_html_data_urls:c("allow_html_data_urls"),allow_svg_data_urls:c("allow_svg_data_urls"),allow_html_in_named_anchor:c("allow_html_in_named_anchor"),allow_script_urls:c("allow_script_urls"),allow_unsafe_link_target:c("allow_unsafe_link_target"),convert_unsafe_embeds:c("convert_unsafe_embeds"),convert_fonts_to_spans:c("convert_fonts_to_spans"),fix_list_elements:c("fix_list_elements"),font_size_legacy_values:c("font_size_legacy_values"),forced_root_block:c("forced_root_block"),forced_root_block_attrs:c("forced_root_block_attrs"),preserve_cdata:c("preserve_cdata"),inline_styles:c("inline_styles"),root_name:dg(s),sandbox_iframes:c("sandbox_iframes"),sanitize:c("xss_sanitization"),validate:!0,blob_cache:p,document:s.getDoc()})},M_=s=>{const c=s.options.get;return B0({custom_elements:c("custom_elements"),extended_valid_elements:c("extended_valid_elements"),invalid_elements:c("invalid_elements"),invalid_styles:c("invalid_styles"),schema:c("schema"),valid_children:c("valid_children"),valid_classes:c("valid_classes"),valid_elements:c("valid_elements"),valid_styles:c("valid_styles"),verify_html:c("verify_html"),padd_empty_block_inline_children:c("format_empty_lines")})},T_=s=>s.inline?s.ui.styleSheetLoader:s.dom.styleSheetLoader,NA=s=>{const c=T_(s),p=Fg(s),m=s.contentCSS,b=()=>{c.unloadAll(m),s.inline||s.ui.styleSheetLoader.unloadAll(p)},_=()=>{s.removed?b():s.on("remove",b)};if(s.contentStyles.length>0){let z="";Dn.each(s.contentStyles,H=>{z+=H+"\r\n"}),s.dom.addStyle(z)}const k=Promise.all(((z,H,X)=>{const{pass:$,fail:re}=xr(H,xe=>tinymce.Resource.has(LC(xe))),se=[...$.map(xe=>{const ce=tinymce.Resource.get(LC(xe));return ve(ce)?Promise.resolve(T_(z).loadRawCss(xe,ce)):Promise.resolve()}),T_(z).loadAll(re)];return z.inline?se:se.concat([z.ui.styleSheetLoader.loadAll(X)])})(s,m,p)).then(_).catch(_),D=ub(s);return D&&((z,H)=>{const X=Yt(z.getBody()),$=ws(xa(X)),re=ra("style");Ho(re,"type","text/css"),qo(re,Ko(H)),qo($,re),z.on("remove",()=>{yo(re)})})(s,D),k},E_=s=>{var c;!0!==s.removed&&(hh(c=s)||c.load({initial:!0,format:"html"}),c.startContent=c.getContent({format:"raw"}),(c=>{c.bindPendingEventDelegates(),c.initialized=!0,c.dispatch("Init"),c.focus(!0),(m=>{const b=m.dom.getRoot();m.inline||sy(m)&&m.selection.getStart(!0)!==b||Ja(b).each(_=>{const k=_.getNode(),D=sa(k)?Ja(k).getOr(_):_;m.selection.setRng(D.toRange())})})(c),c.nodeChanged({initial:!0});const p=$O(c);yt(p)&&p.call(c,c),(m=>{const b=ZO(m);b&&lc.setEditorTimeout(m,()=>{let _;_=!0===b?m:m.editorManager.get(b),_&&!_.destroyed&&(_.focus(),_.selection.scrollIntoView())},100)})(c)})(s))},GI=s=>{const c=s.getElement();let p=s.getDoc();s.inline&&(PA.addClass(c,"mce-content-body"),s.contentDocument=p=document,s.contentWindow=window,s.bodyElement=c,s.contentAreaContainer=c);const m=s.getBody();var k,D;m.disabled=!0,s.readonly=Ku(s),s._editableRoot=Qu(s),!s.readonly&&s.hasEditableRoot()&&(s.inline&&"static"===PA.getStyle(m,"position",!0)&&(m.style.position="relative"),m.contentEditable="true"),m.disabled=!1,s.editorUpload=(s=>{const c=(()=>{let xe=[];const ce=Xe=>{if(!Xe.blob||!Xe.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const pt=Xe.id||"blobid"+K2+++(()=>{const rn=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+rn()+rn()+rn()})(),ut=Xe.name||pt,Rt=Xe.blob;var Jt;return{id:rt(pt),name:rt(ut),filename:rt(Xe.filename||ut+"."+(Jt=Rt.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[Jt.toLowerCase()]||"dat")),blob:rt(Rt),base64:rt(Xe.base64),blobUri:rt(Xe.blobUri||URL.createObjectURL(Rt)),uri:rt(Xe.uri)}},Me=Xe=>_n(xe,Xe).getOrUndefined(),He=Xe=>Me(pt=>pt.id()===Xe);return{create:(Xe,pt,ut,Rt,Jt)=>{if(ve(Xe))return ce({id:Xe,name:Rt,filename:Jt,blob:pt,base64:ut});if(Ne(Xe))return ce(Xe);throw new Error("Unknown input type")},add:Xe=>{He(Xe.id())||xe.push(Xe)},get:He,getByUri:Xe=>Me(pt=>pt.blobUri()===Xe),getByData:(Xe,pt)=>Me(ut=>ut.base64()===Xe&&ut.blob().type===pt),findFirst:Me,removeByUri:Xe=>{xe=En(xe,pt=>pt.blobUri()!==Xe||(URL.revokeObjectURL(pt.blobUri()),!1))},destroy:()=>{Ht(xe,Xe=>{URL.revokeObjectURL(Xe.blobUri())}),xe=[]}}})();let p,m;const b=a1(),_=[],k=xe=>ce=>s.selection?xe(ce):[],D=(xe,ce,Me)=>{let He=0;do{He=xe.indexOf(ce,He),-1!==He&&(xe=xe.substring(0,He)+Me+xe.substr(He+ce.length),He+=Me.length-ce.length+1)}while(-1!==He);return xe},z=(xe,ce,Me)=>(xe=D(xe,`src="${ce}"`,`src="${Me}"${Me===Mi.transparentSrc?' data-mce-placeholder="1"':""}`),D(xe,'data-mce-src="'+ce+'"','data-mce-src="'+Me+'"')),H=(xe,ce)=>{Ht(s.undoManager.data,Me=>{"fragmented"===Me.type?Me.fragments=Bt(Me.fragments,He=>z(He,xe,ce)):Me.content=z(Me.content,xe,ce)})},X=()=>(p||(p=NC(s,b)),he().then(k(xe=>{const ce=Bt(xe,Me=>Me.blobInfo);return p.upload(ce,Q2(s)).then(k(Me=>{const He=[];let Xe=!1;const pt=Bt(Me,(ut,Rt)=>{const{blobInfo:Jt,image:rn}=xe[Rt];let sn=!1;return ut.status&&TM(s)?(ut.url&&!Sr(rn.src,ut.url)&&(Xe=!0),c.removeByUri(rn.src),hh(s)||((fn,Wt)=>{const en=s.convertURL(Wt,"src");var un;H(fn.src,Wt),bs(Yt(fn),{src:lb(s)?(un=Wt,un+(-1===un.indexOf("?")?"?":"&")+(new Date).getTime()):Wt,"data-mce-src":en})})(rn,ut.url)):ut.error&&(ut.error.remove&&(H(rn.src,Mi.transparentSrc),He.push(rn),sn=!0),Ym(s,ee.translate(["Failed to upload image: {0}",ut.error.message]))),{element:rn,status:ut.status,uploadUri:ut.url,blobInfo:Jt,removed:sn}});return He.length>0&&!hh(s)?s.undoManager.transact(()=>{Ht(Iu(He),ut=>{const Rt=ba(ut);var Jt;yo(ut),Rt.each((Jt=s,rn=>{var sn,fn;(sn=Jt).dom.isEmpty((fn=rn).dom)&&Ke(sn.schema.getTextBlockElements()[Cr(fn)])&&qo(rn,is('<br data-mce-bogus="1" />'))})),c.removeByUri(ut.dom.src)})}):Xe&&s.undoManager.dispatchChange(),pt}))}))),$=()=>wa(s)?X():Promise.resolve([]),re=xe=>ai(_,ce=>ce(xe)),he=()=>(m||(m=((s,c)=>{const p={};return{findAll:(m,b=pe)=>{const _=En((D=m)?Zo(D.getElementsByTagName("img")):[],D=>{const z=D.src;return!D.hasAttribute("data-mce-bogus")&&!D.hasAttribute("data-mce-placeholder")&&!(!z||z===Mi.transparentSrc)&&(Fn(z,"blob:")?!s.isUploaded(z)&&b(D):!!Fn(z,"data:")&&b(D))}),k=Bt(_,D=>{const z=D.src;if(Gt(p,z))return p[z].then(H=>ve(H)?H:{image:D,blobInfo:H.blobInfo});{const H=((X,$)=>{const re=()=>Promise.reject("Invalid data URI");if(Fn($,"blob:")){const xe=X.getByUri($);return Ke(xe)?Promise.resolve(xe):(he=$,Fn(he,"blob:")?(ce=he,fetch(ce).then(Me=>Me.ok?Me.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${ce} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))):Fn(he,"data:")?(se=he,new Promise((ce,Me)=>{Yx(se).bind(({type:He,data:Xe,base64Encoded:pt})=>lC(He,Xe,pt)).fold(()=>Me("Invalid data URI"),ce)})):Promise.reject("Unknown URI format")).then(ce=>cC(ce).then(Me=>Fy(Me,!1,He=>ue.some(Em(X,ce,He))).getOrThunk(re)))}var ce,he,se;return Fn($,"data:")?Im(X,$).fold(re,xe=>Promise.resolve(xe)):Promise.reject("Unknown image data format")})(c,z).then(X=>(delete p[z],{image:D,blobInfo:X})).catch(X=>(delete p[z],X));return p[z]=H,H}});var D;return Promise.all(k)}}})(b,c)),m.findAll(s.getBody(),re).then(k(xe=>{const ce=En(xe,Me=>ve(Me)?(Ym(s,Me),!1):"blob"!==Me.uriType);return hh(s)||Ht(ce,Me=>{H(Me.image.src,Me.blobInfo.blobUri()),Me.image.src=Me.blobInfo.blobUri(),Me.image.removeAttribute("data-mce-src")}),ce}))),se=xe=>xe.replace(/src="(blob:[^"]+)"/g,(ce,Me)=>{const He=b.getResultUri(Me);if(He)return'src="'+He+'"';let Xe=c.getByUri(Me);return Xe||(Xe=pr(s.editorManager.get(),(pt,ut)=>pt||ut.editorUpload&&ut.editorUpload.blobCache.getByUri(Me),void 0)),Xe?'src="data:'+Xe.blob().type+";base64,"+Xe.base64()+'"':ce});return s.on("SetContent",()=>{wa(s)?$():he()}),s.on("RawSaveContent",xe=>{xe.content=se(xe.content)}),s.on("GetContent",xe=>{xe.source_view||"raw"===xe.format||"tree"===xe.format||(xe.content=se(xe.content))}),s.on("PostRender",()=>{s.parser.addNodeFilter("img",xe=>{Ht(xe,ce=>{const Me=ce.attr("src");if(!Me||c.getByUri(Me))return;const He=b.getResultUri(Me);He&&ce.attr("src",He)})})}),{blobCache:c,addFilter:xe=>{_.push(xe)},uploadImages:X,uploadImagesAuto:$,scanForImages:he,destroy:()=>{c.destroy(),b.destroy(),m=p=null}}})(s),s.schema=Ks(M_(s)),s.dom=E(p,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,update_styles:!0,root_element:s.inline?s.getBody():null,collect:s.inline,schema:s.schema,contentCssCors:zg(s),referrerPolicy:bw(s),onSetAttrib:k=>{s.dispatch("SetAttrib",k)},force_hex_color:Kv(s)}),s.parser=(k=>{const D=qh(pg(k),k.schema);return D.addAttributeFilter("src,href,style,tabindex",(z,H)=>{const X=k.dom,$="data-mce-"+H;let re=z.length;for(;re--;){const he=z[re];let se=he.attr(H);if(se&&!he.attr($)){if(0===se.indexOf("data:")||0===se.indexOf("blob:"))continue;"style"===H?(se=X.serializeStyle(X.parseStyle(se),he.name),se.length||(se=null),he.attr($,se),he.attr(H,se)):"tabindex"===H?(he.attr($,se),he.attr(H,null)):he.attr($,k.convertURL(se,H,he.name))}}}),D.addNodeFilter("script",z=>{let H=z.length;for(;H--;){const X=z[H],$=X.attr("type")||"no/type";0!==$.indexOf("mce-")&&X.attr("type","mce-"+$)}}),HM(k)&&D.addNodeFilter("#cdata",z=>{var H;let X=z.length;for(;X--;){const $=z[X];$.type=8,$.name="#comment",$.value="[CDATA["+k.dom.encode(null!==(H=$.value)&&void 0!==H?H:"")+"]]"}}),D.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",z=>{let H=z.length;const X=k.schema.getNonEmptyElements();for(;H--;){const $=z[H];$.isEmpty(X)&&0===$.getAll("br").length&&$.append(new Ys("br",1))}}),D})(s),s.serializer=j2((k=>{const D=k.options.get;return{...pg(k),...M_(k),...B0({remove_trailing_brs:D("remove_trailing_brs"),pad_empty_with_br:D("pad_empty_with_br"),url_converter:D("url_converter"),url_converter_scope:D("url_converter_scope"),element_format:D("element_format"),entities:D("entities"),entity_encoding:D("entity_encoding"),indent:D("indent"),indent_after:D("indent_after"),indent_before:D("indent_before")})}})(s),s),s.selection=Lp(s.dom,s.getWin(),s.serializer,s),s.annotator=Uw(s),s.formatter=zC(s),s.undoManager=Rp(s),s._nodeChangeDispatcher=new M0(s),s._selectionOverrides=xL(s),(k=>{const D=Be(),z=P(!1),H=Ge(X=>{k.dispatch("longpress",{...X,type:"longpress"}),z.set(!0)},400);k.on("touchstart",X=>{T1(X).each($=>{H.cancel();const re={x:$.clientX,y:$.clientY,target:X.target};H.throttle(X),z.set(!1),D.set(re)})},!0),k.on("touchmove",X=>{H.cancel(),T1(X).each($=>{D.on(re=>{((he,se)=>{const xe=Math.abs(he.clientX-se.x),ce=Math.abs(he.clientY-se.y);return xe>5||ce>5})($,re)&&(D.clear(),z.set(!1),k.dispatch("longpresscancel"))})})},!0),k.on("touchend touchcancel",X=>{H.cancel(),"touchcancel"!==X.type&&D.get().filter($=>$.target.isEqualNode(X.target)).each(()=>{z.get()?X.preventDefault():k.dispatch("tap",{...X,type:"tap"})})},!0)})(s),(D=k=s).on("click",z=>{D.dom.getParent(z.target,"details")&&z.preventDefault()}),(D=>{D.parser.addNodeFilter("details",z=>{const H=pp(D);Ht(z,X=>{"expanded"===H?X.attr("open","open"):"collapsed"===H&&X.attr("open",null)})}),D.serializer.addNodeFilter("details",z=>{const H=WM(D);Ht(z,X=>{"expanded"===H?X.attr("open","open"):"collapsed"===H&&X.attr("open",null)})})})(k),(k=>{const D="contenteditable",z=" "+Dn.trim(JO(k))+" ",H=" "+Dn.trim($v(k))+" ",X=fk(z),$=fk(H),re=VM(k);re.length>0&&k.on("BeforeSetContent",he=>{((se,xe,ce)=>{let Me=xe.length,He=ce.content;if("raw"!==ce.format){for(;Me--;)He=He.replace(xe[Me],YD(se,He,$v(se)));ce.content=He}})(k,re,he)}),k.parser.addAttributeFilter("class",he=>{let se=he.length;for(;se--;){const xe=he[se];X(xe)?xe.attr(D,"true"):$(xe)&&xe.attr(D,"false")}}),k.serializer.addAttributeFilter(D,he=>{let se=he.length;for(;se--;){const xe=he[se];(X(xe)||$(xe))&&(re.length>0&&xe.attr("data-mce-content")?(xe.name="#text",xe.type=3,xe.raw=!0,xe.value=xe.attr("data-mce-content")):xe.attr(D,null))}})})(s),hh(s)||((k=>{k.on("mousedown",D=>{D.detail>=3&&(D.preventDefault(),(s=>{const c=((p,m,b)=>{const _=wn.fromRangeStart(p).getNode(),k=($=m,re=b,Na(Yt(_),he=>Ss(he.dom)||re.isBlock(Cr(he)),y_($)).getOr(Yt($)).dom),D=b_(_,k,!1),z=b_(_,k,!0),H=document.createRange();var $,re;return bA(D,k).fold(()=>{TI(D)?H.setStart(D,0):H.setStartBefore(D)},X=>H.setStartBefore(X.dom)),bA(z,k).fold(()=>{TI(z)?H.setEnd(z,z.data.length):H.setEndAfter(z)},X=>H.setEndAfter(X.dom)),H})(s.selection.getRng(),s.getBody(),s.schema);s.selection.setRng(bm(c))})(k))})})(s),(k=>{(D=>{const z=[",",".",";",":","!","?"],H=[32],X=()=>{return he=gb(D),se=mb(D),{inlinePatterns:SM(he),blockPatterns:hw(he),dynamicPatternsLookup:se};var he,se},$=()=>D.options.isSet("text_patterns_lookup");D.on("keydown",he=>{if(13===he.keyCode&&!vi.modifierPressed(he)&&D.selection.isCollapsed()){const se=X();(se.inlinePatterns.length>0||se.blockPatterns.length>0||$())&&((s,c)=>{const p=s.selection.getRng();return OA(s,p).map(m=>{var b;const _=Math.max(0,p.startOffset),k=BI(c,m,null!==(b=m.textContent)&&void 0!==b?b:""),D=jI(s,m,p.startContainer,_,k,!0),z=((H,X,$,re)=>{var he;const se=H.dom,xe=Ms(H);if(!se.is(X,xe))return[];const ce=null!==(he=X.textContent)&&void 0!==he?he:"";return((Me,He)=>{const Xe=po(Me,(Rt,Jt)=>Jt.start.length-Rt.start.length),pt=He.replace(go," ");return _n(Xe,ut=>0===He.indexOf(ut.start)||0===pt.indexOf(ut.start))})($.blockPatterns,ce).map(Me=>Dn.trim(ce).length===Me.start.length?[]:[{pattern:Me,range:IA(se,se.getRoot(),X,0,X,0,!0)}]).getOr([])})(s,m,k);return(z.length>0||D.length>0)&&(s.undoManager.add(),s.undoManager.extra(()=>{s.execCommand("mceInsertNewLine")},()=>{s.insertContent(ma,{preserve_zwsp:!0}),YI(s,D),(($,re)=>{if(0===re.length)return;const he=$.selection.getBookmark();Ht(re,se=>((xe,ce)=>{const He=ce.pattern,Xe=RI(xe.dom.getRoot(),ce.range).getOrDie("Unable to resolve path range");return OA(xe,Xe).each(pt=>{"block-format"===He.type?((ut,Rt)=>{const Jt=Rt.get(ut);return Ce(Jt)&&ir(Jt).exists(rn=>Gt(rn,"block"))})(He.format,xe.formatter)&&xe.undoManager.transact(()=>{FI(xe.dom,pt,He),xe.formatter.apply(He.format)}):"block-command"===He.type&&xe.undoManager.transact(()=>{FI(xe.dom,pt,He),xe.execCommand(He.cmd,!1,He.value)})}),!0})($,se)),$.selection.moveToBookmark(he)})(s,z);const H=s.selection.getRng(),X=Ak(H.startContainer,H.startOffset,s.dom.getRoot());s.execCommand("mceInsertNewLine"),X.each($=>{const re=$.container;"\ufeff"===re.data.charAt($.offset-1)&&(re.deleteData($.offset-1,1),Cv(s.dom,re.parentNode,he=>he===s.dom.getRoot()))})}),!0)}).getOr(!1)})(D,se)&&he.preventDefault()}},!0);const re=()=>{if(D.selection.isCollapsed()){const he=X();(he.inlinePatterns.length>0||$())&&((se,xe)=>{const ce=se.selection.getRng();OA(se,ce).map(Me=>{const He=Math.max(0,ce.startOffset-1),Xe=zI(se.dom,Me,ce.startContainer,He),pt=BI(xe,Me,Xe),ut=jI(se,Me,ce.startContainer,He,pt,!1);ut.length>0&&se.undoManager.transact(()=>{YI(se,ut)})})})(D,he)}};D.on("keyup",he=>{A_(H,he,(se,xe)=>se===xe.keyCode&&!vi.modifierPressed(xe))&&re()}),D.on("keypress",he=>{A_(z,he,(se,xe)=>se.charCodeAt(0)===xe.charCode)&&lc.setEditorTimeout(D,re)})})(k)})(s));const b=uL(s);((s,c)=>{s.addCommand("delete",()=>{var p;AE(p=s,c,!1).fold(()=>{p.selection.isEditable()&&(gx(p),Bd(p))},qe)}),s.addCommand("forwardDelete",()=>{var p;AE(p=s,c,!0).fold(()=>{p.selection.isEditable()&&mm(p,"ForwardDelete")},qe)})})(s,b),(k=>{k.on("NodeChange",It(jD,k))})(s),(k=>{var D;const z=k.dom,H=Ms(k),X=null!==(D=jO(k))&&void 0!==D?D:"",$=(re,he)=>{if((ce=>{if(tE(ce)){const Me=ce.keyCode;return!VC(ce)&&(vi.metaKeyPressed(ce)||ce.altKey||Me>=112&&Me<=123||Et(kD,Me))}return!1})(re))return;const se=k.getBody(),xe=!(tE(ce=re)&&!(VC(ce)||"keyup"===ce.type&&229===ce.keyCode))&&((ce,Me,He)=>{if(dn(Yt(Me),!1)){const Xe=Me.firstElementChild;return!Xe||!ce.getStyle(Me.firstElementChild,"padding-left")&&!ce.getStyle(Me.firstElementChild,"padding-right")&&He===Xe.nodeName.toLowerCase()}return!1})(z,se,H);var ce;(""!==z.getAttrib(se,eE)!==xe||he)&&(z.setAttrib(se,eE,xe?X:null),z.setAttrib(se,"aria-placeholder",xe?X:null),((ce,Me)=>{ce.dispatch("PlaceholderToggle",{state:Me})})(k,xe),k.on(xe?"keydown":"keyup",$),k.off(xe?"keyup":"keydown",$))};h(X)&&k.on("init",re=>{$(re,!0),k.on("change SetContent ExecCommand",$),k.on("paste",he=>lc.setEditorTimeout(k,()=>$(he)))})})(s),(s=>{const c=P(!1),p=P(Tw(s)?"text":"html"),m=(b=>{const _=P(null);return{create:()=>((k,D)=>{const{dom:z,selection:H}=k,X=k.getBody();D.set(H.getRng());const $=z.add(k.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},CI);Mi.browser.isFirefox()&&z.setStyle($,"left","rtl"===z.getStyle(X,"direction",!0)?65535:-65535),z.bind($,"beforedeactivate focusin focusout",re=>{re.stopPropagation()}),$.focus(),H.select($,!0)})(b,_),remove:()=>((k,D)=>{const z=k.dom;if(pA(k)){let H;const X=D.get();for(;H=pA(k);)z.remove(H),z.unbind(H);X&&k.selection.setRng(X)}D.set(null)})(b,_),getEl:()=>pA(b),getHtml:()=>(k=>{const D=k.dom,z=(re,he)=>{re.appendChild(he),D.remove(he,!0)},[H,...X]=En(k.getBody().childNodes,dL);Ht(X,re=>{z(H,re)});const $=D.select("div[id=mcepastebin]",H);for(let re=$.length-1;re>=0;re--){const he=D.create("div");H.insertBefore(he,$[re]),z(he,$[re])}return H?H.innerHTML:""})(b),getLastRng:_.get}})(s);var b,_,k;b=s,(Mi.browser.isChromium()||Mi.browser.isSafari())&&(k=vL,(_=b).on("PastePreProcess",D=>{D.content=k(_,D.content,D.internal)})),((b,_)=>{b.addCommand("mceTogglePlainTextPaste",()=>{((k,D)=>{"text"===D.get()?(D.set("html"),Kw(k,!1)):(D.set("text"),Kw(k,!0)),k.focus()})(b,_)}),b.addCommand("mceInsertClipboardContent",(k,D)=>{D.html&&hg(b,D.html,D.internal,!1),D.text&&d_(b,D.text,!1)})})(s,p),(b=>{const _=z=>H=>{z(b,H)},k=zM(b);yt(k)&&b.on("PastePreProcess",_(k));const D=Wg(b);yt(D)&&b.on("PastePostProcess",_(D))})(s),s.on("PreInit",()=>{(b=>{b.on("cut",(_=>k=>{!k.isDefaultPrevented()&&vA(_)&&_.selection.isEditable()&&MI(k,xv(_),bv(_),()=>{if(Mi.browser.isChromium()||Mi.browser.isFirefox()){const D=_.selection.getRng();lc.setEditorTimeout(_,()=>{_.selection.setRng(D),_.execCommand("Delete")},0)}else _.execCommand("Delete")})})(b)),b.on("copy",(_=>k=>{!k.isDefaultPrevented()&&vA(_)&&MI(k,xv(_),bv(_),lt)})(b))})(s),((b,_)=>{rc(b)&&b.on("dragend dragover draggesture dragdrop drop drag",k=>{k.preventDefault(),k.stopPropagation()}),pb(b)||b.on("drop",k=>{const D=k.dataTransfer;D&&xn(D.files,H=>/^image\//.test(H.type))&&k.preventDefault()}),b.on("drop",k=>{if(k.isDefaultPrevented())return;const D=m_(b,k);if(je(D))return;const z=yv(k.dataTransfer),H=Gd(z,ug());if((!p_(z)||(se=>{const xe=se["text/plain"];return!!xe&&0===xe.indexOf("file://")})(z))&&f_(b,k,D))return;const X=z[ug()],$=X||z["text/html"]||z["text/plain"],re=((se,xe,ce,Me)=>{const He=se.getParent(ce,Xe=>Nr(xe,Xe));if(!de(se.getParent(ce,"summary")))return!0;if(He&&Gt(Me,"text/html")){const Xe=(new DOMParser).parseFromString(Me["text/html"],"text/html").body;return!de(Xe.querySelector(He.nodeName.toLowerCase()))}return!1})(b.dom,b.schema,D.startContainer,z),he=_.get();he&&!re||$&&(k.preventDefault(),lc.setEditorTimeout(b,()=>{b.undoManager.transact(()=>{(X||he&&re)&&b.execCommand("Delete"),v_(b,D);const se=AI($);z["text/html"]?hg(b,se,H,!0):d_(b,se,!0)})}))}),b.on("dragstart",k=>{_.set(!0)}),b.on("dragover dragend",k=>{pb(b)&&!_.get()&&(k.preventDefault(),v_(b,m_(b,k))),"dragend"===k.type&&_.set(!1)}),(k=>{k.on("input",D=>{const z=H=>de(H.querySelector("summary"));if("deleteByDrag"===D.inputType){const H=En(k.dom.select("details"),z);Ht(H,X=>{Co(X.firstChild)&&X.firstChild.remove();const $=k.dom.create("summary");$.appendChild(eu().dom),X.prepend($)})}})})(b)})(s,c),((s,c,p)=>{((m,b,_)=>{let k;m.on("keydown",D=>{var z;(vi.metaKeyPressed(z=D)&&86===z.keyCode||z.shiftKey&&45===z.keyCode)&&!D.isDefaultPrevented()&&(k=D.shiftKey&&86===D.keyCode)}),m.on("paste",D=>{if(D.isDefaultPrevented()||(X=D,Mi.os.isAndroid()&&0===(null===(re=null===($=X.clipboardData)||void 0===$?void 0:$.items)||void 0===re?void 0:re.length)))return;var X,$,re;const z="text"===_.get()||k;k=!1;const H=yv(D.clipboardData);!p_(H)&&f_(m,D,b.getLastRng()||m.selection.getRng())||(Gd(H,"text/html")?(D.preventDefault(),g_(m,H,H["text/html"],z,!0)):Gd(H,"text/plain")&&Gd(H,"text/uri-list")?(D.preventDefault(),g_(m,H,H["text/plain"],z,!0)):(b.create(),lc.setEditorTimeout(m,()=>{const X=b.getHtml();b.remove(),g_(m,H,X,z,!1)},0)))})})(s,c,p),(m=>{const b=k=>Fn(k,"webkit-fake-url"),_=k=>Fn(k,"data:");m.parser.addNodeFilter("img",(k,D,z)=>{if(!pb(m)&&!0===(null===(X=z.data)||void 0===X?void 0:X.paste))for(const H of k){const X=H.attr("src");ve(X)&&!H.attr("data-mce-object")&&X!==Mi.transparentSrc&&(b(X)||!wf(m)&&_(X))&&H.remove()}var X})})(s)})(s,m,p)})})(s);const _=(k=>{const D=k;return(z=k,Ft(z.plugins,"rtc").bind(H=>ue.from(H.setup))).fold(()=>(D.rtcInstance=AC(k),ue.none()),z=>(D.rtcInstance=(()=>{const H=rt(null),X=rt("");return{init:{bindEvents:lt},undoManager:{beforeChange:lt,add:H,undo:H,redo:H,clear:lt,reset:lt,hasUndo:Vt,hasRedo:Vt,transact:H,ignore:lt,extra:lt},formatter:{match:Vt,matchAll:rt([]),matchNode:rt(void 0),canApply:Vt,closest:X,apply:lt,remove:lt,toggle:lt,formatChanged:rt({unbind:lt})},editor:{getContent:X,setContent:rt({content:"",html:""}),insertContent:rt(""),addVisual:lt},selection:{getContent:X},autocompleter:{addDecoration:lt,removeDecoration:lt},raw:{getModel:rt(ue.none())}}})(),ue.some(()=>z().then(H=>(D.rtcInstance=(X=>{const $=Xe=>Ne(Xe)?Xe:{},{init:re,undoManager:he,formatter:se,editor:xe,selection:ce,autocompleter:Me,raw:He}=X;return{init:{bindEvents:re.bindEvents},undoManager:{beforeChange:he.beforeChange,add:he.add,undo:he.undo,redo:he.redo,clear:he.clear,reset:he.reset,hasUndo:he.hasUndo,hasRedo:he.hasRedo,transact:(Xe,pt,ut)=>he.transact(ut),ignore:(Xe,pt)=>he.ignore(pt),extra:(Xe,pt,ut,Rt)=>he.extra(ut,Rt)},formatter:{match:(Xe,pt,ut,Rt)=>se.match(Xe,$(pt),Rt),matchAll:se.matchAll,matchNode:se.matchNode,canApply:Xe=>se.canApply(Xe),closest:Xe=>se.closest(Xe),apply:(Xe,pt,ut)=>se.apply(Xe,$(pt)),remove:(Xe,pt,ut,Rt)=>se.remove(Xe,$(pt)),toggle:(Xe,pt,ut)=>se.toggle(Xe,$(pt)),formatChanged:(Xe,pt,ut,Rt,Jt)=>se.formatChanged(pt,ut,Rt,Jt)},editor:{getContent:Xe=>xe.getContent(Xe),setContent:(Xe,pt)=>({content:xe.setContent(Xe,pt),html:""}),insertContent:(Xe,pt)=>(xe.insertContent(Xe),""),addVisual:xe.addVisual},selection:{getContent:(Xe,pt)=>ce.getContent(pt)},autocompleter:{addDecoration:Me.addDecoration,removeDecoration:Me.removeDecoration},raw:{getModel:()=>ue.some(He.getRawModel())}}})(H),H.rtc.isRemote)))));var z})(s);(k=>{const D=k.getDoc(),z=k.getBody();k.dispatch("PreInit"),KO(k)||(D.body.spellcheck=!1,PA.setAttrib(z,"spellcheck","false")),k.quirks=(s=>{const c=Dn.each,p=vi.BACKSPACE,m=vi.DELETE,b=s.dom,_=s.selection,k=s.parser,D=Mi.browser,z=D.isFirefox(),H=D.isChromium()||D.isSafari(),X=Mi.deviceType.isiPhone()||Mi.deviceType.isiPad(),$=Mi.os.isMacOS()||Mi.os.isiOS(),re=(Wt,en)=>{try{s.getDoc().execCommand(Wt,!1,String(en))}catch{}},he=Wt=>Wt.isDefaultPrevented(),se=()=>{s.shortcuts.add("meta+a",null,"SelectAll")},xe=()=>{s.inline||b.bind(s.getDoc(),"mousedown mouseup",Wt=>{let en;if(Wt.target===s.getDoc().documentElement)if(en=_.getRng(),s.getBody().focus(),"mousedown"===Wt.type){if(ea(en.startContainer))return;_.placeCaretAt(Wt.clientX,Wt.clientY)}else _.setRng(en)})},ce=()=>{Range.prototype.getClientRects||s.on("mousedown",Wt=>{if(!he(Wt)&&"HTML"===Wt.target.nodeName){const en=s.getBody();en.blur(),lc.setEditorTimeout(s,()=>{en.focus()})}})},Me=()=>{const Wt=Mw(s);s.on("click",en=>{const un=en.target;/^(IMG|HR)$/.test(un.nodeName)&&b.isEditable(un)&&(en.preventDefault(),s.selection.select(un),s.nodeChanged()),"A"===un.nodeName&&b.hasClass(un,Wt)&&0===un.childNodes.length&&b.isEditable(un.parentNode)&&(en.preventDefault(),_.select(un))})},He=()=>{s.on("keydown",Wt=>{if(!he(Wt)&&Wt.keyCode===p&&_.isCollapsed()&&0===_.getRng().startOffset){const en=_.getNode().previousSibling;if(en&&en.nodeName&&"table"===en.nodeName.toLowerCase())return Wt.preventDefault(),!1}return!0})},Xe=()=>{Ku(s)||s.on("BeforeExecCommand mousedown",()=>{re("StyleWithCSS",!1),re("enableInlineTableEditing",!1),Cw(s)||re("enableObjectResizing",!1)})},pt=()=>{s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ut=()=>{s.inline||s.on("keydown",()=>{document.activeElement===document.body&&s.getWin().focus()})},Rt=()=>{s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",Wt=>{let en;"HTML"===Wt.target.nodeName&&(en=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(en),s.selection.normalize(),s.nodeChanged())}))},Jt=()=>{$&&s.on("keydown",Wt=>{!vi.metaKeyPressed(Wt)||Wt.shiftKey||37!==Wt.keyCode&&39!==Wt.keyCode||(Wt.preventDefault(),s.selection.getSel().modify("move",37===Wt.keyCode?"backward":"forward","lineboundary"))})},rn=()=>{s.on("click",Wt=>{let en=Wt.target;do{if("A"===en.tagName)return void Wt.preventDefault()}while(en=en.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},sn=()=>{s.on("init",()=>{s.dom.bind(s.getBody(),"submit",Wt=>{Wt.preventDefault()})})},fn=lt;return hh(s)?(H&&(xe(),Me(),sn(),se(),X&&(ut(),Rt(),rn())),z&&(ce(),Xe(),pt(),Jt())):(s.on("keydown",Wt=>{if(he(Wt)||Wt.keyCode!==vi.BACKSPACE)return;let en=_.getRng();const un=en.startContainer,An=en.startOffset,li=b.getRoot();let $n=un;if(en.collapsed&&0===An){for(;$n.parentNode&&$n.parentNode.firstChild===$n&&$n.parentNode!==li;)$n=$n.parentNode;"BLOCKQUOTE"===$n.nodeName&&(s.formatter.toggle("blockquote",void 0,$n),en=b.createRng(),en.setStart(un,0),en.setEnd(un,0),_.setRng(en))}}),(()=>{const Wt=en=>{const un=b.create("body"),An=en.cloneContents();return un.appendChild(An),_.serializer.serialize(un,{format:"html"})};s.on("keydown",en=>{const un=en.keyCode;if(!he(en)&&(un===m||un===p)&&s.selection.isEditable()){const An=s.selection.isCollapsed(),li=s.getBody();if(An&&!dn(Yt(li))||!An&&!($n=>{const zi=Wt($n),Ii=b.createRng();return Ii.selectNode(s.getBody()),zi===Wt(Ii)})(s.selection.getRng()))return;en.preventDefault(),s.setContent(""),li.firstChild&&b.isBlock(li.firstChild)?s.selection.setCursorLocation(li.firstChild,0):s.selection.setCursorLocation(li,0),s.nodeChanged()}})})(),Mi.windowsPhone||s.on("keyup focusin mouseup",Wt=>{vi.modifierPressed(Wt)||(en=>{const un=en.getBody(),An=en.selection.getRng();return An.startContainer===An.endContainer&&An.startContainer===un&&0===An.startOffset&&An.endOffset===un.childNodes.length})(s)||_.normalize()},!0),H&&(xe(),Me(),s.on("init",()=>{re("DefaultParagraphSeparator",Ms(s))}),sn(),He(),k.addNodeFilter("br",Wt=>{let en=Wt.length;for(;en--;)"Apple-interchange-newline"===Wt[en].attr("class")&&Wt[en].remove()}),X?(ut(),Rt(),rn()):se()),z&&(s.on("keydown",Wt=>{if(!he(Wt)&&Wt.keyCode===p){if(!s.getBody().getElementsByTagName("hr").length)return;if(_.isCollapsed()&&0===_.getRng().startOffset){const en=_.getNode(),un=en.previousSibling;if("HR"===en.nodeName)return b.remove(en),void Wt.preventDefault();un&&un.nodeName&&"hr"===un.nodeName.toLowerCase()&&(b.remove(un),Wt.preventDefault())}}}),ce(),(()=>{const Wt=()=>{const un=b.getAttribs(_.getStart().cloneNode(!1));return()=>{const An=_.getStart();An!==s.getBody()&&(b.setAttrib(An,"style",null),c(un,li=>{An.setAttributeNode(li.cloneNode(!0))}))}},en=()=>!_.isCollapsed()&&b.getParent(_.getStart(),b.isBlock)!==b.getParent(_.getEnd(),b.isBlock);s.on("keypress",un=>{let An;return!(!(he(un)||8!==un.keyCode&&46!==un.keyCode)&&en()&&(An=Wt(),s.getDoc().execCommand("delete",!1),An(),un.preventDefault(),1))}),b.bind(s.getDoc(),"cut",un=>{if(!he(un)&&en()){const An=Wt();lc.setEditorTimeout(s,()=>{An()})}})})(),Xe(),s.on("SetContent ExecCommand",Wt=>{"setcontent"!==Wt.type&&"mceInsertLink"!==Wt.command||c(b.select("a:not([data-mce-block])"),en=>{var un;let An=en.parentNode;const li=b.getRoot();if(An?.lastChild===en){for(;An&&!b.isBlock(An);){if((null===(un=An.parentNode)||void 0===un?void 0:un.lastChild)!==An||An===li)return;An=An.parentNode}b.add(An,"br",{"data-mce-bogus":1})}})}),pt(),Jt(),He(),s.on("drop",Wt=>{var en;const un=null===(en=Wt.dataTransfer)||void 0===en?void 0:en.getData("text/html");ve(un)&&/^<img[^>]*>$/.test(un)&&s.dispatch("dragend",new window.DragEvent("dragend",Wt))}))),{refreshContentEditable:fn,isHidden:()=>{if(!z||s.removed)return!1;const Wt=s.selection.getSel();return!Wt||!Wt.rangeCount||0===Wt.rangeCount}}})(k),k.dispatch("PostRender");const H=OM(k);void 0!==H&&(z.dir=H);const X=cs(k);X&&k.on("BeforeSetContent",$=>{Dn.each(X,re=>{$.content=$.content.replace(re,he=>"\x3c!--mce:protected "+escape(he)+"--\x3e")})}),k.on("SetContent",()=>{k.addVisual(k.getBody())}),k.on("compositionstart compositionend",$=>{k.composing="compositionstart"===$.type})})(s),_.fold(()=>{const k=(D=>{let z=!1;const H=setTimeout(()=>{z||D.setProgressState(!0)},500);return()=>{clearTimeout(H),z=!0,D.setProgressState(!1)}})(s);NA(s).then(()=>{E_(s),k()})},k=>{s.setProgressState(!0),NA(s).then(()=>{k().then(D=>{s.setProgressState(!1),E_(s),MC(s)},D=>{s.notificationManager.open({type:"error",text:String(D)}),E_(s),MC(s)})})})},XI=pe,RA=E.DOM,qI=E.DOM,z0=(s,c)=>({editorContainer:s,iframeContainer:c,api:{}}),UI=s=>{const c=s.getElement();return s.inline?z0(null):(p=>{const m=qI.create("div");return qI.insertAfter(m,p),z0(m,m)})(c)},kL=async s=>{s.dispatch("ScriptsLoaded"),(p=>{const m=Dn.trim(EM(p)),b=p.ui.registry.getAll().icons,_={...i1.get("default").icons,...i1.get(m).icons};Ye(_,(k,D)=>{Gt(b,D)||p.ui.registry.addIcon(D,k)})})(s),(p=>{const m=xf(p);if(ve(m)){const b=Zf.get(m);p.theme=b(p,Zf.urls[m])||{},yt(p.theme.init)&&p.theme.init(p,Zf.urls[m]||p.documentBaseUrl.replace(/\/$/,""))}else p.theme={}})(s),(p=>{const m=hb(p),b=$f.get(m);p.model=b(p,$f.urls[m])})(s),(p=>{const m=[];Ht(db(p),b=>{((_,k,D)=>{const z=jm.get(D),H=jm.urls[D]||_.documentBaseUrl.replace(/\/$/,"");if(D=Dn.trim(D),z&&-1===Dn.inArray(k,D)){if(_.plugins[D])return;try{const X=z(_,H)||{};_.plugins[D]=X,yt(X.init)&&(X.init(_,H),k.push(D))}catch(X){(($,re,he)=>{const se=ee.translate(["Failed to initialize plugin: {0}",re]);$w($,"PluginLoadError",{message:se}),Kf(se,he),Ym($,se)})(_,D,X)}}})(p,m,b.replace(/^\-/,""))})})(s);const c=await(p=>{const m=p.getElement();return p.orgDisplay=m.style.display,ve(xf(p))?(b=>{const _=b.theme.renderUI;return _?_():UI(b)})(p):yt(xf(p))?(b=>{const _=b.getElement(),k=xf(b)(b,_);return k.editorContainer.nodeType&&(k.editorContainer.id=k.editorContainer.id||b.id+"_parent"),k.iframeContainer&&k.iframeContainer.nodeType&&(k.iframeContainer.id=k.iframeContainer.id||b.id+"_iframecontainer"),k.height=k.iframeHeight?k.iframeHeight:_.offsetHeight,k})(p):UI(p)})(s);var p,m;((p,m)=>{const b={show:ue.from(m.show).getOr(lt),hide:ue.from(m.hide).getOr(lt),isEnabled:ue.from(m.isEnabled).getOr(pe),setEnabled:_=>{p.mode.isReadOnly()||ue.from(m.setEnabled).each(k=>k(_))}};p.ui={...p.ui,...b}})(s,ue.from(c.api).getOr({})),s.editorContainer=c.editorContainer,(p=s).contentCSS=p.contentCSS.concat(o1(m=p,cb(m)),(m=>o1(m,Fg(m)))(p)),s.inline?GI(s):((p,m)=>{((b,_)=>{const k=b.translate("Rich Text Area"),D=Xs(Yt(b.getElement()),"tabindex").bind(v),z=((H,X,$,re)=>{const he=ra("iframe");return re.each(se=>Ho(he,"tabindex",se)),bs(he,$),bs(he,{id:H+"_ifr",frameBorder:"0",allowTransparency:"true",title:X}),kl(he,"tox-edit-area__iframe"),he})(b.id,k,_d(b),D).dom;z.onload=()=>{z.onload=null,b.dispatch("load")},b.contentAreaContainer=_.iframeContainer,b.iframeElement=z,b.iframeHTML=(H=>{let X=wd(H)+"<html><head>";pw(H)!==H.documentBaseUrl&&(X+='<base href="'+H.documentBaseURI.getURI()+'" />'),X+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const $=fw(H),re=kM(H),he=H.translate(UO(H));return gw(H)&&(X+='<meta http-equiv="Content-Security-Policy" content="'+gw(H)+'" />'),X+=`</head><body id="${$}" class="mce-content-body ${re}" data-id="${H.id}" aria-label="${he}"><br></body></html>`,X})(b),RA.add(_.iframeContainer,z)})(p,m),m.editorContainer&&(m.editorContainer.style.display=p.orgDisplay,p.hidden=RA.isHidden(m.editorContainer)),p.getElement().style.display="none",RA.setAttrib(p.id,"aria-hidden","true"),p.getElement().style.visibility=p.orgVisibility,(b=>{const _=b.iframeElement,k=()=>{b.contentDocument=_.contentDocument,GI(b)};if(co(b)||Mi.browser.isFirefox()){const z=b.getDoc();z.open(),z.write(b.iframeHTML),z.close(),k()}else{const z=((s,c,p,m)=>((b,_,k,D,z)=>{const H=(X=k,$=D,re=>{X(re)&&$((he=>{const se=Yt(Au(he).getOr(he.target)),xe=()=>he.stopPropagation(),ce=()=>he.preventDefault(),Me=$e(ce,xe);return{target:se,x:he.clientX,y:he.clientY,stop:xe,prevent:ce,kill:Me,raw:he}})(re))});var X,$;return b.dom.addEventListener(_,H,!1),{unbind:It(Pl,b,_,H,!1)}})(s,"load",p,()=>{z.unbind(),k()}))(Yt(_),0,XI);_.srcdoc=b.iframeHTML}})(p)})(s,{editorContainer:c.editorContainer,iframeContainer:c.iframeContainer})},fg=E.DOM,I_=s=>"-"===s.charAt(0),Xp=(s,c,p)=>ue.from(c).filter(m=>h(m)&&!i1.has(m)).map(m=>({url:`${s.editorManager.baseURL}/icons/${m}/icons${p}.js`,name:ue.some(m)})),gg=Cn().deviceType,$I=gg.isPhone(),ZI=gg.isTablet(),V0=s=>{if(je(s))return[];{const c=Ce(s)?s:s.split(/[ ,]/),p=Bt(c,fi);return En(p,h)}},O_=(s,c)=>Gt(s.sections(),c),ML=(s,c)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ft(s,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...c?{menubar:!1}:{}}),BA=(s,c)=>{var p;const m=null!==(p=c.external_plugins)&&void 0!==p?p:{};return s&&s.external_plugins?Dn.extend({},s.external_plugins,m):m},JI=(s,c)=>{const p=s.selection,m=s.dom;return/^ | $/.test(c)?((b,_,k,D)=>{const z=Yt(b.getRoot());return k=xy(z,wn.fromRangeStart(_),D)?k.replace(/^ /,"&nbsp;"):k.replace(/^&nbsp;/," "),_y(z,wn.fromRangeEnd(_),D)?k.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):k.replace(/&nbsp;(<br( \/)?>)?$/," ")})(m,p.getRng(),c,s.schema):c},H0=(s,c)=>{if(s.selection.isEditable()){const{content:p,details:m}=(b=>{if("string"!=typeof b){const _=Dn.extend({paste:b.paste,data:{paste:b.paste}},b);return{content:b.content,details:_}}return{content:b,details:{}}})(c);Uy(s,{...m,content:JI(s,p),format:"html",set:!1,selection:!0}).each(b=>{const _=(D=b.content,z=m,t1(s).editor.insertContent(D,z));var D,z;Zx(s,_,b),s.addVisual()})}},zA={"font-size":"size","font-family":"face"},FA=jc("font"),D_=s=>(c,p)=>ue.from(p).map(Yt).filter(ys).bind(m=>{return(b=s,_=c,k=m.dom,xm(Yt(k),D=>{return Tu(z=D,b).orThunk(()=>FA(z)?Ft(zA,b).bind(H=>Xs(z,H)):ue.none());var z},D=>Br(Yt(_),D))).or(((b,_)=>ue.from(E.DOM.getStyle(_,b,!0)))(s,m.dom));var b,_,k}).getOr(""),eO=D_("font-size"),VA=$e(s=>s.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),D_("font-family")),mg=s=>Ja(s.getBody()).bind(c=>{const p=c.container();return ue.from(Rn(p)?p.parentNode:p)}),L_=(s,c)=>{return p=s,m=Qe(ue.some,c),(b=p,ue.from(b.selection.getRng()).bind(_=>{const k=b.getBody();return _.startContainer===k&&0===_.startOffset?ue.none():ue.from(b.selection.getStart(!0))})).orThunk(It(mg,p)).map(Yt).filter(ys).bind(m);var p,m,b},HA=(s,c)=>{if(/^[0-9.]+$/.test(c)){const p=parseInt(c,10);if(p>=1&&p<=7){const m=Dn.explode(s.options.get("font_size_style_values")),b=Dn.explode(s.options.get("font_size_classes"));return b.length>0?b[p-1]||c:m[p-1]||c}return c}return c},tO=s=>{const c=s.split(/\s*,\s*/);return Bt(c,p=>-1===p.indexOf(" ")||Fn(p,'"')||Fn(p,"'")?p:`'${p}'`).join(",")},P_=(s,c)=>{const p=s.dom,m=s.selection.getRng(),b=c?s.selection.getStart():s.selection.getEnd(),_=c?m.startContainer:m.endContainer,k=fv(p,_);if(!k||!k.isContentEditable)return;const D=c?Ga:Ns,z=Ms(s);((H,X,$,re)=>{const he=H.dom,se=ce=>he.isBlock(ce)&&ce.parentElement===$,xe=se(X)?X:he.getParent(re,se,$);return ue.from(xe).map(Yt)})(s,b,k,_).each(H=>{const X=mv(s,_,H.dom,k,!1,z);D(H,Yt(X)),s.selection.setCursorLocation(X,0),s.dispatch("NewBlock",{newBlock:X}),S0(s,"insertParagraph")})},WA=["toggleview"],jA=s=>Et(WA,s.toLowerCase());class N_{constructor(c){this.commands={state:{},exec:{},value:{}},this.editor=c}execCommand(c,p=!1,m,b){const _=this.editor,k=c.toLowerCase(),D=b?.skip_focus;if(_.removed||("mcefocus"!==k&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(k)||D?hS(H=_).each(X=>H.selection.setRng(X)):_.focus()),_.dispatch("BeforeExecCommand",{command:c,ui:p,value:m}).isDefaultPrevented()))return!1;var H;const z=this.commands.exec[k];return!!yt(z)&&(z(k,p,m),_.dispatch("ExecCommand",{command:c,ui:p,value:m}),!0)}queryCommandState(c){if(!jA(c)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const p=c.toLowerCase(),m=this.commands.state[p];return!!yt(m)&&m(p)}queryCommandValue(c){if(!jA(c)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const p=c.toLowerCase(),m=this.commands.value[p];return yt(m)?m(p):""}addCommands(c,p="exec"){const m=this.commands;Ye(c,(b,_)=>{Ht(_.toLowerCase().split(","),k=>{m[p][k]=b})})}addCommand(c,p,m){const b=c.toLowerCase();this.commands.exec[b]=(_,k,D)=>p.call(m??this.editor,k,D)}queryCommandSupported(c){const p=c.toLowerCase();return!!this.commands.exec[p]}addQueryStateHandler(c,p,m){this.commands.state[c.toLowerCase()]=()=>p.call(m??this.editor)}addQueryValueHandler(c,p,m){this.commands.value[c.toLowerCase()]=()=>p.call(m??this.editor)}}const qp="data-mce-contenteditable",YA=(s,c,p)=>{try{s.getDoc().execCommand(c,!1,String(p))}catch{}},W0=(s,c)=>{s.dom.contentEditable=c?"true":"false"},Ud=s=>s.readonly,R_=s=>{s.parser.addAttributeFilter("contenteditable",c=>{Ud(s)&&Ht(c,p=>{p.attr(qp,p.attr("contenteditable")),p.attr("contenteditable","false")})}),s.serializer.addAttributeFilter(qp,c=>{Ud(s)&&Ht(c,p=>{p.attr("contenteditable",p.attr(qp))})}),s.serializer.addTempAttr(qp)},GA=["copy"],nO=Dn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class B_{static isNative(c){return!!nO[c.toLowerCase()]}constructor(c){this.bindings={},this.settings=c||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Vt}fire(c,p){return this.dispatch(c,p)}dispatch(c,p){const m=c.toLowerCase(),b=pf(m,p??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(b);const _=this.bindings[m];if(_)for(let k=0,D=_.length;k<D;k++){const z=_[k];if(!z.removed){if(z.once&&this.off(m,z.func),b.isImmediatePropagationStopped())return b;if(!1===z.func.call(this.scope,b))return b.preventDefault(),b}}return b}on(c,p,m,b){if(!1===p&&(p=Vt),p){const _={func:p,removed:!1};b&&Dn.extend(_,b);const k=c.toLowerCase().split(" ");let D=k.length;for(;D--;){const z=k[D];let H=this.bindings[z];H||(H=[],this.toggleEvent(z,!0)),H=m?[_,...H]:[...H,_],this.bindings[z]=H}}return this}off(c,p){if(c){const m=c.toLowerCase().split(" ");let b=m.length;for(;b--;){const _=m[b];let k=this.bindings[_];if(!_)return Ye(this.bindings,(D,z)=>{this.toggleEvent(z,!1),delete this.bindings[z]}),this;if(k){if(p){const D=xr(k,z=>z.func===p);k=D.fail,this.bindings[_]=k,Ht(D.pass,z=>{z.removed=!0})}else k.length=0;k.length||(this.toggleEvent(c,!1),delete this.bindings[_])}}}else Ye(this.bindings,(m,b)=>{this.toggleEvent(b,!1)}),this.bindings={};return this}once(c,p,m){return this.on(c,p,m,{once:!0})}has(c){c=c.toLowerCase();const p=this.bindings[c];return!(!p||0===p.length)}}const j0=s=>(s._eventDispatcher||(s._eventDispatcher=new B_({scope:s,toggleEvent:(c,p)=>{B_.isNative(c)&&s.toggleNativeEvent&&s.toggleNativeEvent(c,p)}})),s._eventDispatcher),z_={fire(s,c,p){return this.dispatch(s,c,p)},dispatch(s,c,p){const m=this;if(m.removed&&"remove"!==s&&"detach"!==s)return pf(s.toLowerCase(),c??{},m);const b=j0(m).dispatch(s,c);if(!1!==p&&m.parent){let _=m.parent();for(;_&&!b.isPropagationStopped();)_.dispatch(s,b,!1),_=_.parent?_.parent():void 0}return b},on(s,c,p){return j0(this).on(s,c,p)},off(s,c){return j0(this).off(s,c)},once(s,c){return j0(this).once(s,c)},hasEventListeners(s){return j0(this).has(s)}},vg=E.DOM;let Up;const Y0=(s,c)=>{if("selectionchange"===c)return s.getDoc();if(!s.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(c))return s.getDoc().documentElement;const p=LM(s);return p?(s.eventRoot||(s.eventRoot=vg.select(p)[0]),s.eventRoot):s.getBody()},XA=(s,c,p)=>{var m;(m=s).hidden||Ud(m)?Ud(s)&&((m,b)=>{if("click"!==b.type||vi.metaKeyPressed(b))Et(GA,b.type)&&m.dispatch(b.type,b);else{const _=Yt(b.target);(k=m,D=_,al(D,"a",z=>Br(z,Yt(k.getBody()))).bind(z=>Xs(z,"href"))).each(k=>{if(b.preventDefault(),/^#/.test(k)){const D=m.dom.select(`${k},[name="${Yr(k,"#")}"]`);D.length&&m.selection.scrollIntoView(D[0],!0)}else window.open(k,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}var k,D})(s,p):s.dispatch(c,p)},qA=(s,c)=>{if(s.delegates||(s.delegates={}),s.delegates[c]||s.removed)return;const p=Y0(s,c);if(LM(s)){if(Up||(Up={},s.editorManager.on("removeEditor",()=>{s.editorManager.activeEditor||Up&&(Ye(Up,(b,_)=>{s.dom.unbind(Y0(s,_))}),Up=null)})),Up[c])return;const m=b=>{const _=b.target,k=s.editorManager.get();let D=k.length;for(;D--;){const z=k[D].getBody();(z===_||vg.isChildOf(_,z))&&XA(k[D],c,b)}};Up[c]=m,vg.bind(p,c,m)}else{const m=b=>{XA(s,c,b)};vg.bind(p,c,m),s.delegates[c]=m}},F_={...z_,bindPendingEventDelegates(){const s=this;Dn.each(s._pendingNativeEvents,c=>{qA(s,c)})},toggleNativeEvent(s,c){const p=this;"focus"!==s&&"blur"!==s&&(p.removed||(c?p.initialized?qA(p,s):p._pendingNativeEvents?p._pendingNativeEvents.push(s):p._pendingNativeEvents=[s]:p.initialized&&p.delegates&&(p.dom.unbind(Y0(p,s),s,p.delegates[s]),delete p.delegates[s])))},unbindAllNativeEvents(){const s=this,c=s.getBody(),p=s.dom;s.delegates&&(Ye(s.delegates,(m,b)=>{s.dom.unbind(Y0(s,b),b,m)}),delete s.delegates),!s.inline&&c&&p&&(c.onload=null,p.unbind(s.getWin()),p.unbind(s.getDoc())),p&&(p.unbind(c),p.unbind(s.getContainer()))}},TL=s=>ve(s)?{value:s.split(/[ ,]/),valid:!0}:wt(s,ve)?{value:s,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},iO=(s,c)=>s+(d(c.message)?"":`. ${c.message}`),rO=s=>s.valid,UA=(s,c,p="")=>{const m=c(s);return ot(m)?m?{value:s,valid:!0}:{valid:!1,message:p}:m},oO=["design","readonly"],aO=(s,c,p,m)=>{const b=p[c.get()],_=p[m];try{_.activate()}catch(k){return void console.error(`problem while activating editor mode ${m}:`,k)}var k;b.deactivate(),b.editorReadOnly!==_.editorReadOnly&&((k,D)=>{const z=Yt(k.getBody());var H,X,$;$=D,Ca(H=z,X="mce-content-readonly")&&!$?xs(H,X):$&&kl(H,X),D?(k.selection.controlSelection.hideResizeRect(),k._selectionOverrides.hideFakeCaret(),(H=>{ue.from(H.selection.getNode()).each(X=>{X.removeAttribute("data-mce-selected")})})(k),k.readonly=!0,W0(z,!1),Ht(ga(z,'*[contenteditable="true"]'),H=>{Ho(H,qp,"true"),W0(H,!1)})):(k.readonly=!1,k.hasEditableRoot()&&W0(z,!0),Ht(ga(z,`*[${qp}="true"]`),H=>{Sa(H,qp),W0(H,!0)}),YA(k,"StyleWithCSS",!1),YA(k,"enableInlineTableEditing",!1),YA(k,"enableObjectResizing",!1),bT(k)&&k.focus(),(H=>{H.selection.setRng(H.selection.getRng())})(k),k.nodeChanged())})(s,_.editorReadOnly),c.set(m),(k=s).dispatch("SwitchMode",{mode:m})},$A=Dn.each,ZA=Dn.explode,sO={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},lO=Dn.makeMap("alt,ctrl,shift,meta,access"),EL=s=>{const c={},p=Mi.os.isMacOS()||Mi.os.isiOS();$A(ZA(s.toLowerCase(),"+"),_=>{_ in lO?c[_]=!0:/^[0-9]{2,}$/.test(_)?c.keyCode=parseInt(_,10):(c.charCode=_.charCodeAt(0),c.keyCode=sO[_]||_.toUpperCase().charCodeAt(0))});const m=[c.keyCode];let b;for(b in lO)c[b]?m.push(b):c[b]=!1;return c.id=m.join(","),c.access&&(c.alt=!0,p?c.ctrl=!0:c.shift=!0),c.meta&&(p?c.meta=!0:(c.ctrl=!0,c.meta=!1)),c};class KA{constructor(c){this.shortcuts={},this.pendingPatterns=[],this.editor=c;const p=this;c.on("keyup keypress keydown",m=>{!p.hasModifier(m)&&!p.isFunctionKey(m)||m.isDefaultPrevented()||($A(p.shortcuts,b=>{p.matchShortcut(m,b)&&(p.pendingPatterns=b.subpatterns.slice(0),"keydown"===m.type&&p.executeShortcutAction(b))}),p.matchShortcut(m,p.pendingPatterns[0])&&(1===p.pendingPatterns.length&&"keydown"===m.type&&p.executeShortcutAction(p.pendingPatterns[0]),p.pendingPatterns.shift()))})}add(c,p,m,b){const _=this,k=_.normalizeCommandFunc(m);return $A(ZA(Dn.trim(c)),D=>{const z=_.createShortcut(D,p,k,b);_.shortcuts[z.id]=z}),!0}remove(c){const p=this.createShortcut(c);return!!this.shortcuts[p.id]&&(delete this.shortcuts[p.id],!0)}normalizeCommandFunc(c){const p=this,m=c;return"string"==typeof m?()=>{p.editor.execCommand(m,!1,null)}:Dn.isArray(m)?()=>{p.editor.execCommand(m[0],m[1],m[2])}:m}createShortcut(c,p,m,b){const _=Dn.map(ZA(c,">"),EL);return _[_.length-1]=Dn.extend(_[_.length-1],{func:m,scope:b||this.editor}),Dn.extend(_[0],{desc:this.editor.translate(p),subpatterns:_.slice(1)})}hasModifier(c){return c.altKey||c.ctrlKey||c.metaKey}isFunctionKey(c){return"keydown"===c.type&&c.keyCode>=112&&c.keyCode<=123}matchShortcut(c,p){return!!p&&p.ctrl===c.ctrlKey&&p.meta===c.metaKey&&p.alt===c.altKey&&p.shift===c.shiftKey&&!!(c.keyCode===p.keyCode||c.charCode&&c.charCode===p.charCode)&&(c.preventDefault(),!0)}executeShortcutAction(c){return c.func?c.func.call(c.scope):null}}const QA=()=>{const s=(()=>{const c={},p={},m={},b={},_={},k={},D={},z={},H=(X,$)=>(re,he)=>{X[re.toLowerCase()]={...he,type:$}};return{addButton:H(c,"button"),addGroupToolbarButton:H(c,"grouptoolbarbutton"),addToggleButton:H(c,"togglebutton"),addMenuButton:H(c,"menubutton"),addSplitButton:H(c,"splitbutton"),addMenuItem:H(p,"menuitem"),addNestedMenuItem:H(p,"nestedmenuitem"),addToggleMenuItem:H(p,"togglemenuitem"),addAutocompleter:H(m,"autocompleter"),addContextMenu:H(_,"contextmenu"),addContextToolbar:H(k,"contexttoolbar"),addContextForm:H(k,"contextform"),addSidebar:H(D,"sidebar"),addView:H(z,"views"),addIcon:(X,$)=>b[X.toLowerCase()]=$,getAll:()=>({buttons:c,menuItems:p,icons:b,popups:m,contextMenus:_,contextToolbars:k,sidebars:D,views:z})}})();return{addAutocompleter:s.addAutocompleter,addButton:s.addButton,addContextForm:s.addContextForm,addContextMenu:s.addContextMenu,addContextToolbar:s.addContextToolbar,addIcon:s.addIcon,addMenuButton:s.addMenuButton,addMenuItem:s.addMenuItem,addNestedMenuItem:s.addNestedMenuItem,addSidebar:s.addSidebar,addSplitButton:s.addSplitButton,addToggleButton:s.addToggleButton,addGroupToolbarButton:s.addGroupToolbarButton,addToggleMenuItem:s.addToggleMenuItem,addView:s.addView,getAll:s.getAll}},yg=E.DOM,cO=Dn.extend,IL=Dn.each;class V_{constructor(c,p,m){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,cO(this,F_);const b=this;this.id=c,this.hidden=!1;const _=((s,c,p,m,b)=>{var _;const k=s?{mobile:ML(null!==(_=b.mobile)&&void 0!==_?_:{},c)}:{},D=((s,c)=>{const p=((_,k)=>{const D={},z={};return bt(_,(H,X)=>Et(s,X),at(D),at(z)),{t:D,f:z}})(c);return b=p.f,{sections:rt(p.t),options:rt(b)};var b})(["mobile"],Ok(k,b)),z=Dn.extend(p,m,D.options(),s&&O_(D,"mobile")?((H,X,$={})=>{const re=H.sections(),he=Ft(re,X).getOr({});return Dn.extend({},$,he)})(D,"mobile"):{},{external_plugins:BA(m,D.options())});return((H,X,$,re)=>{const he=V0($.forced_plugins),se=V0(re.plugins),xe=O_(He=X,"mobile")?He.sections().mobile:{},ce=((He,Xe,pt,ut)=>He&&O_(Xe,"mobile")?ut:pt)(H,X,se,xe.plugins?V0(xe.plugins):se),Me=((He,Xe)=>[...V0(He),...V0(Xe)])(he,ce);var He;return Dn.extend(re,{forced_plugins:he,plugins:Me})})(s,D,m,z)})($I||ZI,$I,se=p,m.defaultOptions,se);var se;this.options=((he,se)=>{const xe={},ce={},Me=(Xe,pt,ut)=>{const Rt=UA(pt,ut);return rO(Rt)?(ce[Xe]=Rt.value,!0):(console.warn(iO(`Invalid value passed for the ${Xe} option`,Rt)),!1)},He=Xe=>Gt(xe,Xe);return{register:(Xe,pt)=>{const ut=ve(pt.processor)?(Jt=>{const rn=(()=>{switch(Jt){case"array":return Ce;case"boolean":return ot;case"function":return yt;case"number":return Ot;case"object":return Ne;case"string":return ve;case"string[]":return TL;case"object[]":return sn=>wt(sn,Ne);case"regexp":return sn=>we(sn,RegExp);default:return pe}})();return sn=>UA(sn,rn,`The value must be a ${Jt}.`)})(pt.processor):pt.processor,Rt=((Jt,rn,sn)=>{if(!Ae(rn)){const fn=UA(rn,sn);if(rO(fn))return fn.value;console.error(iO(`Invalid default value passed for the "${Jt}" option`,fn))}})(Xe,pt.default,ut);xe[Xe]={...pt,default:Rt,processor:ut},Ft(ce,Xe).orThunk(()=>Ft(se,Xe)).each(Jt=>Me(Xe,Jt,ut))},isRegistered:He,get:Xe=>Ft(ce,Xe).orThunk(()=>Ft(xe,Xe).map(pt=>pt.default)).getOrUndefined(),set:(Xe,pt)=>{if(He(Xe)){const ut=xe[Xe];return ut.immutable?(console.error(`"${Xe}" is an immutable option and cannot be updated`),!1):Me(Xe,pt,ut.processor)}return console.warn(`"${Xe}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Xe=>{const pt=He(Xe);return pt&&delete ce[Xe],pt},isSet:Xe=>Gt(ce,Xe)}})(0,_),(he=>{const se=he.options.register;se("id",{processor:"string",default:he.id}),se("selector",{processor:"string"}),se("target",{processor:"object"}),se("suffix",{processor:"string"}),se("cache_suffix",{processor:"string"}),se("base_url",{processor:"string"}),se("referrer_policy",{processor:"string",default:""}),se("language_load",{processor:"boolean",default:!0}),se("inline",{processor:"boolean",default:!1}),se("iframe_attrs",{processor:"object",default:{}}),se("doctype",{processor:"string",default:"<!DOCTYPE html>"}),se("document_base_url",{processor:"string",default:he.documentBaseUrl}),se("body_id",{processor:dw(he,"tinymce"),default:"tinymce"}),se("body_class",{processor:dw(he),default:""}),se("content_security_policy",{processor:"string",default:""}),se("br_in_pre",{processor:"boolean",default:!0}),se("forced_root_block",{processor:xe=>{const ce=ve(xe)&&h(xe);return ce?{value:xe,valid:ce}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),se("forced_root_block_attrs",{processor:"object",default:{}}),se("newline_behavior",{processor:xe=>{const ce=Et(["block","linebreak","invert","default"],xe);return ce?{value:xe,valid:ce}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),se("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),se("no_newline_selector",{processor:"string",default:""}),se("keep_styles",{processor:"boolean",default:!0}),se("end_container_on_empty_block",{processor:xe=>ot(xe)||ve(xe)?{valid:!0,value:xe}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),se("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),se("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),se("font_size_classes",{processor:"string",default:""}),se("automatic_uploads",{processor:"boolean",default:!0}),se("images_reuse_filename",{processor:"boolean",default:!1}),se("images_replace_blob_uris",{processor:"boolean",default:!0}),se("icons",{processor:"string",default:""}),se("icons_url",{processor:"string",default:""}),se("images_upload_url",{processor:"string",default:""}),se("images_upload_base_path",{processor:"string",default:""}),se("images_upload_credentials",{processor:"boolean",default:!1}),se("images_upload_handler",{processor:"function"}),se("language",{processor:"string",default:"en"}),se("language_url",{processor:"string",default:""}),se("entity_encoding",{processor:"string",default:"named"}),se("indent",{processor:"boolean",default:!0}),se("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),se("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),se("indent_use_margin",{processor:"boolean",default:!1}),se("indentation",{processor:"string",default:"40px"}),se("content_css",{processor:xe=>{const ce=!1===xe||ve(xe)||wt(xe,ve);return ce?ve(xe)?{value:Bt(xe.split(","),fi),valid:ce}:Ce(xe)?{value:xe,valid:ce}:!1===xe?{value:[],valid:ce}:{value:xe,valid:ce}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Sd(he)?[]:["default"]}),se("content_style",{processor:"string"}),se("content_css_cors",{processor:"boolean",default:!1}),se("font_css",{processor:xe=>{const ce=ve(xe)||wt(xe,ve);return ce?{value:Ce(xe)?xe:Bt(xe.split(","),fi),valid:ce}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),se("inline_boundaries",{processor:"boolean",default:!0}),se("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),se("object_resizing",{processor:xe=>{const ce=ot(xe)||ve(xe);return ce?!1===xe||rb.isiPhone()||rb.isiPad()?{value:"",valid:ce}:{value:!0===xe?"table,img,figure.image,div,video,iframe":xe,valid:ce}:{valid:!1,message:"Must be boolean or a string"}},default:!xd}),se("resize_img_proportional",{processor:"boolean",default:!0}),se("event_root",{processor:"object"}),se("service_message",{processor:"string"}),se("theme",{processor:xe=>!1===xe||ve(xe)||yt(xe),default:"silver"}),se("theme_url",{processor:"string"}),se("formats",{processor:"object"}),se("format_empty_lines",{processor:"boolean",default:!1}),se("format_noneditable_selector",{processor:"string",default:""}),se("preview_styles",{processor:xe=>{const ce=!1===xe||ve(xe);return ce?{value:!1===xe?"":xe,valid:ce}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),se("custom_ui_selector",{processor:"string",default:""}),se("hidden_input",{processor:"boolean",default:!0}),se("submit_patch",{processor:"boolean",default:!0}),se("encoding",{processor:"string"}),se("add_form_submit_trigger",{processor:"boolean",default:!0}),se("add_unload_trigger",{processor:"boolean",default:!0}),se("custom_undo_redo_levels",{processor:"number",default:0}),se("disable_nodechange",{processor:"boolean",default:!1}),se("readonly",{processor:"boolean",default:!1}),se("editable_root",{processor:"boolean",default:!0}),se("plugins",{processor:"string[]",default:[]}),se("external_plugins",{processor:"object"}),se("forced_plugins",{processor:"string[]"}),se("model",{processor:"string",default:he.hasPlugin("rtc")?"plugin":"dom"}),se("model_url",{processor:"string"}),se("block_unsupported_drop",{processor:"boolean",default:!0}),se("visual",{processor:"boolean",default:!0}),se("visual_table_class",{processor:"string",default:"mce-item-table"}),se("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),se("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),se("setup",{processor:"function"}),se("init_instance_callback",{processor:"function"}),se("url_converter",{processor:"function",default:he.convertURL}),se("url_converter_scope",{processor:"object",default:he}),se("urlconverter_callback",{processor:"function"}),se("allow_conditional_comments",{processor:"boolean",default:!1}),se("allow_html_data_urls",{processor:"boolean",default:!1}),se("allow_svg_data_urls",{processor:"boolean"}),se("allow_html_in_named_anchor",{processor:"boolean",default:!1}),se("allow_script_urls",{processor:"boolean",default:!1}),se("allow_unsafe_link_target",{processor:"boolean",default:!1}),se("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),se("fix_list_elements",{processor:"boolean",default:!1}),se("preserve_cdata",{processor:"boolean",default:!1}),se("remove_trailing_brs",{processor:"boolean",default:!0}),se("pad_empty_with_br",{processor:"boolean",default:!1}),se("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),se("element_format",{processor:"string",default:"html"}),se("entities",{processor:"string"}),se("schema",{processor:"string",default:"html5"}),se("convert_urls",{processor:"boolean",default:!0}),se("relative_urls",{processor:"boolean",default:!0}),se("remove_script_host",{processor:"boolean",default:!0}),se("custom_elements",{processor:"string"}),se("extended_valid_elements",{processor:"string"}),se("invalid_elements",{processor:"string"}),se("invalid_styles",{processor:sb}),se("valid_children",{processor:"string"}),se("valid_classes",{processor:sb}),se("valid_elements",{processor:"string"}),se("valid_styles",{processor:sb}),se("verify_html",{processor:"boolean",default:!0}),se("auto_focus",{processor:xe=>ve(xe)||!0===xe}),se("browser_spellcheck",{processor:"boolean",default:!1}),se("protect",{processor:"array"}),se("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),se("deprecation_warnings",{processor:"boolean",default:!0}),se("a11y_advanced_options",{processor:"boolean",default:!1}),se("api_key",{processor:"string"}),se("paste_block_drop",{processor:"boolean",default:!1}),se("paste_data_images",{processor:"boolean",default:!0}),se("paste_preprocess",{processor:"function"}),se("paste_postprocess",{processor:"function"}),se("paste_webkit_styles",{processor:"string",default:"none"}),se("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),se("paste_merge_formats",{processor:"boolean",default:!0}),se("smart_paste",{processor:"boolean",default:!0}),se("paste_as_text",{processor:"boolean",default:!1}),se("paste_tab_spaces",{processor:"number",default:4}),se("text_patterns",{processor:xe=>wt(xe,Ne)||!1===xe?{value:CM(!1===xe?[]:xe),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),se("text_patterns_lookup",{processor:xe=>{return yt(xe)?{value:(ce=xe,Me=>{const He=ce(Me);return CM(He)}),valid:!0}:{valid:!1,message:"Must be a single function"};var ce},default:xe=>[]}),se("noneditable_class",{processor:"string",default:"mceNonEditable"}),se("editable_class",{processor:"string",default:"mceEditable"}),se("noneditable_regexp",{processor:xe=>wt(xe,ab)?{value:xe,valid:!0}:ab(xe)?{value:[xe],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),se("table_tab_navigation",{processor:"boolean",default:!0}),se("highlight_on_focus",{processor:"boolean",default:!1}),se("xss_sanitization",{processor:"boolean",default:!0}),se("details_initial_state",{processor:xe=>{const ce=Et(["inherited","collapsed","expanded"],xe);return ce?{value:xe,valid:ce}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),se("details_serialized_state",{processor:xe=>{const ce=Et(["inherited","collapsed","expanded"],xe);return ce?{value:xe,valid:ce}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),se("init_content_sync",{processor:"boolean",default:!1}),se("newdocument_content",{processor:"string",default:""}),se("force_hex_color",{processor:xe=>{const ce=["always","rgb_only","off"],Me=Et(ce,xe);return Me?{value:xe,valid:Me}:{valid:!1,message:`Must be one of: ${ce.join(", ")}.`}},default:"off"}),se("sandbox_iframes",{processor:"boolean",default:!1}),se("convert_unsafe_embeds",{processor:"boolean",default:!1}),he.on("ScriptsLoaded",()=>{se("directionality",{processor:"string",default:ee.isRtl()?"rtl":void 0}),se("placeholder",{processor:"string",default:ob.getAttrib(he.getElement(),"placeholder")})})})(b);const k=this.options.get;k("deprecation_warnings")&&((he,se)=>{((xe,ce)=>{const Me=(s=>{const c=xu(s,Y2),p=s.forced_root_block;return!1!==p&&""!==p||c.push("forced_root_block (false only)"),po(c)})(xe),He=(s=>ph(s,wD))(ce),Xe=He.length>0,pt=Me.length>0,ut="mobile"===ce.theme;if(Xe||pt||ut){const Rt="\n- ",Jt=ut?`\n\nThemes:${Rt}mobile`:"",rn=Xe?`\n\nPlugins:${Rt}${He.join(Rt)}`:"",sn=pt?`\n\nOptions:${Rt}${Me.join(Rt)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+Jt+rn+sn)}})(he,se),((xe,ce)=>{const Me=(s=>xu(s,dh))(xe),He=(s=>ph(s,G2.map(c=>c.name)))(ce),Xe=He.length>0,pt=Me.length>0;if(Xe||pt){const ut="\n- ",Rt=Xe?`\n\nPlugins:${ut}${He.map(n1).join(ut)}`:"",Jt=pt?`\n\nOptions:${ut}${Me.join(ut)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+Rt+Jt)}})(he,se)})(p,_);const D=k("suffix");D&&(m.suffix=D),this.suffix=m.suffix;const z=k("base_url");z&&m._setBaseUrl(z),this.baseUri=m.baseURI;const H=bw(b);H&&(A.ScriptLoader._setReferrerPolicy(H),E.DOM.styleSheetLoader._setReferrerPolicy(H));const X=qv(b);Ke(X)&&E.DOM.styleSheetLoader._setContentCssCors(X),le.languageLoad=k("language_load"),le.baseURL=m.baseURL,this.setDirty(!1),this.documentBaseURI=new yu(pw(b),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Sd(b),this.hasVisual=qO(b),this.shortcuts=new KA(this),this.editorCommands=new N_(this),(s=>{var c;(s=>{(c=>{const p=m=>()=>{Ht("left,center,right,justify".split(","),b=>{m!==b&&c.formatter.remove("align"+b)}),"none"!==m&&(c.formatter.toggle("align"+m,void 0),c.nodeChanged())};c.editorCommands.addCommands({JustifyLeft:p("left"),JustifyCenter:p("center"),JustifyRight:p("right"),JustifyFull:p("justify"),JustifyNone:p("none")})})(s),(c=>{const p=m=>()=>{const b=c.selection,_=b.isCollapsed()?[c.dom.getParent(b.getNode(),c.dom.isBlock)]:b.getSelectedBlocks();return xn(_,k=>Ke(c.formatter.matchNode(k,m)))};c.editorCommands.addCommands({JustifyLeft:p("alignleft"),JustifyCenter:p("aligncenter"),JustifyRight:p("alignright"),JustifyFull:p("alignjustify")},"state")})(s)})(s),(c=s).editorCommands.addCommands({"Cut,Copy,Paste":p=>{const m=c.getDoc();let b;try{m.execCommand(p)}catch{b=!0}if("paste"!==p||m.queryCommandEnabled(p)||(b=!0),b||!m.queryCommandSupported(p)){let _=c.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mi.os.isMacOS()||Mi.os.isiOS())&&(_=_.replace(/Ctrl\+/g,"\u2318+")),c.notificationManager.open({text:_,type:"error"})}}}),(c=>{c.editorCommands.addCommands({mceAddUndoLevel:()=>{c.undoManager.add()},mceEndUndoLevel:()=>{c.undoManager.add()},Undo:()=>{c.undoManager.undo()},Redo:()=>{c.undoManager.redo()}})})(s),(c=>{c.editorCommands.addCommands({mceSelectNodeDepth:(p,m,b)=>{let _=0;c.dom.getParent(c.selection.getNode(),k=>!pi(k)||_++!==b||(c.selection.select(k),!1),c.getBody())},mceSelectNode:(p,m,b)=>{c.selection.select(b)},selectAll:()=>{const p=c.dom.getParent(c.selection.getStart(),Ss);if(p){const m=c.dom.createRng();m.selectNodeContents(p),c.selection.setRng(m)}}})})(s),(c=>{c.editorCommands.addCommands({mceCleanup:()=>{const p=c.selection.getBookmark();c.setContent(c.getContent()),c.selection.moveToBookmark(p)},insertImage:(p,m,b)=>{H0(c,c.dom.createHTML("img",{src:b}))},insertHorizontalRule:()=>{c.execCommand("mceInsertContent",!1,"<hr>")},insertText:(p,m,b)=>{H0(c,c.dom.encode(b))},insertHTML:(p,m,b)=>{H0(c,b)},mceInsertContent:(p,m,b)=>{H0(c,b)},mceSetContent:(p,m,b)=>{c.setContent(b)},mceReplaceContent:(p,m,b)=>{c.execCommand("mceInsertContent",!1,b.replace(/\{\$selection\}/g,c.selection.getContent({format:"text"})))},mceNewDocument:()=>{c.setContent(QO(c))}})})(s),(c=>{const p=(m,b,_)=>{const k=ve(_)?{href:_}:_,D=c.dom.getParent(c.selection.getNode(),"a");Ne(k)&&ve(k.href)&&(k.href=k.href.replace(/ /g,"%20"),D&&k.href||c.formatter.remove("link"),k.href&&c.formatter.apply("link",k,D))};c.editorCommands.addCommands({unlink:()=>{if(c.selection.isEditable()){if(c.selection.isCollapsed()){const m=c.dom.getParent(c.selection.getStart(),"a");return void(m&&c.dom.remove(m,!0))}c.formatter.remove("link")}},mceInsertLink:p,createLink:p})})(s),(c=>{c.editorCommands.addCommands({Indent:()=>{SE(c,"indent")},Outdent:()=>{CE(c)}}),c.editorCommands.addCommands({Outdent:()=>xE(c)},"state")})(s),(c=>{c.editorCommands.addCommands({InsertNewBlockBefore:()=>{P_(c,!0)},InsertNewBlockAfter:()=>{P_(c,!1)}})})(s),(c=>{c.editorCommands.addCommands({insertParagraph:()=>{Q1(Jk,c)},mceInsertNewLine:(p,m,b)=>{oA(c,b)},InsertLineBreak:(p,m,b)=>{Q1(hI,c)}})})(s),(c=>{var p;(p=c).editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":m=>{p.getDoc().execCommand(m);const b=p.dom.getParent(p.selection.getNode(),"ol,ul");if(b){const _=b.parentNode;if(_&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(_.nodeName)){const k=p.selection.getBookmark();p.dom.split(_,b),p.selection.moveToBookmark(k)}}}}),(p=>{p.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":m=>{const b=p.dom.getParent(p.selection.getNode(),"ul,ol");return b&&("insertunorderedlist"===m&&"UL"===b.tagName||"insertorderedlist"===m&&"OL"===b.tagName)}},"state")})(c)})(s),(c=>{(p=>{const m=(b,_)=>{p.formatter.toggle(b,_),p.nodeChanged()};p.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":b=>{m(b)},"ForeColor,HiliteColor":(b,_,k)=>{m(b,{value:k})},BackColor:(b,_,k)=>{m("hilitecolor",{value:k})},FontName:(b,_,k)=>{((D,z)=>{const H=HA(D,z);D.formatter.toggle("fontname",{value:tO(H)}),D.nodeChanged()})(p,k)},FontSize:(b,_,k)=>{var D;(D=p).formatter.toggle("fontsize",{value:HA(D,k)}),D.nodeChanged()},LineHeight:(b,_,k)=>{var D;(D=p).formatter.toggle("lineheight",{value:String(k)}),D.nodeChanged()},Lang:(b,_,k)=>{var D;m(b,{value:k.code,customValue:null!==(D=k.customCode)&&void 0!==D?D:null})},RemoveFormat:b=>{p.formatter.remove(b)},mceBlockQuote:()=>{m("blockquote")},FormatBlock:(b,_,k)=>{m(ve(k)?k:"p")},mceToggleFormat:(b,_,k)=>{m(k)}})})(c),(p=>{const m=b=>p.formatter.match(b);p.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":b=>m(b),mceBlockQuote:()=>m("blockquote")},"state"),p.editorCommands.addQueryValueHandler("FontName",()=>{return L_(b=p,_=>VA(b.getBody(),_.dom)).getOr("");var b}),p.editorCommands.addQueryValueHandler("FontSize",()=>{return L_(b=p,_=>eO(b.getBody(),_.dom)).getOr("");var b}),p.editorCommands.addQueryValueHandler("LineHeight",()=>{return L_(b=p,_=>{const k=Yt(b.getBody());return xm(_,z=>Tu(z,"line-height"),It(Br,k)).getOrThunk(()=>{const z=parseFloat($s(_,"line-height")),H=parseFloat($s(_,"font-size"));return String(z/H)})}).getOr("");var b})})(c)})(s),(c=>{c.editorCommands.addCommands({mceRemoveNode:(p,m,b)=>{const _=b??c.selection.getNode();if(_!==c.getBody()){const k=c.selection.getBookmark();c.dom.remove(_,!0),c.selection.moveToBookmark(k)}},mcePrint:()=>{c.getWin().print()},mceFocus:(p,m,b)=>{var _;(_=c).removed||(!0===b?fS(_):(D=>{const z=D.selection,H=D.getBody();let X=z.getRng();D.quirks.refreshContentEditable(),Ke(D.bookmark)&&!Pf(D)&&hS(D).each(re=>{D.selection.setRng(re),X=re});const $=(re=D,he=z.getNode(),re.dom.getParent(he,se=>"true"===re.dom.getContentEditable(se)));var re,he;if($&&D.dom.isChildOf($,H))return ix($),yT(D,X),void fS(D);D.inline||(Mi.browser.isOpera()||ix(H),D.getWin().focus()),(Mi.browser.isFirefox()||D.inline)&&(ix(H),yT(D,X)),fS(D)})(_))},mceToggleVisualAid:()=>{c.hasVisual=!c.hasVisual,c.addVisual()}})})(s)})(this);const $=k("cache_suffix");$&&(Mi.cacheSuffix=$.replace(/^[\?\&]+/,"")),this.ui={registry:QA(),styleSheetLoader:void 0,show:lt,hide:lt,setEnabled:lt,isEnabled:pe},this.mode=(he=>{const se=P("design"),xe=P({design:{activate:lt,deactivate:lt,editorReadOnly:!1},readonly:{activate:lt,deactivate:lt,editorReadOnly:!0}});return(ce=he).serializer?R_(ce):ce.on("PreInit",()=>{R_(ce)}),(ce=>{ce.on("ShowCaret",Me=>{Ud(ce)&&Me.preventDefault()}),ce.on("ObjectSelected",Me=>{Ud(ce)&&Me.preventDefault()})})(he),{isReadOnly:()=>Ud(he),set:ce=>((Me,He,Xe,pt)=>{if(pt!==Xe.get()){if(!Gt(He,pt))throw new Error(`Editor mode '${pt}' is invalid`);Me.initialized?aO(Me,Xe,He,pt):Me.on("init",()=>aO(Me,Xe,He,pt))}})(he,xe.get(),se,ce),get:()=>se.get(),register:(ce,Me)=>{xe.set(((He,Xe,pt)=>{if(Et(oO,Xe))throw new Error(`Cannot override default mode ${Xe}`);return{...He,[Xe]:{...pt,deactivate:()=>{try{pt.deactivate()}catch(ut){console.error(`problem while deactivating editor mode ${Xe}:`,ut)}}}}})(xe.get(),ce,Me))}};var ce})(b),m.dispatch("SetupEditor",{editor:this});const re=gl(b);yt(re)&&re.call(b,b)}render(){(c=>{const p=c.id;ee.setCode(xw(c));const m=()=>{fg.unbind(window,"ready",m),c.render()};if(!Fl.Event.domLoaded)return void fg.bind(window,"ready",m);if(!c.getElement())return;const b=Yt(c.getElement()),_=Xl(b);var z;c.on("remove",()=>{On(b.dom.attributes,D=>Sa(b,D.name)),bs(b,_)}),c.ui.styleSheetLoader=_o.forElement(b,{contentCssCors:qv(z=c),referrerPolicy:bw(z)}),Sd(c)?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility="hidden");const k=c.getElement().form||fg.getParent(p,"form");k&&(c.formElement=k,Vg(c)&&!rf(c.getElement())&&(fg.insertAfter(fg.create("input",{type:"hidden",name:p}),p),c.hasHiddenInput=!0),c.formEventDelegate=D=>{c.dispatch(D.type,D)},fg.bind(k,"submit reset",c.formEventDelegate),c.on("reset",()=>{c.resetContent()}),!GO(c)||k.submit.nodeType||k.submit.length||k._mceOldSubmit||(k._mceOldSubmit=k.submit,k.submit=()=>(c.editorManager.triggerSave(),c.setDirty(!1),k._mceOldSubmit(k)))),c.windowManager=DC(c),c.notificationManager=OC(c),"xml"===c.options.get("encoding")&&c.on("GetContent",D=>{D.save&&(D.content=fg.encode(D.content))}),pl(c)&&c.on("submit",()=>{c.initialized&&c.save()}),BM(c)&&(c._beforeUnload=()=>{!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload)),c.editorManager.add(c),((s,c)=>{const p=A.ScriptLoader,m=()=>{!s.removed&&(b=>{const _=xf(b);return!ve(_)||Ke(Zf.get(_))})(s)&&(b=>{const _=hb(b);return Ke($f.get(_))})(s)&&kL(s)};((b,_)=>{const k=xf(b);if(ve(k)&&!I_(k)&&!Gt(Zf.urls,k)){const D=NM(b),z=D?b.documentBaseURI.toAbsolute(D):`themes/${k}/theme${_}.js`;Zf.load(k,z).catch(()=>{Zy(b,"ThemeLoadError",Pp("theme",z,k))})}})(s,c),((b,_)=>{const k=hb(b);if("plugin"!==k&&!Gt($f.urls,k)){const D=kw(b),z=ve(D)?b.documentBaseURI.toAbsolute(D):`models/${k}/model${_}.js`;$f.load(k,z).catch(()=>{Zy(b,"ModelLoadError",Pp("model",z,k))})}})(s,c),((b,_)=>{const k=xw(_),D=WO(_);if(!ee.hasCode(k)&&"en"!==k){const z=h(D)?D:`${_.editorManager.baseURL}/langs/${k}.js`;b.add(z).catch(()=>{Zy(_,"LanguageLoadError",Pp("language",z,k))})}})(p,s),((b,_,k)=>{const D=Xp(_,"default",k),z=(H=_,ue.from(el(H)).filter(h).map(X=>({url:X,name:ue.none()}))).orThunk(()=>Xp(_,EM(_),""));var H;Ht((H=>{const X=[],$=re=>{X.push(re)};for(let re=0;re<H.length;re++)H[re].each($);return X})([D,z]),H=>{b.add(H.url).catch(()=>{var X,$,re;X=_,$=H.url,re=H.name.getOrUndefined(),Zy(X,"IconsLoadError",Pp("icons",$,re))})})})(p,s,c),((b,_)=>{const k=(D,z)=>{jm.load(D,z).catch(()=>{Zy(b,"PluginLoadError",Pp("plugin",z,D))})};Ye(XO(b),(D,z)=>{k(z,D),b.options.set("plugins",db(b).concat(z))}),Ht(db(b),D=>{!(D=Dn.trim(D))||jm.urls[D]||I_(D)||k(D,`plugins/${D}/plugin${_}.js`)})})(s,c),p.loadQueue().then(m,m)})(c,c.suffix)})(this)}focus(c){this.execCommand("mceFocus",!1,c)}hasFocus(){return Pf(this)}translate(c){return ee.translate(c)}getParam(c,p,m){const b=this.options;return b.isRegistered(c)||(Ke(m)?b.register(c,{processor:m,default:p}):b.register(c,{processor:pe,default:p})),b.isSet(c)||Ae(p)?b.get(c):p}hasPlugin(c,p){return!(!Et(db(this),c)||p&&void 0===jm.get(c))}nodeChanged(c){this._nodeChangeDispatcher.nodeChanged(c)}addCommand(c,p,m){this.editorCommands.addCommand(c,p,m)}addQueryStateHandler(c,p,m){this.editorCommands.addQueryStateHandler(c,p,m)}addQueryValueHandler(c,p,m){this.editorCommands.addQueryValueHandler(c,p,m)}addShortcut(c,p,m,b){this.shortcuts.add(c,p,m,b)}execCommand(c,p,m,b){return this.editorCommands.execCommand(c,p,m,b)}queryCommandState(c){return this.editorCommands.queryCommandState(c)}queryCommandValue(c){return this.editorCommands.queryCommandValue(c)}queryCommandSupported(c){return this.editorCommands.queryCommandSupported(c)}show(){const c=this;c.hidden&&(c.hidden=!1,c.inline?c.getBody().contentEditable="true":(yg.show(c.getContainer()),yg.hide(c.id)),c.load(),c.dispatch("show"))}hide(){const c=this;c.hidden||(c.save(),c.inline?(c.getBody().contentEditable="false",c===c.editorManager.focusedEditor&&(c.editorManager.focusedEditor=null)):(yg.hide(c.getContainer()),yg.setStyle(c.id,"display",c.orgDisplay)),c.hidden=!0,c.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(c,p){this.dispatch("ProgressState",{state:c,time:p})}load(c={}){const p=this,m=p.getElement();if(p.removed)return"";if(m){const b={...c,load:!0},_=rf(m)?m.value:m.innerHTML,k=p.setContent(_,b);return b.no_events||p.dispatch("LoadContent",{...b,element:m}),k}return""}save(c={}){const p=this;let m=p.getElement();if(!m||!p.initialized||p.removed)return"";const b={...c,save:!0,element:m};let _=p.getContent(b);const k={...b,content:_};if(k.no_events||p.dispatch("SaveContent",k),"raw"===k.format&&p.dispatch("RawSaveContent",k),_=k.content,rf(m))m.value=_;else{!c.is_removing&&p.inline||(m.innerHTML=_);const D=yg.getParent(p.id,"form");D&&IL(D.elements,z=>z.name!==p.id||(z.value=_,!1))}return k.element=b.element=m=null,!1!==k.set_dirty&&p.setDirty(!1),_}setContent(c,p){return Wm(this,c,p)}getContent(c){return((p,m={})=>{const b=(_=m,k=m.format?m.format:"html",{..._,format:k,get:!0,getInner:!0});var _,k;return $x(p,b).fold(zt,_=>{const k=(z=_,t1(p).editor.getContent(z));var z;return P2(p,k,_)})})(this,c)}insertContent(c,p){p&&(c=cO({content:c},p)),this.execCommand("mceInsertContent",!1,c)}resetContent(c){void 0===c?Wm(this,this.startContent,{format:"raw"}):Wm(this,c),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(c){const p=!this.isNotDirty;this.isNotDirty=!c,c&&c!==p&&this.dispatch("dirty")}getContainer(){const c=this;return c.container||(c.container=c.editorContainer||yg.get(c.id+"_parent")),c.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=yg.get(this.id)),this.targetElm}getWin(){const c=this;if(!c.contentWindow){const p=c.iframeElement;p&&(c.contentWindow=p.contentWindow)}return c.contentWindow}getDoc(){const c=this;if(!c.contentDocument){const p=c.getWin();p&&(c.contentDocument=p.document)}return c.contentDocument}getBody(){var c,p;const m=this.getDoc();return null!==(p=null!==(c=this.bodyElement)&&void 0!==c?c:m?.body)&&void 0!==p?p:null}convertURL(c,p,m){const b=this,_=b.options.get,k=ml(b);if(yt(k))return k.call(b,c,m,!0,p);if(!_("convert_urls")||"link"===m||Ne(m)&&"LINK"===m.nodeName||0===c.indexOf("file:")||0===c.length)return c;const D=new yu(c);return"http"!==D.protocol&&"https"!==D.protocol&&""!==D.protocol?c:_("relative_urls")?b.documentBaseURI.toRelative(c):c=b.documentBaseURI.toAbsolute(c,_("remove_script_host"))}addVisual(c){((p,m)=>{var _;_=m,ya(this).editor.addVisual(_)})(0,c)}setEditableRoot(c){var p,m;(p=this)._editableRoot!==(m=c)&&(p._editableRoot=m,p.readonly||(p.getBody().contentEditable=String(p.hasEditableRoot()),p.nodeChanged()),p.dispatch("EditableRootStateChange",{state:m}))}hasEditableRoot(){return this._editableRoot}remove(){(c=>{if(!c.removed){const{_selectionOverrides:p,editorUpload:m}=c,b=c.getBody(),_=c.getElement();b&&c.save({is_removing:!0}),c.removed=!0,c.unbindAllNativeEvents(),c.hasHiddenInput&&Ke(_?.nextSibling)&&Gs.remove(_.nextSibling),c.dispatch("remove"),c.editorManager.remove(c),!c.inline&&b&&Gs.setStyle((k=c).id,"display",k.orgDisplay),(k=>{k.dispatch("detach")})(c),Gs.remove(c.getContainer()),$y(p),$y(m),c.destroy()}var k})(this)}destroy(c){((p,m)=>{const{selection:b,dom:_}=p;p.destroyed||(m||p.removed?(m||(p.editorManager.off("beforeunload",p._beforeUnload),p.theme&&p.theme.destroy&&p.theme.destroy(),$y(b),$y(_)),(k=>{const D=k.formElement;D&&(D._mceOldSubmit&&(D.submit=D._mceOldSubmit,delete D._mceOldSubmit),Gs.unbind(D,"submit reset",k.formEventDelegate))})(p),(k=>{const D=k;D.contentAreaContainer=D.formElement=D.container=D.editorContainer=null,D.bodyElement=D.contentDocument=D.contentWindow=null,D.iframeElement=D.targetElm=null;const z=k.selection;z&&(D.selection=z.win=z.dom=z.dom.doc=null)})(p),p.destroyed=!0):p.remove())})(this,c)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const kv=E.DOM,yh=Dn.each;let bg,$d=!1,wl=[];const H_=s=>{const c=s.type;yh($p.get(),p=>{switch(c){case"scroll":p.dispatch("ScrollWindow",s);break;case"resize":p.dispatch("ResizeWindow",s)}})},JA=s=>{if(s!==$d){const c=E.DOM;s?(c.bind(window,"resize",H_),c.bind(window,"scroll",H_)):(c.unbind(window,"resize",H_),c.unbind(window,"scroll",H_)),$d=s}},eM=s=>{const c=wl;return wl=En(wl,p=>s!==p),$p.activeEditor===s&&($p.activeEditor=wl.length>0?wl[0]:null),$p.focusedEditor===s&&($p.focusedEditor=null),c.length!==wl.length},OL="CSS1Compat"!==document.compatMode,$p={...z_,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.2",releaseDate:"2023-12-11",i18n:ee,activeEditor:null,focusedEditor:null,setup(){const s=this;let c="",p="",m=yu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"));const b=window.tinymce||window.tinyMCEPreInit;if(b)c=b.base||b.baseURL,p=b.suffix;else{const k=document.getElementsByTagName("script");for(let D=0;D<k.length;D++){const z=k[D].src||"";if(""===z)continue;const H=z.substring(z.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(z)){-1!==H.indexOf(".min")&&(p=".min"),c=z.substring(0,z.lastIndexOf("/"));break}}if(!c&&document.currentScript){const D=document.currentScript.src;-1!==D.indexOf(".min")&&(p=".min"),c=D.substring(0,D.lastIndexOf("/"))}}var _;s.baseURL=new yu(m).toAbsolute(c),s.documentBaseURL=m,s.baseURI=new yu(s.baseURL),s.suffix=p,(_=s).on("AddEditor",It(mT,_)),_.on("RemoveEditor",It(vT,_))},overrideDefaults(s){const c=s.base_url;c&&this._setBaseUrl(c);const p=s.suffix;p&&(this.suffix=p),this.defaultOptions=s;const m=s.plugin_base_urls;void 0!==m&&Ye(m,(b,_)=>{le.PluginManager.urls[_]=b})},init(s){const c=this;let p;const m=Dn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let b=k=>{p=k};const _=()=>{let k=0;const D=[];let z;var H;kv.unbind(window,"ready",_),(H=>{const X=s.onpageload;X&&X.apply(c,[])})(),z=((H,X)=>{const $=[],re=yt(X)?he=>xn($,se=>X(se,he)):he=>Et($,he);for(let he=0,se=H.length;he<se;he++){const xe=H[he];re(xe)||$.push(xe)}return $})((H=s,Mi.browser.isIE()||Mi.browser.isEdge()?(Kf("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):OL?(Kf("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ve(H.selector)?kv.select(H.selector):Ke(H.target)?[H.target]:[])),Dn.each(z,H=>{var X;(X=c.get(H.id))&&X.initialized&&!(X.getContainer()||X.getBody()).parentNode&&(eM(X),X.unbindAllNativeEvents(),X.destroy(!0),X.removed=!0)}),z=Dn.grep(z,H=>!c.get(H.id)),0===z.length?b([]):yh(z,H=>{s.inline&&H.tagName.toLowerCase()in m?Kf("Could not initialize inline editor on invalid inline target element",H):((X,$,re)=>{const he=new V_(X,$,c);D.push(he),he.on("init",()=>{++k===z.length&&b(D)}),he.targetElm=he.targetElm||re,he.render()})((X=>{let $=X.id;return $||($=Ft(X,"name").filter(re=>!kv.get(re)).getOrThunk(kv.uniqueId),X.setAttribute("id",$)),$})(H),s,H)})};return kv.bind(window,"ready",_),new Promise(k=>{p?k(p):b=D=>{k(D)}})},get(s){return 0===arguments.length?wl.slice(0):ve(s)?_n(wl,c=>c.id===s).getOr(null):Ot(s)&&wl[s]?wl[s]:null},add(s){const c=this,p=c.get(s.id);return p===s||(null===p&&wl.push(s),JA(!0),c.activeEditor=s,c.dispatch("AddEditor",{editor:s}),bg||(bg=m=>{const b=c.dispatch("BeforeUnload");if(b.returnValue)return m.preventDefault(),m.returnValue=b.returnValue,b.returnValue},window.addEventListener("beforeunload",bg))),s},createEditor(s,c){return this.add(new V_(s,c,this))},remove(s){const c=this;let p;if(s){if(!ve(s))return p=s,de(c.get(p.id))?null:(eM(p)&&c.dispatch("RemoveEditor",{editor:p}),0===wl.length&&window.removeEventListener("beforeunload",bg),p.remove(),JA(wl.length>0),p);yh(kv.select(s),m=>{p=c.get(m.id),p&&c.remove(p)})}else for(let m=wl.length-1;m>=0;m--)c.remove(wl[m])},execCommand(s,c,p){var m;const b=this,_=Ne(p)?null!==(m=p.id)&&void 0!==m?m:p.index:p;switch(s){case"mceAddEditor":return b.get(_)||new V_(_,p.options,b).render(),!0;case"mceRemoveEditor":{const k=b.get(_);return k&&k.remove(),!0}case"mceToggleEditor":{const k=b.get(_);return k?(k.isHidden()?k.show():k.hide(),!0):(b.execCommand("mceAddEditor",!1,p),!0)}}return!!b.activeEditor&&b.activeEditor.execCommand(s,c,p)},triggerSave:()=>{yh(wl,s=>{s.save()})},addI18n:(s,c)=>{ee.add(s,c)},translate:s=>ee.translate(s),setActive(s){const c=this.activeEditor;this.activeEditor!==s&&(c&&c.dispatch("deactivate",{relatedTarget:s}),s.dispatch("activate",{relatedTarget:c})),this.activeEditor=s},_setBaseUrl(s){this.baseURL=new yu(this.documentBaseURL).toAbsolute(s.replace(/\/+$/,"")),this.baseURI=new yu(this.baseURL)}};$p.setup();const DL=(()=>{const s=Be();return{FakeClipboardItem:c=>({items:c,types:Do(c),getType:p=>Ft(c,p).getOrUndefined()}),write:c=>{s.set(c)},read:()=>s.get().getOrUndefined(),clear:s.clear}})(),tM=Math.min,xg=Math.max,W_=Math.round,Av=(s,c,p)=>{let m=c.x,b=c.y;const _=s.w,k=s.h,D=c.w,z=c.h,H=(p||"").split("");return"b"===H[0]&&(b+=z),"r"===H[1]&&(m+=D),"c"===H[0]&&(b+=W_(z/2)),"c"===H[1]&&(m+=W_(D/2)),"b"===H[3]&&(b-=k),"r"===H[4]&&(m-=_),"c"===H[3]&&(b-=W_(k/2)),"c"===H[4]&&(m-=W_(_/2)),Mv(m,b,_,k)},Mv=(s,c,p,m)=>({x:s,y:c,w:p,h:m}),LL={inflate:(s,c,p)=>Mv(s.x-c,s.y-p,s.w+2*c,s.h+2*p),relativePosition:Av,findBestRelativePosition:(s,c,p,m)=>{for(let b=0;b<m.length;b++){const _=Av(s,c,m[b]);if(_.x>=p.x&&_.x+_.w<=p.w+p.x&&_.y>=p.y&&_.y+_.h<=p.h+p.y)return m[b]}return null},intersect:(s,c)=>{const p=xg(s.x,c.x),m=xg(s.y,c.y),b=tM(s.x+s.w,c.x+c.w),_=tM(s.y+s.h,c.y+c.h);return b-p<0||_-m<0?null:Mv(p,m,b-p,_-m)},clamp:(s,c,p)=>{let m=s.x,b=s.y,_=s.x+s.w,k=s.y+s.h;const D=c.x+c.w,z=c.y+c.h,H=xg(0,c.x-m),X=xg(0,c.y-b),$=xg(0,_-D),re=xg(0,k-z);return m+=H,b+=X,p&&(_+=H,k+=X,m-=$,b-=re),_-=$,k-=re,Mv(m,b,_-m,k-b)},create:Mv,fromClientRect:s=>Mv(s.left,s.top,s.width,s.height)},PL=(()=>{const s={},c={},p={};return{load:(m,b)=>{const _=`Script at URL "${b}" failed to load`,k=`Script at URL "${b}" did not call \`tinymce.Resource.add('${m}', data)\` within 1 second`;if(void 0!==s[m])return s[m];{const D=new Promise((z,H)=>{const X=(($,re,he=1e3)=>{let se=!1,xe=null;const ce=Xe=>(...pt)=>{se||(se=!0,null!==xe&&(clearTimeout(xe),xe=null),Xe.apply(null,pt))},Me=ce($),He=ce(re);return{start:(...Xe)=>{se||null!==xe||(xe=setTimeout(()=>He.apply(null,Xe),he))},resolve:Me,reject:He}})(z,H);c[m]=X.resolve,A.ScriptLoader.loadScript(b).then(()=>X.start(k),()=>X.reject(_))});return s[m]=D,D}},add:(m,b)=>{void 0!==c[m]&&(c[m](b),delete c[m]),s[m]=Promise.resolve(b),p[m]=b},has:m=>m in p,get:m=>p[m],unload:m=>{delete s[m]}}})();let G0;try{const s="__storage_test__";G0=window.localStorage,G0.setItem(s,s),G0.removeItem(s)}catch{G0=(()=>{let c={},p=[];const m={getItem:b=>c[b]||null,setItem:(b,_)=>{p.push(b),c[b]=String(_)},key:b=>p[b],removeItem:b=>{p=p.filter(_=>_===b),delete c[b]},clear:()=>{p=[],c={}},length:0};return Object.defineProperty(m,"length",{get:()=>p.length,configurable:!1,enumerable:!1}),m})()}const NL={geom:{Rect:LL},util:{Delay:lc,Tools:Dn,VK:vi,URI:yu,EventDispatcher:B_,Observable:z_,I18n:ee,LocalStorage:G0,ImageUploader:s=>{const c=a1(),p=NC(s,c);return{upload:(m,b=!0)=>p.upload(m,b?Q2(s):void 0)}}},dom:{EventUtils:Fl,TreeWalker:Jo,TextSeeker:_i,DOMUtils:E,ScriptLoader:A,RangeUtils:ah,Serializer:j2,StyleSheetLoader:Za,ControlSelection:Qw,BookmarkManager:Tf,Selection:Lp,Event:Fl.Event},html:{Styles:ru,Entities:nc,Node:Ys,Schema:Ks,DomParser:qh,Writer:CS,Serializer:Pd},Env:Mi,AddOnManager:le,Annotator:Uw,Formatter:zC,UndoManager:Rp,EditorCommands:N_,WindowManager:DC,NotificationManager:OC,EditorObservable:F_,Shortcuts:KA,Editor:V_,FocusManager:tx,EditorManager:$p,DOM:E.DOM,ScriptLoader:A.ScriptLoader,PluginManager:jm,ThemeManager:Zf,ModelManager:$f,IconManager:i1,Resource:PL,FakeClipboard:DL,trim:Dn.trim,isArray:Dn.isArray,is:Dn.is,toArray:Dn.toArray,makeMap:Dn.makeMap,each:Dn.each,map:Dn.map,grep:Dn.grep,inArray:Dn.inArray,extend:Dn.extend,walk:Dn.walk,resolve:Dn.resolve,explode:Dn.explode,_addCacheSuffix:Dn._addCacheSuffix},uO=Dn.extend($p,NL);(s=>{window.tinymce=s,window.tinyMCE=s})(uO),(s=>{if("object"==typeof module)try{module.exports=s}catch{}})(uO)}(),function(Kt){"object"==typeof exports&&typeof module<"u"?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).simpleDatatables=Kt()}(function(){return function it(Nt,nt,gt){function et(ge,we){if(!nt[ge]){if(!Nt[ge]){var ve="function"==typeof require&&require;if(!we&&ve)return ve(ge,!0);if(Ve)return Ve(ge,!0);var Ne=new Error("Cannot find module '"+ge+"'");throw Ne.code="MODULE_NOT_FOUND",Ne}var Ie=nt[ge]={exports:{}};Nt[ge][0].call(Ie.exports,function(Ce){return et(Nt[ge][1][Ce]||Ce)},Ie,Ie.exports,it,Nt,nt,gt)}return nt[ge].exports}for(var Ve="function"==typeof require&&require,ye=0;ye<gt.length;ye++)et(gt[ye]);return et}({1:[function(it,Nt,nt){(function(gt){(function(){"use strict";const et=Ye=>"[object Object]"===Object.prototype.toString.call(Ye),Ve=Ye=>{let Te=!1;try{Te=JSON.parse(Ye)}catch{return!1}return!(null===Te||!Array.isArray(Te)&&!et(Te))&&Te},ye=(Ye,Te)=>{const be=document.createElement(Ye);if(Te&&"object"==typeof Te)for(const at in Te)"html"===at?be.innerHTML=Te[at]:be.setAttribute(at,Te[at]);return be},ge=Ye=>["#text","#comment"].includes(Ye.nodeName)?Ye.data:Ye.childNodes?Ye.childNodes.map(Te=>ge(Te)).join(""):"",we=Ye=>null==Ye?"":Ye.hasOwnProperty("text")||Ye.hasOwnProperty("data")?Ye.text??we(Ye.data):Ye.hasOwnProperty("nodeName")?ge(Ye):String(Ye),ve=function(Ye){return Ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Ne=function(Ye,Te){let be=0,at=0;for(;be<Ye+1;)Te[at].hidden||(be+=1),at+=1;return at-1},Ie=function(Ye){const Te={};if(Ye)for(const be of Ye)Te[be.name]=be.value;return Te},Ce=Ye=>Ye?Ye.trim().split(" ").map(Te=>`.${Te}`).join(""):null,de=(Ye,Te)=>!Te?.split(" ").some(at=>!Ye.classList.contains(at)),ot=(Ye,Te)=>Ye?Te?`${Ye} ${Te}`:Ye:Te||"";var Ae=function(){function Ye(Te){var be=this;void 0===Te&&(Te={}),Object.entries(Te).forEach(function(at){return be[at[0]]=at[1]})}return Ye.prototype.toString=function(){return JSON.stringify(this)},Ye.prototype.setValue=function(Te,be){return this[Te]=be,this},Ye}();function je(Ye){for(var Te=arguments,be=[],at=1;at<arguments.length;at++)be[at-1]=Te[at];return null!=Ye&&be.some(function(bt){var Pt,ft;return"function"==typeof(null===(ft=null===(Pt=Ye?.ownerDocument)||void 0===Pt?void 0:Pt.defaultView)||void 0===ft?void 0:ft[bt])&&Ye instanceof Ye.ownerDocument.defaultView[bt]})}function Ke(Ye,Te,be){var at;return"#text"===Ye.nodeName?at=be.document.createTextNode(Ye.data):"#comment"===Ye.nodeName?at=be.document.createComment(Ye.data):(Te?at=be.document.createElementNS("http://www.w3.org/2000/svg",Ye.nodeName):"svg"===Ye.nodeName.toLowerCase()?(at=be.document.createElementNS("http://www.w3.org/2000/svg","svg"),Te=!0):at=be.document.createElement(Ye.nodeName),Ye.attributes&&Object.entries(Ye.attributes).forEach(function(bt){return at.setAttribute(bt[0],bt[1])}),Ye.childNodes&&Ye.childNodes.forEach(function(bt){return at.appendChild(Ke(bt,Te,be))}),be.valueDiffing&&(Ye.value&&je(at,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(at.value=Ye.value),Ye.checked&&je(at,"HTMLInputElement")&&(at.checked=Ye.checked),Ye.selected&&je(at,"HTMLOptionElement")&&(at.selected=Ye.selected))),at}var yt=function(Ye,Te){for(Te=Te.slice();Te.length>0;){var be=Te.splice(0,1)[0];Ye=Ye.childNodes[be]}return Ye};function Ot(Ye,Te,be){var at,bt,Pt,ft=Te[be._const.action],At=Te[be._const.route];[be._const.addElement,be._const.addTextElement].includes(ft)||(at=yt(Ye,At));var Ft={diff:Te,node:at};if(be.preDiffApply(Ft))return!0;switch(ft){case be._const.addAttribute:if(!at||!je(at,"Element"))return!1;at.setAttribute(Te[be._const.name],Te[be._const.value]);break;case be._const.modifyAttribute:if(!at||!je(at,"Element"))return!1;at.setAttribute(Te[be._const.name],Te[be._const.newValue]),je(at,"HTMLInputElement")&&"value"===Te[be._const.name]&&(at.value=Te[be._const.newValue]);break;case be._const.removeAttribute:if(!at||!je(at,"Element"))return!1;at.removeAttribute(Te[be._const.name]);break;case be._const.modifyTextElement:if(!at||!je(at,"Text"))return!1;be.textDiff(at,at.data,Te[be._const.oldValue],Te[be._const.newValue]),je(at.parentNode,"HTMLTextAreaElement")&&(at.parentNode.value=Te[be._const.newValue]);break;case be._const.modifyValue:if(!at||void 0===at.value)return!1;at.value=Te[be._const.newValue];break;case be._const.modifyComment:if(!at||!je(at,"Comment"))return!1;be.textDiff(at,at.data,Te[be._const.oldValue],Te[be._const.newValue]);break;case be._const.modifyChecked:if(!at||void 0===at.checked)return!1;at.checked=Te[be._const.newValue];break;case be._const.modifySelected:if(!at||void 0===at.selected)return!1;at.selected=Te[be._const.newValue];break;case be._const.replaceElement:var Gt="svg"===Te[be._const.newValue].nodeName.toLowerCase()||"http://www.w3.org/2000/svg"===at.parentNode.namespaceURI;at.parentNode.replaceChild(Ke(Te[be._const.newValue],Gt,be),at);break;case be._const.relocateGroup:Array.apply(void 0,new Array(Te[be._const.groupLength])).map(function(){return at.removeChild(at.childNodes[Te[be._const.from]])}).forEach(function(Qn,ti){0===ti&&(Pt=at.childNodes[Te[be._const.to]]),at.insertBefore(Qn,Pt||null)});break;case be._const.removeElement:at.parentNode.removeChild(at);break;case be._const.addElement:var zn=(ei=At.slice()).splice(ei.length-1,1)[0];if(!je(at=yt(Ye,ei),"Element"))return!1;at.insertBefore(Ke(Te[be._const.element],"http://www.w3.org/2000/svg"===at.namespaceURI,be),at.childNodes[zn]||null);break;case be._const.removeTextElement:if(!at||3!==at.nodeType)return!1;var Xn=at.parentNode;Xn.removeChild(at),je(Xn,"HTMLTextAreaElement")&&(Xn.value="");break;case be._const.addTextElement:var ei;if(zn=(ei=At.slice()).splice(ei.length-1,1)[0],bt=be.document.createTextNode(Te[be._const.value]),!(at=yt(Ye,ei)).childNodes)return!1;at.insertBefore(bt,at.childNodes[zn]||null),je(at.parentNode,"HTMLTextAreaElement")&&(at.parentNode.value=Te[be._const.value]);break;default:console.log("unknown action")}return be.postDiffApply({diff:Ft.diff,node:Ft.node,newNode:bt}),!0}function wt(Ye,Te,be){var at=Ye[Te];Ye[Te]=Ye[be],Ye[be]=at}var $e=function(){return $e=Object.assign||function(Ye){for(var Te,be=arguments,at=1,bt=arguments.length;at<bt;at++)for(var Pt in Te=be[at])Object.prototype.hasOwnProperty.call(Te,Pt)&&(Ye[Pt]=Te[Pt]);return Ye},$e.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Qe=function(Ye){var Te=[];return Te.push(Ye.nodeName),"#text"!==Ye.nodeName&&"#comment"!==Ye.nodeName&&Ye.attributes&&(Ye.attributes.class&&Te.push("".concat(Ye.nodeName,".").concat(Ye.attributes.class.replace(/ /g,"."))),Ye.attributes.id&&Te.push("".concat(Ye.nodeName,"#").concat(Ye.attributes.id))),Te},rt=function(Ye){var Te={},be={};return Ye.forEach(function(at){Qe(at).forEach(function(bt){var Pt=bt in Te;Pt||bt in be?Pt&&(delete Te[bt],be[bt]=!0):Te[bt]=!0})}),Te},zt=function(Ye,Te){var be=rt(Ye),at=rt(Te),bt={};return Object.keys(be).forEach(function(Pt){at[Pt]&&(bt[Pt]=!0)}),bt},_t=function(Ye){return delete Ye.outerDone,delete Ye.innerDone,delete Ye.valueDone,!Ye.childNodes||Ye.childNodes.every(_t)},It=function(Ye){if(Object.prototype.hasOwnProperty.call(Ye,"data"))return{nodeName:"#text"===Ye.nodeName?"#text":"#comment",data:Ye.data};var Te={nodeName:Ye.nodeName};return Object.prototype.hasOwnProperty.call(Ye,"attributes")&&(Te.attributes=$e({},Ye.attributes)),Object.prototype.hasOwnProperty.call(Ye,"checked")&&(Te.checked=Ye.checked),Object.prototype.hasOwnProperty.call(Ye,"value")&&(Te.value=Ye.value),Object.prototype.hasOwnProperty.call(Ye,"selected")&&(Te.selected=Ye.selected),Object.prototype.hasOwnProperty.call(Ye,"childNodes")&&(Te.childNodes=Ye.childNodes.map(function(be){return It(be)})),Te},Hn=function(Ye,Te){if(!["nodeName","value","checked","selected","data"].every(function(bt){return Ye[bt]===Te[bt]}))return!1;if(Object.prototype.hasOwnProperty.call(Ye,"data"))return!0;if(Boolean(Ye.attributes)!==Boolean(Te.attributes)||Boolean(Ye.childNodes)!==Boolean(Te.childNodes))return!1;if(Ye.attributes){var be=Object.keys(Ye.attributes),at=Object.keys(Te.attributes);if(be.length!==at.length||!be.every(function(bt){return Ye.attributes[bt]===Te.attributes[bt]}))return!1}return!(Ye.childNodes&&(Ye.childNodes.length!==Te.childNodes.length||!Ye.childNodes.every(function(bt,Pt){return Hn(bt,Te.childNodes[Pt])})))},hn=function(Ye,Te,be,at,bt){if(void 0===bt&&(bt=!1),!Ye||!Te||Ye.nodeName!==Te.nodeName)return!1;if(["#text","#comment"].includes(Ye.nodeName))return!!bt||Ye.data===Te.data;if(Ye.nodeName in be)return!0;if(Ye.attributes&&Te.attributes){if(Ye.attributes.id){if(Ye.attributes.id!==Te.attributes.id)return!1;if("".concat(Ye.nodeName,"#").concat(Ye.attributes.id)in be)return!0}if(Ye.attributes.class&&Ye.attributes.class===Te.attributes.class&&"".concat(Ye.nodeName,".").concat(Ye.attributes.class.replace(/ /g,"."))in be)return!0}if(at)return!0;var Pt=Ye.childNodes?Ye.childNodes.slice().reverse():[],ft=Te.childNodes?Te.childNodes.slice().reverse():[];if(Pt.length!==ft.length)return!1;if(bt)return Pt.every(function(Ft,Gt){return Ft.nodeName===ft[Gt].nodeName});var At=zt(Pt,ft);return Pt.every(function(Ft,Gt){return hn(Ft,ft[Gt],At,!0,!0)})},pn=function(Ye,Te){return Array.apply(void 0,new Array(Ye)).map(function(){return Te})},Vt=function(){function Ye(){this.list=[]}return Ye.prototype.add=function(Te){var be;(be=this.list).push.apply(be,Te)},Ye.prototype.forEach=function(Te){this.list.forEach(function(be){return Te(be)})},Ye}();function pe(Ye,Te){var be,at,bt=Ye;for(Te=Te.slice();Te.length>0;)at=Te.splice(0,1)[0],be=bt,bt=bt.childNodes?bt.childNodes[at]:void 0;return{node:bt,parentNode:be,nodeIndex:at}}function ue(Ye,Te,be){return Te.forEach(function(at){!function(bt,Pt,ft){var At,Ft,Gt,zn;if(![ft._const.addElement,ft._const.addTextElement].includes(Pt[ft._const.action])){var Xn=pe(bt,Pt[ft._const.route]);Ft=Xn.node,Gt=Xn.parentNode,zn=Xn.nodeIndex}var ei,Qn,ti=[],Qi={diff:Pt,node:Ft};if(ft.preVirtualDiffApply(Qi))return!0;switch(Pt[ft._const.action]){case ft._const.addAttribute:Ft.attributes||(Ft.attributes={}),Ft.attributes[Pt[ft._const.name]]=Pt[ft._const.value],"checked"===Pt[ft._const.name]?Ft.checked=!0:"selected"===Pt[ft._const.name]?Ft.selected=!0:"INPUT"===Ft.nodeName&&"value"===Pt[ft._const.name]&&(Ft.value=Pt[ft._const.value]);break;case ft._const.modifyAttribute:Ft.attributes[Pt[ft._const.name]]=Pt[ft._const.newValue];break;case ft._const.removeAttribute:delete Ft.attributes[Pt[ft._const.name]],0===Object.keys(Ft.attributes).length&&delete Ft.attributes,"checked"===Pt[ft._const.name]?Ft.checked=!1:"selected"===Pt[ft._const.name]?delete Ft.selected:"INPUT"===Ft.nodeName&&"value"===Pt[ft._const.name]&&delete Ft.value;break;case ft._const.modifyTextElement:Ft.data=Pt[ft._const.newValue],"TEXTAREA"===Gt.nodeName&&(Gt.value=Pt[ft._const.newValue]);break;case ft._const.modifyValue:Ft.value=Pt[ft._const.newValue];break;case ft._const.modifyComment:Ft.data=Pt[ft._const.newValue];break;case ft._const.modifyChecked:Ft.checked=Pt[ft._const.newValue];break;case ft._const.modifySelected:Ft.selected=Pt[ft._const.newValue];break;case ft._const.replaceElement:ei=It(Pt[ft._const.newValue]),Gt.childNodes[zn]=ei;break;case ft._const.relocateGroup:Ft.childNodes.splice(Pt[ft._const.from],Pt[ft._const.groupLength]).reverse().forEach(function(Vn){return Ft.childNodes.splice(Pt[ft._const.to],0,Vn)}),Ft.subsets&&Ft.subsets.forEach(function(Vn){if(Pt[ft._const.from]<Pt[ft._const.to]&&Vn.oldValue<=Pt[ft._const.to]&&Vn.oldValue>Pt[ft._const.from])Vn.oldValue-=Pt[ft._const.groupLength],(Li=Vn.oldValue+Vn.length-Pt[ft._const.to])>0&&(ti.push({oldValue:Pt[ft._const.to]+Pt[ft._const.groupLength],newValue:Vn.newValue+Vn.length-Li,length:Li}),Vn.length-=Li);else if(Pt[ft._const.from]>Pt[ft._const.to]&&Vn.oldValue>Pt[ft._const.to]&&Vn.oldValue<Pt[ft._const.from]){var Li;Vn.oldValue+=Pt[ft._const.groupLength],(Li=Vn.oldValue+Vn.length-Pt[ft._const.to])>0&&(ti.push({oldValue:Pt[ft._const.to]+Pt[ft._const.groupLength],newValue:Vn.newValue+Vn.length-Li,length:Li}),Vn.length-=Li)}else Vn.oldValue===Pt[ft._const.from]&&(Vn.oldValue=Pt[ft._const.to])});break;case ft._const.removeElement:Gt.childNodes.splice(zn,1),Gt.subsets&&Gt.subsets.forEach(function(Vn){Vn.oldValue>zn?Vn.oldValue-=1:Vn.oldValue===zn?Vn.delete=!0:Vn.oldValue<zn&&Vn.oldValue+Vn.length>zn&&(Vn.oldValue+Vn.length-1===zn?Vn.length--:(ti.push({newValue:Vn.newValue+zn-Vn.oldValue,oldValue:zn,length:Vn.length-zn+Vn.oldValue-1}),Vn.length=zn-Vn.oldValue))}),Ft=Gt;break;case ft._const.addElement:var Ui=(Qn=Pt[ft._const.route].slice()).splice(Qn.length-1,1)[0];Ft=null===(At=pe(bt,Qn))||void 0===At?void 0:At.node,ei=It(Pt[ft._const.element]),Ft.childNodes||(Ft.childNodes=[]),Ui>=Ft.childNodes.length?Ft.childNodes.push(ei):Ft.childNodes.splice(Ui,0,ei),Ft.subsets&&Ft.subsets.forEach(function(Vn){if(Vn.oldValue>=Ui)Vn.oldValue+=1;else if(Vn.oldValue<Ui&&Vn.oldValue+Vn.length>Ui){var Li=Vn.oldValue+Vn.length-Ui;ti.push({newValue:Vn.newValue+Vn.length-Li,oldValue:Ui+1,length:Li}),Vn.length-=Li}});break;case ft._const.removeTextElement:Gt.childNodes.splice(zn,1),"TEXTAREA"===Gt.nodeName&&delete Gt.value,Gt.subsets&&Gt.subsets.forEach(function(Vn){Vn.oldValue>zn?Vn.oldValue-=1:Vn.oldValue===zn?Vn.delete=!0:Vn.oldValue<zn&&Vn.oldValue+Vn.length>zn&&(Vn.oldValue+Vn.length-1===zn?Vn.length--:(ti.push({newValue:Vn.newValue+zn-Vn.oldValue,oldValue:zn,length:Vn.length-zn+Vn.oldValue-1}),Vn.length=zn-Vn.oldValue))}),Ft=Gt;break;case ft._const.addTextElement:var gr=(Qn=Pt[ft._const.route].slice()).splice(Qn.length-1,1)[0];ei={nodeName:"#text",data:Pt[ft._const.value]},(Ft=pe(bt,Qn).node).childNodes||(Ft.childNodes=[]),gr>=Ft.childNodes.length?Ft.childNodes.push(ei):Ft.childNodes.splice(gr,0,ei),"TEXTAREA"===Ft.nodeName&&(Ft.value=Pt[ft._const.newValue]),Ft.subsets&&Ft.subsets.forEach(function(Vn){if(Vn.oldValue>=gr&&(Vn.oldValue+=1),Vn.oldValue<gr&&Vn.oldValue+Vn.length>gr){var Li=Vn.oldValue+Vn.length-gr;ti.push({newValue:Vn.newValue+Vn.length-Li,oldValue:gr+1,length:Li}),Vn.length-=Li}});break;default:console.log("unknown action")}Ft.subsets&&(Ft.subsets=Ft.subsets.filter(function(Vn){return!Vn.delete&&Vn.oldValue!==Vn.newValue}),ti.length&&(Ft.subsets=Ft.subsets.concat(ti))),ft.postVirtualDiffApply({node:Qi.node,diff:Qi.diff,newNode:ei})}(Ye,at,be)}),!0}function ln(Ye,Te){void 0===Te&&(Te={valueDiffing:!0});var be={nodeName:Ye.nodeName};return je(Ye,"Text","Comment")?be.data=Ye.data:(Ye.attributes&&Ye.attributes.length>0&&(be.attributes={},Array.prototype.slice.call(Ye.attributes).forEach(function(at){return be.attributes[at.name]=at.value})),Ye.childNodes&&Ye.childNodes.length>0&&(be.childNodes=[],Array.prototype.slice.call(Ye.childNodes).forEach(function(at){return be.childNodes.push(ln(at,Te))})),Te.valueDiffing&&(je(Ye,"HTMLTextAreaElement")&&(be.value=Ye.value),je(Ye,"HTMLInputElement")&&["radio","checkbox"].includes(Ye.type.toLowerCase())&&void 0!==Ye.checked?be.checked=Ye.checked:je(Ye,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(be.value=Ye.value),je(Ye,"HTMLOptionElement")&&(be.selected=Ye.selected))),be}var on=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,jt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Zt(Ye){return Ye.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var Et={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},xn=function(Ye,Te){var be={nodeName:"",attributes:{}},at=!1,bt=Ye.match(/<\/?([^\s]+?)[/\s>]/);if(bt&&(be.nodeName=Te||"svg"===bt[1]?bt[1]:bt[1].toUpperCase(),(Et[bt[1]]||"/"===Ye.charAt(Ye.length-2))&&(at=!0),be.nodeName.startsWith("!--"))){var Pt=Ye.indexOf("--\x3e");return{type:"comment",node:{nodeName:"#comment",data:-1!==Pt?Ye.slice(4,Pt):""},voidElement:at}}for(var ft=new RegExp(jt),At=null,Ft=!1;!Ft;)if(null===(At=ft.exec(Ye)))Ft=!0;else if(At[0].trim())if(At[1]){var Gt=At[1].trim(),zn=[Gt,""];Gt.indexOf("=")>-1&&(zn=Gt.split("=")),be.attributes[zn[0]]=zn[1],ft.lastIndex--}else At[2]&&(be.attributes[At[2]]=At[3].trim().substring(1,At[3].length-1));return{type:"tag",node:be,voidElement:at}},Bt=function(Ye,Te){void 0===Te&&(Te={valueDiffing:!0,caseSensitive:!1});var be,at=[],bt=-1,Pt=[],ft=!1;if(0!==Ye.indexOf("<")){var At=Ye.indexOf("<");at.push({nodeName:"#text",data:-1===At?Ye:Ye.substring(0,At)})}return Ye.replace(on,function(Ft,Gt){var zn="/"!==Ft.charAt(1),Xn=Ft.startsWith("\x3c!--"),ei=Gt+Ft.length,Qn=Ye.charAt(ei);if(Xn){var ti=xn(Ft,Te.caseSensitive).node;if(bt<0)return at.push(ti),"";var Qi=Pt[bt];return Qi&&ti.nodeName&&(Qi.node.childNodes||(Qi.node.childNodes=[]),Qi.node.childNodes.push(ti)),""}if(zn){if("svg"===(be=xn(Ft,Te.caseSensitive||ft)).node.nodeName&&(ft=!0),bt++,!be.voidElement&&Qn&&"<"!==Qn){be.node.childNodes||(be.node.childNodes=[]);var Ui=Zt(Ye.slice(ei,Ye.indexOf("<",ei)));be.node.childNodes.push({nodeName:"#text",data:Ui}),Te.valueDiffing&&"TEXTAREA"===be.node.nodeName&&(be.node.value=Ui)}0===bt&&be.node.nodeName&&at.push(be.node);var gr=Pt[bt-1];gr&&be.node.nodeName&&(gr.node.childNodes||(gr.node.childNodes=[]),gr.node.childNodes.push(be.node)),Pt[bt]=be}if((!zn||be.voidElement)&&(bt>-1&&(be.voidElement||Te.caseSensitive&&be.node.nodeName===Ft.slice(2,-1)||!Te.caseSensitive&&be.node.nodeName.toUpperCase()===Ft.slice(2,-1).toUpperCase())&&--bt>-1&&("svg"===be.node.nodeName&&(ft=!1),be=Pt[bt]),"<"!==Qn&&Qn)){var Vn=-1===bt?at:Pt[bt].node.childNodes||[],Li=Ye.indexOf("<",ei);Ui=Zt(Ye.slice(ei,-1===Li?void 0:Li)),Vn.push({nodeName:"#text",data:Ui})}return""}),at[0]},Ht=function(){function Ye(Te,be,at){this.options=at,this.t1=typeof Element<"u"&&je(Te,"Element")?ln(Te,this.options):"string"==typeof Te?Bt(Te,this.options):JSON.parse(JSON.stringify(Te)),this.t2=typeof Element<"u"&&je(be,"Element")?ln(be,this.options):"string"==typeof be?Bt(be,this.options):JSON.parse(JSON.stringify(be)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&je(Te,"Element")?ln(Te,this.options):"string"==typeof Te?Bt(Te,this.options):JSON.parse(JSON.stringify(Te)),this.t2Orig=typeof Element<"u"&&je(be,"Element")?ln(be,this.options):"string"==typeof be?Bt(be,this.options):JSON.parse(JSON.stringify(be))),this.tracker=new Vt}return Ye.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},Ye.prototype.findDiffs=function(Te,be){var at;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));0===(at=this.findNextDiff(Te,be,[])).length&&(Hn(Te,be)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,_t(Te),at=this.findNextDiff(Te,be,[])))),at.length>0&&(this.foundAll=!1,this.tracker.add(at),ue(Te,at,this.options))}while(at.length>0);return this.tracker.list},Ye.prototype.findNextDiff=function(Te,be,at){var bt,Pt;if(this.options.maxDepth&&at.length>this.options.maxDepth)return[];if(!Te.outerDone){if(bt=this.findOuterDiff(Te,be,at),this.options.filterOuterDiff&&(Pt=this.options.filterOuterDiff(Te,be,bt))&&(bt=Pt),bt.length>0)return Te.outerDone=!0,bt;Te.outerDone=!0}if(Object.prototype.hasOwnProperty.call(Te,"data"))return[];if(!Te.innerDone){if((bt=this.findInnerDiff(Te,be,at)).length>0)return bt;Te.innerDone=!0}if(this.options.valueDiffing&&!Te.valueDone){if((bt=this.findValueDiff(Te,be,at)).length>0)return Te.valueDone=!0,bt;Te.valueDone=!0}return[]},Ye.prototype.findOuterDiff=function(Te,be,at){var bt,Pt,ft,At,Ft,Gt,zn=[];if(Te.nodeName!==be.nodeName){if(!at.length)throw new Error("Top level nodes have to be of the same kind.");return[(new Ae).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,It(Te)).setValue(this.options._const.newValue,It(be)).setValue(this.options._const.route,at)]}if(at.length&&this.options.diffcap<Math.abs((Te.childNodes||[]).length-(be.childNodes||[]).length))return[(new Ae).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,It(Te)).setValue(this.options._const.newValue,It(be)).setValue(this.options._const.route,at)];if(Object.prototype.hasOwnProperty.call(Te,"data")&&Te.data!==be.data)return"#text"===Te.nodeName?[(new Ae).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,at).setValue(this.options._const.oldValue,Te.data).setValue(this.options._const.newValue,be.data)]:[(new Ae).setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,at).setValue(this.options._const.oldValue,Te.data).setValue(this.options._const.newValue,be.data)];for(Pt=Te.attributes?Object.keys(Te.attributes).sort():[],ft=be.attributes?Object.keys(be.attributes).sort():[],At=Pt.length,Gt=0;Gt<At;Gt++)-1===(Ft=ft.indexOf(bt=Pt[Gt]))?zn.push((new Ae).setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,at).setValue(this.options._const.name,bt).setValue(this.options._const.value,Te.attributes[bt])):(ft.splice(Ft,1),Te.attributes[bt]!==be.attributes[bt]&&zn.push((new Ae).setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,at).setValue(this.options._const.name,bt).setValue(this.options._const.oldValue,Te.attributes[bt]).setValue(this.options._const.newValue,be.attributes[bt])));for(At=ft.length,Gt=0;Gt<At;Gt++)bt=ft[Gt],zn.push((new Ae).setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,at).setValue(this.options._const.name,bt).setValue(this.options._const.value,be.attributes[bt]));return zn},Ye.prototype.findInnerDiff=function(Te,be,at){var bt=Te.childNodes?Te.childNodes.slice():[],Pt=be.childNodes?be.childNodes.slice():[],ft=Math.max(bt.length,Pt.length),At=Math.abs(bt.length-Pt.length),Ft=[],Gt=0;if(!this.options.maxChildCount||ft<this.options.maxChildCount){var zn=Boolean(Te.subsets&&Te.subsetsAge--),Xn=zn?Te.subsets:Te.childNodes&&be.childNodes?function(Ye,Te){for(var be=Ye.childNodes?Ye.childNodes:[],at=Te.childNodes?Te.childNodes:[],bt=pn(be.length,!1),Pt=pn(at.length,!1),ft=[],At=function(){return arguments[1]},Ft=!1,Gt=function(){var zn=function(Xn,ei,Qn,ti){var Qi=0,Ui=[],gr=Xn.length,Vn=ei.length,Li=Array.apply(void 0,new Array(gr+1)).map(function(){return[]}),Ir=zt(Xn,ei),wr=gr===Vn;wr&&Xn.some(function(Yr,Sr){var Fn=Qe(Yr),ni=Qe(ei[Sr]);return Fn.length!==ni.length?(wr=!1,!0):(Fn.some(function(Jn,fi){if(Jn!==ni[fi])return wr=!1,!0}),!wr||void 0)});for(var tr=0;tr<gr;tr++)for(var Rr=Xn[tr],or=0;or<Vn;or++)Qn[tr]||ti[or]||!hn(Rr,ei[or],Ir,wr)?Li[tr+1][or+1]=0:(Li[tr+1][or+1]=Li[tr][or]?Li[tr][or]+1:1,Li[tr+1][or+1]>=Qi&&(Qi=Li[tr+1][or+1],Ui=[tr+1,or+1]));return 0!==Qi&&{oldValue:Ui[0]-Qi,newValue:Ui[1]-Qi,length:Qi}}(be,at,bt,Pt);zn?(ft.push(zn),Array.apply(void 0,new Array(zn.length)).map(At).forEach(function(Xn){return Qn=Pt,bt[(ti=zn).oldValue+(Qi=Xn)]=!0,void(Qn[ti.newValue+Qi]=!0);var Qn,ti,Qi})):Ft=!0};!Ft;)Gt();return Ye.subsets=ft,Ye.subsetsAge=100,ft}(Te,be):[];if(Xn.length>0&&(Ft=this.attemptGroupRelocation(Te,be,Xn,at,zn)).length>0)return Ft}for(var ei=0;ei<ft;ei+=1){var Qn=bt[ei],ti=Pt[ei];At&&(Qn&&!ti?"#text"===Qn.nodeName?(Ft.push((new Ae).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,at.concat(Gt)).setValue(this.options._const.value,Qn.data)),Gt-=1):(Ft.push((new Ae).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,at.concat(Gt)).setValue(this.options._const.element,It(Qn))),Gt-=1):ti&&!Qn&&Ft.push("#text"===ti.nodeName?(new Ae).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,at.concat(Gt)).setValue(this.options._const.value,ti.data):(new Ae).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,at.concat(Gt)).setValue(this.options._const.element,It(ti)))),Qn&&ti&&(!this.options.maxChildCount||ft<this.options.maxChildCount?Ft=Ft.concat(this.findNextDiff(Qn,ti,at.concat(Gt))):Hn(Qn,ti)||(bt.length>Pt.length?(Ft.push("#text"===Qn.nodeName?(new Ae).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,at.concat(Gt)).setValue(this.options._const.value,Qn.data):(new Ae).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,It(Qn)).setValue(this.options._const.route,at.concat(Gt))),bt.splice(ei,1),ei-=1,Gt-=1,At-=1):bt.length<Pt.length?(Ft=Ft.concat([(new Ae).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,It(ti)).setValue(this.options._const.route,at.concat(Gt))]),bt.splice(ei,0,It(ti)),At-=1):Ft=Ft.concat([(new Ae).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,It(Qn)).setValue(this.options._const.newValue,It(ti)).setValue(this.options._const.route,at.concat(Gt))]))),Gt+=1}return Te.innerDone=!0,Ft},Ye.prototype.attemptGroupRelocation=function(Te,be,at,bt,Pt){for(var ft,At,Ft,Gt,zn,Xn=function(tr,Rr,or){var ar=tr.childNodes?pn(tr.childNodes.length,!0):[],Yr=Rr.childNodes?pn(Rr.childNodes.length,!0):[],Sr=0;return or.forEach(function(Fn){for(var ni=Fn.oldValue+Fn.length,Jn=Fn.newValue+Fn.length,fi=Fn.oldValue;fi<ni;fi+=1)ar[fi]=Sr;for(fi=Fn.newValue;fi<Jn;fi+=1)Yr[fi]=Sr;Sr+=1}),{gaps1:ar,gaps2:Yr}}(Te,be,at),ei=Xn.gaps1,Qn=Xn.gaps2,ti=Te.childNodes.slice(),Qi=be.childNodes.slice(),Ui=Math.min(ei.length,Qn.length),gr=[],Vn=0,Li=0;Vn<Ui;Li+=1,Vn+=1)if(!Pt||!0!==ei[Vn]&&!0!==Qn[Vn])if(!0===ei[Li])if("#text"===(Gt=ti[Li]).nodeName)if("#text"===Qi[Vn].nodeName){if(Gt.data!==Qi[Vn].data){for(var Ir=Li;ti.length>Ir+1&&"#text"===ti[Ir+1].nodeName;)if(Qi[Vn].data===ti[Ir+=1].data){zn=!0;break}zn||gr.push((new Ae).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,bt.concat(Li)).setValue(this.options._const.oldValue,Gt.data).setValue(this.options._const.newValue,Qi[Vn].data))}}else gr.push((new Ae).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,bt.concat(Li)).setValue(this.options._const.value,Gt.data)),ei.splice(Li,1),ti.splice(Li,1),Ui=Math.min(ei.length,Qn.length),Li-=1,Vn-=1;else!0===Qn[Vn]?gr.push((new Ae).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,It(Gt)).setValue(this.options._const.newValue,It(Qi[Vn])).setValue(this.options._const.route,bt.concat(Li))):(gr.push((new Ae).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,bt.concat(Li)).setValue(this.options._const.element,It(Gt))),ei.splice(Li,1),ti.splice(Li,1),Ui=Math.min(ei.length,Qn.length),Li-=1,Vn-=1);else if(!0===Qn[Vn])"#text"===(Gt=Qi[Vn]).nodeName?(gr.push((new Ae).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,bt.concat(Li)).setValue(this.options._const.value,Gt.data)),ei.splice(Li,0,!0),ti.splice(Li,0,{nodeName:"#text",data:Gt.data}),Ui=Math.min(ei.length,Qn.length)):(gr.push((new Ae).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,bt.concat(Li)).setValue(this.options._const.element,It(Gt))),ei.splice(Li,0,!0),ti.splice(Li,0,It(Gt)),Ui=Math.min(ei.length,Qn.length));else if(ei[Li]!==Qn[Vn]){if(gr.length>0)return gr;if(Ft=at[ei[Li]],(At=Math.min(Ft.newValue,ti.length-Ft.length))!==Ft.oldValue){ft=!1;for(var wr=0;wr<Ft.length;wr+=1)hn(ti[At+wr],ti[Ft.oldValue+wr],{},!1,!0)||(ft=!0);if(ft)return[(new Ae).setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,Ft.length).setValue(this.options._const.from,Ft.oldValue).setValue(this.options._const.to,At).setValue(this.options._const.route,bt)]}}return gr},Ye.prototype.findValueDiff=function(Te,be,at){var bt=[];return Te.selected!==be.selected&&bt.push((new Ae).setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,Te.selected).setValue(this.options._const.newValue,be.selected).setValue(this.options._const.route,at)),(Te.value||be.value)&&Te.value!==be.value&&"OPTION"!==Te.nodeName&&bt.push((new Ae).setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,Te.value||"").setValue(this.options._const.newValue,be.value||"").setValue(this.options._const.route,at)),Te.checked!==be.checked&&bt.push((new Ae).setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,Te.checked).setValue(this.options._const.newValue,be.checked).setValue(this.options._const.route,at)),bt},Ye}(),On={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(Ye,Te,be,at){Ye.data=at},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},xr=function(){function Ye(Te){if(void 0===Te&&(Te={}),Object.entries(On).forEach(function(bt){var Pt=bt[0],ft=bt[1];Object.prototype.hasOwnProperty.call(Te,Pt)||(Te[Pt]=ft)}),!Te._const){var at={};["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"].forEach(Te.compress?function(bt,Pt){return at[bt]=Pt}:function(bt){return at[bt]=bt}),Te._const=at}this.options=Te}return Ye.prototype.apply=function(Te,be){return at=Te,Pt=this.options,be.every(function(ft){return Ot(at,ft,Pt)});var at,Pt},Ye.prototype.undo=function(Te,be){return function lt(Ye,Te,be){(Te=Te.slice()).reverse(),Te.forEach(function(at){!function(bt,Pt,ft){switch(Pt[ft._const.action]){case ft._const.addAttribute:Pt[ft._const.action]=ft._const.removeAttribute,Ot(bt,Pt,ft);break;case ft._const.modifyAttribute:wt(Pt,ft._const.oldValue,ft._const.newValue),Ot(bt,Pt,ft);break;case ft._const.removeAttribute:Pt[ft._const.action]=ft._const.addAttribute,Ot(bt,Pt,ft);break;case ft._const.modifyTextElement:case ft._const.modifyValue:case ft._const.modifyComment:case ft._const.modifyChecked:case ft._const.modifySelected:case ft._const.replaceElement:wt(Pt,ft._const.oldValue,ft._const.newValue),Ot(bt,Pt,ft);break;case ft._const.relocateGroup:wt(Pt,ft._const.from,ft._const.to),Ot(bt,Pt,ft);break;case ft._const.removeElement:Pt[ft._const.action]=ft._const.addElement,Ot(bt,Pt,ft);break;case ft._const.addElement:Pt[ft._const.action]=ft._const.removeElement,Ot(bt,Pt,ft);break;case ft._const.removeTextElement:Pt[ft._const.action]=ft._const.addTextElement,Ot(bt,Pt,ft);break;case ft._const.addTextElement:Pt[ft._const.action]=ft._const.removeTextElement,Ot(bt,Pt,ft);break;default:console.log("unknown action")}}(Ye,at,be)})}(Te,be,this.options)},Ye.prototype.diff=function(Te,be){return new Ht(Te,be,this.options).init()},Ye}();const En=(Ye,Te,be,{classes:at,format:bt,hiddenHeader:Pt,sortable:ft,scrollY:At,type:Ft},{noColumnWidths:Gt,unhideHeader:zn})=>({nodeName:"TR",childNodes:Ye.map((Xn,ei)=>{const Qn=Te[ei]||{type:Ft,format:bt,sortable:!0,searchable:!0};if(Qn.hidden)return;const ti=Xn.attributes?{...Xn.attributes}:{};Qn.sortable&&ft&&(!At.length||zn)&&(Qn.filter?ti["data-filterable"]="true":ti["data-sortable"]="true"),Qn.headerClass&&(ti.class=ot(ti.class,Qn.headerClass)),be.sort&&be.sort.column===ei?(ti.class=ot(ti.class,"asc"===be.sort.dir?at.ascending:at.descending),ti["aria-sort"]="asc"===be.sort.dir?"ascending":"descending"):be.filters[ei]&&(ti.class=ot(ti.class,at.filterActive)),be.widths[ei]&&!Gt&&(ti.style=ot(ti.style,`width: ${be.widths[ei]}%;`)),At.length&&!zn&&(ti.style=ot(ti.style,"padding-bottom: 0;padding-top: 0;border: 0;"));const Qi="html"===Xn.type?Xn.data:[{nodeName:"#text",data:Xn.text??String(Xn.data)}];return{nodeName:"TH",attributes:ti,childNodes:!Pt&&!At.length||zn?Qn.sortable&&ft?[{nodeName:"BUTTON",attributes:{class:Qn.filter?at.filter:at.sorter},childNodes:Qi}]:Qi:[{nodeName:"#text",data:""}]}}).filter(Xn=>Xn)}),hi=(Ye,Te,be,at,bt,Pt,{classes:ft,hiddenHeader:At,header:Ft,footer:Gt,format:zn,sortable:Xn,scrollY:ei,type:Qn,rowRender:ti,tabIndex:Qi},{noColumnWidths:Ui,unhideHeader:gr,renderHeader:Vn},Li,Ir)=>{const wr={nodeName:"TABLE",attributes:{...Ye},childNodes:[{nodeName:"TBODY",childNodes:be.map(({row:tr,index:Rr})=>{const or={nodeName:"TR",attributes:{...tr.attributes,"data-index":String(Rr)},childNodes:tr.cells.map((ar,Yr)=>{const Sr=at[Yr]||{type:Qn,format:zn,sortable:!0,searchable:!0};if(Sr.hidden)return;const Fn={nodeName:"TD",attributes:ar.attributes?{...ar.attributes}:{},childNodes:"html"===Sr.type?ar.data:[{nodeName:"#text",data:we(ar)}]};if(Ft||Gt||!bt.widths[Yr]||Ui||(Fn.attributes.style=ot(Fn.attributes.style,`width: ${bt.widths[Yr]}%;`)),Sr.cellClass&&(Fn.attributes.class=ot(Fn.attributes.class,Sr.cellClass)),Sr.render){const ni=Sr.render(ar.data,Fn,Rr,Yr);if(ni){if("string"!=typeof ni)return ni;{const Jn=Bt(`<td>${ni}</td>`);1===Jn.childNodes.length&&["#text","#comment"].includes(Jn.childNodes[0].nodeName)?Fn.childNodes[0].data=ni:Fn.childNodes=Jn.childNodes}}}return Fn}).filter(ar=>ar)};if(Rr===Pt&&(or.attributes.class=ot(or.attributes.class,ft.cursor)),ti){const ar=ti(tr,or,Rr);if(ar){if("string"!=typeof ar)return ar;{const Yr=Bt(`<tr>${ar}</tr>`);!Yr.childNodes||1===Yr.childNodes.length&&["#text","#comment"].includes(Yr.childNodes[0].nodeName)?or.childNodes[0].data=ar:or.childNodes=Yr.childNodes}}}return or})}]};if(wr.attributes.class=ot(wr.attributes.class,ft.table),Ft||Gt||Vn){const tr=En(Te,at,bt,{classes:ft,hiddenHeader:At,sortable:Xn,scrollY:ei},{noColumnWidths:Ui,unhideHeader:gr});if(Ft||Vn){const Rr={nodeName:"THEAD",childNodes:[tr]};!ei.length&&!At||gr||(Rr.attributes={style:"height: 0px;"}),wr.childNodes.unshift(Rr)}if(Gt){const Rr={nodeName:"TFOOT",childNodes:[Ft?structuredClone(tr):tr]};!ei.length&&!At||gr||(Rr.attributes={style:"height: 0px;"}),wr.childNodes.push(Rr)}}return Li.forEach(tr=>wr.childNodes.push(tr)),Ir.forEach(tr=>wr.childNodes.push(tr)),!1!==Qi&&(wr.attributes.tabindex=String(Qi)),wr};function pr(Ye){return Ye&&Ye.__esModule&&Object.prototype.hasOwnProperty.call(Ye,"default")?Ye.default:Ye}var Ye,Te,be,at,bt,Pt,ft,At,Ft,Gt,zn,Xn,_n=pr({exports:{}}.exports=function(){var at="millisecond",bt="second",Pt="minute",ft="hour",At="day",Ft="week",Gt="month",zn="quarter",Xn="year",ei="date",Qn="Invalid Date",ti=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Qi=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ui={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Fn){var ni=["th","st","nd","rd"],Jn=Fn%100;return"["+Fn+(ni[(Jn-20)%10]||ni[Jn]||ni[0])+"]"}},gr=function(Fn,ni,Jn){var fi=String(Fn);return!fi||fi.length>=ni?Fn:""+Array(ni+1-fi.length).join(Jn)+Fn},Vn={s:gr,z:function(Fn){var ni=-Fn.utcOffset(),Jn=Math.abs(ni),fi=Math.floor(Jn/60),xi=Jn%60;return(ni<=0?"+":"-")+gr(fi,2,"0")+":"+gr(xi,2,"0")},m:function Fn(ni,Jn){if(ni.date()<Jn.date())return-Fn(Jn,ni);var fi=12*(Jn.year()-ni.year())+(Jn.month()-ni.month()),xi=ni.clone().add(fi,Gt),We=Jn-xi<0,h=ni.clone().add(fi+(We?-1:1),Gt);return+(-(fi+(Jn-xi)/(We?xi-h:h-xi))||0)},a:function(Fn){return Fn<0?Math.ceil(Fn)||0:Math.floor(Fn)},p:function(Fn){return{M:Gt,y:Xn,w:Ft,d:At,D:ei,h:ft,m:Pt,s:bt,ms:at,Q:zn}[Fn]||String(Fn||"").toLowerCase().replace(/s$/,"")},u:function(Fn){return void 0===Fn}},Li="en",Ir={};Ir[Li]=Ui;var wr="$isDayjsObject",tr=function(Fn){return Fn instanceof Yr||!(!Fn||!Fn[wr])},Rr=function Fn(ni,Jn,fi){var xi;if(!ni)return Li;if("string"==typeof ni){var We=ni.toLowerCase();Ir[We]&&(xi=We),Jn&&(Ir[We]=Jn,xi=We);var h=ni.split("-");if(!xi&&h.length>1)return Fn(h[0])}else{var d=ni.name;Ir[d]=ni,xi=d}return!fi&&xi&&(Li=xi),xi||!fi&&Li},or=function(Fn,ni){if(tr(Fn))return Fn.clone();var Jn="object"==typeof ni?ni:{};return Jn.date=Fn,Jn.args=arguments,new Yr(Jn)},ar=Vn;ar.l=Rr,ar.i=tr,ar.w=function(Fn,ni){return or(Fn,{locale:ni.$L,utc:ni.$u,x:ni.$x,$offset:ni.$offset})};var Yr=function(){function Fn(Jn){this.$L=Rr(Jn.locale,null,!0),this.parse(Jn),this.$x=this.$x||Jn.x||{},this[wr]=!0}var ni=Fn.prototype;return ni.parse=function(Jn){this.$d=function(fi){var xi=fi.date,We=fi.utc;if(null===xi)return new Date(NaN);if(ar.u(xi))return new Date;if(xi instanceof Date)return new Date(xi);if("string"==typeof xi&&!/Z$/i.test(xi)){var h=xi.match(ti);if(h){var d=h[2]-1||0,v=(h[7]||"0").substring(0,3);return We?new Date(Date.UTC(h[1],d,h[3]||1,h[4]||0,h[5]||0,h[6]||0,v)):new Date(h[1],d,h[3]||1,h[4]||0,h[5]||0,h[6]||0,v)}}return new Date(xi)}(Jn),this.init()},ni.init=function(){var Jn=this.$d;this.$y=Jn.getFullYear(),this.$M=Jn.getMonth(),this.$D=Jn.getDate(),this.$W=Jn.getDay(),this.$H=Jn.getHours(),this.$m=Jn.getMinutes(),this.$s=Jn.getSeconds(),this.$ms=Jn.getMilliseconds()},ni.$utils=function(){return ar},ni.isValid=function(){return this.$d.toString()!==Qn},ni.isSame=function(Jn,fi){var xi=or(Jn);return this.startOf(fi)<=xi&&xi<=this.endOf(fi)},ni.isAfter=function(Jn,fi){return or(Jn)<this.startOf(fi)},ni.isBefore=function(Jn,fi){return this.endOf(fi)<or(Jn)},ni.$g=function(Jn,fi,xi){return ar.u(Jn)?this[fi]:this.set(xi,Jn)},ni.unix=function(){return Math.floor(this.valueOf()/1e3)},ni.valueOf=function(){return this.$d.getTime()},ni.startOf=function(Jn,fi){var xi=this,We=!!ar.u(fi)||fi,h=ar.p(Jn),d=function(K,J){var ie=ar.w(xi.$u?Date.UTC(xi.$y,J,K):new Date(xi.$y,J,K),xi);return We?ie:ie.endOf(At)},v=function(K,J){return ar.w(xi.toDate()[K].apply(xi.toDate("s"),(We?[0,0,0,0]:[23,59,59,999]).slice(J)),xi)},S=this.$W,T=this.$M,I=this.$D,N="set"+(this.$u?"UTC":"");switch(h){case Xn:return We?d(1,0):d(31,11);case Gt:return We?d(1,T):d(0,T+1);case Ft:var V=this.$locale().weekStart||0,G=(S<V?S+7:S)-V;return d(We?I-G:I+(6-G),T);case At:case ei:return v(N+"Hours",0);case ft:return v(N+"Minutes",1);case Pt:return v(N+"Seconds",2);case bt:return v(N+"Milliseconds",3);default:return this.clone()}},ni.endOf=function(Jn){return this.startOf(Jn,!1)},ni.$set=function(Jn,fi){var xi,We=ar.p(Jn),h="set"+(this.$u?"UTC":""),d=(xi={},xi[At]=h+"Date",xi[ei]=h+"Date",xi[Gt]=h+"Month",xi[Xn]=h+"FullYear",xi[ft]=h+"Hours",xi[Pt]=h+"Minutes",xi[bt]=h+"Seconds",xi[at]=h+"Milliseconds",xi)[We],v=We===At?this.$D+(fi-this.$W):fi;if(We===Gt||We===Xn){var S=this.clone().set(ei,1);S.$d[d](v),S.init(),this.$d=S.set(ei,Math.min(this.$D,S.daysInMonth())).$d}else d&&this.$d[d](v);return this.init(),this},ni.set=function(Jn,fi){return this.clone().$set(Jn,fi)},ni.get=function(Jn){return this[ar.p(Jn)]()},ni.add=function(Jn,fi){var xi,We=this;Jn=Number(Jn);var h=ar.p(fi),d=function(T){var I=or(We);return ar.w(I.date(I.date()+Math.round(T*Jn)),We)};if(h===Gt)return this.set(Gt,this.$M+Jn);if(h===Xn)return this.set(Xn,this.$y+Jn);if(h===At)return d(1);if(h===Ft)return d(7);var v=(xi={},xi[Pt]=6e4,xi[ft]=36e5,xi[bt]=1e3,xi)[h]||1,S=this.$d.getTime()+Jn*v;return ar.w(S,this)},ni.subtract=function(Jn,fi){return this.add(-1*Jn,fi)},ni.format=function(Jn){var fi=this,xi=this.$locale();if(!this.isValid())return xi.invalidDate||Qn;var We=Jn||"YYYY-MM-DDTHH:mm:ssZ",h=ar.z(this),d=this.$H,v=this.$m,S=this.$M,T=xi.weekdays,I=xi.months,V=function(J,ie,fe,Se){return J&&(J[ie]||J(fi,We))||fe[ie].slice(0,Se)},G=function(J){return ar.s(d%12||12,J,"0")},K=xi.meridiem||function(J,ie,fe){var Se=J<12?"AM":"PM";return fe?Se.toLowerCase():Se};return We.replace(Qi,function(J,ie){return ie||function(fe){switch(fe){case"YY":return String(fi.$y).slice(-2);case"YYYY":return ar.s(fi.$y,4,"0");case"M":return S+1;case"MM":return ar.s(S+1,2,"0");case"MMM":return V(xi.monthsShort,S,I,3);case"MMMM":return V(I,S);case"D":return fi.$D;case"DD":return ar.s(fi.$D,2,"0");case"d":return String(fi.$W);case"dd":return V(xi.weekdaysMin,fi.$W,T,2);case"ddd":return V(xi.weekdaysShort,fi.$W,T,3);case"dddd":return T[fi.$W];case"H":return String(d);case"HH":return ar.s(d,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return K(d,v,!0);case"A":return K(d,v,!1);case"m":return String(v);case"mm":return ar.s(v,2,"0");case"s":return String(fi.$s);case"ss":return ar.s(fi.$s,2,"0");case"SSS":return ar.s(fi.$ms,3,"0");case"Z":return h}return null}(J)||h.replace(":","")})},ni.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ni.diff=function(Jn,fi,xi){var We,h=this,d=ar.p(fi),v=or(Jn),S=6e4*(v.utcOffset()-this.utcOffset()),T=this-v,I=function(){return ar.m(h,v)};switch(d){case Xn:We=I()/12;break;case Gt:We=I();break;case zn:We=I()/3;break;case Ft:We=(T-S)/6048e5;break;case At:We=(T-S)/864e5;break;case ft:We=T/36e5;break;case Pt:We=T/6e4;break;case bt:We=T/1e3;break;default:We=T}return xi?We:ar.a(We)},ni.daysInMonth=function(){return this.endOf(Gt).$D},ni.$locale=function(){return Ir[this.$L]},ni.locale=function(Jn,fi){if(!Jn)return this.$L;var xi=this.clone(),We=Rr(Jn,fi,!0);return We&&(xi.$L=We),xi},ni.clone=function(){return ar.w(this.$d,this)},ni.toDate=function(){return new Date(this.valueOf())},ni.toJSON=function(){return this.isValid()?this.toISOString():null},ni.toISOString=function(){return this.$d.toISOString()},ni.toString=function(){return this.$d.toUTCString()},Fn}(),Sr=Yr.prototype;return or.prototype=Sr,[["$ms",at],["$s",bt],["$m",Pt],["$H",ft],["$W",At],["$M",Gt],["$y",Xn],["$D",ei]].forEach(function(Fn){Sr[Fn[1]]=function(ni){return this.$g(ni,Fn[0],Fn[1])}}),or.extend=function(Fn,ni){return Fn.$i||(Fn(ni,Yr,or),Fn.$i=!0),or},or.locale=Rr,or.isDayjs=tr,or.unix=function(Fn){return or(1e3*Fn)},or.en=Ir[Li],or.Ls=Ir,or.p={},or}()),di=pr({exports:{}}.exports=(Ye={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Te=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Pt={},ft=function(Qn){return(Qn=+Qn)+(Qn>68?1900:2e3)},Ft=[/[+-]\d\d:?(\d\d)?|Z/,function(Qn){(this.zone||(this.zone={})).offset=function(ti){if(!ti||"Z"===ti)return 0;var Qi=ti.match(/([+-]|\d\d)/g),Ui=60*Qi[1]+(+Qi[2]||0);return 0===Ui?0:"+"===Qi[0]?-Ui:Ui}(Qn)}],Gt=function(Qn){var ti=Pt[Qn];return ti&&(ti.indexOf?ti:ti.s.concat(ti.f))},zn=function(Qn,ti){var Qi,Ui=Pt.meridiem;if(Ui){for(var gr=1;gr<=24;gr+=1)if(Qn.indexOf(Ui(gr,0,ti))>-1){Qi=gr>12;break}}else Qi=Qn===(ti?"pm":"PM");return Qi},Xn={A:[bt=/\d*[^-_:/,()\s\d]+/,function(Qn){this.afternoon=zn(Qn,!1)}],a:[bt,function(Qn){this.afternoon=zn(Qn,!0)}],S:[/\d/,function(Qn){this.milliseconds=100*+Qn}],SS:[be=/\d\d/,function(Qn){this.milliseconds=10*+Qn}],SSS:[/\d{3}/,function(Qn){this.milliseconds=+Qn}],s:[at=/\d\d?/,(At=function(Qn){return function(ti){this[Qn]=+ti}})("seconds")],ss:[at,At("seconds")],m:[at,At("minutes")],mm:[at,At("minutes")],H:[at,At("hours")],h:[at,At("hours")],HH:[at,At("hours")],hh:[at,At("hours")],D:[at,At("day")],DD:[be,At("day")],Do:[bt,function(Qn){var ti=Pt.ordinal,Qi=Qn.match(/\d+/);if(this.day=Qi[0],ti)for(var Ui=1;Ui<=31;Ui+=1)ti(Ui).replace(/\[|\]/g,"")===Qn&&(this.day=Ui)}],M:[at,At("month")],MM:[be,At("month")],MMM:[bt,function(Qn){var ti=Gt("months"),Qi=(Gt("monthsShort")||ti.map(function(Ui){return Ui.slice(0,3)})).indexOf(Qn)+1;if(Qi<1)throw new Error;this.month=Qi%12||Qi}],MMMM:[bt,function(Qn){var ti=Gt("months").indexOf(Qn)+1;if(ti<1)throw new Error;this.month=ti%12||ti}],Y:[/[+-]?\d+/,At("year")],YY:[be,function(Qn){this.year=ft(Qn)}],YYYY:[/\d{4}/,At("year")],Z:Ft,ZZ:Ft},function(Qn,ti,Qi){Qi.p.customParseFormat=!0,Qn&&Qn.parseTwoDigitYear&&(ft=Qn.parseTwoDigitYear);var Ui=ti.prototype,gr=Ui.parse;Ui.parse=function(Vn){var Li=Vn.date,Ir=Vn.utc,wr=Vn.args;this.$u=Ir;var tr=wr[1];if("string"==typeof tr){var Rr=!0===wr[2],or=!0===wr[3],ar=Rr||or,Yr=wr[2];or&&(Yr=wr[2]),Pt=this.$locale(),!Rr&&Yr&&(Pt=Qi.Ls[Yr]),this.$d=function(Jn,fi,xi){try{if(["x","X"].indexOf(fi)>-1)return new Date(("X"===fi?1e3:1)*Jn);var We=function ei(Qn){var Qi;Qi=Pt&&Pt.formats;for(var Ui=(Qn=Qn.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Rr,or,ar){var Yr=ar&&ar.toUpperCase();return or||Qi[ar]||Ye[ar]||Qi[Yr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Sr,Fn,ni){return Fn||ni.slice(1)})})).match(Te),gr=Ui.length,Vn=0;Vn<gr;Vn+=1){var Li=Ui[Vn],Ir=Xn[Li],tr=Ir&&Ir[1];Ui[Vn]=tr?{regex:Ir&&Ir[0],parser:tr}:Li.replace(/^\[|\]$/g,"")}return function(Rr){for(var or={},ar=0,Yr=0;ar<gr;ar+=1){var Sr=Ui[ar];if("string"==typeof Sr)Yr+=Sr.length;else{var Fn=Sr.regex,ni=Sr.parser,Jn=Rr.slice(Yr),fi=Fn.exec(Jn)[0];ni.call(or,fi),Rr=Rr.replace(fi,"")}}return function(xi){var We=xi.afternoon;if(void 0!==We){var h=xi.hours;We?h<12&&(xi.hours+=12):12===h&&(xi.hours=0),delete xi.afternoon}}(or),or}}(fi)(Jn),h=We.year,d=We.month,v=We.day,S=We.hours,T=We.minutes,I=We.seconds,N=We.milliseconds,V=We.zone,G=new Date,K=v||(h||d?1:G.getDate()),J=h||G.getFullYear(),ie=0;h&&!d||(ie=d>0?d-1:G.getMonth());var fe=S||0,Se=T||0,Le=I||0,Fe=N||0;return V?new Date(Date.UTC(J,ie,K,fe,Se,Le,Fe+60*V.offset*1e3)):xi?new Date(Date.UTC(J,ie,K,fe,Se,Le,Fe)):new Date(J,ie,K,fe,Se,Le,Fe)}catch{return new Date("")}}(Li,tr,Ir),this.init(),Yr&&!0!==Yr&&(this.$L=this.locale(Yr).$L),ar&&Li!=this.format(tr)&&(this.$d=new Date("")),Pt={}}else if(tr instanceof Array)for(var Sr=tr.length,Fn=1;Fn<=Sr;Fn+=1){wr[1]=tr[Fn-1];var ni=Qi.apply(this,wr);if(ni.isValid()){this.$d=ni.$d,this.$L=ni.$L,this.init();break}Fn===Sr&&(this.$d=new Date(""))}else gr.call(this,Vn)}}));_n.extend(di);const bi=(Ye,Te)=>{let be;if(Te)switch(Te){case"ISO_8601":be=Ye;break;case"RFC_2822":be=_n(Ye.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":be=_n(Ye,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":be=_n(Ye).unix();break;default:be=_n(Ye,Te,!0).valueOf()}return be},ai=(Ye,Te)=>{if(Ye?.constructor===Object&&Object.prototype.hasOwnProperty.call(Ye,"data")&&!Object.keys(Ye).find(at=>!["text","order","data","attributes"].includes(at)))return Ye;const be={data:Ye};switch(Te.type){case"string":"string"!=typeof Ye&&(be.text=String(be.data),be.order=be.text);break;case"date":Te.format&&(be.order=bi(String(be.data),Te.format));break;case"number":be.text=String(be.data),be.data=parseInt(be.data,10);break;case"html":{const at=Array.isArray(be.data)?{nodeName:"TD",childNodes:be.data}:Bt(`<td>${String(be.data)}</td>`);be.data=at.childNodes||[];const bt=ge(at);be.text=bt,be.order=bt;break}case"boolean":"string"==typeof be.data&&(be.data=be.data.toLowerCase().trim()),be.data=!["false",!1,null,void 0,0].includes(be.data),be.order=be.data?1:0,be.text=String(be.data);break;case"other":be.text="",be.order=0;break;default:be.text=JSON.stringify(be.data)}return be},Wi=Ye=>{if(Ye instanceof Object&&Ye.constructor===Object&&Ye.hasOwnProperty("data")&&("string"==typeof Ye.text||"string"==typeof Ye.data))return Ye;const Te={data:Ye};if("string"==typeof Ye){if(Ye.length){const be=Bt(`<th>${Ye}</th>`);if(be.childNodes&&(1!==be.childNodes.length||"#text"!==be.childNodes[0].nodeName)){Te.data=be.childNodes,Te.type="html";const at=ge(be);Te.text=at}}}else Te.text=[null,void 0].includes(Ye)?"":JSON.stringify(Ye);return Te},yi=(Ye,Te,be,at,bt)=>{const Pt={data:[],headings:[]};if(Ye.headings)Pt.headings=Ye.headings.map(ft=>Wi(ft));else if(Te?.tHead)Pt.headings=Array.from(Te.tHead.querySelectorAll("th")).map((ft,At)=>{const Ft=(zn=>{const Xn=ln(zn,{valueDiffing:!1});let ei;return ei=!Xn.childNodes||1===Xn.childNodes.length&&"#text"===Xn.childNodes[0].nodeName?{data:zn.innerText,type:"string"}:{data:Xn.childNodes,type:"html",text:ge(Xn)},ei.attributes=Xn.attributes,ei})(ft);be[At]||(be[At]={type:at,format:bt,searchable:!0,sortable:!0});const Gt=be[At];return"false"!==ft.dataset.sortable?.trim().toLowerCase()&&"false"!==ft.dataset.sort?.trim().toLowerCase()||(Gt.sortable=!1),"false"===ft.dataset.searchable?.trim().toLowerCase()&&(Gt.searchable=!1),"true"!==ft.dataset.hidden?.trim().toLowerCase()&&"true"!==ft.getAttribute("hidden")?.trim().toLowerCase()||(Gt.hidden=!0),["number","string","html","date","boolean","other"].includes(ft.dataset.type)&&(Gt.type=ft.dataset.type,"date"===Gt.type&&ft.dataset.format&&(Gt.format=ft.dataset.format)),Ft});else if(Ye.data?.length){const ft=Ye.data[0],At=Array.isArray(ft)?ft:ft.cells;Pt.headings=At.map(Ft=>Wi(""))}else Te?.tBodies.length&&(Pt.headings=Array.from(Te.tBodies[0].rows[0].cells).map(ft=>Wi("")));for(let ft=0;ft<Pt.headings.length;ft++)be[ft]||(be[ft]={type:at,format:bt,sortable:!0,searchable:!0});if(Ye.data?Pt.data=Ye.data.map(ft=>{let At,Ft;return Array.isArray(ft)?(At={},Ft=ft):(At=ft.attributes,Ft=ft.cells),{attributes:At,cells:Ft.map((Gt,zn)=>ai(Gt,be[zn]))}}):Te?.tBodies?.length&&(Pt.data=Array.from(Te.tBodies[0].rows).map(ft=>({attributes:Ie(ft.attributes),cells:Array.from(ft.cells).map((At,Ft)=>{const Gt=At.dataset.content?ai(At.dataset.content,be[Ft]):((zn,Xn)=>{let ei;switch(Xn.type){case"string":ei={data:zn.innerText};break;case"date":{const Qn=zn.innerText;ei={data:Qn,order:bi(Qn,Xn.format)};break}case"number":ei={data:parseInt(zn.innerText,10),text:zn.innerText};break;case"boolean":{const Qn=!["false","0","null","undefined"].includes(zn.innerText.toLowerCase().trim());ei={data:Qn,text:Qn?"1":"0",order:Qn?1:0};break}default:ei={data:ln(zn,{valueDiffing:!1}).childNodes||[],text:zn.innerText,order:zn.innerText}}return ei.attributes=Ie(zn.attributes),ei})(At,be[Ft]);return At.dataset.order&&(Gt.order=isNaN(parseFloat(At.dataset.order))?At.dataset.order:parseFloat(At.dataset.order)),Gt})}))),Pt.data.length&&Pt.data[0].cells.length!==Pt.headings.length)throw new Error("Data heading length mismatch.");return Pt};class fr{constructor(Te){this.dt=Te,this.cursor=!1}setCursor(Te=!1){if(Te===this.cursor)return;const be=this.cursor;if(this.cursor=Te,this.dt._renderTable(),!1!==Te&&this.dt.options.scrollY){const at=Ce(this.dt.options.classes.cursor),bt=this.dt.dom.querySelector(`tr${at}`);bt&&bt.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,be)}add(Te){if(!Array.isArray(Te)||Te.length<1)return;const be={cells:Te.map((at,bt)=>ai(at,this.dt.columns.settings[bt]))};this.dt.data.data.push(be),this.dt.hasRows=!0,this.dt.update(!0)}remove(Te){if(!Array.isArray(Te))return this.remove([Te]);this.dt.data.data=this.dt.data.data.filter((be,at)=>!Te.includes(at)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(Te,be){return this.dt.data.data.findIndex(at=>we(at.cells[Te]).toLowerCase().includes(String(be).toLowerCase()))}findRow(Te,be){const at=this.findRowIndex(Te,be);if(at<0)return{index:-1,row:null,cols:[]};const bt=this.dt.data.data[at],Pt=bt.cells.map(ft=>ft.data);return{index:at,row:bt,cols:Pt}}updateRow(Te,be){const at={cells:be.map((bt,Pt)=>ai(bt,this.dt.columns.settings[Pt]))};this.dt.data.data.splice(Te,1,at),this.dt.update(!0)}}class po{constructor(Te){this.dt=Te,this.init()}init(){[this.settings,this._state]=((Te=[],be,at)=>{let bt=[],Pt=!1;const ft=[];return Te.forEach(At=>{(Array.isArray(At.select)?At.select:[At.select]).forEach(Ft=>{bt[Ft]?At.type&&(bt[Ft].type=At.type):bt[Ft]={type:At.type||be,sortable:!0,searchable:!0};const Gt=bt[Ft];At.render&&(Gt.render=At.render),At.format?Gt.format=At.format:"date"===At.type&&(Gt.format=at),At.cellClass&&(Gt.cellClass=At.cellClass),At.headerClass&&(Gt.headerClass=At.headerClass),At.locale&&(Gt.locale=At.locale),!1===At.sortable?Gt.sortable=!1:(At.numeric&&(Gt.numeric=At.numeric),At.caseFirst&&(Gt.caseFirst=At.caseFirst)),!1===At.searchable?Gt.searchable=!1:At.sensitivity&&(Gt.sensitivity=At.sensitivity),(Gt.searchable||Gt.sortable)&&void 0!==At.ignorePunctuation&&(Gt.ignorePunctuation=At.ignorePunctuation),At.hidden&&(Gt.hidden=!0),At.filter&&(Gt.filter=At.filter),At.sortSequence&&(Gt.sortSequence=At.sortSequence),At.sort&&(At.filter?ft[Ft]=At.sort:Pt={column:Ft,dir:At.sort}),void 0!==At.searchItemSeparator&&(Gt.searchItemSeparator=At.searchItemSeparator)})}),bt=bt.map(At=>At||{type:be,format:"date"===be?at:void 0,sortable:!0,searchable:!0}),[bt,{filters:ft,sort:Pt,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}get(Te){return Te<0||Te>=this.size()?null:{...this.settings[Te]}}size(){return this.settings.length}swap(Te){if(2===Te.length){const be=this.dt.data.headings.map((ft,At)=>At),at=Te[0],bt=Te[1],Pt=be[bt];return be[bt]=be[at],be[at]=Pt,this.order(be)}}order(Te){this.dt.data.headings=Te.map(be=>this.dt.data.headings[be]),this.dt.data.data.forEach(be=>be.cells=Te.map(at=>be.cells[at])),this.settings=Te.map(be=>this.settings[be]),this.dt.update()}hide(Te){Te.length&&(Te.forEach(be=>{this.settings[be]||(this.settings[be]={type:"string"}),this.settings[be].hidden=!0}),this.dt.update())}show(Te){Te.length&&(Te.forEach(be=>{this.settings[be]||(this.settings[be]={type:"string",sortable:!0}),delete this.settings[be].hidden}),this.dt.update())}visible(Te){return void 0===Te&&(Te=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(Te)?Te.map(be=>!this.settings[be]?.hidden):!this.settings[Te]?.hidden}add(Te){const be=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([Wi(Te.heading)]),this.dt.data.data.forEach((at,bt)=>{at.cells=at.cells.concat([ai(Te.data[bt],Te)])}),this.settings[be]={type:Te.type||"string",sortable:!0,searchable:!0},Te.type||Te.format||Te.sortable||Te.render||Te.filter){const at=this.settings[be];Te.render&&(at.render=Te.render),Te.format&&(at.format=Te.format),Te.cellClass&&(at.cellClass=Te.cellClass),Te.headerClass&&(at.headerClass=Te.headerClass),Te.locale&&(at.locale=Te.locale),!1===Te.sortable?at.sortable=!1:(Te.numeric&&(at.numeric=Te.numeric),Te.caseFirst&&(at.caseFirst=Te.caseFirst)),!1===Te.searchable?at.searchable=!1:Te.sensitivity&&(at.sensitivity=Te.sensitivity),(at.searchable||at.sortable)&&Te.ignorePunctuation&&(at.ignorePunctuation=Te.ignorePunctuation),Te.hidden&&(at.hidden=!0),Te.filter&&(at.filter=Te.filter),Te.sortSequence&&(at.sortSequence=Te.sortSequence)}this.dt.update(!0)}remove(Te){if(!Array.isArray(Te))return this.remove([Te]);this.dt.data.headings=this.dt.data.headings.filter((be,at)=>!Te.includes(at)),this.dt.data.data.forEach(be=>be.cells=be.cells.filter((at,bt)=>!Te.includes(bt))),this.dt.update(!0)}filter(Te,be=!1){if(!this.settings[Te]?.filter?.length)return;const at=this._state.filters[Te];let bt;if(at){let Pt=!1;bt=this.settings[Te].filter.find(ft=>!!Pt||(ft===at&&(Pt=!0),!1))}else{const Pt=this.settings[Te].filter;bt=Pt?Pt[0]:void 0}bt?this._state.filters[Te]=bt:at&&(this._state.filters[Te]=void 0),this.dt._currentPage=1,this.dt.update(),be||this.dt.emit("datatable.filter",Te,bt)}sort(Te,be,at=!1){const bt=this.settings[Te];if(at||this.dt.emit("datatable.sorting",Te,be),!be){const ft=!(!this._state.sort||this._state.sort.column!==Te)&&this._state.sort?.dir,At=bt?.sortSequence||["asc","desc"];if(ft){const Ft=At.indexOf(ft);be=-1===Ft?At[0]||"asc":Ft===At.length-1?At[0]:At[Ft+1]}else be=At.length?At[0]:"asc"}const Pt=!!["string","html"].includes(bt.type)&&new Intl.Collator(bt.locale||this.dt.options.locale,{usage:"sort",numeric:bt.numeric||this.dt.options.numeric,caseFirst:bt.caseFirst||this.dt.options.caseFirst,ignorePunctuation:bt.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((ft,At)=>{const Ft=ft.cells[Te],Gt=At.cells[Te];let zn=Ft.order??we(Ft),Xn=Gt.order??we(Gt);if("desc"===be){const ei=zn;zn=Xn,Xn=ei}return Pt?Pt.compare(String(zn),String(Xn)):zn<Xn?-1:zn>Xn?1:0}),this._state.sort={column:Te,dir:be},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",Te,be)):at||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",Te,be))}_measureWidths(){const Te=this.dt.data.headings.filter((be,at)=>!this.settings[at]?.hidden);if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&Te?.length){this._state.widths=[];const be={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(be.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),be.noColumnWidths=!0,this.dt._renderTable(be);const at=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let bt=0;const Pt=this.dt.data.headings.map((At,Ft)=>{if(this.settings[Ft]?.hidden)return 0;const Gt=at[bt].offsetWidth;return bt+=1,Gt}),ft=Pt.reduce((At,Ft)=>At+Ft,0);this._state.widths=Pt.map(At=>At/ft*100)}else{be.renderHeader=!0,this.dt._renderTable(be);const at=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let bt=0;const Pt=this.dt.data.headings.map((At,Ft)=>{if(this.settings[Ft]?.hidden)return 0;const Gt=at[bt].offsetWidth;return bt+=1,Gt}),ft=Pt.reduce((At,Ft)=>At+Ft,0);this._state.widths=Pt.map(At=>At/ft*100)}this.dt._renderTable()}}}const Fr={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,searchItemSeparator:"",searchQuerySeparator:" ",searchAnd:!1,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"\u2039",nextText:"\u203a",firstText:"\xab",lastText:"\xbb",ellipsisText:"\u2026",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,caption:void 0,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",pageTitle:"Page {page}",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(Ye,Te)=>`<div class='${Ye.classes.top}'>\n    ${Ye.paging&&Ye.perPageSelect?`<div class='${Ye.classes.dropdown}'>\n            <label>\n                <select class='${Ye.classes.selector}'></select> ${Ye.labels.perPage}\n            </label>\n        </div>`:""}\n    ${Ye.searchable?`<div class='${Ye.classes.search}'>\n            <input class='${Ye.classes.input}' placeholder='${Ye.labels.placeholder}' type='search' title='${Ye.labels.searchTitle}'${Te.id?` aria-controls="${Te.id}"`:""}>\n        </div>`:""}\n</div>\n<div class='${Ye.classes.container}'${Ye.scrollY.length?` style='height: ${Ye.scrollY}; overflow-Y: auto;'`:""}></div>\n<div class='${Ye.classes.bottom}'>\n    ${Ye.paging?`<div class='${Ye.classes.info}'></div>`:""}\n    <nav class='${Ye.classes.pagination}'></nav>\n</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},ir=(Ye,Te,be,at={})=>({nodeName:"LI",attributes:{class:at.active&&!at.hidden?`${be.classes.paginationListItem} ${be.classes.active}`:at.hidden?`${be.classes.paginationListItem} ${be.classes.hidden} ${be.classes.disabled}`:be.classes.paginationListItem},childNodes:[{nodeName:"BUTTON",attributes:{"data-page":String(Ye),class:be.classes.paginationListItemLink,"aria-label":be.labels.pageTitle.replace("{page}",String(Ye))},childNodes:[{nodeName:"#text",data:Te}]}]}),Zo={classes:{row:"datatable-editor-row",form:"datatable-editor-form",item:"datatable-editor-item",menu:"datatable-editor-menu",save:"datatable-editor-save",block:"datatable-editor-block",cancel:"datatable-editor-cancel",close:"datatable-editor-close",inner:"datatable-editor-inner",input:"datatable-editor-input",label:"datatable-editor-label",modal:"datatable-editor-modal",action:"datatable-editor-action",header:"datatable-editor-header",wrapper:"datatable-editor-wrapper",editable:"datatable-editor-editable",container:"datatable-editor-container",separator:"datatable-editor-separator"},labels:{closeX:"x",editCell:"Edit Cell",editRow:"Edit Row",removeRow:"Remove Row",reallyRemove:"Are you sure?",reallyCancel:"Do you really want to cancel?",save:"Save",cancel:"Cancel"},cancelModal:Ye=>confirm(Ye.options.labels.reallyCancel),inline:!0,hiddenColumns:!1,contextMenu:!0,clickEvent:"dblclick",excludeColumns:[],menuItems:[{text:Ye=>Ye.options.labels.editCell,action:(Ye,Te)=>{if(!(Ye.event.target instanceof Element))return;const be=Ye.event.target.closest("td");return Ye.editCell(be)}},{text:Ye=>Ye.options.labels.editRow,action:(Ye,Te)=>{if(!(Ye.event.target instanceof Element))return;const be=Ye.event.target.closest("tr");return Ye.editRow(be)}},{separator:!0},{text:Ye=>Ye.options.labels.removeRow,action:(Ye,Te)=>{if(Ye.event.target instanceof Element&&confirm(Ye.options.labels.reallyRemove)){const be=Ye.event.target.closest("tr");Ye.removeRow(be)}}}]};class ns{constructor(Te,be={}){this.dt=Te,this.options={...Zo,...be}}init(){this.initialized||(this.options.classes.editable?.split(" ").forEach(Te=>this.dt.wrapperDOM.classList.add(Te)),this.options.inline&&(this.originalRowRender=this.dt.options.rowRender,this.dt.options.rowRender=(Te,be,at)=>{let bt=this.rowRender(Te,be,at);return this.originalRowRender&&(bt=this.originalRowRender(Te,bt,at)),bt}),this.options.contextMenu&&(this.containerDOM=ye("div",{id:this.options.classes.container}),this.wrapperDOM=ye("div",{class:this.options.classes.wrapper}),this.menuDOM=ye("ul",{class:this.options.classes.menu}),this.options.menuItems&&this.options.menuItems.length&&this.options.menuItems.forEach(Te=>{const be=ye("li",{class:Te.separator?this.options.classes.separator:this.options.classes.item});if(!Te.separator){const at=ye("a",{class:this.options.classes.action,href:Te.url||"#",html:"function"==typeof Te.text?Te.text(this):Te.text});be.appendChild(at),Te.action&&"function"==typeof Te.action&&at.addEventListener("click",bt=>{bt.preventDefault(),Te.action(this,bt)})}this.menuDOM.appendChild(be)}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this.updateMenu()),this.data={},this.menuOpen=!1,this.editing=!1,this.editingRow=!1,this.editingCell=!1,this.bindEvents(),setTimeout(()=>{this.initialized=!0,this.dt.emit("editable.init")},10))}bindEvents(){this.events={keydown:this.keydown.bind(this),click:this.click.bind(this)},this.dt.dom.addEventListener(this.options.clickEvent,this.events.click),document.addEventListener("keydown",this.events.keydown),this.options.contextMenu&&(this.events.context=this.context.bind(this),this.events.updateMenu=this.updateMenu.bind(this),this.events.dismissMenu=this.dismissMenu.bind(this),this.events.reset=function(Te,be=300){let at;return(...bt)=>{clearTimeout(at),at=window.setTimeout(()=>Te(),be)}}(()=>this.events.updateMenu(),50),this.dt.dom.addEventListener("contextmenu",this.events.context),document.addEventListener("click",this.events.dismissMenu),window.addEventListener("resize",this.events.reset),window.addEventListener("scroll",this.events.reset))}context(Te){const be=Te.target;if(!(be instanceof Element))return;this.event=Te;const at=be.closest("tbody td");if(!this.disabled&&at){Te.preventDefault();let bt=Te.pageX,Pt=Te.pageY;bt>this.limits.x&&(bt-=this.rect.width),Pt>this.limits.y&&(Pt-=this.rect.height),this.wrapperDOM.style.top=`${Pt}px`,this.wrapperDOM.style.left=`${bt}px`,this.openMenu(),this.updateMenu()}}click(Te){const be=Te.target;if(be instanceof Element)if(this.editing&&this.data&&this.editingCell){const at=Ce(this.options.classes.input),bt=this.modalDOM?this.modalDOM.querySelector(`input${at}[type=text]`):this.dt.wrapperDOM.querySelector(`input${at}[type=text]`);this.saveCell(bt.value)}else if(!this.editing){const at=be.closest("tbody td");at&&(this.editCell(at),Te.preventDefault())}}keydown(Te){const be=Ce(this.options.classes.input);if(this.modalDOM){if("Escape"===Te.key)this.options.cancelModal(this)&&this.closeModal();else if("Enter"===Te.key)if(this.editingCell){const at=this.modalDOM.querySelector(`input${be}[type=text]`);this.saveCell(at.value)}else{const at=Array.from(this.modalDOM.querySelectorAll(`input${be}[type=text]`)).map(bt=>bt.value.trim());this.saveRow(at,this.data.row)}}else if(this.editing&&this.data)if("Enter"===Te.key){if(this.editingCell){const at=this.dt.wrapperDOM.querySelector(`input${be}[type=text]`);this.saveCell(at.value)}else if(this.editingRow){const at=Array.from(this.dt.wrapperDOM.querySelectorAll(`input${be}[type=text]`)).map(bt=>bt.value.trim());this.saveRow(at,this.data.row)}}else"Escape"===Te.key&&(this.editingCell?this.saveCell(this.data.content):this.editingRow&&this.saveRow(null,this.data.row))}editCell(Te){const be=Ne(Te.cellIndex,this.dt.columns.settings);if(this.options.excludeColumns.includes(be))return void this.closeMenu();const at=parseInt(Te.parentElement.dataset.index,10),bt=this.dt.data.data[at].cells[be];this.data={cell:bt,rowIndex:at,columnIndex:be,content:we(bt)},this.editing=!0,this.editingCell=!0,this.options.inline?this.dt.update():this.editCellModal(),this.closeMenu()}editCellModal(){const Te=this.data.cell,be=this.data.columnIndex,at=this.dt.data.headings[be].text||String(this.dt.data.headings[be].data),bt=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editCell}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-cancel>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${ve(at)}</label>`,`<input class='${this.options.classes.input}' value='${ve(we(Te))}' type='text'>`,"</div>",`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.cancel}' type='button' data-editor-cancel>${this.options.labels.cancel}</button>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),Pt=ye("div",{class:this.options.classes.modal,html:bt});this.modalDOM=Pt,this.openModal();const ft=Ce(this.options.classes.input),At=Pt.querySelector(`input${ft}[type=text]`);At.focus(),At.selectionStart=At.selectionEnd=At.value.length,Pt.addEventListener("click",Ft=>{const Gt=Ft.target;Gt instanceof Element&&(Gt.hasAttribute("data-editor-cancel")?(Ft.preventDefault(),this.options.cancelModal(this)&&this.closeModal()):Gt.hasAttribute("data-editor-save")&&(Ft.preventDefault(),this.saveCell(At.value)))})}saveCell(Te){const be=this.data.content,at=this.dt.columns.settings[this.data.columnIndex].type||this.dt.options.type,bt=Te.trim();let Pt;if("number"===at)Pt={data:parseFloat(bt)};else if("boolean"===at)Pt=["","false","0"].includes(bt)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if("html"===at)Pt={data:[{nodeName:"#text",data:Te}],text:Te,order:Te};else if("string"===at)Pt={data:Te};else if("date"===at){const Ft=this.dt.columns.settings[this.data.columnIndex].format||this.dt.options.format;Pt={data:Te,order:bi(String(Te),Ft)}}else Pt={data:Te};this.dt.data.data[this.data.rowIndex].cells[this.data.columnIndex]=Pt,this.closeModal();const ft=this.data.rowIndex,At=this.data.columnIndex;this.data={},this.dt.update(!0),this.editing=!1,this.editingCell=!1,this.dt.emit("editable.save.cell",Te,be,ft,At)}editRow(Te){if(!Te||"TR"!==Te.nodeName||this.editing)return;const be=parseInt(Te.dataset.index,10);this.data={row:this.dt.data.data[be].cells,rowIndex:be},this.editing=!0,this.editingRow=!0,this.options.inline?this.dt.update():this.editRowModal(),this.closeMenu()}editRowModal(){const Te=this.data.row,be=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editRow}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-cancel>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.cancel}' type='button' data-editor-cancel>${this.options.labels.cancel}</button>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),at=ye("div",{class:this.options.classes.modal,html:be}),bt=at.firstElementChild;if(!bt)return;const Pt=bt.lastElementChild?.firstElementChild;if(!Pt)return;Te.forEach((Ft,Gt)=>{const zn=this.dt.columns.settings[Gt];if((!zn.hidden||zn.hidden&&this.options.hiddenColumns)&&!this.options.excludeColumns.includes(Gt)){const Xn=this.dt.data.headings[Gt].text||String(this.dt.data.headings[Gt].data);Pt.insertBefore(ye("div",{class:this.options.classes.row,html:[`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${ve(Xn)}</label>`,`<input class='${this.options.classes.input}' value='${ve(we(Ft))}' type='text'>`,"</div>"].join("")}),Pt.lastElementChild)}}),this.modalDOM=at,this.openModal();const ft=Ce(this.options.classes.input),At=Array.from(Pt.querySelectorAll(`input${ft}[type=text]`));at.addEventListener("click",Ft=>{const Gt=Ft.target;if(Gt instanceof Element)if(Gt.hasAttribute("data-editor-cancel"))this.options.cancelModal(this)&&this.closeModal();else if(Gt.hasAttribute("data-editor-save")){const zn=At.map(Xn=>Xn.value.trim());this.saveRow(zn,this.data.row)}})}saveRow(Te,be){const at=be.map(ft=>we(ft)),bt=this.dt.data.data[this.data.rowIndex];if(Te){let ft=0;bt.cells=be.map((At,Ft)=>{if(this.options.excludeColumns.includes(Ft)||this.dt.columns.settings[Ft].hidden)return At;const Gt=this.dt.columns.settings[Ft].type||this.dt.options.type,zn=Te[ft++];let Xn;if("number"===Gt)Xn={data:parseFloat(zn)};else if("boolean"===Gt)Xn=["","false","0"].includes(zn)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if("html"===Gt)Xn={data:[{nodeName:"#text",data:zn}],text:zn,order:zn};else if("string"===Gt)Xn={data:zn};else if("date"===Gt){const ei=this.dt.columns.settings[Ft].format||this.dt.options.format;Xn={data:zn,order:bi(String(zn),ei)}}else Xn={data:zn};return Xn})}const Pt=bt.cells.map(ft=>we(ft));this.data={},this.dt.update(!0),this.closeModal(),this.editing=!1,this.dt.emit("editable.save.row",Pt,at,be)}openModal(){this.modalDOM&&document.body.appendChild(this.modalDOM)}closeModal(){this.editing&&this.modalDOM&&(document.body.removeChild(this.modalDOM),this.modalDOM=this.editing=this.editingRow=this.editingCell=!1)}removeRow(Te){if(!Te||"TR"!==Te.nodeName||this.editing)return;const be=parseInt(Te.dataset.index,10);this.dt.rows.remove(be),this.closeMenu()}updateMenu(){const Te=window.scrollX||window.pageXOffset,be=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+Te-this.rect.width,y:window.innerHeight+be-this.rect.height}}dismissMenu(Te){const be=Te.target;if(!(be instanceof Element)||this.wrapperDOM.contains(be))return;let at=!0;if(this.editing){const bt=Ce(this.options.classes.input);at=!be.matches(`input${bt}[type=text]`)}at&&this.closeMenu()}openMenu(){if(this.editing&&this.data&&this.editingCell){const Te=Ce(this.options.classes.input),be=this.modalDOM?this.modalDOM.querySelector(`input${Te}[type=text]`):this.dt.wrapperDOM.querySelector(`input${Te}[type=text]`);this.saveCell(be.value)}document.body.appendChild(this.containerDOM),this.menuOpen=!0,this.dt.emit("editable.context.open")}closeMenu(){this.menuOpen&&(this.menuOpen=!1,document.body.removeChild(this.containerDOM),this.dt.emit("editable.context.close"))}destroy(){this.dt.dom.removeEventListener(this.options.clickEvent,this.events.click),this.dt.dom.removeEventListener("contextmenu",this.events.context),document.removeEventListener("click",this.events.dismissMenu),document.removeEventListener("keydown",this.events.keydown),window.removeEventListener("resize",this.events.reset),window.removeEventListener("scroll",this.events.reset),document.body.contains(this.containerDOM)&&document.body.removeChild(this.containerDOM),this.options.inline&&(this.dt.options.rowRender=this.originalRowRender),this.initialized=!1}rowRender(Te,be,at){return!this.data||this.data.rowIndex!==at||(this.editingCell?be.childNodes[function(bt,Pt){let ft=bt,At=0;for(;At<bt;)Pt[At].hidden&&(ft-=1),At++;return ft}(this.data.columnIndex,this.dt.columns.settings)].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:this.data.content,class:this.options.classes.input}}]:be.childNodes.forEach((bt,Pt)=>{const ft=Ne(Pt,this.dt.columns.settings),At=Te[ft];this.options.excludeColumns.includes(ft)||(be.childNodes[Pt].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:ve(At.text||String(At.data)||""),class:this.options.classes.input}}])})),be}}const Do={classes:{button:"datatable-column-filter-button",menu:"datatable-column-filter-menu",container:"datatable-column-filter-container",wrapper:"datatable-column-filter-wrapper"},labels:{button:"Filter columns within the table"},hiddenColumns:[]};class fa{constructor(Te,be={}){this.dt=Te,this.options={...Do,...be}}init(){if(this.initialized)return;const Te=Ce(this.options.classes.button);let be=this.dt.wrapperDOM.querySelector(Te);if(!be){be=ye("button",{class:this.options.classes.button,html:"\u25a6"});const at=Ce(this.dt.options.classes.search),bt=this.dt.wrapperDOM.querySelector(at);bt?bt.appendChild(be):this.dt.wrapperDOM.appendChild(be),this.addedButtonDOM=!0}this.buttonDOM=be,this.containerDOM=ye("div",{id:this.options.classes.container}),this.wrapperDOM=ye("div",{class:this.options.classes.wrapper}),this.menuDOM=ye("ul",{class:this.options.classes.menu,html:this.dt.data.headings.map((at,bt)=>{const Pt=this.dt.columns.settings[bt];return this.options.hiddenColumns.includes(bt)?"":`<li data-column="${bt}">\n                        <input type="checkbox" value="${at.text||at.data}" ${Pt.hidden?"":"checked=''"}>\n                        <label>\n                            ${at.text||at.data}\n                        </label>\n                    </li>`}).join("")}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this._measureSpace(),this._bind(),this.initialized=!0}dismiss(){this.addedButtonDOM&&this.buttonDOM.parentElement&&this.buttonDOM.parentElement.removeChild(this.buttonDOM),document.removeEventListener("click",this.events.click)}_bind(){this.events={click:this._click.bind(this)},document.addEventListener("click",this.events.click)}_openMenu(){document.body.appendChild(this.containerDOM),this._measureSpace(),this.menuOpen=!0,this.dt.emit("columnFilter.menu.open")}_closeMenu(){this.menuOpen&&(this.menuOpen=!1,document.body.removeChild(this.containerDOM),this.dt.emit("columnFilter.menu.close"))}_measureSpace(){const Te=window.scrollX||window.pageXOffset,be=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+Te-this.rect.width,y:window.innerHeight+be-this.rect.height}}_click(Te){const be=Te.target;if(be instanceof Element)if(this.event=Te,this.buttonDOM.contains(be)){if(Te.preventDefault(),this.menuOpen)return void this._closeMenu();this._openMenu();let at=Te.pageX,bt=Te.pageY;at>this.limits.x&&(at-=this.rect.width),bt>this.limits.y&&(bt-=this.rect.height),this.wrapperDOM.style.top=`${bt}px`,this.wrapperDOM.style.left=`${at}px`}else if(this.menuDOM.contains(be)){const at=Ce(this.options.classes.menu),bt=be.closest(`${at} > li`);if(!bt)return;const Pt=bt.querySelector("input[type=checkbox]");Pt.contains(be)||(Pt.checked=!Pt.checked);const ft=Number(bt.dataset.column);Pt.checked?this.dt.columns.show([ft]):this.dt.columns.hide([ft])}else this.menuOpen&&this._closeMenu()}}nt.DataTable=class{constructor(Ye,Te={}){const be="string"==typeof Ye?document.querySelector(Ye):Ye;be instanceof HTMLTableElement?this.dom=be:(this.dom=document.createElement("table"),be.appendChild(this.dom));const at={...Fr.diffDomOptions,...Te.diffDomOptions},bt={...Fr.labels,...Te.labels},Pt={...Fr.classes,...Te.classes};this.options={...Fr,...Te,diffDomOptions:at,labels:bt,classes:Pt},this._initialInnerHTML=this.options.destroyable?this.dom.innerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&-1===this.dom.tabIndex&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new xr(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||de(this.dom,this.options.classes.table))return!1;this._virtualDOM=ln(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this._tableFooters=this._virtualDOM.childNodes?.filter(Ye=>"TFOOT"===Ye.nodeName)??[],this._tableCaptions=this._virtualDOM.childNodes?.filter(Ye=>"CAPTION"===Ye.nodeName)??[],void 0!==this.options.caption&&this._tableCaptions.push({nodeName:"CAPTION",childNodes:[{nodeName:"#text",data:this.options.caption}]}),this.rows=new fr(this),this.columns=new po(this),this.data=yi(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=ye("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const Ye=Ce(this.options.classes.selector),Te=this.wrapperDOM.querySelector(`select${Ye}`);Te&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(Pt=>{const[ft,At]=Array.isArray(Pt)?[Pt[0],Pt[1]]:[String(Pt),Pt],Ft=At===this.options.perPage,Gt=new Option(ft,String(At),Ft,Ft);Te.appendChild(Gt)}):Te&&Te.parentElement.removeChild(Te);const be=Ce(this.options.classes.container);this.containerDOM=this.wrapperDOM.querySelector(be),this._pagerDOMs=[];const at=Ce(this.options.classes.pagination);Array.from(this.wrapperDOM.querySelectorAll(at)).forEach(Pt=>{Pt instanceof HTMLElement&&(Pt.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(Pt.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}};const bt=Ce(this.options.classes.info);this._label=this.wrapperDOM.querySelector(bt),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(Ye={}){let Te;Te=(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!Ye.noPaging?this.pages[this._currentPage-1]:this.data.data.map((bt,Pt)=>({row:bt,index:Pt}));let be=hi(this._tableAttributes,this.data.headings,Te,this.columns.settings,this.columns._state,this.rows.cursor,this.options,Ye,this._tableFooters,this._tableCaptions);if(this.options.tableRender){const bt=this.options.tableRender(this.data,be,"main");bt&&(be=bt)}const at=this._dd.diff(this._virtualDOM,be);this._dd.apply(this.dom,at),this._virtualDOM=be}_renderPage(Ye=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=1===this._currentPage,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let Te,be=0,at=0,bt=0;if(this.totalPages&&(be=this._currentPage-1,at=be*this.options.perPage,bt=at+this.pages[be].length,at+=1,Te=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const Pt=this.options.labels.info.replace("{start}",String(at)).replace("{end}",String(bt)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(Te));this._label.innerHTML=Te?Pt:""}if(1==this._currentPage&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(Pt=>Pt.index===this.rows.cursor))){const Pt=this.pages[this._currentPage-1];Pt.length&&this.rows.setCursor(Ye?Pt[Pt.length-1].index:Pt[0].index)}}_renderPagers(){if(!this.options.paging)return;let Ye=((Ye,Te,be,at,bt)=>{let Pt=[];bt.firstLast&&Pt.push(ir(1,bt.firstText,bt)),bt.nextPrev&&Pt.push(ir(Ye?1:be-1,bt.prevText,bt,{hidden:Ye}));let ft=[...Array(at).keys()].map(At=>ir(At+1,String(At+1),bt,{active:At===be-1}));return bt.truncatePager&&(ft=((At,Ft,Gt,zn)=>{const Xn=zn.pagerDelta,ei=zn.classes,Qn=zn.ellipsisText,ti=2*Xn;let Qi=Ft-Xn,Ui=Ft+Xn;Ft<4-Xn+ti?Ui=3+ti:Ft>Gt-(3-Xn+ti)&&(Qi=Gt-(2+ti));const gr=[];for(let Ir=1;Ir<=Gt;Ir++)(1==Ir||Ir==Gt||Ir>=Qi&&Ir<=Ui)&&gr.push(At[Ir-1]);let Vn;const Li=[];return gr.forEach(Ir=>{const wr=parseInt(Ir.childNodes[0].attributes["data-page"],10);if(Vn){const tr=parseInt(Vn.childNodes[0].attributes["data-page"],10);wr-tr==2?Li.push(At[tr]):wr-tr!=1&&Li.push({nodeName:"LI",attributes:{class:`${ei.paginationListItem} ${ei.ellipsis} ${ei.disabled}`},childNodes:[{nodeName:"BUTTON",attributes:{class:ei.paginationListItemLink},childNodes:[{nodeName:"#text",data:Qn}]}]})}Li.push(Ir),Vn=Ir}),Li})(ft,be,at,bt)),Pt=Pt.concat(ft),bt.nextPrev&&Pt.push(ir(Te?at:be+1,bt.nextText,bt,{hidden:Te})),bt.firstLast&&Pt.push(ir(at,bt.lastText,bt)),{nodeName:"UL",attributes:{class:bt.classes.paginationList},childNodes:ft.length>1?Pt:[]}})(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const be=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],Ye);be&&(Ye=be)}const Te=this._dd.diff(this._virtualPagerDOM,Ye);this._pagerDOMs.forEach(be=>{this._dd.apply(be,Te)}),this._virtualPagerDOM=Ye}_renderSeparateHeader(){const Ye=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),Ye.parentElement.insertBefore(this.headerDOM,Ye);let Te={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[En(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(Te.attributes.class=ot(Te.attributes.class,this.options.classes.table),this.options.tableRender){const Pt=this.options.tableRender(this.data,Te,"header");Pt&&(Te=Pt)}const be={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[Te]},at=this._dd.diff(this._virtualHeaderDOM,be);this._dd.apply(this.headerDOM,at),this._virtualHeaderDOM=be;const bt=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(bt){const Pt=structuredClone(this._virtualHeaderDOM);Pt.attributes.style=`padding-right: ${bt}px;`;const ft=this._dd.diff(this._virtualHeaderDOM,Pt);this._dd.apply(this.headerDOM,ft),this._virtualHeaderDOM=Pt}Ye.scrollHeight>Ye.clientHeight&&(Ye.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const Ye=Ce(this.options.classes.selector),Te=this.wrapperDOM.querySelector(Ye);Te&&Te instanceof HTMLSelectElement&&Te.addEventListener("change",()=>{this.options.perPage=parseInt(Te.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",Ye=>{const Te=Ce(this.options.classes.input),be=Ye.target;if(!(be instanceof HTMLInputElement&&be.matches(Te)))return;Ye.preventDefault();const at=[];if(Array.from(this.wrapperDOM.querySelectorAll(Te)).filter(bt=>bt.value.length).forEach(bt=>{const Pt=bt.dataset.and||this.options.searchAnd,ft=bt.dataset.querySeparator||this.options.searchQuerySeparator?bt.value.split(this.options.searchQuerySeparator):[bt.value];Pt?ft.forEach(At=>{at.push(bt.dataset.columns?{terms:[At],columns:JSON.parse(bt.dataset.columns)}:{terms:[At],columns:void 0})}):at.push(bt.dataset.columns?{terms:ft,columns:JSON.parse(bt.dataset.columns)}:{terms:ft,columns:void 0})}),1===at.length&&1===at[0].terms.length){const bt=at[0];this.search(bt.terms[0],bt.columns)}else this.multiSearch(at)}),this.wrapperDOM.addEventListener("click",Ye=>{const Te=Ye.target.closest("a, button");if(Te)if(Te.hasAttribute("data-page"))this.page(parseInt(Te.getAttribute("data-page"),10)),Ye.preventDefault();else if(de(Te,this.options.classes.sorter)){const be=Array.from(Te.parentElement.parentElement.children).indexOf(Te.parentElement),at=Ne(be,this.columns.settings);this.columns.sort(at),Ye.preventDefault()}else if(de(Te,this.options.classes.filter)){const be=Array.from(Te.parentElement.parentElement.children).indexOf(Te.parentElement),at=Ne(be,this.columns.settings);this.columns.filter(at),Ye.preventDefault()}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",Ye=>{if("ArrowUp"===Ye.key){let Te;Ye.preventDefault(),Ye.stopPropagation(),this.pages[this._currentPage-1].find(be=>be.index===this.rows.cursor||(Te=be,!1)),Te?this.rows.setCursor(Te.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if("ArrowDown"===Ye.key){let Te;Ye.preventDefault(),Ye.stopPropagation();const be=this.pages[this._currentPage-1].find(at=>!!Te||(at.index===this.rows.cursor&&(Te=!0),!1));be?this.rows.setCursor(be.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(Ye.key)&&this.emit("datatable.selectrow",this.rows.cursor,Ye)}),this.dom.addEventListener("mousedown",Ye=>{const Te=Ye.target;if(Te instanceof Element&&this.dom.matches(":focus")){const be=Array.from(this.dom.querySelectorAll("tbody > tr")).find(at=>at.contains(Te));be&&be instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(be.dataset.index,10),Ye)}})):this.dom.addEventListener("mousedown",Ye=>{const Te=Ye.target;if(!(Te instanceof Element))return;const be=Array.from(this.dom.querySelectorAll("tbody > tr")).find(at=>at.contains(Te));be&&be instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(be.dataset.index,10),Ye)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){this.options.destroyable&&(this.dom.innerHTML=this._initialInnerHTML,this.options.classes.table?.split(" ").forEach(Ye=>this.wrapperDOM.classList.remove(Ye)),this.wrapperDOM.parentElement&&this.wrapperDOM.parentElement.replaceChild(this.dom,this.wrapperDOM),this.initialized=!1,window.removeEventListener("resize",this._listeners.onResize))}update(Ye=!1){Ye&&(this.columns._measureWidths(),this.hasRows=Boolean(this.data.data.length),this.hasHeadings=Boolean(this.data.headings.length)),this.options.classes.empty?.split(" ").forEach(Te=>this.wrapperDOM.classList.remove(Te)),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let Ye=this.data.data.map((Te,be)=>({row:Te,index:be}));return this._searchQueries.length&&(Ye=[],this._searchData.forEach(Te=>Ye.push({index:Te,row:this.data.data[Te]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((Te,be)=>{Te&&(Ye=Ye.filter(at=>{const bt=at.row.cells[be];return"function"==typeof Te?Te(bt.data):we(bt)===Te}))}),this.pages=this.options.paging&&this.options.perPage>0?Ye.map((Te,be)=>be%this.options.perPage==0?Ye.slice(be,be+this.options.perPage):null).filter(Te=>Te):[Ye],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(Ye,Te){if(!Ye.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{terms:[Ye],columns:Te||void 0}]),this.emit("datatable.search",Ye,this._searchData)}multiSearch(Ye){if(!this.hasRows)return!1;this._currentPage=1,this._searchData=[];const Te=Ye.map(at=>({columns:at.columns,terms:at.terms.map(bt=>bt.trim()).filter(bt=>bt)})).filter(at=>at.terms.length);if(this._searchQueries=Te,!Te.length)return this.update(),this.emit("datatable.multisearch",Te,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const be=Te.map(at=>this.columns.settings.map((bt,Pt)=>{if(bt.hidden||!bt.searchable||at.columns&&!at.columns.includes(Pt))return!1;let ft=at.terms;const At=bt.sensitivity||this.options.sensitivity;return["base","accent"].includes(At)&&(ft=ft.map(Ft=>Ft.toLowerCase())),["base","case"].includes(At)&&(ft=ft.map(Ft=>Ft.normalize("NFD").replace(/\p{Diacritic}/gu,""))),(bt.ignorePunctuation??this.options.ignorePunctuation)&&(ft=ft.map(Ft=>Ft.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))),ft}));this.data.data.forEach((at,bt)=>{const Pt=at.cells.map((ft,At)=>{let Ft=we(ft).trim();const Gt=this.columns.settings[At];if(Ft.length){const Xn=Gt.sensitivity||this.options.sensitivity;["base","accent"].includes(Xn)&&(Ft=Ft.toLowerCase()),["base","case"].includes(Xn)&&(Ft=Ft.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(Gt.ignorePunctuation??this.options.ignorePunctuation)&&(Ft=Ft.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}const zn=Gt.searchItemSeparator||this.options.searchItemSeparator;return zn?Ft.split(zn):[Ft]});be.every(ft=>ft.find((At,Ft)=>!!At&&At.find(Gt=>Pt[Ft].find(zn=>zn.includes(Gt)))))&&this._searchData.push(bt)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",Te,this._searchData)}page(Ye,Te=!1){return Ye!==this._currentPage&&(isNaN(Ye)||(this._currentPage=Ye),!(Ye>this.pages.length||Ye<0)&&(this._renderPage(Te),this._renderPagers(),void this.emit("datatable.page",Ye)))}insert(Ye){let Te=[];if(Array.isArray(Ye)){const be=this.data.headings.map(at=>at.text??String(at.data));Ye.forEach((at,bt)=>{const Pt=[];Object.entries(at).forEach(([ft,At])=>{const Ft=be.indexOf(ft);Ft>-1?Pt[Ft]=ai(At,this.columns.settings[Ft]):this.hasHeadings||this.hasRows||0!==bt||(Pt[be.length]=ai(At,this.columns.settings[be.length]),be.push(ft),this.data.headings.push(Wi(ft)))}),Te.push({cells:Pt})})}else et(Ye)&&(!Ye.headings||this.hasHeadings||this.hasRows?Ye.data&&Array.isArray(Ye.data)&&(Te=Ye.data.map(be=>{let at,bt;return Array.isArray(be)?(at={},bt=be):(at=be.attributes,bt=be.cells),{attributes:at,cells:bt.map((Pt,ft)=>ai(Pt,this.columns.settings[ft]))}})):this.data=yi(Ye,void 0,this.columns.settings,this.options.type,this.options.format));Te.length&&Te.forEach(be=>this.data.data.push(be)),this.hasHeadings=Boolean(this.data.headings.length),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){if(this.options.searchable){const Ye=Ce(this.options.classes.input);Array.from(this.wrapperDOM.querySelectorAll(Ye)).forEach(Te=>Te.value=""),this._searchQueries=[]}this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const Ye=ye("table");let Te=hi(this._tableAttributes,this.data.headings,this.data.data.map((bt,Pt)=>({row:bt,index:Pt})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0},this._tableFooters,this._tableCaptions);if(this.options.tableRender){const bt=this.options.tableRender(this.data,Te,"print");bt&&(Te=bt)}const be=this._dd.diff({nodeName:"TABLE"},Te);this._dd.apply(Ye,be);const at=window.open();at.document.body.appendChild(Ye),at.print()}setMessage(Ye){const Te=this.data.headings.filter((bt,Pt)=>!this.columns.settings[Pt]?.hidden).length||1;this.options.classes.empty?.split(" ").forEach(bt=>this.wrapperDOM.classList.add(bt)),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let be={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[En(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(Te)},childNodes:[{nodeName:"#text",data:Ye}]}]}]}]};if(this._tableFooters.forEach(bt=>be.childNodes.push(bt)),this._tableCaptions.forEach(bt=>be.childNodes.push(bt)),be.attributes.class=ot(be.attributes.class,this.options.classes.table),this.options.tableRender){const bt=this.options.tableRender(this.data,be,"message");bt&&(be=bt)}const at=this._dd.diff(this._virtualDOM,be);this._dd.apply(this.dom,at),this._virtualDOM=be}on(Ye,Te){this._events[Ye]=this._events[Ye]||[],this._events[Ye].push(Te)}off(Ye,Te){Ye in this._events&&this._events[Ye].splice(this._events[Ye].indexOf(Te),1)}emit(Ye,...Te){if(Ye in this._events)for(let be=0;be<this._events[Ye].length;be++)this._events[Ye][be](...Te)}},nt.addColumnFilter=function(Ye,Te={}){const be=new fa(Ye,Te);return Ye.initialized?be.init():Ye.on("datatable.init",()=>be.init()),be},nt.convertCSV=function(Ye){let Te;if(!et(Ye))return!1;const be={lineDelimiter:"\n",columnDelimiter:",",removeDoubleQuotes:!1,...Ye};if(be.data.length){Te={data:[]};const at=be.data.split(be.lineDelimiter);if(at.length&&(be.headings&&(Te.headings=at[0].split(be.columnDelimiter),be.removeDoubleQuotes&&(Te.headings=Te.headings.map(bt=>bt.trim().replace(/(^"|"$)/g,""))),at.shift()),at.forEach((bt,Pt)=>{Te.data[Pt]=[];const ft=bt.split(be.columnDelimiter);ft.length&&ft.forEach(At=>{be.removeDoubleQuotes&&(At=At.trim().replace(/(^"|"$)/g,"")),Te.data[Pt].push(At)})})),Te)return Te}return!1},nt.convertJSON=function(Ye){let Te;if(!et(Ye))return!1;const be={data:"",...Ye};if(be.data.length||et(be.data)){const at=!!Ve(be.data)&&JSON.parse(be.data);if(at?(Te={headings:[],data:[]},at.forEach((bt,Pt)=>{Te.data[Pt]=[],Object.entries(bt).forEach(([ft,At])=>{Te.headings.includes(ft)||Te.headings.push(ft),Te.data[Pt].push(At)})})):console.warn("That's not valid JSON!"),Te)return Te}return!1},nt.createElement=ye,nt.exportCSV=function(Ye,Te={}){if(!Ye.hasHeadings&&!Ye.hasRows||!et(Te))return!1;const be={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",...Te},at=At=>!be.skipColumn.includes(At)&&!Ye.columns.settings[At]?.hidden,bt=Ye.data.headings.filter((At,Ft)=>at(Ft)).map(At=>At.text??At.data);let Pt;if(be.selection)if(Array.isArray(be.selection)){Pt=[];for(let At=0;At<be.selection.length;At++)Pt=Pt.concat(Ye.pages[be.selection[At]-1].map(Ft=>Ft.row))}else Pt=Ye.pages[be.selection-1].map(At=>At.row);else Pt=Ye.data.data;let ft=[];if(ft[0]=bt,ft=ft.concat(Pt.map(At=>At.cells.filter((Ft,Gt)=>at(Gt)).map(Ft=>we(Ft)))),ft.length){let At="";if(ft.forEach(Ft=>{Ft.forEach(Gt=>{"string"==typeof Gt&&(Gt=(Gt=(Gt=(Gt=(Gt=Gt.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(Gt=`"${Gt}"`),At+=Gt+be.columnDelimiter}),At=At.trim().substring(0,At.length-1),At+=be.lineDelimiter}),At=At.trim().substring(0,At.length-1),be.download){const Ft=document.createElement("a");Ft.href=encodeURI(`data:text/csv;charset=utf-8,${At}`),Ft.download=`${be.filename||"datatable_export"}.csv`,document.body.appendChild(Ft),Ft.click(),document.body.removeChild(Ft)}return At}return!1},nt.exportJSON=function(Ye,Te={}){if(!Ye.hasHeadings&&!Ye.hasRows||!et(Te))return!1;const be={download:!0,skipColumn:[],replacer:null,space:4,...Te},at=At=>!be.skipColumn.includes(At)&&!Ye.columns.settings[At]?.hidden;let bt;if(be.selection)if(Array.isArray(be.selection)){bt=[];for(let At=0;At<be.selection.length;At++)bt=bt.concat(Ye.pages[be.selection[At]-1].map(Ft=>Ft.row))}else bt=Ye.pages[be.selection-1].map(At=>At.row);else bt=Ye.data.data;const Pt=bt.map(At=>At.cells.filter((Ft,Gt)=>at(Gt)).map(Ft=>we(Ft))),ft=Ye.data.headings.filter((At,Ft)=>at(Ft)).map(At=>At.text??String(At.data));if(Pt.length){const At=[];Pt.forEach((Gt,zn)=>{At[zn]=At[zn]||{},Gt.forEach((Xn,ei)=>{At[zn][ft[ei]]=Xn})});const Ft=JSON.stringify(At,be.replacer,be.space);if(be.download){const Gt=new Blob([Ft],{type:"data:application/json;charset=utf-8"}),zn=URL.createObjectURL(Gt),Xn=document.createElement("a");Xn.href=zn,Xn.download=`${be.filename||"datatable_export"}.json`,document.body.appendChild(Xn),Xn.click(),document.body.removeChild(Xn),URL.revokeObjectURL(zn)}return Ft}return!1},nt.exportSQL=function(Ye,Te={}){if(!Ye.hasHeadings&&!Ye.hasRows||!et(Te))return!1;const be={download:!0,skipColumn:[],tableName:"myTable",...Te},at=At=>!be.skipColumn.includes(At)&&!Ye.columns.settings[At]?.hidden;let bt=[];if(be.selection)if(Array.isArray(be.selection))for(let At=0;At<be.selection.length;At++)bt=bt.concat(Ye.pages[be.selection[At]-1].map(Ft=>Ft.row));else bt=Ye.pages[be.selection-1].map(At=>At.row);else bt=Ye.data.data;const Pt=bt.map(At=>At.cells.filter((Ft,Gt)=>at(Gt)).map(Ft=>we(Ft))),ft=Ye.data.headings.filter((At,Ft)=>at(Ft)).map(At=>At.text??String(At.data));if(Pt.length){let At=`INSERT INTO \`${be.tableName}\` (`;if(ft.forEach(Ft=>{At+=`\`${Ft}\`,`}),At=At.trim().substring(0,At.length-1),At+=") VALUES ",Pt.forEach(Ft=>{At+="(",Ft.forEach(Gt=>{At+="string"==typeof Gt?`"${Gt}",`:`${Gt},`}),At=At.trim().substring(0,At.length-1),At+="),"}),At=At.trim().substring(0,At.length-1),At+=";",be.download&&(At=`data:application/sql;charset=utf-8,${At}`),be.download){const Ft=document.createElement("a");Ft.href=encodeURI(At),Ft.download=`${be.filename||"datatable_export"}.sql`,document.body.appendChild(Ft),Ft.click(),document.body.removeChild(Ft)}return At}return!1},nt.exportTXT=function(Ye,Te={}){if(!Ye.hasHeadings&&!Ye.hasRows||!et(Te))return!1;const be={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",...Te},at=At=>!be.skipColumn.includes(At)&&!Ye.columns.settings[At]?.hidden,bt=Ye.data.headings.filter((At,Ft)=>at(Ft)).map(At=>At.text??At.data);let Pt;if(be.selection)if(Array.isArray(be.selection)){Pt=[];for(let At=0;At<be.selection.length;At++)Pt=Pt.concat(Ye.pages[be.selection[At]-1].map(Ft=>Ft.row))}else Pt=Ye.pages[be.selection-1].map(At=>At.row);else Pt=Ye.data.data;let ft=[];if(ft[0]=bt,ft=ft.concat(Pt.map(At=>At.cells.filter((Ft,Gt)=>at(Gt)).map(Ft=>we(Ft)))),ft.length){let At="";if(ft.forEach(Ft=>{Ft.forEach(Gt=>{"string"==typeof Gt&&(Gt=(Gt=(Gt=(Gt=(Gt=Gt.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(Gt=`"${Gt}"`),At+=Gt+be.columnDelimiter}),At=At.trim().substring(0,At.length-1),At+=be.lineDelimiter}),At=At.trim().substring(0,At.length-1),be.download&&(At=`data:text/csv;charset=utf-8,${At}`),be.download){const Ft=document.createElement("a");Ft.href=encodeURI(At),Ft.download=`${be.filename||"datatable_export"}.txt`,document.body.appendChild(Ft),Ft.click(),document.body.removeChild(Ft)}return At}return!1},nt.isJson=Ve,nt.isObject=et,nt.makeEditable=function(Ye,Te={}){const be=new ns(Ye,Te);return Ye.initialized?be.init():Ye.on("datatable.init",()=>be.init()),be}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[1])(1)});